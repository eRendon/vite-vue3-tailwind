function gg(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const S$="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",C$=gg(S$),A$="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",x$=gg(A$);function W0(t){if(Ye(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=W0(qn(r)?O$(r):r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Qt(t))return t}const k$=/;(?![^(]*\))/g,R$=/:(.+)/;function O$(t){const e={};return t.split(k$).forEach(n=>{if(n){const r=n.split(R$);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function z0(t){let e="";if(qn(t))e=t;else if(Ye(t))for(let n=0;n<t.length;n++){const r=z0(t[n]);r&&(e+=r+" ")}else if(Qt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function N$(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=vg(t[r],e[r]);return n}function vg(t,e){if(t===e)return!0;let n=qR(t),r=qR(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ye(t),r=Ye(e),n||r)return n&&r?N$(t,e):!1;if(n=Qt(t),r=Qt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const a in t){const u=t.hasOwnProperty(a),c=e.hasOwnProperty(a);if(u&&!c||!u&&c||!vg(t[a],e[a]))return!1}}return String(t)===String(e)}function jR(t,e){return t.findIndex(n=>vg(n,e))}const Ufe=t=>t==null?"":Qt(t)?JSON.stringify(t,P$,2):String(t),P$=(t,e)=>Ec(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:yg(e)?{[`Set(${e.size})`]:[...e.values()]}:Qt(e)&&!Ye(e)&&!U$(e)?String(e):e,Tt={},qf=[],Da=()=>{},BR=()=>!1,D$=/^on[^a-z]/,mg=t=>D$.test(t),K0=t=>t.startsWith("onUpdate:"),bn=Object.assign,VR=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},M$=Object.prototype.hasOwnProperty,gt=(t,e)=>M$.call(t,e),Ye=Array.isArray,Ec=t=>_g(t)==="[object Map]",yg=t=>_g(t)==="[object Set]",qR=t=>t instanceof Date,Ze=t=>typeof t=="function",qn=t=>typeof t=="string",G0=t=>typeof t=="symbol",Qt=t=>t!==null&&typeof t=="object",HR=t=>Qt(t)&&Ze(t.then)&&Ze(t.catch),L$=Object.prototype.toString,_g=t=>L$.call(t),F$=t=>_g(t).slice(8,-1),U$=t=>_g(t)==="[object Object]",Y0=t=>qn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bg=gg(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},j$=/-(\w)/g,co=wg(t=>t.replace(j$,(e,n)=>n?n.toUpperCase():"")),B$=/\B([A-Z])/g,Ma=wg(t=>t.replace(B$,"-$1").toLowerCase()),Eg=wg(t=>t.charAt(0).toUpperCase()+t.slice(1)),X0=wg(t=>t?`on${Eg(t)}`:""),Tg=(t,e)=>t!==e&&(t===t||e===e),Ig=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Q0=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Sg=t=>{const e=parseFloat(t);return isNaN(e)?t:e},J0=new WeakMap,Hf=[];let La;const Fa=Symbol(""),Z0=Symbol("");function V$(t){return t&&t._isEffect===!0}function ew(t,e=Tt){V$(t)&&(t=t.raw);const n=H$(t,e);return e.lazy||n(),n}function tw(t){t.active&&($R(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let q$=0;function H$(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!Hf.includes(n)){$R(n);try{return $$(),Hf.push(n),La=n,t()}finally{Hf.pop(),Ua(),La=Hf[Hf.length-1]}}};return n.id=q$++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}function $R(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Tc=!0;const nw=[];function Ic(){nw.push(Tc),Tc=!1}function $$(){nw.push(Tc),Tc=!0}function Ua(){const t=nw.pop();Tc=t===void 0?!0:t}function Or(t,e,n){if(!Tc||La===void 0)return;let r=J0.get(t);r||J0.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(La)||(i.add(La),La.deps.push(i))}function Di(t,e,n,r,i,o){const a=J0.get(t);if(!a)return;const u=new Set,c=h=>{h&&h.forEach(p=>{(p!==La||p.allowRecurse)&&u.add(p)})};if(e==="clear")a.forEach(c);else if(n==="length"&&Ye(t))a.forEach((h,p)=>{(p==="length"||p>=r)&&c(h)});else switch(n!==void 0&&c(a.get(n)),e){case"add":Ye(t)?Y0(n)&&c(a.get("length")):(c(a.get(Fa)),Ec(t)&&c(a.get(Z0)));break;case"delete":Ye(t)||(c(a.get(Fa)),Ec(t)&&c(a.get(Z0)));break;case"set":Ec(t)&&c(a.get(Fa));break}const f=h=>{h.options.scheduler?h.options.scheduler(h):h()};u.forEach(f)}const W$=gg("__proto__,__v_isRef,__isVue"),WR=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(G0)),z$=Ag(),K$=Ag(!1,!0),G$=Ag(!0),Y$=Ag(!0,!0),Cg={};["includes","indexOf","lastIndexOf"].forEach(t=>{const e=Array.prototype[t];Cg[t]=function(...n){const r=wt(this);for(let o=0,a=this.length;o<a;o++)Or(r,"get",o+"");const i=e.apply(r,n);return i===-1||i===!1?e.apply(r,n.map(wt)):i}});["push","pop","shift","unshift","splice"].forEach(t=>{const e=Array.prototype[t];Cg[t]=function(...n){Ic();const r=e.apply(this,n);return Ua(),r}});function Ag(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&o===(t?e?sW:o1:e?i1:r1).get(r))return r;const a=Ye(r);if(!t&&a&&gt(Cg,i))return Reflect.get(Cg,i,o);const u=Reflect.get(r,i,o);return(G0(i)?WR.has(i):W$(i))||(t||Or(r,"get",i),e)?u:wn(u)?!a||!Y0(i)?u.value:u:Qt(u)?t?s1(u):Es(u):u}}const X$=zR(),Q$=zR(!0);function zR(t=!1){return function(n,r,i,o){let a=n[r];if(!t&&(i=wt(i),a=wt(a),!Ye(n)&&wn(a)&&!wn(i)))return a.value=i,!0;const u=Ye(n)&&Y0(r)?Number(r)<n.length:gt(n,r),c=Reflect.set(n,r,i,o);return n===wt(o)&&(u?Tg(i,a)&&Di(n,"set",r,i):Di(n,"add",r,i)),c}}function J$(t,e){const n=gt(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Di(t,"delete",e,void 0),r}function Z$(t,e){const n=Reflect.has(t,e);return(!G0(e)||!WR.has(e))&&Or(t,"has",e),n}function eW(t){return Or(t,"iterate",Ye(t)?"length":Fa),Reflect.ownKeys(t)}const KR={get:z$,set:X$,deleteProperty:J$,has:Z$,ownKeys:eW},GR={get:G$,set(t,e){return!0},deleteProperty(t,e){return!0}},tW=bn({},KR,{get:K$,set:Q$});bn({},GR,{get:Y$});const rw=t=>Qt(t)?Es(t):t,iw=t=>Qt(t)?s1(t):t,ow=t=>t,xg=t=>Reflect.getPrototypeOf(t);function kg(t,e,n=!1,r=!1){t=t.__v_raw;const i=wt(t),o=wt(e);e!==o&&!n&&Or(i,"get",e),!n&&Or(i,"get",o);const{has:a}=xg(i),u=r?ow:n?iw:rw;if(a.call(i,e))return u(t.get(e));if(a.call(i,o))return u(t.get(o))}function Rg(t,e=!1){const n=this.__v_raw,r=wt(n),i=wt(t);return t!==i&&!e&&Or(r,"has",t),!e&&Or(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function Og(t,e=!1){return t=t.__v_raw,!e&&Or(wt(t),"iterate",Fa),Reflect.get(t,"size",t)}function YR(t){t=wt(t);const e=wt(this);return xg(e).has.call(e,t)||(e.add(t),Di(e,"add",t,t)),this}function XR(t,e){e=wt(e);const n=wt(this),{has:r,get:i}=xg(n);let o=r.call(n,t);o||(t=wt(t),o=r.call(n,t));const a=i.call(n,t);return n.set(t,e),o?Tg(e,a)&&Di(n,"set",t,e):Di(n,"add",t,e),this}function QR(t){const e=wt(this),{has:n,get:r}=xg(e);let i=n.call(e,t);i||(t=wt(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Di(e,"delete",t,void 0),o}function JR(){const t=wt(this),e=t.size!==0,n=t.clear();return e&&Di(t,"clear",void 0,void 0),n}function Ng(t,e){return function(r,i){const o=this,a=o.__v_raw,u=wt(a),c=e?ow:t?iw:rw;return!t&&Or(u,"iterate",Fa),a.forEach((f,h)=>r.call(i,c(f),c(h),o))}}function Pg(t,e,n){return function(...r){const i=this.__v_raw,o=wt(i),a=Ec(o),u=t==="entries"||t===Symbol.iterator&&a,c=t==="keys"&&a,f=i[t](...r),h=n?ow:e?iw:rw;return!e&&Or(o,"iterate",c?Z0:Fa),{next(){const{value:p,done:g}=f.next();return g?{value:p,done:g}:{value:u?[h(p[0]),h(p[1])]:h(p),done:g}},[Symbol.iterator](){return this}}}}function ws(t){return function(...e){return t==="delete"?!1:this}}const ZR={get(t){return kg(this,t)},get size(){return Og(this)},has:Rg,add:YR,set:XR,delete:QR,clear:JR,forEach:Ng(!1,!1)},e1={get(t){return kg(this,t,!1,!0)},get size(){return Og(this)},has:Rg,add:YR,set:XR,delete:QR,clear:JR,forEach:Ng(!1,!0)},t1={get(t){return kg(this,t,!0)},get size(){return Og(this,!0)},has(t){return Rg.call(this,t,!0)},add:ws("add"),set:ws("set"),delete:ws("delete"),clear:ws("clear"),forEach:Ng(!0,!1)},n1={get(t){return kg(this,t,!0,!0)},get size(){return Og(this,!0)},has(t){return Rg.call(this,t,!0)},add:ws("add"),set:ws("set"),delete:ws("delete"),clear:ws("clear"),forEach:Ng(!0,!0)},nW=["keys","values","entries",Symbol.iterator];nW.forEach(t=>{ZR[t]=Pg(t,!1,!1),t1[t]=Pg(t,!0,!1),e1[t]=Pg(t,!1,!0),n1[t]=Pg(t,!0,!0)});function sw(t,e){const n=e?t?n1:e1:t?t1:ZR;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(gt(n,i)&&i in r?n:r,i,o)}const rW={get:sw(!1,!1)},iW={get:sw(!1,!0)},oW={get:sw(!0,!1)},r1=new WeakMap,i1=new WeakMap,o1=new WeakMap,sW=new WeakMap;function aW(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uW(t){return t.__v_skip||!Object.isExtensible(t)?0:aW(F$(t))}function Es(t){return t&&t.__v_isReadonly?t:aw(t,!1,KR,rW,r1)}function cW(t){return aw(t,!1,tW,iW,i1)}function s1(t){return aw(t,!0,GR,oW,o1)}function aw(t,e,n,r,i){if(!Qt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const a=uW(t);if(a===0)return t;const u=new Proxy(t,a===2?r:n);return i.set(t,u),u}function $f(t){return a1(t)?$f(t.__v_raw):!!(t&&t.__v_isReactive)}function a1(t){return!!(t&&t.__v_isReadonly)}function u1(t){return $f(t)||a1(t)}function wt(t){return t&&wt(t.__v_raw)||t}const c1=t=>Qt(t)?Es(t):t;function wn(t){return Boolean(t&&t.__v_isRef===!0)}function Uo(t){return l1(t)}function lW(t){return l1(t,!0)}class fW{constructor(e,n=!1){this._rawValue=e,this._shallow=n,this.__v_isRef=!0,this._value=n?e:c1(e)}get value(){return Or(wt(this),"get","value"),this._value}set value(e){Tg(wt(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:c1(e),Di(wt(this),"set","value",e))}}function l1(t,e=!1){return wn(t)?t:new fW(t,e)}function Me(t){return wn(t)?t.value:t}const hW={get:(t,e,n)=>Me(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return wn(i)&&!wn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function uw(t){return $f(t)?t:new Proxy(t,hW)}function jfe(t){const e=Ye(t)?new Array(t.length):{};for(const n in t)e[n]=lo(t,n);return e}class dW{constructor(e,n){this._object=e,this._key=n,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function lo(t,e){return wn(t[e])?t[e]:new dW(t,e)}class pW{constructor(e,n,r){this._setter=n,this._dirty=!0,this.__v_isRef=!0,this.effect=ew(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,Di(wt(this),"set","value"))}}),this.__v_isReadonly=r}get value(){const e=wt(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),Or(e,"get","value"),e._value}set value(e){this._setter(e)}}function gW(t){let e,n;return Ze(t)?(e=t,n=Da):(e=t.get,n=t.set),new pW(e,n,Ze(t)||!t.set)}const Wf=[];function vW(t,...e){Ic();const n=Wf.length?Wf[Wf.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=mW();if(r)jo(r,n,11,[t+e.join(""),n&&n.proxy,i.map(({vnode:o})=>`at <${oO(n,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${t}`,...e];i.length&&o.push(`
`,...yW(i)),console.warn(...o)}Ua()}function mW(){let t=Wf[Wf.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function yW(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],..._W(n))}),e}function _W({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${oO(t.component,t.type,r)}`,o=">"+n;return t.props?[i,...bW(t.props),o]:[i+o]}function bW(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...f1(r,t[r]))}),n.length>3&&e.push(" ..."),e}function f1(t,e,n){return qn(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:wn(e)?(e=f1(t,wt(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):Ze(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=wt(e),n?e:[`${t}=`,e])}function jo(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Dg(o,e,n)}return i}function Mi(t,e,n,r){if(Ze(t)){const o=jo(t,e,n,r);return o&&HR(o)&&o.catch(a=>{Dg(a,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Mi(t[o],e,n,r));return i}function Dg(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const a=e.proxy,u=n;for(;o;){const f=o.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,a,u)===!1)return}o=o.parent}const c=e.appContext.config.errorHandler;if(c){jo(c,null,10,[t,a,u]);return}}wW(t,n,i,r)}function wW(t,e,n,r=!0){console.error(t)}let Mg=!1,cw=!1;const Wr=[];let Bo=0;const Lg=[];let zf=null,Sc=0;const Kf=[];let Ts=null,Cc=0;const h1=Promise.resolve();let lw=null,fw=null;function hw(t){const e=lw||h1;return t?e.then(this?t.bind(this):t):e}function EW(t){let e=Bo+1,n=Wr.length;const r=Ac(t);for(;e<n;){const i=e+n>>>1;Ac(Wr[i])<r?e=i+1:n=i}return e}function d1(t){if((!Wr.length||!Wr.includes(t,Mg&&t.allowRecurse?Bo+1:Bo))&&t!==fw){const e=EW(t);e>-1?Wr.splice(e,0,t):Wr.push(t),p1()}}function p1(){!Mg&&!cw&&(cw=!0,lw=h1.then(m1))}function TW(t){const e=Wr.indexOf(t);e>Bo&&Wr.splice(e,1)}function g1(t,e,n,r){Ye(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?r+1:r))&&n.push(t),p1()}function IW(t){g1(t,zf,Lg,Sc)}function SW(t){g1(t,Ts,Kf,Cc)}function dw(t,e=null){if(Lg.length){for(fw=e,zf=[...new Set(Lg)],Lg.length=0,Sc=0;Sc<zf.length;Sc++)zf[Sc]();zf=null,Sc=0,fw=null,dw(t,e)}}function v1(t){if(Kf.length){const e=[...new Set(Kf)];if(Kf.length=0,Ts){Ts.push(...e);return}for(Ts=e,Ts.sort((n,r)=>Ac(n)-Ac(r)),Cc=0;Cc<Ts.length;Cc++)Ts[Cc]();Ts=null,Cc=0}}const Ac=t=>t.id==null?1/0:t.id;function m1(t){cw=!1,Mg=!0,dw(t),Wr.sort((e,n)=>Ac(e)-Ac(n));try{for(Bo=0;Bo<Wr.length;Bo++){const e=Wr[Bo];e&&jo(e,null,14)}}finally{Bo=0,Wr.length=0,v1(),Mg=!1,lw=null,(Wr.length||Kf.length)&&m1(t)}}function CW(t,e,...n){const r=t.vnode.props||Tt;let i=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in r){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:g}=r[h]||Tt;g?i=n.map(m=>m.trim()):p&&(i=n.map(Sg))}let u,c=r[u=X0(e)]||r[u=X0(co(e))];!c&&o&&(c=r[u=X0(Ma(e))]),c&&Mi(c,t,6,i);const f=r[u+"Once"];if(f){if(!t.emitted)(t.emitted={})[u]=!0;else if(t.emitted[u])return;Mi(f,t,6,i)}}function y1(t,e,n=!1){if(!e.deopt&&t.__emits!==void 0)return t.__emits;const r=t.emits;let i={},o=!1;if(!Ze(t)){const a=u=>{const c=y1(u,e,!0);c&&(o=!0,bn(i,c))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!o?t.__emits=null:(Ye(r)?r.forEach(a=>i[a]=null):bn(i,r),t.__emits=i)}function pw(t,e){return!t||!mg(e)?!1:(e=e.slice(2).replace(/Once$/,""),gt(t,e[0].toLowerCase()+e.slice(1))||gt(t,Ma(e))||gt(t,e))}let gw=0;const _1=t=>gw+=t;let ui=null,Fg=null;function Ug(t){const e=ui;return ui=t,Fg=t&&t.type.__scopeId||null,e}function Bfe(t){Fg=t}function Vfe(){Fg=null}const qfe=t=>b1;function b1(t,e=ui){if(!e)return t;const n=(...r)=>{gw||W1(!0);const i=Ug(e),o=t(...r);return Ug(i),gw||z1(),o};return n._c=!0,n}function w1(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[a],slots:u,attrs:c,emit:f,render:h,renderCache:p,data:g,setupState:m,ctx:y}=t;let b;const w=Ug(t);try{let T;if(n.shapeFlag&4){const N=i||r;b=fi(h.call(N,N,p,o,m,g,y)),T=c}else{const N=e;b=fi(N.length>1?N(o,{attrs:c,slots:u,emit:f}):N(o,null)),T=e.props?c:xW(c)}let A=b,k;if(e.inheritAttrs!==!1&&T){const N=Object.keys(T),{shapeFlag:P}=A;N.length&&(P&1||P&6)&&(a&&N.some(K0)&&(T=kW(T,a)),A=qa(A,T))}n.dirs&&(A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&(A.transition=n.transition),b=A}catch(T){Yf.length=0,Dg(T,t,1),b=Nr(Li)}return Ug(w),b}function AW(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(Hg(r)){if(r.type!==Li||r.children==="v-if"){if(e)return;e=r}}else return}return e}const xW=t=>{let e;for(const n in t)(n==="class"||n==="style"||mg(n))&&((e||(e={}))[n]=t[n]);return e},kW=(t,e)=>{const n={};for(const r in t)(!K0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function RW(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:u,patchFlag:c}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?E1(r,a,f):!!a;if(c&8){const h=e.dynamicProps;for(let p=0;p<h.length;p++){const g=h[p];if(a[g]!==r[g]&&!pw(f,g))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:r===a?!1:r?a?E1(r,a,f):!0:!!a;return!1}function E1(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!pw(n,o))return!0}return!1}function OW({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const NW=t=>t.__isSuspense;function PW(t){const{shapeFlag:e,children:n}=t;let r,i;return e&32?(r=vw(n.default),i=vw(n.fallback)):(r=vw(n),i=fi(null)),{content:r,fallback:i}}function vw(t){return Ze(t)&&(t=t()),Ye(t)&&(t=AW(t)),fi(t)}function DW(t,e){e&&e.pendingBranch?Ye(t)?e.effects.push(...t):e.effects.push(t):SW(t)}function MW(t,e,n,r=!1){const i={},o={};Q0(o,$g,1),t.propsDefaults=Object.create(null),T1(t,e,i,o),n?t.props=r?i:cW(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function LW(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=t,u=wt(i),[c]=t.propsOptions;if((r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let h=0;h<f.length;h++){const p=f[h],g=e[p];if(c)if(gt(o,p))o[p]=g;else{const m=co(p);i[m]=mw(c,u,m,g,t)}else o[p]=g}}}else{T1(t,e,i,o);let f;for(const h in u)(!e||!gt(e,h)&&((f=Ma(h))===h||!gt(e,f)))&&(c?n&&(n[h]!==void 0||n[f]!==void 0)&&(i[h]=mw(c,e||Tt,h,void 0,t)):delete i[h]);if(o!==u)for(const h in o)(!e||!gt(e,h))&&delete o[h]}Di(t,"set","$attrs")}function T1(t,e,n,r){const[i,o]=t.propsOptions;if(e)for(const a in e){const u=e[a];if(bg(a))continue;let c;i&&gt(i,c=co(a))?n[c]=u:pw(t.emitsOptions,a)||(r[a]=u)}if(o){const a=wt(n);for(let u=0;u<o.length;u++){const c=o[u];n[c]=mw(i,a,c,a[c],t)}}}function mw(t,e,n,r,i){const o=t[n];if(o!=null){const a=gt(o,"default");if(a&&r===void 0){const u=o.default;if(o.type!==Function&&Ze(u)){const{propsDefaults:c}=i;n in c?r=c[n]:(Gg(i),r=c[n]=u(e),Gg(null))}else r=u}o[0]&&(!gt(e,n)&&!a?r=!1:o[1]&&(r===""||r===Ma(n))&&(r=!0))}return r}function I1(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const r=t.props,i={},o=[];let a=!1;if(!Ze(t)){const u=c=>{a=!0;const[f,h]=I1(c,e,!0);bn(i,f),h&&o.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!a)return t.__props=qf;if(Ye(r))for(let u=0;u<r.length;u++){const c=co(r[u]);S1(c)&&(i[c]=Tt)}else if(r)for(const u in r){const c=co(u);if(S1(c)){const f=r[u],h=i[c]=Ye(f)||Ze(f)?{type:f}:f;if(h){const p=x1(Boolean,h.type),g=x1(String,h.type);h[0]=p>-1,h[1]=g<0||p<g,(p>-1||gt(h,"default"))&&o.push(c)}}}return t.__props=[i,o]}function S1(t){return t[0]!=="$"}function C1(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function A1(t,e){return C1(t)===C1(e)}function x1(t,e){return Ye(e)?e.findIndex(n=>A1(n,t)):Ze(e)&&A1(e,t)?0:-1}function jg(t,e,n=En,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Ic(),Gg(n);const u=Mi(e,n,t,a);return Gg(null),Ua(),u});return r?i.unshift(o):i.push(o),o}}const Is=t=>(e,n=En)=>!Ow&&jg(t,e,n),FW=Is("bm"),Bg=Is("m"),UW=Is("bu"),jW=Is("u"),yw=Is("bum"),k1=Is("um"),BW=Is("rtg"),VW=Is("rtc"),qW=(t,e=En)=>{jg("ec",t,e)},R1={};function ci(t,e,n){return O1(t,e,n)}function O1(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:a}=Tt,u=En){let c,f=!1;if(wn(t)?(c=()=>t.value,f=!!t._shallow):$f(t)?(c=()=>t,r=!0):Ye(t)?c=()=>t.map(w=>{if(wn(w))return w.value;if($f(w))return xc(w);if(Ze(w))return jo(w,u,2,[u&&u.proxy])}):Ze(t)?e?c=()=>jo(t,u,2,[u&&u.proxy]):c=()=>{if(!(u&&u.isUnmounted))return h&&h(),Mi(t,u,3,[p])}:c=Da,e&&r){const w=c;c=()=>xc(w())}let h,p=w=>{h=b.options.onStop=()=>{jo(w,u,4)}},g=Ye(t)?[]:R1;const m=()=>{if(!!b.active)if(e){const w=b();(r||f||Tg(w,g))&&(h&&h(),Mi(e,u,3,[w,g===R1?void 0:g,p]),g=w)}else b()};m.allowRecurse=!!e;let y;i==="sync"?y=m:i==="post"?y=()=>vr(m,u&&u.suspense):y=()=>{!u||u.isMounted?IW(m):m()};const b=ew(c,{lazy:!0,onTrack:o,onTrigger:a,scheduler:y});return rO(b,u),e?n?m():g=b():i==="post"?vr(b,u&&u.suspense):b(),()=>{tw(b),u&&VR(u.effects,b)}}function HW(t,e,n){const r=this.proxy,i=qn(t)?()=>r[t]:t.bind(r);return O1(i,e.bind(r),n,this)}function xc(t,e=new Set){if(!Qt(t)||e.has(t))return t;if(e.add(t),wn(t))xc(t.value,e);else if(Ye(t))for(let n=0;n<t.length;n++)xc(t[n],e);else if(yg(t)||Ec(t))t.forEach(n=>{xc(n,e)});else for(const n in t)xc(t[n],e);return t}function $W(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bg(()=>{t.isMounted=!0}),yw(()=>{t.isUnmounting=!0}),t}const li=[Function,Array],WW={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:li,onEnter:li,onAfterEnter:li,onEnterCancelled:li,onBeforeLeave:li,onLeave:li,onAfterLeave:li,onLeaveCancelled:li,onBeforeAppear:li,onAppear:li,onAfterAppear:li,onAppearCancelled:li},setup(t,{slots:e}){const n=Z1(),r=$W();let i;return()=>{const o=e.default&&M1(e.default(),!0);if(!o||!o.length)return;const a=wt(t),{mode:u}=a,c=o[0];if(r.isLeaving)return bw(c);const f=D1(c);if(!f)return bw(c);const h=_w(f,a,r,n);ww(f,h);const p=n.subTree,g=p&&D1(p);let m=!1;const{getTransitionKey:y}=f.type;if(y){const b=y();i===void 0?i=b:b!==i&&(i=b,m=!0)}if(g&&g.type!==Li&&(!Va(f,g)||m)){const b=_w(g,a,r,n);if(ww(g,b),u==="out-in")return r.isLeaving=!0,b.afterLeave=()=>{r.isLeaving=!1,n.update()},bw(c);u==="in-out"&&f.type!==Li&&(b.delayLeave=(w,T,A)=>{const k=P1(r,g);k[String(g.key)]=g,w._leaveCb=()=>{T(),w._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=A})}return c}}},N1=WW;function P1(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function _w(t,e,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:p,onLeave:g,onAfterLeave:m,onLeaveCancelled:y,onBeforeAppear:b,onAppear:w,onAfterAppear:T,onAppearCancelled:A}=e,k=String(t.key),N=P1(n,t),P=($,B)=>{$&&Mi($,r,9,B)},D={mode:o,persisted:a,beforeEnter($){let B=u;if(!n.isMounted)if(i)B=b||u;else return;$._leaveCb&&$._leaveCb(!0);const Y=N[k];Y&&Va(t,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),P(B,[$])},enter($){let B=c,Y=f,R=h;if(!n.isMounted)if(i)B=w||c,Y=T||f,R=A||h;else return;let de=!1;const we=$._enterCb=J=>{de||(de=!0,J?P(R,[$]):P(Y,[$]),D.delayedLeave&&D.delayedLeave(),$._enterCb=void 0)};B?(B($,we),B.length<=1&&we()):we()},leave($,B){const Y=String(t.key);if($._enterCb&&$._enterCb(!0),n.isUnmounting)return B();P(p,[$]);let R=!1;const de=$._leaveCb=we=>{R||(R=!0,B(),we?P(y,[$]):P(m,[$]),$._leaveCb=void 0,N[Y]===t&&delete N[Y])};N[Y]=t,g?(g($,de),g.length<=1&&de()):de()},clone($){return _w($,e,n,r)}};return D}function bw(t){if(Vg(t))return t=qa(t),t.children=null,t}function D1(t){return Vg(t)?t.children?t.children[0]:void 0:t}function ww(t,e){t.shapeFlag&6&&t.component?ww(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function M1(t,e=!1){let n=[],r=0;for(let i=0;i<t.length;i++){const o=t[i];o.type===Vo?(o.patchFlag&128&&r++,n=n.concat(M1(o.children,e))):(e||o.type!==Li)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}const Vg=t=>t.type.__isKeepAlive;function zW(t,e){L1(t,"a",e)}function KW(t,e){L1(t,"da",e)}function L1(t,e,n=En){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}t()});if(jg(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Vg(i.parent.vnode)&&GW(r,e,n,i),i=i.parent}}function GW(t,e,n,r){const i=jg(e,t,r,!0);k1(()=>{VR(r[e],i)},n)}const F1=t=>t[0]==="_"||t==="$stable",Ew=t=>Ye(t)?t.map(fi):[fi(t)],YW=(t,e,n)=>b1(r=>Ew(e(r)),n),U1=(t,e)=>{const n=t._ctx;for(const r in t){if(F1(r))continue;const i=t[r];if(Ze(i))e[r]=YW(r,i,n);else if(i!=null){const o=Ew(i);e[r]=()=>o}}},j1=(t,e)=>{const n=Ew(e);t.slots.default=()=>n},XW=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=e,Q0(e,"_",n)):U1(e,t.slots={})}else t.slots={},e&&j1(t,e);Q0(t.slots,$g,1)},QW=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,a=Tt;if(r.shapeFlag&32){const u=e._;u?n&&u===1?o=!1:(bn(i,e),!n&&u===1&&delete i._):(o=!e.$stable,U1(e,i)),a=e}else e&&(j1(t,e),a={default:1});if(o)for(const u in i)!F1(u)&&!(u in a)&&delete i[u]};function Hfe(t,e){const n=ui;if(n===null)return t;const r=n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[a,u,c,f=Tt]=e[o];Ze(a)&&(a={mounted:a,updated:a}),i.push({dir:a,instance:r,value:u,oldValue:void 0,arg:c,modifiers:f})}return t}function ja(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const u=i[a];o&&(u.oldValue=o[a].value);const c=u.dir[r];c&&Mi(c,n,8,[t.el,u,t,e])}}function B1(){return{app:null,config:{isNativeTag:BR,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:BR,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let JW=0;function ZW(t,e){return function(r,i=null){i!=null&&!Qt(i)&&(i=null);const o=B1(),a=new Set;let u=!1;const c=o.app={_uid:JW++,_component:r,_props:i,_container:null,_context:o,version:Ez,get config(){return o.config},set config(f){},use(f,...h){return a.has(f)||(f&&Ze(f.install)?(a.add(f),f.install(c,...h)):Ze(f)&&(a.add(f),f(c,...h))),c},mixin(f){return o.mixins.includes(f)||(o.mixins.push(f),(f.props||f.emits)&&(o.deopt=!0)),c},component(f,h){return h?(o.components[f]=h,c):o.components[f]},directive(f,h){return h?(o.directives[f]=h,c):o.directives[f]},mount(f,h,p){if(!u){const g=Nr(r,i);return g.appContext=o,h&&e?e(g,f):t(g,f,p),u=!0,c._container=f,f.__vue_app__=c,g.component.proxy}},unmount(){u&&(t(null,c._container),delete c._container.__vue_app__)},provide(f,h){return o.provides[f]=h,c}};return c}}function Gf(t){return Ze(t)?{setup:t,name:t.name}:t}const ez=t=>!!t.type.__asyncLoader,tz={scheduler:d1,allowRecurse:!0},vr=DW,Tw=(t,e,n,r)=>{if(Ye(t)){t.forEach((h,p)=>Tw(h,e&&(Ye(e)?e[p]:e),n,r));return}let i;if(!r)i=null;else{if(ez(r))return;r.shapeFlag&4?i=r.component.exposed||r.component.proxy:i=r.el}const{i:o,r:a}=t,u=e&&e.r,c=o.refs===Tt?o.refs={}:o.refs,f=o.setupState;if(u!=null&&u!==a&&(qn(u)?(c[u]=null,gt(f,u)&&(f[u]=null)):wn(u)&&(u.value=null)),qn(a)){const h=()=>{c[a]=i,gt(f,a)&&(f[a]=i)};i?(h.id=-1,vr(h,n)):h()}else if(wn(a)){const h=()=>{a.value=i};i?(h.id=-1,vr(h,n)):h()}else Ze(a)&&jo(a,o,12,[i,c])};function nz(t){return rz(t)}function rz(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:a,createText:u,createComment:c,setText:f,setElementText:h,parentNode:p,nextSibling:g,setScopeId:m=Da,cloneNode:y,insertStaticContent:b}=t,w=(M,U,K,Z=null,ee=null,se=null,me=!1,le=null,te=!1)=>{M&&!Va(M,U)&&(Z=pe(M),ot(M,ee,se,!0),M=null),U.patchFlag===-2&&(te=!1,U.dynamicChildren=null);const{type:ie,ref:Be,shapeFlag:Ce}=U;switch(ie){case Cw:T(M,U,K,Z);break;case Li:A(M,U,K,Z);break;case qg:M==null&&k(U,K,Z,me);break;case Vo:J(M,U,K,Z,ee,se,me,le,te);break;default:Ce&1?D(M,U,K,Z,ee,se,me,le,te):Ce&6?Te(M,U,K,Z,ee,se,me,le,te):(Ce&64||Ce&128)&&ie.process(M,U,K,Z,ee,se,me,le,te,$e)}Be!=null&&ee&&Tw(Be,M&&M.ref,se,U)},T=(M,U,K,Z)=>{if(M==null)n(U.el=u(U.children),K,Z);else{const ee=U.el=M.el;U.children!==M.children&&f(ee,U.children)}},A=(M,U,K,Z)=>{M==null?n(U.el=c(U.children||""),K,Z):U.el=M.el},k=(M,U,K,Z)=>{[M.el,M.anchor]=b(M.children,U,K,Z)},N=({el:M,anchor:U},K,Z)=>{let ee;for(;M&&M!==U;)ee=g(M),n(M,K,Z),M=ee;n(U,K,Z)},P=({el:M,anchor:U})=>{let K;for(;M&&M!==U;)K=g(M),r(M),M=K;r(U)},D=(M,U,K,Z,ee,se,me,le,te)=>{me=me||U.type==="svg",M==null?$(U,K,Z,ee,se,me,le,te):R(M,U,ee,se,me,le,te)},$=(M,U,K,Z,ee,se,me,le)=>{let te,ie;const{type:Be,props:Ce,shapeFlag:Oe,transition:Ve,patchFlag:Ie,dirs:Ct}=M;if(M.el&&y!==void 0&&Ie===-1)te=M.el=y(M.el);else{if(te=M.el=a(M.type,se,Ce&&Ce.is,Ce),Oe&8?h(te,M.children):Oe&16&&Y(M.children,te,null,Z,ee,se&&Be!=="foreignObject",me,le||!!M.dynamicChildren),Ct&&ja(M,null,Z,"created"),Ce){for(const er in Ce)bg(er)||i(te,er,null,Ce[er],se,M.children,Z,ee,ge);(ie=Ce.onVnodeBeforeMount)&&fo(ie,Z,M)}B(te,M,M.scopeId,me,Z)}Ct&&ja(M,null,Z,"beforeMount");const dt=(!ee||ee&&!ee.pendingBranch)&&Ve&&!Ve.persisted;dt&&Ve.beforeEnter(te),n(te,U,K),((ie=Ce&&Ce.onVnodeMounted)||dt||Ct)&&vr(()=>{ie&&fo(ie,Z,M),dt&&Ve.enter(te),Ct&&ja(M,null,Z,"mounted")},ee)},B=(M,U,K,Z,ee)=>{if(K&&m(M,K),Z)for(let se=0;se<Z.length;se++)m(M,Z[se]);if(ee){let se=ee.subTree;if(U===se){const me=ee.vnode;B(M,me,me.scopeId,me.slotScopeIds,ee.parent)}}},Y=(M,U,K,Z,ee,se,me,le,te=0)=>{for(let ie=te;ie<M.length;ie++){const Be=M[ie]=me?Ha(M[ie]):fi(M[ie]);w(null,Be,U,K,Z,ee,se,me,le)}},R=(M,U,K,Z,ee,se,me)=>{const le=U.el=M.el;let{patchFlag:te,dynamicChildren:ie,dirs:Be}=U;te|=M.patchFlag&16;const Ce=M.props||Tt,Oe=U.props||Tt;let Ve;if((Ve=Oe.onVnodeBeforeUpdate)&&fo(Ve,K,U,M),Be&&ja(U,M,K,"beforeUpdate"),te>0){if(te&16)we(le,U,Ce,Oe,K,Z,ee);else if(te&2&&Ce.class!==Oe.class&&i(le,"class",null,Oe.class,ee),te&4&&i(le,"style",Ce.style,Oe.style,ee),te&8){const Ct=U.dynamicProps;for(let dt=0;dt<Ct.length;dt++){const er=Ct[dt],ni=Ce[er],Pt=Oe[er];(Pt!==ni||o&&o(le,er))&&i(le,er,ni,Pt,ee,M.children,K,Z,ge)}}te&1&&M.children!==U.children&&h(le,U.children)}else!me&&ie==null&&we(le,U,Ce,Oe,K,Z,ee);const Ie=ee&&U.type!=="foreignObject";ie?de(M.dynamicChildren,ie,le,K,Z,Ie,se):me||oe(M,U,le,null,K,Z,Ie,se,!1),((Ve=Oe.onVnodeUpdated)||Be)&&vr(()=>{Ve&&fo(Ve,K,U,M),Be&&ja(U,M,K,"updated")},Z)},de=(M,U,K,Z,ee,se,me)=>{for(let le=0;le<U.length;le++){const te=M[le],ie=U[le],Be=te.type===Vo||!Va(te,ie)||te.shapeFlag&6||te.shapeFlag&64?p(te.el):K;w(te,ie,Be,null,Z,ee,se,me,!0)}},we=(M,U,K,Z,ee,se,me)=>{if(K!==Z){for(const le in Z){if(bg(le))continue;const te=Z[le],ie=K[le];(te!==ie||o&&o(M,le))&&i(M,le,ie,te,me,U.children,ee,se,ge)}if(K!==Tt)for(const le in K)!bg(le)&&!(le in Z)&&i(M,le,K[le],null,me,U.children,ee,se,ge)}},J=(M,U,K,Z,ee,se,me,le,te)=>{const ie=U.el=M?M.el:u(""),Be=U.anchor=M?M.anchor:u("");let{patchFlag:Ce,dynamicChildren:Oe,slotScopeIds:Ve}=U;Ce>0&&(te=!0),Ve&&(le=le?le.concat(Ve):Ve),M==null?(n(ie,K,Z),n(Be,K,Z),Y(U.children,K,Be,ee,se,me,le,te)):Ce>0&&Ce&64&&Oe&&M.dynamicChildren?(de(M.dynamicChildren,Oe,K,ee,se,me,le),(U.key!=null||ee&&U===ee.subTree)&&V1(M,U,!0)):oe(M,U,K,Be,ee,se,me,le,te)},Te=(M,U,K,Z,ee,se,me,le,te)=>{U.slotScopeIds=le,M==null?U.shapeFlag&512?ee.ctx.activate(U,K,Z,me,te):ve(U,K,Z,ee,se,me,te):H(M,U,te)},ve=(M,U,K,Z,ee,se,me)=>{const le=M.component=gz(M,Z,ee);if(Vg(M)&&(le.ctx.renderer=$e),vz(le),le.asyncDep){if(ee&&ee.registerDep(le,W),!M.el){const te=le.subTree=Nr(Li);A(null,te,U,K)}return}W(le,M,U,K,ee,se,me)},H=(M,U,K)=>{const Z=U.component=M.component;if(RW(M,U,K))if(Z.asyncDep&&!Z.asyncResolved){Q(Z,U,K);return}else Z.next=U,TW(Z.update),Z.update();else U.component=M.component,U.el=M.el,Z.vnode=U},W=(M,U,K,Z,ee,se,me)=>{M.update=ew(function(){if(M.isMounted){let{next:te,bu:ie,u:Be,parent:Ce,vnode:Oe}=M,Ve=te,Ie;te?(te.el=Oe.el,Q(M,te,me)):te=Oe,ie&&Ig(ie),(Ie=te.props&&te.props.onVnodeBeforeUpdate)&&fo(Ie,Ce,te,Oe);const Ct=w1(M),dt=M.subTree;M.subTree=Ct,w(dt,Ct,p(dt.el),pe(dt),M,ee,se),te.el=Ct.el,Ve===null&&OW(M,Ct.el),Be&&vr(Be,ee),(Ie=te.props&&te.props.onVnodeUpdated)&&vr(()=>{fo(Ie,Ce,te,Oe)},ee)}else{let te;const{el:ie,props:Be}=U,{bm:Ce,m:Oe,parent:Ve}=M;Ce&&Ig(Ce),(te=Be&&Be.onVnodeBeforeMount)&&fo(te,Ve,U);const Ie=M.subTree=w1(M);if(ie&&Ke?Ke(U.el,Ie,M,ee,null):(w(null,Ie,K,Z,M,ee,se),U.el=Ie.el),Oe&&vr(Oe,ee),te=Be&&Be.onVnodeMounted){const dt=U;vr(()=>{fo(te,Ve,dt)},ee)}const{a:Ct}=M;Ct&&U.shapeFlag&256&&vr(Ct,ee),M.isMounted=!0,U=K=Z=null}},tz)},Q=(M,U,K)=>{U.component=M;const Z=M.vnode.props;M.vnode=U,M.next=null,LW(M,U.props,Z,K),QW(M,U.children,K),Ic(),dw(void 0,M.update),Ua()},oe=(M,U,K,Z,ee,se,me,le,te=!1)=>{const ie=M&&M.children,Be=M?M.shapeFlag:0,Ce=U.children,{patchFlag:Oe,shapeFlag:Ve}=U;if(Oe>0){if(Oe&128){ze(ie,Ce,K,Z,ee,se,me,le,te);return}else if(Oe&256){Ne(ie,Ce,K,Z,ee,se,me,le,te);return}}Ve&8?(Be&16&&ge(ie,ee,se),Ce!==ie&&h(K,Ce)):Be&16?Ve&16?ze(ie,Ce,K,Z,ee,se,me,le,te):ge(ie,ee,se,!0):(Be&8&&h(K,""),Ve&16&&Y(Ce,K,Z,ee,se,me,le,te))},Ne=(M,U,K,Z,ee,se,me,le,te)=>{M=M||qf,U=U||qf;const ie=M.length,Be=U.length,Ce=Math.min(ie,Be);let Oe;for(Oe=0;Oe<Ce;Oe++){const Ve=U[Oe]=te?Ha(U[Oe]):fi(U[Oe]);w(M[Oe],Ve,K,null,ee,se,me,le,te)}ie>Be?ge(M,ee,se,!0,!1,Ce):Y(U,K,Z,ee,se,me,le,te,Ce)},ze=(M,U,K,Z,ee,se,me,le,te)=>{let ie=0;const Be=U.length;let Ce=M.length-1,Oe=Be-1;for(;ie<=Ce&&ie<=Oe;){const Ve=M[ie],Ie=U[ie]=te?Ha(U[ie]):fi(U[ie]);if(Va(Ve,Ie))w(Ve,Ie,K,null,ee,se,me,le,te);else break;ie++}for(;ie<=Ce&&ie<=Oe;){const Ve=M[Ce],Ie=U[Oe]=te?Ha(U[Oe]):fi(U[Oe]);if(Va(Ve,Ie))w(Ve,Ie,K,null,ee,se,me,le,te);else break;Ce--,Oe--}if(ie>Ce){if(ie<=Oe){const Ve=Oe+1,Ie=Ve<Be?U[Ve].el:Z;for(;ie<=Oe;)w(null,U[ie]=te?Ha(U[ie]):fi(U[ie]),K,Ie,ee,se,me,le,te),ie++}}else if(ie>Oe)for(;ie<=Ce;)ot(M[ie],ee,se,!0),ie++;else{const Ve=ie,Ie=ie,Ct=new Map;for(ie=Ie;ie<=Oe;ie++){const rn=U[ie]=te?Ha(U[ie]):fi(U[ie]);rn.key!=null&&Ct.set(rn.key,ie)}let dt,er=0;const ni=Oe-Ie+1;let Pt=!1,aa=0;const mn=new Array(ni);for(ie=0;ie<ni;ie++)mn[ie]=0;for(ie=Ve;ie<=Ce;ie++){const rn=M[ie];if(er>=ni){ot(rn,ee,se,!0);continue}let Lt;if(rn.key!=null)Lt=Ct.get(rn.key);else for(dt=Ie;dt<=Oe;dt++)if(mn[dt-Ie]===0&&Va(rn,U[dt])){Lt=dt;break}Lt===void 0?ot(rn,ee,se,!0):(mn[Lt-Ie]=ie+1,Lt>=aa?aa=Lt:Pt=!0,w(rn,U[Lt],K,null,ee,se,me,le,te),er++)}const Vr=Pt?iz(mn):qf;for(dt=Vr.length-1,ie=ni-1;ie>=0;ie--){const rn=Ie+ie,Lt=U[rn],fs=rn+1<Be?U[rn+1].el:Z;mn[ie]===0?w(null,Lt,K,fs,ee,se,me,le,te):Pt&&(dt<0||ie!==Vr[dt]?Fe(Lt,K,fs,2):dt--)}}},Fe=(M,U,K,Z,ee=null)=>{const{el:se,type:me,transition:le,children:te,shapeFlag:ie}=M;if(ie&6){Fe(M.component.subTree,U,K,Z);return}if(ie&128){M.suspense.move(U,K,Z);return}if(ie&64){me.move(M,U,K,$e);return}if(me===Vo){n(se,U,K);for(let Ce=0;Ce<te.length;Ce++)Fe(te[Ce],U,K,Z);n(M.anchor,U,K);return}if(me===qg){N(M,U,K);return}if(Z!==2&&ie&1&&le)if(Z===0)le.beforeEnter(se),n(se,U,K),vr(()=>le.enter(se),ee);else{const{leave:Ce,delayLeave:Oe,afterLeave:Ve}=le,Ie=()=>n(se,U,K),Ct=()=>{Ce(se,()=>{Ie(),Ve&&Ve()})};Oe?Oe(se,Ie,Ct):Ct()}else n(se,U,K)},ot=(M,U,K,Z=!1,ee=!1)=>{const{type:se,props:me,ref:le,children:te,dynamicChildren:ie,shapeFlag:Be,patchFlag:Ce,dirs:Oe}=M;if(le!=null&&Tw(le,null,K,null),Be&256){U.ctx.deactivate(M);return}const Ve=Be&1&&Oe;let Ie;if((Ie=me&&me.onVnodeBeforeUnmount)&&fo(Ie,U,M),Be&6)Ee(M.component,K,Z);else{if(Be&128){M.suspense.unmount(K,Z);return}Ve&&ja(M,null,U,"beforeUnmount"),Be&64?M.type.remove(M,U,K,ee,$e,Z):ie&&(se!==Vo||Ce>0&&Ce&64)?ge(ie,U,K,!1,!0):(se===Vo&&(Ce&128||Ce&256)||!ee&&Be&16)&&ge(te,U,K),Z&&Wt(M)}((Ie=me&&me.onVnodeUnmounted)||Ve)&&vr(()=>{Ie&&fo(Ie,U,M),Ve&&ja(M,null,U,"unmounted")},K)},Wt=M=>{const{type:U,el:K,anchor:Z,transition:ee}=M;if(U===Vo){X(K,Z);return}if(U===qg){P(M);return}const se=()=>{r(K),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(M.shapeFlag&1&&ee&&!ee.persisted){const{leave:me,delayLeave:le}=ee,te=()=>me(K,se);le?le(M.el,se,te):te()}else se()},X=(M,U)=>{let K;for(;M!==U;)K=g(M),r(M),M=K;r(U)},Ee=(M,U,K)=>{const{bum:Z,effects:ee,update:se,subTree:me,um:le}=M;if(Z&&Ig(Z),ee)for(let te=0;te<ee.length;te++)tw(ee[te]);se&&(tw(se),ot(me,M,U,K)),le&&vr(le,U),vr(()=>{M.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},ge=(M,U,K,Z=!1,ee=!1,se=0)=>{for(let me=se;me<M.length;me++)ot(M[me],U,K,Z,ee)},pe=M=>M.shapeFlag&6?pe(M.component.subTree):M.shapeFlag&128?M.suspense.next():g(M.anchor||M.el),ht=(M,U,K)=>{M==null?U._vnode&&ot(U._vnode,null,null,!0):w(U._vnode||null,M,U,null,null,null,K),v1(),U._vnode=M},$e={p:w,um:ot,m:Fe,r:Wt,mt:ve,mc:Y,pc:oe,pbc:de,n:pe,o:t};let We,Ke;return e&&([We,Ke]=e($e)),{render:ht,hydrate:We,createApp:ZW(ht,We)}}function fo(t,e,n,r=null){Mi(t,e,7,[n,r])}function V1(t,e,n=!1){const r=t.children,i=e.children;if(Ye(r)&&Ye(i))for(let o=0;o<r.length;o++){const a=r[o];let u=i[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[o]=Ha(i[o]),u.el=a.el),n||V1(a,u))}}function iz(t){const e=t.slice(),n=[0];let r,i,o,a,u;const c=t.length;for(r=0;r<c;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)u=(o+a)/2|0,t[n[u]]<f?o=u+1:a=u;f<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}const oz=t=>t.__isTeleport,Iw="components";function $fe(t,e){return H1(Iw,t,!0,e)||t}const q1=Symbol();function Sw(t){return qn(t)?H1(Iw,t,!1)||t:t||q1}function H1(t,e,n=!0,r=!1){const i=ui||En;if(i){const o=i.type;if(t===Iw){const u=iO(o);if(u&&(u===e||u===co(e)||u===Eg(co(e))))return o}const a=$1(i[t]||o[t],e)||$1(i.appContext[t],e);return!a&&r?o:a}}function $1(t,e){return t&&(t[e]||t[co(e)]||t[Eg(co(e))])}const Vo=Symbol(void 0),Cw=Symbol(void 0),Li=Symbol(void 0),qg=Symbol(void 0),Yf=[];let Ba=null;function W1(t=!1){Yf.push(Ba=t?null:[])}function z1(){Yf.pop(),Ba=Yf[Yf.length-1]||null}function sz(t,e,n,r,i){const o=Nr(t,e,n,r,i,!0);return o.dynamicChildren=Ba||qf,z1(),Ba&&Ba.push(o),o}function Hg(t){return t?t.__v_isVNode===!0:!1}function Va(t,e){return t.type===e.type&&t.key===e.key}const $g="__vInternal",K1=({key:t})=>t!=null?t:null,Wg=({ref:t})=>t!=null?qn(t)||wn(t)||Ze(t)?{i:ui,r:t}:t:null,Nr=az;function az(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===q1)&&(t=Li),Hg(t)){const c=qa(t,e,!0);return n&&Aw(c,n),c}if(wz(t)&&(t=t.__vccOpts),e){(u1(e)||$g in e)&&(e=bn({},e));let{class:c,style:f}=e;c&&!qn(c)&&(e.class=z0(c)),Qt(f)&&(u1(f)&&!Ye(f)&&(f=bn({},f)),e.style=W0(f))}const a=qn(t)?1:NW(t)?128:oz(t)?64:Qt(t)?4:Ze(t)?2:0,u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&K1(e),ref:e&&Wg(e),scopeId:Fg,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};if(Aw(u,n),a&128){const{content:c,fallback:f}=PW(u);u.ssContent=c,u.ssFallback=f}return!o&&Ba&&(r>0||a&6)&&r!==32&&Ba.push(u),u}function qa(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:a}=t,u=e?cz(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&K1(u),ref:e&&e.ref?n&&i?Ye(i)?i.concat(Wg(e)):[i,Wg(e)]:Wg(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Vo?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qa(t.ssContent),ssFallback:t.ssFallback&&qa(t.ssFallback),el:t.el,anchor:t.anchor}}function uz(t=" ",e=0){return Nr(Cw,null,t,e)}function Wfe(t,e){const n=Nr(qg,null,t);return n.staticCount=e,n}function zfe(t="",e=!1){return e?(W1(),sz(Li,null,t)):Nr(Li,null,t)}function fi(t){return t==null||typeof t=="boolean"?Nr(Li):Ye(t)?Nr(Vo,null,t):typeof t=="object"?t.el===null?t:qa(t):Nr(Cw,null,String(t))}function Ha(t){return t.el===null?t:qa(t)}function Aw(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ye(e))n=16;else if(typeof e=="object")if(r&1||r&64){const i=e.default;i&&(i._c&&_1(1),Aw(t,i()),i._c&&_1(-1));return}else{n=32;const i=e._;!i&&!($g in e)?e._ctx=ui:i===3&&ui&&(ui.vnode.patchFlag&1024?(e._=2,t.patchFlag|=1024):e._=1)}else Ze(e)?(e={default:e,_ctx:ui},n=32):(e=String(e),r&64?(n=16,e=[uz(e)]):n=8);t.children=e,t.shapeFlag|=n}function cz(...t){const e=bn({},t[0]);for(let n=1;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=z0([e.class,r.class]));else if(i==="style")e.style=W0([e.style,r.style]);else if(mg(i)){const o=e[i],a=r[i];o!==a&&(e[i]=o?[].concat(o,r[i]):a)}else i!==""&&(e[i]=r[i])}return e}function Ss(t,e){if(En){let n=En.provides;const r=En.parent&&En.parent.provides;r===n&&(n=En.provides=Object.create(r)),n[t]=e}}function ho(t,e,n=!1){const r=En||ui;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ze(e)?e():e}}let Xf=!0;function xw(t,e,n=[],r=[],i=[],o=!1){const{mixins:a,extends:u,data:c,computed:f,methods:h,watch:p,provide:g,inject:m,components:y,directives:b,beforeMount:w,mounted:T,beforeUpdate:A,updated:k,activated:N,deactivated:P,beforeDestroy:D,beforeUnmount:$,destroyed:B,unmounted:Y,render:R,renderTracked:de,renderTriggered:we,errorCaptured:J,expose:Te}=e,ve=t.proxy,H=t.ctx,W=t.appContext.mixins;if(o&&R&&t.render===Da&&(t.render=R),o||(Xf=!1,G1("beforeCreate","bc",e,t,W),Xf=!0,Y1(t,W,n,r,i)),u&&xw(t,u,n,r,i,!0),a&&Y1(t,a,n,r,i),m)if(Ye(m))for(let Q=0;Q<m.length;Q++){const oe=m[Q];H[oe]=ho(oe)}else for(const Q in m){const oe=m[Q];Qt(oe)?H[Q]=ho(oe.from||Q,oe.default,!0):H[Q]=ho(oe)}if(h)for(const Q in h){const oe=h[Q];Ze(oe)&&(H[Q]=oe.bind(ve))}if(o?c&&n.push(c):(n.length&&n.forEach(Q=>X1(t,Q,ve)),c&&X1(t,c,ve)),f)for(const Q in f){const oe=f[Q],Ne=Ze(oe)?oe.bind(ve,ve):Ze(oe.get)?oe.get.bind(ve,ve):Da,ze=!Ze(oe)&&Ze(oe.set)?oe.set.bind(ve):Da,Fe=Et({get:Ne,set:ze});Object.defineProperty(H,Q,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:ot=>Fe.value=ot})}if(p&&r.push(p),!o&&r.length&&r.forEach(Q=>{for(const oe in Q)Q1(Q[oe],H,ve,oe)}),g&&i.push(g),!o&&i.length&&i.forEach(Q=>{const oe=Ze(Q)?Q.call(ve):Q;Reflect.ownKeys(oe).forEach(Ne=>{Ss(Ne,oe[Ne])})}),o&&(y&&bn(t.components||(t.components=bn({},t.type.components)),y),b&&bn(t.directives||(t.directives=bn({},t.type.directives)),b)),o||G1("created","c",e,t,W),w&&FW(w.bind(ve)),T&&Bg(T.bind(ve)),A&&UW(A.bind(ve)),k&&jW(k.bind(ve)),N&&zW(N.bind(ve)),P&&KW(P.bind(ve)),J&&qW(J.bind(ve)),de&&VW(de.bind(ve)),we&&BW(we.bind(ve)),$&&yw($.bind(ve)),Y&&k1(Y.bind(ve)),Ye(Te)&&!o)if(Te.length){const Q=t.exposed||(t.exposed=uw({}));Te.forEach(oe=>{Q[oe]=lo(ve,oe)})}else t.exposed||(t.exposed=Tt)}function G1(t,e,n,r,i){for(let o=0;o<i.length;o++)zg(t,e,i[o],r);zg(t,e,n,r)}function zg(t,e,n,r){const{extends:i,mixins:o}=n,a=n[t];if(i&&zg(t,e,i,r),o)for(let u=0;u<o.length;u++)zg(t,e,o[u],r);a&&Mi(a.bind(r.proxy),r,e)}function Y1(t,e,n,r,i){for(let o=0;o<e.length;o++)xw(t,e[o],n,r,i,!0)}function X1(t,e,n){Xf=!1;const r=e.call(n,n);Xf=!0,Qt(r)&&(t.data===Tt?t.data=Es(r):bn(t.data,r))}function Q1(t,e,n,r){const i=r.includes(".")?lz(n,r):()=>n[r];if(qn(t)){const o=e[t];Ze(o)&&ci(i,o)}else if(Ze(t))ci(i,t.bind(n));else if(Qt(t))if(Ye(t))t.forEach(o=>Q1(o,e,n,r));else{const o=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(o)&&ci(i,o,t)}}function lz(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function fz(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const o=t.appContext.mixins;if(!o.length&&!r&&!i)return e;const a={};return o.forEach(u=>Kg(a,u,t)),Kg(a,e,t),e.__merged=a}function Kg(t,e,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=e;o&&Kg(t,o,n),i&&i.forEach(a=>Kg(t,a,n));for(const a in e)r&&gt(r,a)?t[a]=r[a](t[a],e[a],n.proxy,a):t[a]=e[a]}const kw=t=>t?eO(t)?t.exposed?t.exposed:t.proxy:kw(t.parent):null,J1=bn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>kw(t.parent),$root:t=>kw(t.root),$emit:t=>t.emit,$options:t=>fz(t),$forceUpdate:t=>()=>d1(t.update),$nextTick:t=>hw.bind(t.proxy),$watch:t=>HW.bind(t)}),Rw={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:u,appContext:c}=t;if(e==="__v_skip")return!0;let f;if(e[0]!=="$"){const m=a[e];if(m!==void 0)switch(m){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==Tt&&gt(r,e))return a[e]=0,r[e];if(i!==Tt&&gt(i,e))return a[e]=1,i[e];if((f=t.propsOptions[0])&&gt(f,e))return a[e]=2,o[e];if(n!==Tt&&gt(n,e))return a[e]=3,n[e];Xf&&(a[e]=4)}}const h=J1[e];let p,g;if(h)return e==="$attrs"&&Or(t,"get",e),h(t);if((p=u.__cssModules)&&(p=p[e]))return p;if(n!==Tt&&gt(n,e))return a[e]=3,n[e];if(g=c.config.globalProperties,gt(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==Tt&&gt(i,e))i[e]=n;else if(r!==Tt&&gt(r,e))r[e]=n;else if(gt(t.props,e))return!1;return e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let u;return n[a]!==void 0||t!==Tt&&gt(t,a)||e!==Tt&&gt(e,a)||(u=o[0])&&gt(u,a)||gt(r,a)||gt(J1,a)||gt(i.config.globalProperties,a)}},hz=bn({},Rw,{get(t,e){if(e!==Symbol.unscopables)return Rw.get(t,e,t)},has(t,e){return e[0]!=="_"&&!C$(e)}}),dz=B1();let pz=0;function gz(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||dz,o={uid:pz++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:I1(r,i),emitsOptions:y1(r,i),emit:null,emitted:null,propsDefaults:Tt,ctx:Tt,data:Tt,props:Tt,attrs:Tt,slots:Tt,refs:Tt,setupState:Tt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=CW.bind(null,o),o}let En=null;const Z1=()=>En||ui,Gg=t=>{En=t};function eO(t){return t.vnode.shapeFlag&4}let Ow=!1;function vz(t,e=!1){Ow=e;const{props:n,children:r}=t.vnode,i=eO(t);MW(t,n,i,e),XW(t,r);const o=i?mz(t,e):void 0;return Ow=!1,o}function mz(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Rw);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?yz(t):null;En=t,Ic();const o=jo(r,t,0,[t.props,i]);if(Ua(),En=null,HR(o)){if(e)return o.then(a=>{tO(t,a)}).catch(a=>{Dg(a,t,0)});t.asyncDep=o}else tO(t,o)}else nO(t)}function tO(t,e,n){Ze(e)?t.render=e:Qt(e)&&(t.setupState=uw(e)),nO(t)}function nO(t,e){const n=t.type;t.render||(t.render=n.render||Da,t.render._rc&&(t.withProxy=new Proxy(t.ctx,hz))),En=t,Ic(),xw(t,n),Ua(),En=null}function yz(t){const e=n=>{t.exposed=uw(n)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}function rO(t,e=En){e&&(e.effects||(e.effects=[])).push(t)}const _z=/(?:^|[-_])(\w)/g,bz=t=>t.replace(_z,e=>e.toUpperCase()).replace(/[-_]/g,"");function iO(t){return Ze(t)&&t.displayName||t.name}function oO(t,e,n=!1){let r=iO(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=o=>{for(const a in o)if(o[a]===e)return a};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?bz(r):n?"App":"Anonymous"}function wz(t){return Ze(t)&&"__vccOpts"in t}function Et(t){const e=gW(t);return rO(e.effect),e}function $a(t,e,n){const r=arguments.length;return r===2?Qt(e)&&!Ye(e)?Hg(e)?Nr(t,null,[e]):Nr(t,e):Nr(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Hg(n)&&(n=[n]),Nr(t,e,n))}function Kfe(t,e){let n;if(Ye(t)||qn(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if(typeof t=="number"){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(Qt(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const a=r[i];n[i]=e(t[a],a,i)}}else n=[];return n}const Ez="3.0.11",sO="http://www.w3.org/2000/svg",Wa=typeof document!="undefined"?document:null;let aO,uO;const cO={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Wa.createElementNS(sO,t):Wa.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Wa.createTextNode(t),createComment:t=>Wa.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Wa.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=r?uO||(uO=Wa.createElementNS(sO,"svg")):aO||(aO=Wa.createElement("div"));i.innerHTML=t;const o=i.firstChild;let a=o,u=a;for(;a;)u=a,cO.insert(a,e,n),a=i.firstChild;return[o,u]}};function Tz(t,e,n){if(e==null&&(e=""),n)t.setAttribute("class",e);else{const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),t.className=e}}function Iz(t,e,n){const r=t.style;if(!n)t.removeAttribute("style");else if(qn(n)){if(e!==n){const i=r.display;r.cssText=n,"_vod"in t&&(r.display=i)}}else{for(const i in n)Nw(r,i,n[i]);if(e&&!qn(e))for(const i in e)n[i]==null&&Nw(r,i,"")}}const lO=/\s*!important$/;function Nw(t,e,n){if(Ye(n))n.forEach(r=>Nw(t,e,r));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=Sz(t,e);lO.test(n)?t.setProperty(Ma(r),n.replace(lO,""),"important"):t[r]=n}}const fO=["Webkit","Moz","ms"],Pw={};function Sz(t,e){const n=Pw[e];if(n)return n;let r=co(e);if(r!=="filter"&&r in t)return Pw[e]=r;r=Eg(r);for(let i=0;i<fO.length;i++){const o=fO[i]+r;if(o in t)return Pw[e]=o}return e}const hO="http://www.w3.org/1999/xlink";function Cz(t,e,n,r){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(hO,e.slice(6,e.length)):t.setAttributeNS(hO,e,n);else{const i=x$(e);n==null||i&&n===!1?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Az(t,e,n,r,i,o,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,o),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"){t._value=n;const u=n==null?"":n;t.value!==u&&(t.value=u);return}if(n===""||n==null){const u=typeof t[e];if(n===""&&u==="boolean"){t[e]=!0;return}else if(n==null&&u==="string"){t[e]="",t.removeAttribute(e);return}else if(u==="number"){t[e]=0,t.removeAttribute(e);return}}try{t[e]=n}catch{}}let Yg=Date.now,dO=!1;if(typeof window!="undefined"){Yg()>document.createEvent("Event").timeStamp&&(Yg=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);dO=!!(t&&Number(t[1])<=53)}let Dw=0;const xz=Promise.resolve(),kz=()=>{Dw=0},Rz=()=>Dw||(xz.then(kz),Dw=Yg());function za(t,e,n,r){t.addEventListener(e,n,r)}function Oz(t,e,n,r){t.removeEventListener(e,n,r)}function Nz(t,e,n,r,i=null){const o=t._vei||(t._vei={}),a=o[e];if(r&&a)a.value=r;else{const[u,c]=Pz(e);if(r){const f=o[e]=Dz(r,i);za(t,u,f,c)}else a&&(Oz(t,u,a,c),o[e]=void 0)}}const pO=/(?:Once|Passive|Capture)$/;function Pz(t){let e;if(pO.test(t)){e={};let n;for(;n=t.match(pO);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[Ma(t.slice(2)),e]}function Dz(t,e){const n=r=>{const i=r.timeStamp||Yg();(dO||i>=n.attached-1)&&Mi(Mz(r,n.value),e,5,[r])};return n.value=t,n.attached=Rz(),n}function Mz(t,e){if(Ye(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r(i))}else return e}const gO=/^on[a-z]/,Lz=(t,e)=>e==="value",Fz=(t,e,n,r,i=!1,o,a,u,c)=>{switch(e){case"class":Tz(t,r,i);break;case"style":Iz(t,n,r);break;default:mg(e)?K0(e)||Nz(t,e,n,r,a):Uz(t,e,r,i)?Az(t,e,r,o,a,u,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Cz(t,e,r,i));break}};function Uz(t,e,n,r){return r?!!(e==="innerHTML"||e in t&&gO.test(e)&&Ze(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||gO.test(e)&&qn(n)?!1:e in t}const Cs="transition",Qf="animation",vO=(t,{slots:e})=>$a(N1,jz(t),e);vO.displayName="Transition";const mO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};vO.props=bn({},N1.props,mO);function jz(t){let{name:e="v",type:n,css:r=!0,duration:i,enterFromClass:o=`${e}-enter-from`,enterActiveClass:a=`${e}-enter-active`,enterToClass:u=`${e}-enter-to`,appearFromClass:c=o,appearActiveClass:f=a,appearToClass:h=u,leaveFromClass:p=`${e}-leave-from`,leaveActiveClass:g=`${e}-leave-active`,leaveToClass:m=`${e}-leave-to`}=t;const y={};for(const J in t)J in mO||(y[J]=t[J]);if(!r)return y;const b=Bz(i),w=b&&b[0],T=b&&b[1],{onBeforeEnter:A,onEnter:k,onEnterCancelled:N,onLeave:P,onLeaveCancelled:D,onBeforeAppear:$=A,onAppear:B=k,onAppearCancelled:Y=N}=y,R=(J,Te,ve)=>{kc(J,Te?h:u),kc(J,Te?f:a),ve&&ve()},de=(J,Te)=>{kc(J,m),kc(J,g),Te&&Te()},we=J=>(Te,ve)=>{const H=J?B:k,W=()=>R(Te,J,ve);H&&H(Te,W),yO(()=>{kc(Te,J?c:o),As(Te,J?h:u),H&&H.length>1||_O(Te,n,w,W)})};return bn(y,{onBeforeEnter(J){A&&A(J),As(J,o),As(J,a)},onBeforeAppear(J){$&&$(J),As(J,c),As(J,f)},onEnter:we(!1),onAppear:we(!0),onLeave(J,Te){const ve=()=>de(J,Te);As(J,p),Hz(),As(J,g),yO(()=>{kc(J,p),As(J,m),P&&P.length>1||_O(J,n,T,ve)}),P&&P(J,ve)},onEnterCancelled(J){R(J,!1),N&&N(J)},onAppearCancelled(J){R(J,!0),Y&&Y(J)},onLeaveCancelled(J){de(J),D&&D(J)}})}function Bz(t){if(t==null)return null;if(Qt(t))return[Mw(t.enter),Mw(t.leave)];{const e=Mw(t);return[e,e]}}function Mw(t){return Sg(t)}function As(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function kc(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function yO(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Vz=0;function _O(t,e,n,r){const i=t._endId=++Vz,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:a,timeout:u,propCount:c}=qz(t,e);if(!a)return r();const f=a+"end";let h=0;const p=()=>{t.removeEventListener(f,g),o()},g=m=>{m.target===t&&++h>=c&&p()};setTimeout(()=>{h<c&&p()},u+1),t.addEventListener(f,g)}function qz(t,e){const n=window.getComputedStyle(t),r=y=>(n[y]||"").split(", "),i=r(Cs+"Delay"),o=r(Cs+"Duration"),a=bO(i,o),u=r(Qf+"Delay"),c=r(Qf+"Duration"),f=bO(u,c);let h=null,p=0,g=0;e===Cs?a>0&&(h=Cs,p=a,g=o.length):e===Qf?f>0&&(h=Qf,p=f,g=c.length):(p=Math.max(a,f),h=p>0?a>f?Cs:Qf:null,g=h?h===Cs?o.length:c.length:0);const m=h===Cs&&/\b(transform|all)(,|$)/.test(n[Cs+"Property"]);return{type:h,timeout:p,propCount:g,hasTransform:m}}function bO(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>wO(n)+wO(t[r])))}function wO(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Hz(){return document.body.offsetHeight}const Xg=t=>{const e=t.props["onUpdate:modelValue"];return Ye(e)?n=>Ig(e,n):e};function $z(t){t.target.composing=!0}function EO(t){const e=t.target;e.composing&&(e.composing=!1,Wz(e,"input"))}function Wz(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const Gfe={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=Xg(i);const o=r||t.type==="number";za(t,e?"change":"input",a=>{if(a.target.composing)return;let u=t.value;n?u=u.trim():o&&(u=Sg(u)),t._assign(u)}),n&&za(t,"change",()=>{t.value=t.value.trim()}),e||(za(t,"compositionstart",$z),za(t,"compositionend",EO),za(t,"change",EO))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{trim:n,number:r}},i){if(t._assign=Xg(i),t.composing||document.activeElement===t&&(n&&t.value.trim()===e||(r||t.type==="number")&&Sg(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},Yfe={created(t,e,n){t._assign=Xg(n),za(t,"change",()=>{const r=t._modelValue,i=zz(t),o=t.checked,a=t._assign;if(Ye(r)){const u=jR(r,i),c=u!==-1;if(o&&!c)a(r.concat(i));else if(!o&&c){const f=[...r];f.splice(u,1),a(f)}}else if(yg(r)){const u=new Set(r);o?u.add(i):u.delete(i),a(u)}else a(IO(t,o))})},mounted:TO,beforeUpdate(t,e,n){t._assign=Xg(n),TO(t,e,n)}};function TO(t,{value:e,oldValue:n},r){t._modelValue=e,Ye(e)?t.checked=jR(e,r.props.value)>-1:yg(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=vg(e,IO(t,!0)))}function zz(t){return"_value"in t?t._value:t.value}function IO(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Kz={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xfe=(t,e)=>n=>{if(!("key"in n))return;const r=Ma(n.key);if(!!e.some(i=>i===r||Kz[i]===r))return t(n)},Gz=bn({patchProp:Fz,forcePatchProp:Lz},cO);let SO;function Yz(){return SO||(SO=nz(Gz))}const Qfe=(...t)=>{const e=Yz().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Xz(r);if(!i)return;const o=e._component;!Ze(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function Xz(t){return qn(t)?document.querySelector(t):t}/*!
  * vuefire v3.0.0-alpha.1
  * (c) 2020 Eduardo San Martin Morote
  * @license MIT
  */function Lw(t,e){return e.split(".").reduce((n,r)=>n[r],t)}function Qz(t,e,n){const r=(""+e).split("."),i=r.pop(),o=r.reduce((a,u)=>a[u],t);return Array.isArray(o)?o.splice(Number(i),1,n):o[i]=n}function Jz(t){return t&&typeof t=="object"}function Zz(t){return t.toDate}function eK(t){return t&&t.onSnapshot}function tK(t,e){let n=!1;return()=>{if(!n)return n=!0,t(e())}}function nK(t){return Object.defineProperty(t.data()||{},"id",{value:t.id})}function Fw(t,e,n){const r=[{},{}],i=Object.keys(n).reduce((a,u)=>{const c=n[u];return a[c.path]=c.data(),a},{});function o(a,u,c,f){u=u||{};const[h,p]=f;Object.getOwnPropertyNames(a).forEach(g=>{const m=Object.getOwnPropertyDescriptor(a,g);m&&!m.enumerable&&Object.defineProperty(h,g,m)});for(const g in a){const m=a[g];if(m==null||m instanceof Date||Zz(m)||m.longitude&&m.latitude)h[g]=m;else if(eK(m))h[g]=typeof u=="object"&&g in u&&typeof u[g]!="string"?u[g]:m.path,p[c+g]=m;else if(Array.isArray(m)){h[g]=Array(m.length);for(let y=0;y<m.length;y++){const b=m[y];b&&b.path in i&&(h[g][y]=i[b.path])}o(m,u[g]||h[g],c+g+".",[h[g],p])}else Jz(m)?(h[g]={},o(m,u[g],c+g+".",[h[g],p])):h[g]=m}}return o(t,e,"",r),r}const Ka={maxRefDepth:2,reset:!0,serialize:nK,wait:!1};function Qg(t){for(const e in t)t[e].unsub()}function CO(t,e,n,r,i,o,a,u){const[c,f]=Fw(t.serialize(r),Lw(e,n),i);o.set(e,n,c),Uw(t,e,n,i,f,o,a,u)}function rK({ref:t,target:e,path:n,depth:r,resolve:i,ops:o},a){const u=Object.create(null),c=t.onSnapshot(f=>{f.exists?CO(a,e,n,f,u,o,r,i):(o.set(e,n,null),i())});return()=>{c(),Qg(u)}}function Uw(t,e,n,r,i,o,a,u){const c=Object.keys(i);if(Object.keys(r).filter(y=>c.indexOf(y)<0).forEach(y=>{r[y].unsub(),delete r[y]}),!c.length||++a>t.maxRefDepth)return u(n);let h=0;const p=c.length,g=Object.create(null);function m(y){y in g&&++h>=p&&u(n)}c.forEach(y=>{const b=r[y],w=i[y],T=`${n}.${y}`;if(g[T]=!0,b)if(b.path!==w.path)b.unsub();else return;r[y]={data:()=>Lw(e,T),unsub:rK({ref:w,target:e,path:T,depth:a,ops:o,resolve:m.bind(null,T)},t),path:w.path}})}function iK(t,e,n,r,i,o=Ka){const a=Object.assign({},Ka,o),u="value";a.wait||n.set(t,u,[]);let c=Uo(a.wait?[]:t[u]);const f=r;let h;const p=[],g={added:({newIndex:y,doc:b})=>{p.splice(y,0,Object.create(null));const w=p[y],[T,A]=Fw(a.serialize(b),void 0,w);n.add(Me(c),y,T),Uw(a,c,`${u}.${y}`,w,A,n,0,r.bind(null,b))},modified:({oldIndex:y,newIndex:b,doc:w})=>{const T=Me(c),A=p[y],k=T[y],[N,P]=Fw(a.serialize(w),k,A);p.splice(b,0,A),n.remove(T,y),n.add(T,b,N),Uw(a,c,`${u}.${b}`,A,P,n,0,r)},removed:({oldIndex:y})=>{const b=Me(c);n.remove(b,y),Qg(p.splice(y,1)[0])}},m=e.onSnapshot(y=>{const b=typeof y.docChanges=="function"?y.docChanges():y.docChanges;if(!h&&b.length){h=!0;let w=0;const T=b.length,A=Object.create(null);for(let k=0;k<T;k++)A[b[k].doc.id]=!0;r=({id:k})=>{k in A&&++w>=T&&(a.wait&&n.set(t,u,Me(c)),f(Me(c)),r=()=>{})}}b.forEach(w=>{g[w.type](w)}),b.length||(a.wait&&n.set(t,u,Me(c)),r(Me(c)))},i);return y=>{if(m(),y!==!1){const b=typeof y=="function"?y():[];n.set(t,u,b)}p.forEach(Qg)}}function oK(t,e,n,r,i,o=Ka){const a=Object.assign({},Ka,o),u="value",c=Object.create(null);r=tK(r,()=>Lw(t,u));const f=e.onSnapshot(h=>{h.exists?CO(a,t,u,h,c,n,0,r):(n.set(t,u,null),r(null))},i);return h=>{if(f(),h!==!1){const p=typeof h=="function"?h():null;n.set(t,u,p)}Qg(c)}}const sK={set:(t,e,n)=>Qz(t,e,n),add:(t,e,n)=>t.splice(e,0,n),remove:(t,e)=>t.splice(e,1)};function aK(t,e,n){let r;return[new Promise((o,a)=>{r=("where"in e?iK:oK)(t,e,sK,o,a,n)}),r]}function uK(t,e,n){e&&e[t]&&(e[t](n),delete e[t])}const AO={bindName:"$bind",unbindName:"$unbind",serialize:Ka.serialize,reset:Ka.reset,wait:Ka.wait},Jg=new WeakMap,Jfe=function(e,n=AO){const r=Object.assign({},AO,n),{bindName:i,unbindName:o}=r,a=e.config.globalProperties;a[o]=function(c,f){uK(c,Jg.get(this),f),delete this.$firestoreRefs[c]},a[i]=function(c,f,h){const p=Object.assign({},r,h),g=lo(this.$data,c);let m=Jg.get(this);m?m[c]&&m[c](p.wait?typeof p.reset=="function"?p.reset:!1:p.reset):Jg.set(this,m={});const[y,b]=aK(g,f,p);return m[c]=b,this.$firestoreRefs[c]=f,y},e.mixin({beforeCreate(){this.$firestoreRefs=Object.create(null)},created(){const{firestore:u}=this.$options,c=typeof u=="function"?u.call(this):u;if(!!c)for(const f in c)this[i](f,c[f],r)},beforeUnmount(){const u=Jg.get(this);if(u)for(const c in u)u[c]();this.$firestoreRefs=null}})};var jw={exports:{}};(function(t,e){function n(C){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(C)}function r(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function i(C,S){for(var x=0;x<S.length;x++){var V=S[x];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(C,V.key,V)}}function o(C,S,x){return S&&i(C.prototype,S),x&&i(C,x),C}function a(C,S){return u(C)||c(C,S)||f(C,S)||p()}function u(C){if(Array.isArray(C))return C}function c(C,S){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(C)){var x=[],V=!0,j=!1,q=void 0;try{for(var he,De=C[Symbol.iterator]();!(V=(he=De.next()).done)&&(x.push(he.value),!S||x.length!==S);V=!0);}catch(ce){j=!0,q=ce}finally{try{V||De.return==null||De.return()}finally{if(j)throw q}}return x}}function f(C,S){if(C){if(typeof C=="string")return h(C,S);var x=Object.prototype.toString.call(C).slice(8,-1);return x==="Object"&&C.constructor&&(x=C.constructor.name),x==="Map"||x==="Set"?Array.from(C):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?h(C,S):void 0}}function h(C,S){(S==null||S>C.length)&&(S=C.length);for(var x=0,V=new Array(S);x<S;x++)V[x]=C[x];return V}function p(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(C,S){var x;if(typeof Symbol=="undefined"||C[Symbol.iterator]==null){if(Array.isArray(C)||(x=f(C))||S&&C&&typeof C.length=="number"){x&&(C=x);var V=0;return{s:S=function(){},n:function(){return V>=C.length?{done:!0}:{done:!1,value:C[V++]}},e:function(De){throw De},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,q=!0,he=!1;return{s:function(){x=C[Symbol.iterator]()},n:function(){var De=x.next();return q=De.done,De},e:function(De){he=!0,j=De},f:function(){try{q||x.return==null||x.return()}finally{if(he)throw j}}}}function m(C,S,x){return C(x={path:S,exports:{},require:function(V,j){return y(V,j==null?x.path:j)}},x.exports),x.exports}function y(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var b="2.0.0",w=256,T=Number.MAX_SAFE_INTEGER||9007199254740991,A=16,k={SEMVER_SPEC_VERSION:b,MAX_LENGTH:w,MAX_SAFE_INTEGER:T,MAX_SAFE_COMPONENT_LENGTH:A},N=(typeof process=="undefined"?"undefined":n(process))==="object"&&{}&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?function(){for(var C,S=arguments.length,x=new Array(S),V=0;V<S;V++)x[V]=arguments[V];return(C=console).error.apply(C,["SEMVER"].concat(x))}:function(){},P=N,D=m(function(C,S){var x=k.MAX_SAFE_COMPONENT_LENGTH,V=(S=C.exports={}).re=[],j=S.src=[],q=S.t={},he=0;(C=function(De,ce,st){var pt=he++;P(pt,ce),q[De]=pt,j[pt]=ce,V[pt]=new RegExp(ce,st?"g":void 0)})("NUMERICIDENTIFIER","0|[1-9]\\d*"),C("NUMERICIDENTIFIERLOOSE","[0-9]+"),C("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),C("MAINVERSION","(".concat(j[q.NUMERICIDENTIFIER],")\\.")+"(".concat(j[q.NUMERICIDENTIFIER],")\\.")+"(".concat(j[q.NUMERICIDENTIFIER],")")),C("MAINVERSIONLOOSE","(".concat(j[q.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(j[q.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(j[q.NUMERICIDENTIFIERLOOSE],")")),C("PRERELEASEIDENTIFIER","(?:".concat(j[q.NUMERICIDENTIFIER],"|").concat(j[q.NONNUMERICIDENTIFIER],")")),C("PRERELEASEIDENTIFIERLOOSE","(?:".concat(j[q.NUMERICIDENTIFIERLOOSE],"|").concat(j[q.NONNUMERICIDENTIFIER],")")),C("PRERELEASE","(?:-(".concat(j[q.PRERELEASEIDENTIFIER],"(?:\\.").concat(j[q.PRERELEASEIDENTIFIER],")*))")),C("PRERELEASELOOSE","(?:-?(".concat(j[q.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(j[q.PRERELEASEIDENTIFIERLOOSE],")*))")),C("BUILDIDENTIFIER","[0-9A-Za-z-]+"),C("BUILD","(?:\\+(".concat(j[q.BUILDIDENTIFIER],"(?:\\.").concat(j[q.BUILDIDENTIFIER],")*))")),C("FULLPLAIN","v?".concat(j[q.MAINVERSION]).concat(j[q.PRERELEASE],"?").concat(j[q.BUILD],"?")),C("FULL","^".concat(j[q.FULLPLAIN],"$")),C("LOOSEPLAIN","[v=\\s]*".concat(j[q.MAINVERSIONLOOSE]).concat(j[q.PRERELEASELOOSE],"?").concat(j[q.BUILD],"?")),C("LOOSE","^".concat(j[q.LOOSEPLAIN],"$")),C("GTLT","((?:<|>)?=?)"),C("XRANGEIDENTIFIERLOOSE","".concat(j[q.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),C("XRANGEIDENTIFIER","".concat(j[q.NUMERICIDENTIFIER],"|x|X|\\*")),C("XRANGEPLAIN","[v=\\s]*(".concat(j[q.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(j[q.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(j[q.XRANGEIDENTIFIER],")")+"(?:".concat(j[q.PRERELEASE],")?").concat(j[q.BUILD],"?")+")?)?"),C("XRANGEPLAINLOOSE","[v=\\s]*(".concat(j[q.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(j[q.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(j[q.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(j[q.PRERELEASELOOSE],")?").concat(j[q.BUILD],"?")+")?)?"),C("XRANGE","^".concat(j[q.GTLT],"\\s*").concat(j[q.XRANGEPLAIN],"$")),C("XRANGELOOSE","^".concat(j[q.GTLT],"\\s*").concat(j[q.XRANGEPLAINLOOSE],"$")),C("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(x,"})")+"(?:\\.(\\d{1,".concat(x,"}))?")+"(?:\\.(\\d{1,".concat(x,"}))?")+"(?:$|[^\\d])"),C("COERCERTL",j[q.COERCE],!0),C("LONETILDE","(?:~>?)"),C("TILDETRIM","(\\s*)".concat(j[q.LONETILDE],"\\s+"),!0),S.tildeTrimReplace="$1~",C("TILDE","^".concat(j[q.LONETILDE]).concat(j[q.XRANGEPLAIN],"$")),C("TILDELOOSE","^".concat(j[q.LONETILDE]).concat(j[q.XRANGEPLAINLOOSE],"$")),C("LONECARET","(?:\\^)"),C("CARETTRIM","(\\s*)".concat(j[q.LONECARET],"\\s+"),!0),S.caretTrimReplace="$1^",C("CARET","^".concat(j[q.LONECARET]).concat(j[q.XRANGEPLAIN],"$")),C("CARETLOOSE","^".concat(j[q.LONECARET]).concat(j[q.XRANGEPLAINLOOSE],"$")),C("COMPARATORLOOSE","^".concat(j[q.GTLT],"\\s*(").concat(j[q.LOOSEPLAIN],")$|^$")),C("COMPARATOR","^".concat(j[q.GTLT],"\\s*(").concat(j[q.FULLPLAIN],")$|^$")),C("COMPARATORTRIM","(\\s*)".concat(j[q.GTLT],"\\s*(").concat(j[q.LOOSEPLAIN],"|").concat(j[q.XRANGEPLAIN],")"),!0),S.comparatorTrimReplace="$1$2$3",C("HYPHENRANGE","^\\s*(".concat(j[q.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(j[q.XRANGEPLAIN],")")+"\\s*$"),C("HYPHENRANGELOOSE","^\\s*(".concat(j[q.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(j[q.XRANGEPLAINLOOSE],")")+"\\s*$"),C("STAR","(<|>)?=?\\s*\\*"),C("GTE0","^\\s*>=\\s*0.0.0\\s*$"),C("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}),$=/^[0-9]+$/,B=function(C,S){var x=$.test(C),V=$.test(S);return x&&V&&(C=+C,S=+S),C===S?0:x&&!V||(!V||x)&&C<S?-1:1},Y=function(C,S){return B(S,C)},R={compareIdentifiers:B,rcompareIdentifiers:Y},de=k.MAX_LENGTH,we=k.MAX_SAFE_INTEGER,J=D.re,Te=D.t,ve=R.compareIdentifiers,H=function(){function C(S,x){if(r(this,C),x&&n(x)==="object"||(x={loose:!!x,includePrerelease:!1}),S instanceof C){if(S.loose===!!x.loose&&S.includePrerelease===!!x.includePrerelease)return S;S=S.version}else if(typeof S!="string")throw new TypeError("Invalid Version: ".concat(S));if(S.length>de)throw new TypeError("version is longer than ".concat(de," characters"));if(P("SemVer",S,x),this.options=x,this.loose=!!x.loose,this.includePrerelease=!!x.includePrerelease,!(x=S.trim().match(x.loose?J[Te.LOOSE]:J[Te.FULL])))throw new TypeError("Invalid Version: ".concat(S));if(this.raw=S,this.major=+x[1],this.minor=+x[2],this.patch=+x[3],this.major>we||this.major<0)throw new TypeError("Invalid major version");if(this.minor>we||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>we||this.patch<0)throw new TypeError("Invalid patch version");x[4]?this.prerelease=x[4].split(".").map(function(V){if(/^[0-9]+$/.test(V)){var j=+V;if(0<=j&&j<we)return j}return V}):this.prerelease=[],this.build=x[5]?x[5].split("."):[],this.format()}return o(C,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(S){if(P("SemVer.compare",this.version,this.options,S),!(S instanceof C)){if(typeof S=="string"&&S===this.version)return 0;S=new C(S,this.options)}return S.version===this.version?0:this.compareMain(S)||this.comparePre(S)}},{key:"compareMain",value:function(S){return S instanceof C||(S=new C(S,this.options)),ve(this.major,S.major)||ve(this.minor,S.minor)||ve(this.patch,S.patch)}},{key:"comparePre",value:function(S){if(S instanceof C||(S=new C(S,this.options)),this.prerelease.length&&!S.prerelease.length)return-1;if(!this.prerelease.length&&S.prerelease.length)return 1;if(!this.prerelease.length&&!S.prerelease.length)return 0;var x=0;do{var V=this.prerelease[x],j=S.prerelease[x];if(P("prerelease compare",x,V,j),V===void 0&&j===void 0)return 0;if(j===void 0)return 1;if(V===void 0)return-1;if(V!==j)return ve(V,j)}while(++x)}},{key:"compareBuild",value:function(S){S instanceof C||(S=new C(S,this.options));var x=0;do{var V=this.build[x],j=S.build[x];if(P("prerelease compare",x,V,j),V===void 0&&j===void 0)return 0;if(j===void 0)return 1;if(V===void 0)return-1;if(V!==j)return ve(V,j)}while(++x)}},{key:"inc",value:function(S,x){switch(S){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",x);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",x);break;case"prepatch":this.prerelease.length=0,this.inc("patch",x),this.inc("pre",x);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",x),this.inc("pre",x);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var V=this.prerelease.length;0<=--V;)typeof this.prerelease[V]=="number"&&(this.prerelease[V]++,V=-2);V===-1&&this.prerelease.push(0)}x&&(this.prerelease[0]!==x||isNaN(this.prerelease[1]))&&(this.prerelease=[x,0]);break;default:throw new Error("invalid increment argument: ".concat(S))}return this.format(),this.raw=this.version,this}}]),C}(),W=H,Q=k.MAX_LENGTH,oe=D.re,Ne=D.t,ze=function(C,S){if(S&&n(S)==="object"||(S={loose:!!S,includePrerelease:!1}),C instanceof W)return C;if(typeof C!="string"||C.length>Q||!(S.loose?oe[Ne.LOOSE]:oe[Ne.FULL]).test(C))return null;try{return new W(C,S)}catch{return null}},Fe=ze,ot=function(C,S){return(S=Fe(C,S))?S.version:null},Wt=ot,X=function(C,S){return(S=Fe(C.trim().replace(/^[=v]+/,""),S))?S.version:null},Ee=X,ge=function(C,S,x,V){typeof x=="string"&&(V=x,x=void 0);try{return new W(C,x).inc(S,V).version}catch{return null}},pe=ge,ht=function(C,S,x){return new W(C,x).compare(new W(S,x))},$e=ht,We=function(C,S,x){return $e(C,S,x)===0},Ke=We,M=function(C,S){if(Ke(C,S))return null;var x,V=Fe(C),j=Fe(S),q=(S=V.prerelease.length||j.prerelease.length)?"pre":"",S=S?"prerelease":"";for(x in V)if((x==="major"||x==="minor"||x==="patch")&&V[x]!==j[x])return q+x;return S},U=M,K=function(C,S){return new W(C,S).major},Z=K,ee=function(C,S){return new W(C,S).minor},se=ee,me=function(C,S){return new W(C,S).patch},le=me,te=function(C,S){return(S=Fe(C,S))&&S.prerelease.length?S.prerelease:null},ie=te,Be=function(C,S,x){return $e(S,C,x)},Ce=Be,Oe=function(C,S){return $e(C,S,!0)},Ve=Oe,Ie=function(C,S,x){return C=new W(C,x),x=new W(S,x),C.compare(x)||C.compareBuild(x)},Ct=Ie,dt=function(C,S){return C.sort(function(x,V){return Ct(x,V,S)})},er=dt,ni=function(C,S){return C.sort(function(x,V){return Ct(V,x,S)})},Pt=ni,aa=function(C,S,x){return 0<$e(C,S,x)},mn=aa,Vr=function(C,S,x){return $e(C,S,x)<0},rn=Vr,Lt=function(C,S,x){return $e(C,S,x)!==0},fs=Lt,ri=function(C,S,x){return 0<=$e(C,S,x)},ua=ri,up=function(C,S,x){return $e(C,S,x)<=0},hs=up,Ju=function(C,S,x,V){switch(S){case"===":return n(C)==="object"&&(C=C.version),n(x)==="object"&&(x=x.version),C===x;case"!==":return n(C)==="object"&&(C=C.version),n(x)==="object"&&(x=x.version),C!==x;case"":case"=":case"==":return Ke(C,x,V);case"!=":return fs(C,x,V);case">":return mn(C,x,V);case">=":return ua(C,x,V);case"<":return rn(C,x,V);case"<=":return hs(C,x,V);default:throw new TypeError("Invalid operator: ".concat(S))}},ca=Ju,xi=D.re,la=D.t,Ql=function(C,S){if(C instanceof W)return C;if(typeof C=="number"&&(C=String(C)),typeof C!="string")return null;var x,V=null;if((S=S||{}).rtl){for(;(x=xi[la.COERCERTL].exec(C))&&(!V||V.index+V[0].length!==C.length);)V&&x.index+x[0].length===V.index+V[0].length||(V=x),xi[la.COERCERTL].lastIndex=x.index+x[1].length+x[2].length;xi[la.COERCERTL].lastIndex=-1}else V=C.match(xi[la.COERCE]);return V===null?null:Fe("".concat(V[2],".").concat(V[3]||"0",".").concat(V[4]||"0"),S)},y_=Ql,__=function(){function C(S,x){var V=this;if(r(this,C),x&&n(x)==="object"||(x={loose:!!x,includePrerelease:!1}),S instanceof C)return S.loose===!!x.loose&&S.includePrerelease===!!x.includePrerelease?S:new C(S.raw,x);if(S instanceof yn)return this.raw=S.value,this.set=[[S]],this.format(),this;if(this.options=x,this.loose=!!x.loose,this.includePrerelease=!!x.includePrerelease,this.raw=S,this.set=S.split(/\s*\|\|\s*/).map(function(j){return V.parseRange(j.trim())}).filter(function(j){return j.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(S));this.format()}return o(C,[{key:"format",value:function(){return this.range=this.set.map(function(S){return S.join(" ").trim()}).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(S){var x=this,V=this.options.loose;S=S.trim();var j=V?kn[vt.HYPHENRANGELOOSE]:kn[vt.HYPHENRANGE];S=S.replace(j,Zl(this.options.includePrerelease)),P("hyphen replace",S),S=S.replace(kn[vt.COMPARATORTRIM],Zu),P("comparator trim",S,kn[vt.COMPARATORTRIM]),S=(S=(S=S.replace(kn[vt.TILDETRIM],b_)).replace(kn[vt.CARETTRIM],w_)).split(/\s+/).join(" ");var q=V?kn[vt.COMPARATORLOOSE]:kn[vt.COMPARATOR];return S.split(" ").map(function(he){return cp(he,x.options)}).join(" ").split(/\s+/).map(function(he){return dp(he,x.options)}).filter(this.options.loose?function(he){return!!he.match(q)}:function(){return!0}).map(function(he){return new yn(he,x.options)})}},{key:"intersects",value:function(S,x){if(!(S instanceof C))throw new TypeError("a Range is required");return this.set.some(function(V){return Jl(V,x)&&S.set.some(function(j){return Jl(j,x)&&V.every(function(q){return j.every(function(he){return q.intersects(he,x)})})})})}},{key:"test",value:function(S){if(!S)return!1;if(typeof S=="string")try{S=new W(S,this.options)}catch{return!1}for(var x=0;x<this.set.length;x++)if(ef(this.set[x],S,this.options))return!0;return!1}}]),C}(),Bn=__,kn=D.re,vt=D.t,Zu=D.comparatorTrimReplace,b_=D.tildeTrimReplace,w_=D.caretTrimReplace,Jl=function(C,S){for(var x=!0,V=C.slice(),j=V.pop();x&&V.length;)x=V.every(function(q){return j.intersects(q,S)}),j=V.pop();return x},cp=function(C,S){return P("comp",C,S),C=ds(C,S),P("caret",C),C=fa(C,S),P("tildes",C),C=fp(C,S),P("xrange",C),C=hp(C,S),P("stars",C),C},Rn=function(C){return!C||C.toLowerCase()==="x"||C==="*"},fa=function(C,S){return C.trim().split(/\s+/).map(function(x){return lp(x,S)}).join(" ")},lp=function(C,S){return S=S.loose?kn[vt.TILDELOOSE]:kn[vt.TILDE],C.replace(S,function(x,V,j,q,he){return P("tilde",C,x,V,j,q,he),j=Rn(V)?"":Rn(j)?">=".concat(V,".0.0 <").concat(+V+1,".0.0-0"):Rn(q)?">=".concat(V,".").concat(j,".0 <").concat(V,".").concat(+j+1,".0-0"):he?(P("replaceTilde pr",he),">=".concat(V,".").concat(j,".").concat(q,"-").concat(he," <").concat(V,".").concat(+j+1,".0-0")):">=".concat(V,".").concat(j,".").concat(q," <").concat(V,".").concat(+j+1,".0-0"),P("tilde return",j),j})},ds=function(C,S){return C.trim().split(/\s+/).map(function(x){return E_(x,S)}).join(" ")},E_=function(C,S){P("caret",C,S);var x=S.loose?kn[vt.CARETLOOSE]:kn[vt.CARET],V=S.includePrerelease?"-0":"";return C.replace(x,function(j,q,he,De,ce){return P("caret",C,j,q,he,De,ce),q=Rn(q)?"":Rn(he)?">=".concat(q,".0.0").concat(V," <").concat(+q+1,".0.0-0"):Rn(De)?q==="0"?">=".concat(q,".").concat(he,".0").concat(V," <").concat(q,".").concat(+he+1,".0-0"):">=".concat(q,".").concat(he,".0").concat(V," <").concat(+q+1,".0.0-0"):ce?(P("replaceCaret pr",ce),q==="0"?he==="0"?">=".concat(q,".").concat(he,".").concat(De,"-").concat(ce," <").concat(q,".").concat(he,".").concat(+De+1,"-0"):">=".concat(q,".").concat(he,".").concat(De,"-").concat(ce," <").concat(q,".").concat(+he+1,".0-0"):">=".concat(q,".").concat(he,".").concat(De,"-").concat(ce," <").concat(+q+1,".0.0-0")):(P("no pr"),q==="0"?he==="0"?">=".concat(q,".").concat(he,".").concat(De).concat(V," <").concat(q,".").concat(he,".").concat(+De+1,"-0"):">=".concat(q,".").concat(he,".").concat(De).concat(V," <").concat(q,".").concat(+he+1,".0-0"):">=".concat(q,".").concat(he,".").concat(De," <").concat(+q+1,".0.0-0")),P("caret return",q),q})},fp=function(C,S){return P("replaceXRanges",C,S),C.split(/\s+/).map(function(x){return T_(x,S)}).join(" ")},T_=function(C,S){C=C.trim();var x=S.loose?kn[vt.XRANGELOOSE]:kn[vt.XRANGE];return C.replace(x,function(V,j,q,he,De,ce){P("xRange",C,V,j,q,he,De,ce);var st=Rn(q),pt=st||Rn(he),Dt=pt||Rn(De);return j==="="&&Dt&&(j=""),ce=S.includePrerelease?"-0":"",st?V=j===">"||j==="<"?"<0.0.0-0":"*":j&&Dt?(pt&&(he=0),De=0,j===">"?(j=">=",De=pt?(q=+q+1,he=0):(he=+he+1,0)):j==="<="&&(j="<",pt?q=+q+1:he=+he+1),j==="<"&&(ce="-0"),V="".concat(j+q,".").concat(he,".").concat(De).concat(ce)):pt?V=">=".concat(q,".0.0").concat(ce," <").concat(+q+1,".0.0-0"):Dt&&(V=">=".concat(q,".").concat(he,".0").concat(ce," <").concat(q,".").concat(+he+1,".0-0")),P("xRange return",V),V})},hp=function(C,S){return P("replaceStars",C,S),C.trim().replace(kn[vt.STAR],"")},dp=function(C,S){return P("replaceGTE0",C,S),C.trim().replace(kn[S.includePrerelease?vt.GTE0PRE:vt.GTE0],"")},Zl=function(C){return function(S,x,V,j,q,he,De,ce,st,pt,Dt,qt,zt){return x=Rn(V)?"":Rn(j)?">=".concat(V,".0.0").concat(C?"-0":""):Rn(q)?">=".concat(V,".").concat(j,".0").concat(C?"-0":""):he?">=".concat(x):">=".concat(x).concat(C?"-0":""),ce=Rn(st)?"":Rn(pt)?"<".concat(+st+1,".0.0-0"):Rn(Dt)?"<".concat(st,".").concat(+pt+1,".0-0"):qt?"<=".concat(st,".").concat(pt,".").concat(Dt,"-").concat(qt):C?"<".concat(st,".").concat(pt,".").concat(+Dt+1,"-0"):"<=".concat(ce),"".concat(x," ").concat(ce).trim()}},ef=function(C,S,x){for(var V=0;V<C.length;V++)if(!C[V].test(S))return!1;if(!S.prerelease.length||x.includePrerelease)return!0;for(var j=0;j<C.length;j++)if(P(C[j].semver),C[j].semver!==yn.ANY&&0<C[j].semver.prerelease.length){var q=C[j].semver;if(q.major===S.major&&q.minor===S.minor&&q.patch===S.patch)return!0}return!1},ha=Symbol("SemVer ANY"),I_=function(){function C(S,x){if(r(this,C),x&&n(x)==="object"||(x={loose:!!x,includePrerelease:!1}),S instanceof C){if(S.loose===!!x.loose)return S;S=S.value}P("comparator",S,x),this.options=x,this.loose=!!x.loose,this.parse(S),this.semver===ha?this.value="":this.value=this.operator+this.semver.version,P("comp",this)}return o(C,null,[{key:"ANY",get:function(){return ha}}]),o(C,[{key:"parse",value:function(S){var x=this.options.loose?tf[pp.COMPARATORLOOSE]:tf[pp.COMPARATOR];if(!(x=S.match(x)))throw new TypeError("Invalid comparator: ".concat(S));this.operator=x[1]!==void 0?x[1]:"",this.operator==="="&&(this.operator=""),x[2]?this.semver=new W(x[2],this.options.loose):this.semver=ha}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(S){if(P("Comparator.test",S,this.options.loose),this.semver===ha||S===ha)return!0;if(typeof S=="string")try{S=new W(S,this.options)}catch{return!1}return ca(S,this.operator,this.semver,this.options)}},{key:"intersects",value:function(S,x){if(!(S instanceof C))throw new TypeError("a Comparator is required");if(x&&n(x)==="object"||(x={loose:!!x,includePrerelease:!1}),this.operator==="")return this.value===""||new Bn(S.value,x).test(this.value);if(S.operator==="")return S.value===""||new Bn(this.value,x).test(S.semver);var V=!(this.operator!==">="&&this.operator!==">"||S.operator!==">="&&S.operator!==">"),j=!(this.operator!=="<="&&this.operator!=="<"||S.operator!=="<="&&S.operator!=="<"),q=this.semver.version===S.semver.version,he=!(this.operator!==">="&&this.operator!=="<="||S.operator!==">="&&S.operator!=="<="),De=ca(this.semver,"<",S.semver,x)&&(this.operator===">="||this.operator===">")&&(S.operator==="<="||S.operator==="<"),S=ca(this.semver,">",S.semver,x)&&(this.operator==="<="||this.operator==="<")&&(S.operator===">="||S.operator===">");return V||j||q&&he||De||S}}]),C}(),yn=I_,tf=D.re,pp=D.t,gp=function(C,S,x){try{S=new Bn(S,x)}catch{return!1}return S.test(C)},eo=gp,vp=function(C,S){return new Bn(C,S).set.map(function(x){return x.map(function(V){return V.value}).join(" ").trim().split(" ")})},ec=function(C,S,x){var V=null,j=null,q=null;try{q=new Bn(S,x)}catch{return null}return C.forEach(function(he){q.test(he)&&(V&&j.compare(he)!==-1||(j=new W(V=he,x)))}),V},nf=function(C,S,x){var V=null,j=null,q=null;try{q=new Bn(S,x)}catch{return null}return C.forEach(function(he){q.test(he)&&(V&&j.compare(he)!==1||(j=new W(V=he,x)))}),V},rf=function(C,S){C=new Bn(C,S);var x=new W("0.0.0");if(C.test(x)||(x=new W("0.0.0-0"),C.test(x)))return x;x=null;for(var V=0;V<C.set.length;++V)C.set[V].forEach(function(j){var q=new W(j.semver.version);switch(j.operator){case">":q.prerelease.length===0?q.patch++:q.prerelease.push(0),q.raw=q.format();case"":case">=":x&&!mn(x,q)||(x=q);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(j.operator))}});return x&&C.test(x)?x:null},of=function(C,S){try{return new Bn(C,S).range||"*"}catch{return null}},S_=yn.ANY,mp=function(C,S,x,V){var j,q,he,De,ce;switch(C=new W(C,V),S=new Bn(S,V),x){case">":j=mn,q=hs,he=rn,De=">",ce=">=";break;case"<":j=rn,q=ua,he=mn,De="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(eo(C,S,V))return!1;for(var st=0;st<S.set.length;++st){var pt=function(Dt){var Dt=S.set[Dt],qt=null,zt=null;return Dt.forEach(function(ln){ln.semver===S_&&(ln=new yn(">=0.0.0")),qt=qt||ln,zt=zt||ln,j(ln.semver,qt.semver,V)?qt=ln:he(ln.semver,zt.semver,V)&&(zt=ln)}),qt.operator===De||qt.operator===ce||(!zt.operator||zt.operator===De)&&q(C,zt.semver)||zt.operator===ce&&he(C,zt.semver)?{v:!1}:void 0}(st);if(n(pt)==="object")return pt.v}return!0},da=mp,yp=function(C,S,x){return da(C,S,">",x)},to=function(C,S,x){return da(C,S,"<",x)},C_=function(C,S,x){return C=new Bn(C,x),S=new Bn(S,x),C.intersects(S)},pa=function(C,S,x){var V=[],j=null,q=null,he=C.sort(function(_e,At){return $e(_e,At,x)}),De=g(he);try{for(De.s();!(ce=De.n()).done;)var ce=ce.value,j=eo(ce,S,x)?(q=ce,j||ce):(q&&V.push([j,q]),q=null)}catch(_e){De.e(_e)}finally{De.f()}j&&V.push([j,null]);for(var st=[],pt=0,Dt=V;pt<Dt.length;pt++){var qt=a(Dt[pt],2),zt=qt[0];zt===(qt=qt[1])?st.push(zt):qt||zt!==he[0]?qt?zt===he[0]?st.push("<=".concat(qt)):st.push("".concat(zt," - ").concat(qt)):st.push(">=".concat(zt)):st.push("*")}var ln=st.join(" || "),C=typeof S.raw=="string"?S.raw:String(S);return ln.length<C.length?ln:S},sf=yn.ANY,_p=function(C,S,x){C=new Bn(C,x),S=new Bn(S,x);var V,j=!1,q=g(C.set);try{e:for(q.s();!(V=q.n()).done;){var he=V.value,De=g(S.set);try{for(De.s();!(ce=De.n()).done;){var ce=ce.value,ce=A_(he,ce,x),j=j||ce!==null;if(ce)continue e}}catch(st){De.e(st)}finally{De.f()}if(j)return!1}}catch(st){q.e(st)}finally{q.f()}return!0},A_=function(C,S,x){if(C.length===1&&C[0].semver===sf)return S.length===1&&S[0].semver===sf;var V,j,q,he=new Set,De=g(C);try{for(De.s();!(ce=De.n()).done;){var ce=ce.value;ce.operator===">"||ce.operator===">="?V=bp(V,ce,x):ce.operator==="<"||ce.operator==="<="?j=ga(j,ce,x):he.add(ce.semver)}}catch(Po){De.e(Po)}finally{De.f()}if(1<he.size||V&&j&&(0<(q=$e(V.semver,j.semver,x))||q===0&&(V.operator!==">="||j.operator!=="<=")))return null;var st,pt=g(he);try{for(pt.s();!(st=pt.n()).done;){var Dt=st.value;if(V&&!eo(Dt,String(V),x)||j&&!eo(Dt,String(j),x))return null;var qt=g(S);try{for(qt.s();!(zt=qt.n()).done;){var zt=zt.value;if(!eo(Dt,String(zt),x))return!1}}catch(Po){qt.e(Po)}finally{qt.f()}return!0}}catch(Po){pt.e(Po)}finally{pt.f()}var ln=g(S);try{for(ln.s();!(_e=ln.n()).done;){var _e=_e.value,At=At||_e.operator===">"||_e.operator===">=",uf=uf||_e.operator==="<"||_e.operator==="<=";if(V){if(_e.operator===">"||_e.operator===">="){if(bp(V,_e,x)===_e)return!1}else if(V.operator===">="&&!eo(V.semver,String(_e),x))return!1}if(j){if(_e.operator==="<"||_e.operator==="<="){if(ga(j,_e,x)===_e)return!1}else if(j.operator==="<="&&!eo(j.semver,String(_e),x))return!1}if(!_e.operator&&(j||V)&&q!==0)return!1}}catch(Po){ln.e(Po)}finally{ln.f()}return!(V&&uf&&!j&&q!==0||j&&At&&!V&&q!==0)},bp=function(C,S,x){return C&&(0<(x=$e(C.semver,S.semver,x))||!(x<0||S.operator===">"&&C.operator===">="))?C:S},ga=function(C,S,x){return C&&((x=$e(C.semver,S.semver,x))<0||!(0<x||S.operator==="<"&&C.operator==="<="))?C:S},af={re:D.re,src:D.src,tokens:D.t,SEMVER_SPEC_VERSION:k.SEMVER_SPEC_VERSION,SemVer:W,compareIdentifiers:R.compareIdentifiers,rcompareIdentifiers:R.rcompareIdentifiers,parse:Fe,valid:Wt,clean:Ee,inc:pe,diff:U,major:Z,minor:se,patch:le,prerelease:ie,compare:$e,rcompare:Ce,compareLoose:Ve,compareBuild:Ct,sort:er,rsort:Pt,gt:mn,lt:rn,eq:Ke,neq:fs,gte:ua,lte:hs,cmp:ca,coerce:y_,Comparator:yn,Range:Bn,satisfies:eo,toComparators:vp,maxSatisfying:ec,minSatisfying:nf,minVersion:rf,validRange:of,outside:da,gtr:yp,ltr:to,intersects:C_,simplifyRange:pa,subset:_p};(function(){function C(S,x){C.installed||(x?af.valid(S.version)!=null?(C.installed=!0,af.lt(S.version,"3.0.0")?Object.defineProperties(S.prototype,{axios:{get:function(){return x}},$http:{get:function(){return x}}}):(S.config.globalProperties.axios=x,S.config.globalProperties.$http=x),S.axios=x,S.$http=x):console.error("Unkown vue version"):console.error("You have to install axios"))}n(e)=="object"?t.exports=C:window.Vue&&window.axios&&Vue.use(C,window.axios)})()})(jw,jw.exports);var Zfe=jw.exports,Bw={exports:{}},xO=function(e,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(n,i)}},cK=xO,Ga=Object.prototype.toString;function Vw(t){return Ga.call(t)==="[object Array]"}function qw(t){return typeof t=="undefined"}function lK(t){return t!==null&&!qw(t)&&t.constructor!==null&&!qw(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function fK(t){return Ga.call(t)==="[object ArrayBuffer]"}function hK(t){return typeof FormData!="undefined"&&t instanceof FormData}function dK(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function pK(t){return typeof t=="string"}function gK(t){return typeof t=="number"}function kO(t){return t!==null&&typeof t=="object"}function Zg(t){if(Ga.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function vK(t){return Ga.call(t)==="[object Date]"}function mK(t){return Ga.call(t)==="[object File]"}function yK(t){return Ga.call(t)==="[object Blob]"}function RO(t){return Ga.call(t)==="[object Function]"}function _K(t){return kO(t)&&RO(t.pipe)}function bK(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function wK(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function EK(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Hw(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Vw(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function $w(){var t={};function e(i,o){Zg(t[o])&&Zg(i)?t[o]=$w(t[o],i):Zg(i)?t[o]=$w({},i):Vw(i)?t[o]=i.slice():t[o]=i}for(var n=0,r=arguments.length;n<r;n++)Hw(arguments[n],e);return t}function TK(t,e,n){return Hw(e,function(i,o){n&&typeof i=="function"?t[o]=cK(i,n):t[o]=i}),t}function IK(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var zr={isArray:Vw,isArrayBuffer:fK,isBuffer:lK,isFormData:hK,isArrayBufferView:dK,isString:pK,isNumber:gK,isObject:kO,isPlainObject:Zg,isUndefined:qw,isDate:vK,isFile:mK,isBlob:yK,isFunction:RO,isStream:_K,isURLSearchParams:bK,isStandardBrowserEnv:EK,forEach:Hw,merge:$w,extend:TK,trim:wK,stripBOM:IK},Rc=zr;function OO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var NO=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(Rc.isURLSearchParams(n))i=n.toString();else{var o=[];Rc.forEach(n,function(c,f){c===null||typeof c=="undefined"||(Rc.isArray(c)?f=f+"[]":c=[c],Rc.forEach(c,function(p){Rc.isDate(p)?p=p.toISOString():Rc.isObject(p)&&(p=JSON.stringify(p)),o.push(OO(f)+"="+OO(p))}))}),i=o.join("&")}if(i){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},SK=zr;function ev(){this.handlers=[]}ev.prototype.use=function(e,n){return this.handlers.push({fulfilled:e,rejected:n}),this.handlers.length-1};ev.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};ev.prototype.forEach=function(e){SK.forEach(this.handlers,function(r){r!==null&&e(r)})};var CK=ev,AK=zr,xK=function(e,n,r){return AK.forEach(r,function(o){e=o(e,n)}),e},PO=function(e){return!!(e&&e.__CANCEL__)},kK=zr,RK=function(e,n){kK.forEach(e,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[o])})},OK=function(e,n,r,i,o){return e.config=n,r&&(e.code=r),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},NK=OK,DO=function(e,n,r,i,o){var a=new Error(e);return NK(a,n,r,i,o)},PK=DO,DK=function(e,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):n(PK("Request failed with status code "+r.status,r.config,null,r.request,r))},tv=zr,MK=tv.isStandardBrowserEnv()?function(){return{write:function(n,r,i,o,a,u){var c=[];c.push(n+"="+encodeURIComponent(r)),tv.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),tv.isString(o)&&c.push("path="+o),tv.isString(a)&&c.push("domain="+a),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),LK=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},FK=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},UK=LK,jK=FK,BK=function(e,n){return e&&!UK(n)?jK(e,n):n},Ww=zr,VK=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],qK=function(e){var n={},r,i,o;return e&&Ww.forEach(e.split(`
`),function(u){if(o=u.indexOf(":"),r=Ww.trim(u.substr(0,o)).toLowerCase(),i=Ww.trim(u.substr(o+1)),r){if(n[r]&&VK.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n},MO=zr,HK=MO.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(o){var a=o;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){var u=MO.isString(a)?i(a):a;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}(),nv=zr,$K=DK,WK=MK,zK=NO,KK=BK,GK=qK,YK=HK,zw=DO,LO=function(e){return new Promise(function(r,i){var o=e.data,a=e.headers;nv.isFormData(o)&&delete a["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(c+":"+f)}var h=KK(e.baseURL,e.url);if(u.open(e.method.toUpperCase(),zK(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,u.onreadystatechange=function(){if(!(!u||u.readyState!==4)&&!(u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0))){var m="getAllResponseHeaders"in u?GK(u.getAllResponseHeaders()):null,y=!e.responseType||e.responseType==="text"?u.responseText:u.response,b={data:y,status:u.status,statusText:u.statusText,headers:m,config:e,request:u};$K(r,i,b),u=null}},u.onabort=function(){!u||(i(zw("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){i(zw("Network Error",e,null,u)),u=null},u.ontimeout=function(){var m="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),i(zw(m,e,"ECONNABORTED",u)),u=null},nv.isStandardBrowserEnv()){var p=(e.withCredentials||YK(h))&&e.xsrfCookieName?WK.read(e.xsrfCookieName):void 0;p&&(a[e.xsrfHeaderName]=p)}if("setRequestHeader"in u&&nv.forEach(a,function(m,y){typeof o=="undefined"&&y.toLowerCase()==="content-type"?delete a[y]:u.setRequestHeader(y,m)}),nv.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),e.responseType)try{u.responseType=e.responseType}catch(g){if(e.responseType!=="json")throw g}typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(m){!u||(u.abort(),i(m),u=null)}),o||(o=null),u.send(o)})},Pr=zr,FO=RK,XK={"Content-Type":"application/x-www-form-urlencoded"};function UO(t,e){!Pr.isUndefined(t)&&Pr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function QK(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=LO),t}var rv={adapter:QK(),transformRequest:[function(e,n){return FO(n,"Accept"),FO(n,"Content-Type"),Pr.isFormData(e)||Pr.isArrayBuffer(e)||Pr.isBuffer(e)||Pr.isStream(e)||Pr.isFile(e)||Pr.isBlob(e)?e:Pr.isArrayBufferView(e)?e.buffer:Pr.isURLSearchParams(e)?(UO(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Pr.isObject(e)?(UO(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if(typeof e=="string")try{e=JSON.parse(e)}catch{}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};rv.headers={common:{Accept:"application/json, text/plain, */*"}};Pr.forEach(["delete","get","head"],function(e){rv.headers[e]={}});Pr.forEach(["post","put","patch"],function(e){rv.headers[e]=Pr.merge(XK)});var jO=rv,BO=zr,Kw=xK,JK=PO,ZK=jO;function Gw(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var eG=function(e){Gw(e),e.headers=e.headers||{},e.data=Kw(e.data,e.headers,e.transformRequest),e.headers=BO.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),BO.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||ZK.adapter;return n(e).then(function(i){return Gw(e),i.data=Kw(i.data,i.headers,e.transformResponse),i},function(i){return JK(i)||(Gw(e),i&&i.response&&(i.response.data=Kw(i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},tr=zr,VO=function(e,n){n=n||{};var r={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],u=["validateStatus"];function c(g,m){return tr.isPlainObject(g)&&tr.isPlainObject(m)?tr.merge(g,m):tr.isPlainObject(m)?tr.merge({},m):tr.isArray(m)?m.slice():m}function f(g){tr.isUndefined(n[g])?tr.isUndefined(e[g])||(r[g]=c(void 0,e[g])):r[g]=c(e[g],n[g])}tr.forEach(i,function(m){tr.isUndefined(n[m])||(r[m]=c(void 0,n[m]))}),tr.forEach(o,f),tr.forEach(a,function(m){tr.isUndefined(n[m])?tr.isUndefined(e[m])||(r[m]=c(void 0,e[m])):r[m]=c(void 0,n[m])}),tr.forEach(u,function(m){m in n?r[m]=c(e[m],n[m]):m in e&&(r[m]=c(void 0,e[m]))});var h=i.concat(o).concat(a).concat(u),p=Object.keys(e).concat(Object.keys(n)).filter(function(m){return h.indexOf(m)===-1});return tr.forEach(p,f),r},qO=zr,tG=NO,HO=CK,nG=eG,iv=VO;function Jf(t){this.defaults=t,this.interceptors={request:new HO,response:new HO}}Jf.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=iv(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=[nG,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(o){n.unshift(o.fulfilled,o.rejected)}),this.interceptors.response.forEach(function(o){n.push(o.fulfilled,o.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r};Jf.prototype.getUri=function(e){return e=iv(this.defaults,e),tG(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};qO.forEach(["delete","get","head","options"],function(e){Jf.prototype[e]=function(n,r){return this.request(iv(r||{},{method:e,url:n,data:(r||{}).data}))}});qO.forEach(["post","put","patch"],function(e){Jf.prototype[e]=function(n,r,i){return this.request(iv(i||{},{method:e,url:n,data:r}))}});var rG=Jf;function Yw(t){this.message=t}Yw.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Yw.prototype.__CANCEL__=!0;var $O=Yw,iG=$O;function ov(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var n=this;t(function(i){n.reason||(n.reason=new iG(i),e(n.reason))})}ov.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ov.source=function(){var e,n=new ov(function(i){e=i});return{token:n,cancel:e}};var oG=ov,sG=function(e){return function(r){return e.apply(null,r)}},aG=function(e){return typeof e=="object"&&e.isAxiosError===!0},WO=zr,uG=xO,sv=rG,cG=VO,lG=jO;function zO(t){var e=new sv(t),n=uG(sv.prototype.request,e);return WO.extend(n,sv.prototype,e),WO.extend(n,e),n}var Fi=zO(lG);Fi.Axios=sv;Fi.create=function(e){return zO(cG(Fi.defaults,e))};Fi.Cancel=$O;Fi.CancelToken=oG;Fi.isCancel=PO;Fi.all=function(e){return Promise.all(e)};Fi.spread=sG;Fi.isAxiosError=aG;Bw.exports=Fi;Bw.exports.default=Fi;var ehe=Bw.exports;/*!
  * vue-router v4.0.5
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const KO=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Oc=t=>KO?Symbol(t):"_vr_"+t,fG=Oc("rvlm"),GO=Oc("rvd"),Xw=Oc("r"),YO=Oc("rl"),Qw=Oc("rvl"),Nc=typeof window!="undefined";function hG(t){return t.__esModule||KO&&t[Symbol.toStringTag]==="Module"}const Ft=Object.assign;function Jw(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}let av=()=>{};const dG=/\/$/,pG=t=>t.replace(dG,"");function Zw(t,e,n="/"){let r,i={},o="",a="";const u=e.indexOf("?"),c=e.indexOf("#",u>-1?u:0);return u>-1&&(r=e.slice(0,u),o=e.slice(u+1,c>-1?c:e.length),i=t(o)),c>-1&&(r=r||e.slice(0,c),a=e.slice(c,e.length)),r=yG(r!=null?r:e,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function gG(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function XO(t,e){return!e||t.toLowerCase().indexOf(e.toLowerCase())?t:t.slice(e.length)||"/"}function vG(t,e,n){let r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Pc(e.matched[r],n.matched[i])&&QO(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Pc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function QO(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!mG(t[n],e[n]))return!1;return!0}function mG(t,e){return Array.isArray(t)?JO(t,e):Array.isArray(e)?JO(e,t):t===e}function JO(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function yG(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],!(i===1||a==="."))if(a==="..")i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var eE;(function(t){t.pop="pop",t.push="push"})(eE||(eE={}));var Zf;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Zf||(Zf={}));function _G(t){if(!t)if(Nc){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),pG(t)}const bG=/^[^#]+#/;function wG(t,e){return t.replace(bG,"#")+e}function EG(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const uv=()=>({left:window.pageXOffset,top:window.pageYOffset});function TG(t){let e;if("el"in t){let n=t.el;const r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=EG(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function ZO(t,e){return(history.state?history.state.position-e:-1)+t}const tE=new Map;function IG(t,e){tE.set(t,e)}function SG(t){const e=tE.get(t);return tE.delete(t),e}let CG=()=>location.protocol+"//"+location.host;function eN(t,e){const{pathname:n,search:r,hash:i}=e;if(t.indexOf("#")>-1){let u=i.slice(1);return u[0]!=="/"&&(u="/"+u),XO(u,"")}return XO(n,t)+r+i}function AG(t,e,n,r){let i=[],o=[],a=null;const u=({state:g})=>{const m=eN(t,location),y=n.value,b=e.value;let w=0;if(g){if(n.value=m,e.value=g,a&&a===y){a=null;return}w=b?g.position-b.position:0}else r(m);i.forEach(T=>{T(n.value,y,{delta:w,type:eE.pop,direction:w?w>0?Zf.forward:Zf.back:Zf.unknown})})};function c(){a=n.value}function f(g){i.push(g);const m=()=>{const y=i.indexOf(g);y>-1&&i.splice(y,1)};return o.push(m),m}function h(){const{history:g}=window;!g.state||g.replaceState(Ft({},g.state,{scroll:uv()}),"")}function p(){for(const g of o)g();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",h),{pauseListeners:c,listen:f,destroy:p}}function tN(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?uv():null}}function xG(t){const{history:e,location:n}=window;let r={value:eN(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(c,f,h){const p=t.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+c:CG()+t+c;try{e[h?"replaceState":"pushState"](f,"",g),i.value=f}catch(m){console.error(m),n[h?"replace":"assign"](g)}}function a(c,f){const h=Ft({},e.state,tN(i.value.back,c,i.value.forward,!0),f,{position:i.value.position});o(c,h,!0),r.value=c}function u(c,f){const h=Ft({},i.value,e.state,{forward:c,scroll:uv()});o(h.current,h,!0);const p=Ft({},tN(r.value,c,null),{position:h.position+1},f);o(c,p,!1),r.value=c}return{location:r,state:i,push:u,replace:a}}function the(t){t=_G(t);const e=xG(t),n=AG(t,e.state,e.location,e.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const i=Ft({location:"",base:t,go:r,createHref:wG.bind(null,t)},e,n);return Object.defineProperty(i,"location",{get:()=>e.location.value}),Object.defineProperty(i,"state",{get:()=>e.state.value}),i}function kG(t){return typeof t=="string"||t&&typeof t=="object"}function nN(t){return typeof t=="string"||typeof t=="symbol"}const Ya={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},rN=Oc("nf");var iN;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(iN||(iN={}));function Dc(t,e){return Ft(new Error,{type:t,[rN]:!0},e)}function eh(t,e){return t instanceof Error&&rN in t&&(e==null||!!(t.type&e))}const oN="[^/]+?",RG={sensitive:!1,strict:!1,start:!0,end:!0},OG=/[.+*?^${}()[\]/\\]/g;function NG(t,e){const n=Ft({},RG,e);let r=[],i=n.start?"^":"";const o=[];for(const f of t){const h=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let p=0;p<f.length;p++){const g=f[p];let m=40+(n.sensitive?.25:0);if(g.type===0)p||(i+="/"),i+=g.value.replace(OG,"\\$&"),m+=40;else if(g.type===1){const{value:y,repeatable:b,optional:w,regexp:T}=g;o.push({name:y,repeatable:b,optional:w});const A=T||oN;if(A!==oN){m+=10;try{new RegExp(`(${A})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${y}" (${A}): `+N.message)}}let k=b?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;p||(k=w&&f.length<2?`(?:/${k})`:"/"+k),w&&(k+="?"),i+=k,m+=20,w&&(m+=-8),b&&(m+=-20),A===".*"&&(m+=-50)}h.push(m)}r.push(h)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function u(f){const h=f.match(a),p={};if(!h)return null;for(let g=1;g<h.length;g++){const m=h[g]||"",y=o[g-1];p[y.name]=m&&y.repeatable?m.split("/"):m}return p}function c(f){let h="",p=!1;for(const g of t){(!p||!h.endsWith("/"))&&(h+="/"),p=!1;for(const m of g)if(m.type===0)h+=m.value;else if(m.type===1){const{value:y,repeatable:b,optional:w}=m,T=y in f?f[y]:"";if(Array.isArray(T)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const A=Array.isArray(T)?T.join("/"):T;if(!A)if(w)g.length<2&&(h.endsWith("/")?h=h.slice(0,-1):p=!0);else throw new Error(`Missing required param "${y}"`);h+=A}}return h}return{re:a,score:r,keys:o,parse:u,stringify:c}}function PG(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function DG(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=PG(r[n],i[n]);if(o)return o;n++}return i.length-r.length}const MG={type:0,value:""},LG=/[a-zA-Z0-9_]/;function FG(t){if(!t)return[[]];if(t==="/")return[[MG]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${f}": ${m}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let u=0,c,f="",h="";function p(){!f||(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),f="")}function g(){f+=c}for(;u<t.length;){if(c=t[u++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(f&&p(),a()):c===":"?(p(),n=1):g();break;case 4:g(),n=r;break;case 1:c==="("?n=2:LG.test(c)?g():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),p(),a(),i}function UG(t,e,n){const r=NG(FG(t.path),n),i=Ft(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function jG(t,e){const n=[],r=new Map;e=aN({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function o(h,p,g){let m=!g,y=VG(h);y.aliasOf=g&&g.record;const b=aN(e,h),w=[y];if("alias"in h){const k=typeof h.alias=="string"?[h.alias]:h.alias;for(const N of k)w.push(Ft({},y,{components:g?g.record.components:y.components,path:N,aliasOf:g?g.record:y}))}let T,A;for(const k of w){let{path:N}=k;if(p&&N[0]!=="/"){let P=p.record.path,D=P[P.length-1]==="/"?"":"/";k.path=p.record.path+(N&&D+N)}if(T=UG(k,p,b),g?g.alias.push(T):(A=A||T,A!==T&&A.alias.push(T),m&&h.name&&!sN(T)&&a(h.name)),"children"in y){let P=y.children;for(let D=0;D<P.length;D++)o(P[D],T,g&&g.children[D])}g=g||T,c(T)}return A?()=>{a(A)}:av}function a(h){if(nN(h)){const p=r.get(h);p&&(r.delete(h),n.splice(n.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{let p=n.indexOf(h);p>-1&&(n.splice(p,1),h.record.name&&r.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function u(){return n}function c(h){let p=0;for(;p<n.length&&DG(h,n[p])>=0;)p++;n.splice(p,0,h),h.record.name&&!sN(h)&&r.set(h.record.name,h)}function f(h,p){let g,m={},y,b;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw Dc(1,{location:h});b=g.record.name,m=Ft(BG(p.params,g.keys.filter(A=>!A.optional).map(A=>A.name)),h.params),y=g.stringify(m)}else if("path"in h)y=h.path,g=n.find(A=>A.re.test(y)),g&&(m=g.parse(y),b=g.record.name);else{if(g=p.name?r.get(p.name):n.find(A=>A.re.test(p.path)),!g)throw Dc(1,{location:h,currentLocation:p});b=g.record.name,m=Ft({},p.params,h.params),y=g.stringify(m)}const w=[];let T=g;for(;T;)w.unshift(T.record),T=T.parent;return{name:b,path:y,params:m,matched:w,meta:HG(w)}}return t.forEach(h=>o(h)),{addRoute:o,resolve:f,removeRoute:a,getRoutes:u,getRecordMatcher:i}}function BG(t,e){let n={};for(let r of e)r in t&&(n[r]=t[r]);return n}function VG(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:qG(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function qG(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function sN(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function HG(t){return t.reduce((e,n)=>Ft(e,n.meta),{})}function aN(t,e){let n={};for(let r in t)n[r]=r in e?e[r]:t[r];return n}const uN=/#/g,$G=/&/g,WG=/\//g,zG=/=/g,KG=/\?/g,cN=/\+/g,GG=/%5B/g,YG=/%5D/g,lN=/%5E/g,XG=/%60/g,fN=/%7B/g,QG=/%7C/g,hN=/%7D/g,JG=/%20/g;function nE(t){return encodeURI(""+t).replace(QG,"|").replace(GG,"[").replace(YG,"]")}function ZG(t){return nE(t).replace(fN,"{").replace(hN,"}").replace(lN,"^")}function rE(t){return nE(t).replace(cN,"%2B").replace(JG,"+").replace(uN,"%23").replace($G,"%26").replace(XG,"`").replace(fN,"{").replace(hN,"}").replace(lN,"^")}function e6(t){return rE(t).replace(zG,"%3D")}function t6(t){return nE(t).replace(uN,"%23").replace(KG,"%3F")}function n6(t){return t6(t).replace(WG,"%2F")}function cv(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function r6(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(cN," ");let a=o.indexOf("="),u=cv(a<0?o:o.slice(0,a)),c=a<0?null:cv(o.slice(a+1));if(u in e){let f=e[u];Array.isArray(f)||(f=e[u]=[f]),f.push(c)}else e[u]=c}return e}function dN(t){let e="";for(let n in t){e.length&&(e+="&");const r=t[n];if(n=e6(n),r==null){r!==void 0&&(e+=n);continue}let i=Array.isArray(r)?r.map(o=>o&&rE(o)):[r&&rE(r)];for(let o=0;o<i.length;o++)e+=(o?"&":"")+n,i[o]!=null&&(e+="="+i[o])}return e}function i6(t){const e={};for(let n in t){let r=t[n];r!==void 0&&(e[n]=Array.isArray(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}function th(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function xs(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,u)=>{const c=p=>{p===!1?u(Dc(4,{from:n,to:e})):p instanceof Error?u(p):kG(p)?u(Dc(2,{from:e,to:p})):(o&&r.enterCallbacks[i]===o&&typeof p=="function"&&o.push(p),a())},f=t.call(r&&r.instances[i],e,n,c);let h=Promise.resolve(f);t.length<3&&(h=h.then(c)),h.catch(p=>u(p))})}function iE(t,e,n,r){const i=[];for(const o of t)for(const a in o.components){let u=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(o6(u)){const f=(u.__vccOpts||u)[e];f&&i.push(xs(f,n,r,o,a))}else{let c=u();c=c.catch(console.error),i.push(()=>c.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=hG(f)?f.default:f;o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&xs(g,n,r,o,a)()}))}}return i}function o6(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function s6(t){const e=ho(Xw),n=ho(YO),r=Et(()=>e.resolve(Me(t.to))),i=Et(()=>{let{matched:c}=r.value,{length:f}=c;const h=c[f-1];let p=n.matched;if(!h||!p.length)return-1;let g=p.findIndex(Pc.bind(null,h));if(g>-1)return g;let m=pN(c[f-2]);return f>1&&pN(h)===m&&p[p.length-1].path!==m?p.findIndex(Pc.bind(null,c[f-2])):g}),o=Et(()=>i.value>-1&&l6(n.params,r.value.params)),a=Et(()=>i.value>-1&&i.value===n.matched.length-1&&QO(n.params,r.value.params));function u(c={}){return c6(c)?e[Me(t.replace)?"replace":"push"](Me(t.to)):Promise.resolve()}return{route:r,href:Et(()=>r.value.href),isActive:o,isExactActive:a,navigate:u}}const a6=Gf({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(t,{slots:e,attrs:n}){const r=Es(s6(t)),{options:i}=ho(Xw),o=Et(()=>({[gN(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[gN(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&e.default(r);return t.custom?a:$a("a",Ft({"aria-current":r.isExactActive?t.ariaCurrentValue:null,onClick:r.navigate,href:r.href},n,{class:o.value}),a)}}}),u6=a6;function c6(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function l6(t,e){for(let n in e){let r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some((o,a)=>o!==i[a]))return!1}return!0}function pN(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const gN=(t,e,n)=>t!=null?t:e!=null?e:n,f6=Gf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=ho(Qw),i=Et(()=>t.route||r.value),o=ho(GO,0),a=Et(()=>i.value.matched[o]);Ss(GO,o+1),Ss(fG,a),Ss(Qw,i);const u=Uo();return ci(()=>[u.value,a.value,t.name],([c,f,h],[p,g,m])=>{f&&(f.instances[h]=c,g&&g!==f&&c&&c===p&&(f.leaveGuards.size||(f.leaveGuards=g.leaveGuards),f.updateGuards.size||(f.updateGuards=g.updateGuards))),c&&f&&(!g||!Pc(f,g)||!p)&&(f.enterCallbacks[h]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=i.value,f=a.value,h=f&&f.components[t.name],p=t.name;if(!h)return vN(n.default,{Component:h,route:c});const g=f.props[t.name],m=g?g===!0?c.params:typeof g=="function"?g(c):g:null,b=$a(h,Ft({},m,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[p]=null)},ref:u}));return vN(n.default,{Component:b,route:c})||b}}});function vN(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const h6=f6;function nhe(t){const e=jG(t.routes,t);let n=t.parseQuery||r6,r=t.stringifyQuery||dN,i=t.history;const o=th(),a=th(),u=th(),c=lW(Ya);let f=Ya;Nc&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Jw.bind(null,X=>""+X),p=Jw.bind(null,n6),g=Jw.bind(null,cv);function m(X,Ee){let ge,pe;return nN(X)?(ge=e.getRecordMatcher(X),pe=Ee):pe=X,e.addRoute(pe,ge)}function y(X){let Ee=e.getRecordMatcher(X);Ee&&e.removeRoute(Ee)}function b(){return e.getRoutes().map(X=>X.record)}function w(X){return!!e.getRecordMatcher(X)}function T(X,Ee){if(Ee=Ft({},Ee||c.value),typeof X=="string"){let Ke=Zw(n,X,Ee.path),M=e.resolve({path:Ke.path},Ee),U=i.createHref(Ke.fullPath);return Ft(Ke,M,{params:g(M.params),hash:cv(Ke.hash),redirectedFrom:void 0,href:U})}let ge;"path"in X?ge=Ft({},X,{path:Zw(n,X.path,Ee.path).path}):(ge=Ft({},X,{params:p(X.params)}),Ee.params=p(Ee.params));let pe=e.resolve(ge,Ee);const ht=X.hash||"";pe.params=h(g(pe.params));const $e=gG(r,Ft({},X,{hash:ZG(ht),path:pe.path}));let We=i.createHref($e);return Ft({fullPath:$e,hash:ht,query:r===dN?i6(X.query):X.query},pe,{redirectedFrom:void 0,href:We})}function A(X){return typeof X=="string"?Zw(n,X,c.value.path):Ft({},X)}function k(X,Ee){if(f!==X)return Dc(8,{from:Ee,to:X})}function N(X){return $(X)}function P(X){return N(Ft(A(X),{replace:!0}))}function D(X){const Ee=X.matched[X.matched.length-1];if(Ee&&Ee.redirect){const{redirect:ge}=Ee;let pe=typeof ge=="function"?ge(X):ge;return typeof pe=="string"&&(pe=pe.indexOf("?")>-1||pe.indexOf("#")>-1?pe=A(pe):{path:pe}),Ft({query:X.query,hash:X.hash,params:X.params},pe)}}function $(X,Ee){const ge=f=T(X),pe=c.value,ht=X.state,$e=X.force,We=X.replace===!0,Ke=D(ge);if(Ke)return $(Ft(A(Ke),{state:ht,force:$e,replace:We}),Ee||ge);const M=ge;M.redirectedFrom=Ee;let U;return!$e&&vG(r,pe,ge)&&(U=Dc(16,{to:M,from:pe}),Ne(pe,pe,!0,!1)),(U?Promise.resolve(U):Y(M,pe)).catch(K=>eh(K)?K:W(K)).then(K=>{if(K){if(eh(K,2))return $(Ft(A(K.to),{state:ht,force:$e,replace:We}),Ee||M)}else K=de(M,pe,!0,We,ht);return R(M,pe,K),K})}function B(X,Ee){const ge=k(X,Ee);return ge?Promise.reject(ge):Promise.resolve()}function Y(X,Ee){let ge;const[pe,ht,$e]=d6(X,Ee);ge=iE(pe.reverse(),"beforeRouteLeave",X,Ee);for(const Ke of pe)Ke.leaveGuards.forEach(M=>{ge.push(xs(M,X,Ee))});const We=B.bind(null,X,Ee);return ge.push(We),Mc(ge).then(()=>{ge=[];for(const Ke of o.list())ge.push(xs(Ke,X,Ee));return ge.push(We),Mc(ge)}).then(()=>{ge=iE(ht,"beforeRouteUpdate",X,Ee);for(const Ke of ht)Ke.updateGuards.forEach(M=>{ge.push(xs(M,X,Ee))});return ge.push(We),Mc(ge)}).then(()=>{ge=[];for(const Ke of X.matched)if(Ke.beforeEnter&&Ee.matched.indexOf(Ke)<0)if(Array.isArray(Ke.beforeEnter))for(const M of Ke.beforeEnter)ge.push(xs(M,X,Ee));else ge.push(xs(Ke.beforeEnter,X,Ee));return ge.push(We),Mc(ge)}).then(()=>(X.matched.forEach(Ke=>Ke.enterCallbacks={}),ge=iE($e,"beforeRouteEnter",X,Ee),ge.push(We),Mc(ge))).then(()=>{ge=[];for(const Ke of a.list())ge.push(xs(Ke,X,Ee));return ge.push(We),Mc(ge)}).catch(Ke=>eh(Ke,8)?Ke:Promise.reject(Ke))}function R(X,Ee,ge){for(const pe of u.list())pe(X,Ee,ge)}function de(X,Ee,ge,pe,ht){const $e=k(X,Ee);if($e)return $e;const We=Ee===Ya,Ke=Nc?history.state:{};ge&&(pe||We?i.replace(X.fullPath,Ft({scroll:We&&Ke&&Ke.scroll},ht)):i.push(X.fullPath,ht)),c.value=X,Ne(X,Ee,ge,We),oe()}let we;function J(){we=i.listen((X,Ee,ge)=>{let pe=T(X);const ht=D(pe);if(ht){$(Ft(ht,{replace:!0}),pe).catch(av);return}f=pe;const $e=c.value;Nc&&IG(ZO($e.fullPath,ge.delta),uv()),Y(pe,$e).catch(We=>eh(We,4|8)?We:eh(We,2)?($(We.to,pe).catch(av),Promise.reject()):(ge.delta&&i.go(-ge.delta,!1),W(We))).then(We=>{We=We||de(pe,$e,!1),We&&ge.delta&&i.go(-ge.delta,!1),R(pe,$e,We)}).catch(av)})}let Te=th(),ve=th(),H;function W(X){return oe(X),ve.list().forEach(Ee=>Ee(X)),Promise.reject(X)}function Q(){return H&&c.value!==Ya?Promise.resolve():new Promise((X,Ee)=>{Te.add([X,Ee])})}function oe(X){H||(H=!0,J(),Te.list().forEach(([Ee,ge])=>X?ge(X):Ee()),Te.reset())}function Ne(X,Ee,ge,pe){const{scrollBehavior:ht}=t;if(!Nc||!ht)return Promise.resolve();let $e=!ge&&SG(ZO(X.fullPath,0))||(pe||!ge)&&history.state&&history.state.scroll||null;return hw().then(()=>ht(X,Ee,$e)).then(We=>We&&TG(We)).catch(W)}const ze=X=>i.go(X);let Fe;const ot=new Set;return{currentRoute:c,addRoute:m,removeRoute:y,hasRoute:w,getRoutes:b,resolve:T,options:t,push:N,replace:P,go:ze,back:()=>ze(-1),forward:()=>ze(1),beforeEach:o.add,beforeResolve:a.add,afterEach:u.add,onError:ve.add,isReady:Q,install(X){const Ee=this;X.component("RouterLink",u6),X.component("RouterView",h6),X.config.globalProperties.$router=Ee,Object.defineProperty(X.config.globalProperties,"$route",{get:()=>Me(c)}),Nc&&!Fe&&c.value===Ya&&(Fe=!0,N(i.location).catch(ht=>{}));const ge={};for(let ht in Ya)ge[ht]=Et(()=>c.value[ht]);X.provide(Xw,Ee),X.provide(YO,Es(ge)),X.provide(Qw,c);let pe=X.unmount;ot.add(X),X.unmount=function(){ot.delete(X),ot.size<1&&(we(),c.value=Ya,Fe=!1,H=!1),pe()}}}}function Mc(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function d6(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let a=0;a<o;a++){const u=e.matched[a];u&&(t.matched.find(f=>Pc(f,u))?r.push(u):n.push(u));const c=t.matched[a];c&&(e.matched.find(f=>Pc(f,c))||i.push(c))}return[n,r,i]}/*!
 * Chart.js v3.5.1
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */const mN=function(){return typeof window=="undefined"?function(t){return t()}:window.requestAnimationFrame}();function yN(t,e,n){const r=n||(a=>Array.prototype.slice.call(a));let i=!1,o=[];return function(...a){o=r(a),i||(i=!0,mN.call(window,()=>{i=!1,t.apply(e,o)}))}}function p6(t,e){let n;return function(){return e?(clearTimeout(n),n=setTimeout(t,e)):t(),e}}const oE=t=>t==="start"?"left":t==="end"?"right":"center",nr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,g6=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function qo(){}const v6=function(){let t=0;return function(){return t++}}();function kt(t){return t===null||typeof t=="undefined"}function Ht(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.substr(0,7)==="[object"&&e.substr(-6)==="Array]"}function It(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const Hn=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function hi(t,e){return Hn(t)?t:e}function it(t,e){return typeof t=="undefined"?e:t}const m6=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,sE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function jt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Rt(t,e,n,r){let i,o,a;if(Ht(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(It(t))for(a=Object.keys(t),o=a.length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function lv(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function fv(t){if(Ht(t))return t.map(fv);if(It(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=fv(t[n[i]]);return e}return t}function _N(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function y6(t,e,n,r){if(!_N(t))return;const i=e[t],o=n[t];It(i)&&It(o)?nh(i,o,r):e[t]=fv(o)}function nh(t,e,n){const r=Ht(e)?e:[e],i=r.length;if(!It(t))return t;n=n||{};const o=n.merger||y6;for(let a=0;a<i;++a){if(e=r[a],!It(e))continue;const u=Object.keys(e);for(let c=0,f=u.length;c<f;++c)o(u[c],t,e,n)}return t}function rh(t,e){return nh(t,e,{merger:_6})}function _6(t,e,n){if(!_N(t))return;const r=e[t],i=n[t];It(r)&&It(i)?rh(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=fv(i))}const b6="",w6=".";function bN(t,e){const n=t.indexOf(w6,e);return n===-1?t.length:n}function ks(t,e){if(e===b6)return t;let n=0,r=bN(e,n);for(;t&&r>n;)t=t[e.substr(n,r-n)],n=r+1,r=bN(e,n);return t}function aE(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Dr=t=>typeof t!="undefined",Lc=t=>typeof t=="function",E6=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0},tn=Math.PI,Bt=2*tn,T6=Bt+tn,hv=Number.POSITIVE_INFINITY,I6=tn/180,un=tn/2,ih=tn/4,wN=tn*2/3,di=Math.log10,po=Math.sign;function EN(t){const e=Math.round(t);t=oh(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(di(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function S6(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r==0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,o)=>i-o).pop(),e}function Fc(t){return!isNaN(parseFloat(t))&&isFinite(t)}function oh(t,e,n){return Math.abs(t-e)<n}function C6(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function TN(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ui(t){return t*(tn/180)}function uE(t){return t*(180/tn)}function IN(t){if(!Hn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function A6(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*tn&&(o+=Bt),{angle:o,distance:i}}function cE(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function x6(t,e){return(t-e+T6)%Bt-tn}function Ho(t){return(t%Bt+Bt)%Bt}function dv(t,e,n,r){const i=Ho(t),o=Ho(e),a=Ho(n),u=Ho(o-i),c=Ho(a-i),f=Ho(i-o),h=Ho(i-a);return i===o||i===a||r&&o===a||u>c&&f<h}function rr(t,e,n){return Math.max(e,Math.min(n,t))}function k6(t){return rr(t,-32768,32767)}const pv=t=>t===0||t===1,SN=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Bt/n)),CN=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Bt/n)+1,sh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*un)+1,easeOutSine:t=>Math.sin(t*un),easeInOutSine:t=>-.5*(Math.cos(tn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>pv(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>pv(t)?t:SN(t,.075,.3),easeOutElastic:t=>pv(t)?t:CN(t,.075,.3),easeInOutElastic(t){const e=.1125,n=.45;return pv(t)?t:t<.5?.5*SN(t*2,e,n):.5+.5*CN(t*2-1,e,n)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-sh.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?sh.easeInBounce(t*2)*.5:sh.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const pi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lE="0123456789ABCDEF",R6=t=>lE[t&15],O6=t=>lE[(t&240)>>4]+lE[t&15],gv=t=>(t&240)>>4==(t&15);function N6(t){return gv(t.r)&&gv(t.g)&&gv(t.b)&&gv(t.a)}function P6(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&pi[t[1]]*17,g:255&pi[t[2]]*17,b:255&pi[t[3]]*17,a:e===5?pi[t[4]]*17:255}:(e===7||e===9)&&(n={r:pi[t[1]]<<4|pi[t[2]],g:pi[t[3]]<<4|pi[t[4]],b:pi[t[5]]<<4|pi[t[6]],a:e===9?pi[t[7]]<<4|pi[t[8]]:255})),n}function D6(t){var e=N6(t)?R6:O6;return t&&"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):"")}function ah(t){return t+.5|0}const vv=(t,e,n)=>Math.max(Math.min(t,n),e);function uh(t){return vv(ah(t*2.55),0,255)}function ch(t){return vv(ah(t*255),0,255)}function fE(t){return vv(ah(t/2.55)/100,0,1)}function AN(t){return vv(ah(t*100),0,100)}const M6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function L6(t){const e=M6.exec(t);let n=255,r,i,o;if(!!e){if(e[7]!==r){const a=+e[7];n=255&(e[8]?uh(a):a*255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?uh(r):r),i=255&(e[4]?uh(i):i),o=255&(e[6]?uh(o):o),{r,g:i,b:o,a:n}}}function F6(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${fE(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const U6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xN(t,e,n){const r=e*Math.min(n,1-n),i=(o,a=(o+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function j6(t,e,n){const r=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function B6(t,e,n){const r=xN(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function hE(t){const e=255,n=t.r/e,r=t.g/e,i=t.b/e,o=Math.max(n,r,i),a=Math.min(n,r,i),u=(o+a)/2;let c,f,h;return o!==a&&(h=o-a,f=u>.5?h/(2-o-a):h/(o+a),c=o===n?(r-i)/h+(r<i?6:0):o===r?(i-n)/h+2:(n-r)/h+4,c=c*60+.5),[c|0,f||0,u]}function dE(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ch)}function pE(t,e,n){return dE(xN,t,e,n)}function V6(t,e,n){return dE(B6,t,e,n)}function q6(t,e,n){return dE(j6,t,e,n)}function kN(t){return(t%360+360)%360}function H6(t){const e=U6.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?uh(+e[5]):ch(+e[5]));const i=kN(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=V6(i,o,a):e[1]==="hsv"?r=q6(i,o,a):r=pE(i,o,a),{r:r[0],g:r[1],b:r[2],a:n}}function $6(t,e){var n=hE(t);n[0]=kN(n[0]+e),n=pE(n),t.r=n[0],t.g=n[1],t.b=n[2]}function W6(t){if(!t)return;const e=hE(t),n=e[0],r=AN(e[1]),i=AN(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${fE(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const RN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ON={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function z6(){const t={},e=Object.keys(ON),n=Object.keys(RN);let r,i,o,a,u;for(r=0;r<e.length;r++){for(a=u=e[r],i=0;i<n.length;i++)o=n[i],u=u.replace(o,RN[o]);o=parseInt(ON[a],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let mv;function K6(t){mv||(mv=z6(),mv.transparent=[0,0,0,0]);const e=mv[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}function yv(t,e,n){if(t){let r=hE(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=pE(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function NN(t,e){return t&&Object.assign(e||{},t)}function PN(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ch(t[3]))):(e=NN(t,{r:0,g:0,b:0,a:1}),e.a=ch(e.a)),e}function G6(t){return t.charAt(0)==="r"?L6(t):H6(t)}class _v{constructor(e){if(e instanceof _v)return e;const n=typeof e;let r;n==="object"?r=PN(e):n==="string"&&(r=P6(e)||K6(e)||G6(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=NN(this._rgb);return e&&(e.a=fE(e.a)),e}set rgb(e){this._rgb=PN(e)}rgbString(){return this._valid?F6(this._rgb):this._rgb}hexString(){return this._valid?D6(this._rgb):this._rgb}hslString(){return this._valid?W6(this._rgb):this._rgb}mix(e,n){const r=this;if(e){const i=r.rgb,o=e.rgb;let a;const u=n===a?.5:n,c=2*u-1,f=i.a-o.a,h=((c*f==-1?c:(c+f)/(1+c*f))+1)/2;a=1-h,i.r=255&h*i.r+a*o.r+.5,i.g=255&h*i.g+a*o.g+.5,i.b=255&h*i.b+a*o.b+.5,i.a=u*i.a+(1-u)*o.a,r.rgb=i}return r}clone(){return new _v(this.rgb)}alpha(e){return this._rgb.a=ch(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ah(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return yv(this._rgb,2,e),this}darken(e){return yv(this._rgb,2,-e),this}saturate(e){return yv(this._rgb,1,e),this}desaturate(e){return yv(this._rgb,1,-e),this}rotate(e){return $6(this._rgb,e),this}}function DN(t){return new _v(t)}const MN=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function LN(t){return MN(t)?t:DN(t)}function gE(t){return MN(t)?t:DN(t).saturate(.5).darken(.1).hexString()}const Xa=Object.create(null),vE=Object.create(null);function lh(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function mE(t,e,n){return typeof e=="string"?nh(lh(t,e),n):nh(lh(t,""),e)}class Y6{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>gE(r.backgroundColor),this.hoverBorderColor=(n,r)=>gE(r.borderColor),this.hoverColor=(n,r)=>gE(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(e)}set(e,n){return mE(this,e,n)}get(e){return lh(this,e)}describe(e,n){return mE(vE,e,n)}override(e,n){return mE(Xa,e,n)}route(e,n,r,i){const o=lh(this,e),a=lh(this,r),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[u],f=a[i];return It(c)?Object.assign({},f,c):it(c,f)},set(c){this[u]=c}}})}}var lt=new Y6({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function X6(t){return!t||kt(t.size)||kt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function bv(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function Q6(t,e,n,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const u=n.length;let c,f,h,p,g;for(c=0;c<u;c++)if(p=n[c],p!=null&&Ht(p)!==!0)a=bv(t,i,o,a,p);else if(Ht(p))for(f=0,h=p.length;f<h;f++)g=p[f],g!=null&&!Ht(g)&&(a=bv(t,i,o,a,g));t.restore();const m=o.length/2;if(m>n.length){for(c=0;c<m;c++)delete i[o[c]];o.splice(0,m)}return a}function Qa(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function FN(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function wv(t,e,n,r){let i,o,a,u,c;const f=e.pointStyle,h=e.rotation,p=e.radius;let g=(h||0)*I6;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:t.arc(n,r,p,0,Bt),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(g)*p,r-Math.cos(g)*p),g+=wN,t.lineTo(n+Math.sin(g)*p,r-Math.cos(g)*p),g+=wN,t.lineTo(n+Math.sin(g)*p,r-Math.cos(g)*p),t.closePath();break;case"rectRounded":c=p*.516,u=p-c,o=Math.cos(g+ih)*u,a=Math.sin(g+ih)*u,t.arc(n-o,r-a,c,g-tn,g-un),t.arc(n+a,r-o,c,g-un,g),t.arc(n+o,r+a,c,g,g+un),t.arc(n-a,r+o,c,g+un,g+tn),t.closePath();break;case"rect":if(!h){u=Math.SQRT1_2*p,t.rect(n-u,r-u,2*u,2*u);break}g+=ih;case"rectRot":o=Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(n-o,r-a),t.lineTo(n+a,r-o),t.lineTo(n+o,r+a),t.lineTo(n-a,r+o),t.closePath();break;case"crossRot":g+=ih;case"cross":o=Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"star":o=Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o),g+=ih,o=Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"line":o=Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(g)*p,r+Math.sin(g)*p);break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ja(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function yE(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function _E(t){t.restore()}function J6(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Z6(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Za(t,e,n,r,i,o={}){const a=Ht(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let c,f;for(t.save(),t.font=i.string,e5(t,o),c=0;c<a.length;++c)f=a[c],u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),kt(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(f,n,r,o.maxWidth)),t.fillText(f,n,r,o.maxWidth),t5(t,n,r,f,o),r+=i.lineHeight;t.restore()}function e5(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),kt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function t5(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),a=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,f=n+o.actualBoundingBoxDescent,h=i.strikethrough?(c+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,h),t.lineTo(u,h),t.stroke()}}function Ev(t,e){const{x:n,y:r,w:i,h:o,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-un,tn,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,tn,un,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,un,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-un,!0),t.lineTo(n+a.topLeft,r)}const n5=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),r5=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function i5(t,e){const n=(""+t).match(n5);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const o5=t=>+t||0;function bE(t,e){const n={},r=It(e),i=r?Object.keys(e):e,o=It(t)?r?a=>it(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=o5(o(a));return n}function UN(t){return bE(t,{top:"y",right:"x",bottom:"y",left:"x"})}function wE(t){return bE(t,["topLeft","topRight","bottomLeft","bottomRight"])}function mr(t){const e=UN(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Tn(t,e){t=t||{},e=e||lt.font;let n=it(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=it(t.style,e.style);r&&!(""+r).match(r5)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:it(t.family,e.family),lineHeight:i5(it(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:it(t.weight,e.weight),string:""};return i.string=X6(i),i}function Tv(t,e,n,r){let i=!0,o,a,u;for(o=0,a=t.length;o<a;++o)if(u=t[o],u!==void 0&&(e!==void 0&&typeof u=="function"&&(u=u(e),i=!1),n!==void 0&&Ht(u)&&(u=u[n%u.length],i=!1),u!==void 0))return r&&!i&&(r.cacheable=!1),u}function s5(t,e){const{min:n,max:r}=t;return{min:n-Math.abs(sE(e,n)),max:r+sE(e,r)}}function EE(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,n(o)?i=o:r=o;return{lo:i,hi:r}}const eu=(t,e,n)=>EE(t,n,r=>t[r][e]<n),a5=(t,e,n)=>EE(t,n,r=>t[r][e]>=n);function u5(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const jN=["push","pop","shift","splice","unshift"];function c5(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),jN.forEach(n=>{const r="_onData"+aE(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const a=i.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...o)}),a}})})}function BN(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(jN.forEach(o=>{delete t[o]}),delete t._chartjs)}function VN(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}function TE(t,e=[""],n=t,r,i=()=>t[0]){Dr(r)||(r=KN("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:a=>TE([a,...t],e,n,r)};return new Proxy(o,{deleteProperty(a,u){return delete a[u],delete a._keys,delete t[0][u],!0},get(a,u){return $N(a,u,()=>m5(u,e,t,a))},getOwnPropertyDescriptor(a,u){return Reflect.getOwnPropertyDescriptor(a._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,u){return GN(a).includes(u)},ownKeys(a){return GN(a)},set(a,u,c){const f=a._storage||(a._storage=i());return f[u]=c,delete a[u],delete a._keys,!0}})}function Uc(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:qN(t,r),setContext:o=>Uc(t,o,n,r),override:o=>Uc(t.override(o),e,n,r)};return new Proxy(i,{deleteProperty(o,a){return delete o[a],delete t[a],!0},get(o,a,u){return $N(o,a,()=>f5(o,a,u))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(o,a,u){return t[a]=u,delete o[a],!0}})}function qN(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Lc(n)?n:()=>n,isIndexable:Lc(r)?r:()=>r}}const l5=(t,e)=>t?t+aE(e):e,HN=(t,e)=>It(e)&&t!=="adapters";function $N(t,e,n){let r=t[e];return Dr(r)||(r=n(),Dr(r)&&(t[e]=r)),r}function f5(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=t;let u=r[e];return Lc(u)&&a.isScriptable(e)&&(u=h5(e,u,t,n)),Ht(u)&&u.length&&(u=d5(e,u,t,a.isIndexable)),HN(e,u)&&(u=Uc(u,i,o&&o[e],a)),u}function h5(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);return u.add(t),e=e(o,a||r),u.delete(t),It(e)&&(e=IE(i._scopes,i,t,e)),e}function d5(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:u}=n;if(Dr(o.index)&&r(t))e=e[o.index%e.length];else if(It(e[0])){const c=e,f=i._scopes.filter(h=>h!==c);e=[];for(const h of c){const p=IE(f,i,t,h);e.push(Uc(p,o,a&&a[t],u))}}return e}function WN(t,e,n){return Lc(t)?t(e,n):t}const p5=(t,e)=>t===!0?e:typeof t=="string"?ks(e,t):void 0;function g5(t,e,n,r){for(const i of e){const o=p5(n,i);if(o){t.add(o);const a=WN(o._fallback,n,o);if(Dr(a)&&a!==n&&a!==r)return a}else if(o===!1&&Dr(r)&&n!==r)return null}return!1}function IE(t,e,n,r){const i=e._rootScopes,o=WN(e._fallback,n,r),a=[...t,...i],u=new Set;u.add(r);let c=zN(u,a,n,o||n);return c===null||Dr(o)&&o!==n&&(c=zN(u,a,o,c),c===null)?!1:TE(Array.from(u),[""],i,o,()=>v5(e,n,r))}function zN(t,e,n,r){for(;n;)n=g5(t,e,n,r);return n}function v5(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Ht(i)&&It(n)?n:i}function m5(t,e,n,r){let i;for(const o of e)if(i=KN(l5(o,t),n),Dr(i))return HN(t,i)?IE(n,r,t,i):i}function KN(t,e){for(const n of e){if(!n)continue;const r=n[t];if(Dr(r))return r}}function GN(t){let e=t._keys;return e||(e=t._keys=y5(t._scopes)),e}function y5(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const _5=Number.EPSILON||1e-14,jc=(t,e)=>e<t.length&&!t[e].skip&&t[e],YN=t=>t==="x"?"y":"x";function b5(t,e,n,r){const i=t.skip?e:t,o=e,a=n.skip?e:n,u=cE(o,i),c=cE(a,o);let f=u/(u+c),h=c/(u+c);f=isNaN(f)?0:f,h=isNaN(h)?0:h;const p=r*f,g=r*h;return{previous:{x:o.x-p*(a.x-i.x),y:o.y-p*(a.y-i.y)},next:{x:o.x+g*(a.x-i.x),y:o.y+g*(a.y-i.y)}}}function w5(t,e,n){const r=t.length;let i,o,a,u,c,f=jc(t,0);for(let h=0;h<r-1;++h)if(c=f,f=jc(t,h+1),!(!c||!f)){if(oh(e[h],0,_5)){n[h]=n[h+1]=0;continue}i=n[h]/e[h],o=n[h+1]/e[h],u=Math.pow(i,2)+Math.pow(o,2),!(u<=9)&&(a=3/Math.sqrt(u),n[h]=i*a*e[h],n[h+1]=o*a*e[h])}}function E5(t,e,n="x"){const r=YN(n),i=t.length;let o,a,u,c=jc(t,0);for(let f=0;f<i;++f){if(a=u,u=c,c=jc(t,f+1),!u)continue;const h=u[n],p=u[r];a&&(o=(h-a[n])/3,u[`cp1${n}`]=h-o,u[`cp1${r}`]=p-o*e[f]),c&&(o=(c[n]-h)/3,u[`cp2${n}`]=h+o,u[`cp2${r}`]=p+o*e[f])}}function T5(t,e="x"){const n=YN(e),r=t.length,i=Array(r).fill(0),o=Array(r);let a,u,c,f=jc(t,0);for(a=0;a<r;++a)if(u=c,c=f,f=jc(t,a+1),!!c){if(f){const h=f[e]-c[e];i[a]=h!==0?(f[n]-c[n])/h:0}o[a]=u?f?po(i[a-1])!==po(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}w5(t,i,o),E5(t,o,e)}function Iv(t,e,n){return Math.max(Math.min(t,n),e)}function I5(t,e){let n,r,i,o,a,u=Ja(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=u,u=n<r-1&&Ja(t[n+1],e),!!o&&(i=t[n],a&&(i.cp1x=Iv(i.cp1x,e.left,e.right),i.cp1y=Iv(i.cp1y,e.top,e.bottom)),u&&(i.cp2x=Iv(i.cp2x,e.left,e.right),i.cp2y=Iv(i.cp2y,e.top,e.bottom)))}function S5(t,e,n,r,i){let o,a,u,c;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")T5(t,i);else{let f=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)u=t[o],c=b5(f,u,t[Math.min(o+1,a-(r?0:1))%a],e.tension),u.cp1x=c.previous.x,u.cp1y=c.previous.y,u.cp2x=c.next.x,u.cp2y=c.next.y,f=u}e.capBezierPoints&&I5(t,n)}function XN(){return typeof window!="undefined"&&typeof document!="undefined"}function Bc(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Sv(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Cv=t=>window.getComputedStyle(t,null);function C5(t,e){return Cv(t).getPropertyValue(e)}const A5=["top","right","bottom","left"];function tu(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=A5[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const x5=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function k5(t,e){const n=t.native||t,r=n.touches,i=r&&r.length?r[0]:n,{offsetX:o,offsetY:a}=i;let u=!1,c,f;if(x5(o,a,n.target))c=o,f=a;else{const h=e.getBoundingClientRect();c=i.clientX-h.left,f=i.clientY-h.top,u=!0}return{x:c,y:f,box:u}}function QN(t,e){const{canvas:n,currentDevicePixelRatio:r}=e,i=Cv(n),o=i.boxSizing==="border-box",a=tu(i,"padding"),u=tu(i,"border","width"),{x:c,y:f,box:h}=k5(t,n),p=a.left+(h&&u.left),g=a.top+(h&&u.top);let{width:m,height:y}=e;return o&&(m-=a.width+u.width,y-=a.height+u.height),{x:Math.round((c-p)/m*n.width/r),y:Math.round((f-g)/y*n.height/r)}}function R5(t,e,n){let r,i;if(e===void 0||n===void 0){const o=Bc(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const a=o.getBoundingClientRect(),u=Cv(o),c=tu(u,"border","width"),f=tu(u,"padding");e=a.width-f.width-c.width,n=a.height-f.height-c.height,r=Sv(u.maxWidth,o,"clientWidth"),i=Sv(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:r||hv,maxHeight:i||hv}}const SE=t=>Math.round(t*10)/10;function O5(t,e,n,r){const i=Cv(t),o=tu(i,"margin"),a=Sv(i.maxWidth,t,"clientWidth")||hv,u=Sv(i.maxHeight,t,"clientHeight")||hv,c=R5(t,e,n);let{width:f,height:h}=c;if(i.boxSizing==="content-box"){const p=tu(i,"border","width"),g=tu(i,"padding");f-=g.width+p.width,h-=g.height+p.height}return f=Math.max(0,f-o.width),h=Math.max(0,r?Math.floor(f/r):h-o.height),f=SE(Math.min(f,a,c.maxWidth)),h=SE(Math.min(h,u,c.maxHeight)),f&&!h&&(h=SE(f/2)),{width:f,height:h}}function JN(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=i/r,t.width=o/r;const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o?(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const N5=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function ZN(t,e){const n=C5(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function nu(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function P5(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function D5(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=nu(t,i,n),u=nu(i,o,n),c=nu(o,e,n),f=nu(a,u,n),h=nu(u,c,n);return nu(f,h,n)}const eP=new Map;function M5(t,e){e=e||{};const n=t+JSON.stringify(e);let r=eP.get(n);return r||(r=new Intl.NumberFormat(t,e),eP.set(n,r)),r}function fh(t,e,n){return M5(e,n).format(t)}const L5=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},F5=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Vc(t,e,n){return t?L5(e,n):F5()}function tP(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function nP(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function rP(t){return t==="angle"?{between:dv,compare:x6,normalize:Ho}:{between:(e,n,r)=>e>=Math.min(n,r)&&e<=Math.max(r,n),compare:(e,n)=>e-n,normalize:e=>e}}function iP({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n==0,style:i}}function U5(t,e,n){const{property:r,start:i,end:o}=n,{between:a,normalize:u}=rP(r),c=e.length;let{start:f,end:h,loop:p}=t,g,m;if(p){for(f+=c,h+=c,g=0,m=c;g<m&&a(u(e[f%c][r]),i,o);++g)f--,h--;f%=c,h%=c}return h<f&&(h+=c),{start:f,end:h,loop:p,style:t.style}}function j5(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,a=e.length,{compare:u,between:c,normalize:f}=rP(r),{start:h,end:p,loop:g,style:m}=U5(t,e,n),y=[];let b=!1,w=null,T,A,k;const N=()=>c(i,k,T)&&u(i,k)!==0,P=()=>u(o,T)===0||c(o,k,T),D=()=>b||N(),$=()=>!b||P();for(let B=h,Y=h;B<=p;++B)A=e[B%a],!A.skip&&(T=f(A[r]),T!==k&&(b=c(T,i,o),w===null&&D()&&(w=u(T,i)===0?B:Y),w!==null&&$()&&(y.push(iP({start:w,end:B,loop:g,count:a,style:m})),w=null),Y=B,k=T));return w!==null&&y.push(iP({start:w,end:p,loop:g,count:a,style:m})),y}function B5(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=j5(r[i],t.points,e);o.length&&n.push(...o)}return n}function V5(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function q5(t,e,n,r){const i=t.length,o=[];let a=e,u=t[e],c;for(c=e+1;c<=n;++c){const f=t[c%i];f.skip||f.stop?u.skip||(r=!1,o.push({start:e%i,end:(c-1)%i,loop:r}),e=a=f.stop?c:null):(a=c,u.skip&&(e=c)),u=f}return a!==null&&o.push({start:e%i,end:a%i,loop:r}),o}function H5(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:a,end:u}=V5(n,i,o,r);if(r===!0)return oP(t,[{start:a,end:u,loop:o}],n,e);const c=u<a?u+i:u,f=!!t._fullLoop&&a===0&&u===i-1;return oP(t,q5(n,a,c,f),n,e)}function oP(t,e,n,r){return!r||!r.setContext||!n?e:$5(t,e,n,r)}function $5(t,e,n,r){const i=sP(t.options),o=n.length,a=[];let u=e[0].start,c=u;for(const f of e){let h=i,p=n[u%o],g;for(c=u+1;c<=f.end;c++){const m=n[c%o];g=sP(r.setContext({type:"segment",p0:p,p1:m,p0DataIndex:(c-1)%o,p1DataIndex:c%o,datasetIndex:t._datasetIndex})),W5(g,h)&&(a.push({start:u,end:c-1,loop:f.loop,style:h}),h=g,u=c-1),p=m,h=g}u<c-1&&(a.push({start:u,end:c-1,loop:f.loop,style:g}),u=c-1)}return a}function sP(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function W5(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.5.1
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */class z5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const o=n.listeners[i],a=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){const e=this;e._request||(e._running=!0,e._request=mN.call(window,()=>{e._update(),e._request=null,e._running&&e._refresh()}))}_update(e=Date.now()){const n=this;let r=0;n._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const a=i.items;let u=a.length-1,c=!1,f;for(;u>=0;--u)f=a[u],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),c=!0):(a[u]=a[a.length-1],a.pop());c&&(o.draw(),n._notify(o,i,e,"progress")),a.length||(i.running=!1,n._notify(o,i,e,"complete"),i.initial=!1),r+=a.length}),n._lastDate=e,r===0&&(n._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $o=new z5;const aP="transparent",K5={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=LN(t||aP),i=r.valid&&LN(e||aP);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class G5{constructor(e,n,r,i){const o=n[r];i=Tv([e.to,i,o,e.from]);const a=Tv([e.from,o,i]);this._active=!0,this._fn=e.fn||K5[e.type||typeof a],this._easing=sh[e.easing]||sh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){const i=this;if(i._active){i._notify(!1);const o=i._target[i._prop],a=r-i._start,u=i._duration-a;i._start=r,i._duration=Math.floor(Math.max(u,e.duration)),i._total+=a,i._loop=!!e.loop,i._to=Tv([e.to,n,o,e.from]),i._from=Tv([e.from,o,n])}}cancel(){const e=this;e._active&&(e.tick(Date.now()),e._active=!1,e._notify(!1))}tick(e){const n=this,r=e-n._start,i=n._duration,o=n._prop,a=n._from,u=n._loop,c=n._to;let f;if(n._active=a!==c&&(u||r<i),!n._active){n._target[o]=c,n._notify(!0);return}if(r<0){n._target[o]=a;return}f=r/i%2,f=u&&f>1?2-f:f,f=n._easing(Math.min(1,Math.max(0,f))),n._target[o]=n._fn(a,c,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}const Y5=["x","y","borderWidth","radius","tension"],X5=["color","borderColor","backgroundColor"];lt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Q5=Object.keys(lt.animation);lt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});lt.set("animations",{colors:{type:"color",properties:X5},numbers:{type:"number",properties:Y5}});lt.describe("animations",{_fallback:"animation"});lt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class uP{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!It(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!It(i))return;const o={};for(const a of Q5)o[a]=i[a];(Ht(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=Z5(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&J5(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,n){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),a=Object.keys(n),u=Date.now();let c;for(c=a.length-1;c>=0;--c){const f=a[c];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[f];let p=o[f];const g=r.get(f);if(p)if(g&&p.active()){p.update(g,h,u);continue}else p.cancel();if(!g||!g.duration){e[f]=h;continue}o[f]=p=new G5(g,e,f,h),i.push(p)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return $o.add(this._chart,r),!0}}function J5(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=t[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Z5(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function cP(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function eY(t,e,n){if(n===!1)return!1;const r=cP(t,n),i=cP(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function tY(t){let e,n,r,i;return It(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function lP(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function fP(t,e,n,r){const i=t.keys,o=r.mode==="single";let a,u,c,f;if(e!==null){for(a=0,u=i.length;a<u;++a){if(c=+i[a],c===n){if(r.all)continue;break}f=t.values[c],Hn(f)&&(o||e===0||po(e)===po(f))&&(e+=f)}return e}}function nY(t){const e=Object.keys(t),n=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],n[r]={x:o,y:t[o]};return n}function hP(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function rY(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function iY(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function oY(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function dP(t,e,n){for(const r of e.getMatchingVisibleMetas("bar").reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function pP(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:u}=r,c=o.axis,f=a.axis,h=rY(o,a,r),p=e.length;let g;for(let m=0;m<p;++m){const y=e[m],{[c]:b,[f]:w}=y,T=y._stacks||(y._stacks={});g=T[f]=oY(i,h,b),g[u]=w,g._top=dP(g,a,!0),g._bottom=dP(g,a,!1)}}function CE(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function sY(t,e){return Object.assign(Object.create(t),{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function aY(t,e,n){return Object.assign(Object.create(t),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function hh(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(!!r){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n]}}}const AE=t=>t==="reset"||t==="none",gP=(t,e)=>e?t:Object.assign({},t);class go{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this,n=e._cachedMeta;e.configure(),e.linkScales(),n._stacked=hP(n.vScale,n),e.addElements()}updateIndex(e){this.index!==e&&hh(this._cachedMeta),this.index=e}linkScales(){const e=this,n=e.chart,r=e._cachedMeta,i=e.getDataset(),o=(g,m,y,b)=>g==="x"?m:g==="r"?b:y,a=r.xAxisID=it(i.xAxisID,CE(n,"x")),u=r.yAxisID=it(i.yAxisID,CE(n,"y")),c=r.rAxisID=it(i.rAxisID,CE(n,"r")),f=r.indexAxis,h=r.iAxisID=o(f,a,u,c),p=r.vAxisID=o(f,u,a,c);r.xScale=e.getScaleForId(a),r.yScale=e.getScaleForId(u),r.rScale=e.getScaleForId(c),r.iScale=e.getScaleForId(h),r.vScale=e.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&BN(this._data,this),e._stacked&&hh(e)}_dataCheck(){const e=this,n=e.getDataset(),r=n.data||(n.data=[]),i=e._data;if(It(r))e._data=nY(r);else if(i!==r){if(i){BN(i,e);const o=e._cachedMeta;hh(o),o._parsed=[]}r&&Object.isExtensible(r)&&c5(r,e),e._syncList=[],e._data=r}}addElements(){const e=this,n=e._cachedMeta;e._dataCheck(),e.datasetElementType&&(n.dataset=new e.datasetElementType)}buildOrUpdateElements(e){const n=this,r=n._cachedMeta,i=n.getDataset();let o=!1;n._dataCheck();const a=r._stacked;r._stacked=hP(r.vScale,r),r.stack!==i.stack&&(o=!0,hh(r),r.stack=i.stack),n._resyncElements(e),(o||a!==r._stacked)&&pP(n,r._parsed)}configure(){const e=this,n=e.chart.config,r=n.datasetScopeKeys(e._type),i=n.getOptionScopes(e.getDataset(),r,!0);e.options=n.createResolver(i,e.getContext()),e._parsing=e.options.parsing}parse(e,n){const r=this,{_cachedMeta:i,_data:o}=r,{iScale:a,_stacked:u}=i,c=a.axis;let f=e===0&&n===o.length?!0:i._sorted,h=e>0&&i._parsed[e-1],p,g,m;if(r._parsing===!1)i._parsed=o,i._sorted=!0,m=o;else{Ht(o[e])?m=r.parseArrayData(i,o,e,n):It(o[e])?m=r.parseObjectData(i,o,e,n):m=r.parsePrimitiveData(i,o,e,n);const y=()=>g[c]===null||h&&g[c]<h[c];for(p=0;p<n;++p)i._parsed[p+e]=g=m[p],f&&(y()&&(f=!1),h=g);i._sorted=f}u&&pP(r,m)}parsePrimitiveData(e,n,r,i){const{iScale:o,vScale:a}=e,u=o.axis,c=a.axis,f=o.getLabels(),h=o===a,p=new Array(i);let g,m,y;for(g=0,m=i;g<m;++g)y=g+r,p[g]={[u]:h||o.parse(f[y],y),[c]:a.parse(n[y],y)};return p}parseArrayData(e,n,r,i){const{xScale:o,yScale:a}=e,u=new Array(i);let c,f,h,p;for(c=0,f=i;c<f;++c)h=c+r,p=n[h],u[c]={x:o.parse(p[0],h),y:a.parse(p[1],h)};return u}parseObjectData(e,n,r,i){const{xScale:o,yScale:a}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=new Array(i);let h,p,g,m;for(h=0,p=i;h<p;++h)g=h+r,m=n[g],f[h]={x:o.parse(ks(m,u),g),y:a.parse(ks(m,c),g)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,o=this._cachedMeta,a=n[e.axis],u={keys:lP(i,!0),values:n._stacks[e.axis]};return fP(u,a,o.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const o=r[n.axis];let a=o===null?NaN:o;const u=i&&r._stacks[n.axis];i&&u&&(i.values=u,e.min=Math.min(e.min,a),e.max=Math.max(e.max,a),a=fP(i,o,this._cachedMeta.index,{all:!0})),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this,i=r._cachedMeta,o=i._parsed,a=i._sorted&&e===i.iScale,u=o.length,c=r._getOtherScale(e),f=n&&i._stacked&&{keys:lP(r.chart,!0),values:null},h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=iY(c);let m,y,b,w;function T(){return b=o[m],y=b[e.axis],w=b[c.axis],!Hn(y)||p>w||g<w}for(m=0;m<u&&!(!T()&&(r.updateRangeFromParsed(h,e,b,f),a));++m);if(a){for(m=u-1;m>=0;--m)if(!T()){r.updateRangeFromParsed(h,e,b,f);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,o,a;for(i=0,o=n.length;i<o;++i)a=n[i][e.axis],Hn(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this,r=n._cachedMeta,i=r.iScale,o=r.vScale,a=n.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const n=this,r=n._cachedMeta;n.configure(),n._cachedDataOpts={},n.update(e||"default"),r._clip=tY(it(n.options.clip,eY(r.xScale,r.yScale,n.getMaxOverflow())))}update(e){}draw(){const e=this,n=e._ctx,r=e.chart,i=e._cachedMeta,o=i.data||[],a=r.chartArea,u=[],c=e._drawStart||0,f=e._drawCount||o.length-c;let h;for(i.dataset&&i.dataset.draw(n,a,c,f),h=c;h<c+f;++h){const p=o[h];p.hidden||(p.active?u.push(p):p.draw(n,a))}for(h=0;h<u.length;++h)u[h].draw(n,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this,o=i.getDataset();let a;if(e>=0&&e<i._cachedMeta.data.length){const u=i._cachedMeta.data[e];a=u.$context||(u.$context=aY(i.getContext(),e,u)),a.parsed=i.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=i.$context||(i.$context=sY(i.chart.getContext(),i.index)),a.dataset=o,a.index=a.datasetIndex=i.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=this,o=n==="active",a=i._cachedDataOpts,u=e+"-"+n,c=a[u],f=i.enableOptionSharing&&Dr(r);if(c)return gP(c,f);const h=i.chart.config,p=h.datasetElementScopeKeys(i._type,e),g=o?[`${e}Hover`,"hover",e,""]:[e,""],m=h.getOptionScopes(i.getDataset(),p),y=Object.keys(lt.elements[e]),b=()=>i.getContext(r,o),w=h.resolveNamedOptions(m,y,b,g);return w.$shared&&(w.$shared=f,a[u]=Object.freeze(gP(w,f))),w}_resolveAnimations(e,n,r){const i=this,o=i.chart,a=i._cachedDataOpts,u=`animation-${n}`,c=a[u];if(c)return c;let f;if(o.options.animation!==!1){const p=i.chart.config,g=p.datasetAnimationScopeKeys(i._type,n),m=p.getOptionScopes(i.getDataset(),g);f=p.createResolver(m,i.getContext(e,r,n))}const h=new uP(o,f&&f.animations);return f&&f._cacheable&&(a[u]=Object.freeze(h)),h}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||AE(e)||this.chart._animationsDisabled}updateElement(e,n,r,i){AE(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!AE(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this,r=n._data,i=n._cachedMeta.data;for(const[c,f,h]of n._syncList)n[c](f,h);n._syncList=[];const o=i.length,a=r.length,u=Math.min(a,o);u&&n.parse(0,u),a>o?n._insertElements(o,a-o,e):a<o&&n._removeElements(a,o-a)}_insertElements(e,n,r=!0){const i=this,o=i._cachedMeta,a=o.data,u=e+n;let c;const f=h=>{for(h.length+=n,c=h.length-1;c>=u;c--)h[c]=h[c-n]};for(f(a),c=e;c<u;++c)a[c]=new i.dataElementType;i._parsing&&f(o._parsed),i.parse(e,n),r&&i.updateElements(a,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this,i=r._cachedMeta;if(r._parsing){const o=i._parsed.splice(e,n);i._stacked&&hh(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){this._sync(["_removeElements",e,n]),this._sync(["_insertElements",e,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}go.defaults={};go.prototype.datasetElementType=null;go.prototype.dataElementType=null;function uY(t){if(!t._cache.$bar){const e=t.getMatchingVisibleMetas("bar");let n=[];for(let r=0,i=e.length;r<i;r++)n=n.concat(e[r].controller.getAllParsedValues(t));t._cache.$bar=VN(n.sort((r,i)=>r-i))}return t._cache.$bar}function cY(t){const e=uY(t);let n=t._length,r,i,o,a;const u=()=>{o===32767||o===-32768||(Dr(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(r=0,i=e.length;r<i;++r)o=t.getPixelForValue(e[r]),u();for(a=void 0,r=0,i=t.ticks.length;r<i;++r)o=t.getPixelForTick(r),u();return n}function lY(t,e,n,r){const i=n.barThickness;let o,a;return kt(i)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:e.pixels[t]-o/2}}function fY(t,e,n,r){const i=e.pixels,o=i[t];let a=t>0?i[t-1]:null,u=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;a===null&&(a=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-a);const f=o-(o-Math.min(a,u))/2*c;return{chunk:Math.abs(u-a)/2*c/r,ratio:n.barPercentage,start:f}}function hY(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),u=Math.max(i,o);let c=a,f=u;Math.abs(a)>Math.abs(u)&&(c=u,f=a),e[n.axis]=f,e._custom={barStart:c,barEnd:f,start:i,end:o,min:a,max:u}}function vP(t,e,n,r){return Ht(t)?hY(t,e,n,r):e[n.axis]=n.parse(t,r),e}function mP(t,e,n,r){const i=t.iScale,o=t.vScale,a=i.getLabels(),u=i===o,c=[];let f,h,p,g;for(f=n,h=n+r;f<h;++f)g=e[f],p={},p[i.axis]=u||i.parse(a[f],f),c.push(vP(g,p,o,f));return c}function xE(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function dY(t,e,n){return t!==0?po(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function pY(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}function gY(t,e,n,r){let i=e.borderSkipped;const o={};if(!i){t.borderSkipped=o;return}const{start:a,end:u,reverse:c,top:f,bottom:h}=pY(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=f:(n._bottom||0)===r?i=h:(o[yP(h,a,u,c)]=!0,i=f)),o[yP(i,a,u,c)]=!0,t.borderSkipped=o}function yP(t,e,n,r){return r?(t=vY(t,e,n),t=_P(t,n,e)):t=_P(t,e,n),t}function vY(t,e,n){return t===e?n:t===n?e:t}function _P(t,e,n){return t==="start"?e:t==="end"?n:t}class kE extends go{parsePrimitiveData(e,n,r,i){return mP(e,n,r,i)}parseArrayData(e,n,r,i){return mP(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:o,vScale:a}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=o.axis==="x"?u:c,h=a.axis==="x"?u:c,p=[];let g,m,y,b;for(g=r,m=r+i;g<m;++g)b=n[g],y={},y[o.axis]=o.parse(ks(b,f),g),p.push(vP(ks(b,h),y,a,g));return p}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this,r=n._cachedMeta,{iScale:i,vScale:o}=r,a=n.getParsed(e),u=a._custom,c=xE(u)?"["+u.start+", "+u.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){const e=this;e.enableOptionSharing=!0,super.initialize();const n=e._cachedMeta;n.stack=e.getDataset().stack}update(e){const n=this,r=n._cachedMeta;n.updateElements(r.data,0,r.data.length,e)}updateElements(e,n,r,i){const o=this,a=i==="reset",{index:u,_cachedMeta:{vScale:c}}=o,f=c.getBasePixel(),h=c.isHorizontal(),p=o._getRuler(),g=o.resolveDataElementOptions(n,i),m=o.getSharedOptions(g),y=o.includeOptions(i,m);o.updateSharedOptions(m,i,g);for(let b=n;b<n+r;b++){const w=o.getParsed(b),T=a||kt(w[c.axis])?{base:f,head:f}:o._calculateBarValuePixels(b),A=o._calculateBarIndexPixels(b,p),k=(w._stacks||{})[c.axis],N={horizontal:h,base:T.base,enableBorderRadius:!k||xE(w._custom)||u===k._top||u===k._bottom,x:h?T.head:A.center,y:h?A.center:T.head,height:h?A.size:Math.abs(T.size),width:h?Math.abs(T.size):A.size};y&&(N.options=m||o.resolveDataElementOptions(b,e[b].active?"active":i)),gY(N,N.options||e[b].options,k,u),o.updateElement(e[b],b,N,i)}}_getStacks(e,n){const r=this,o=r._cachedMeta.iScale,a=o.getMatchingVisibleMetas(r._type),u=o.options.stacked,c=a.length,f=[];let h,p;for(h=0;h<c;++h)if(p=a[h],!!p.controller.options.grouped){if(typeof n!="undefined"){const g=p.controller.getParsed(n)[p.controller._cachedMeta.vScale.axis];if(kt(g)||isNaN(g))continue}if((u===!1||f.indexOf(p.stack)===-1||u===void 0&&p.stack===void 0)&&f.push(p.stack),p.index===e)break}return f.length||f.push(void 0),f}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),o=n!==void 0?i.indexOf(n):-1;return o===-1?i.length-1:o}_getRuler(){const e=this,n=e.options,r=e._cachedMeta,i=r.iScale,o=[];let a,u;for(a=0,u=r.data.length;a<u;++a)o.push(i.getPixelForValue(e.getParsed(a)[i.axis],a));const c=n.barThickness;return{min:c||cY(i),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:e._getStackCount(),scale:i,grouped:n.grouped,ratio:c?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(e){const n=this,{_cachedMeta:{vScale:r,_stacked:i},options:{base:o,minBarLength:a}}=n,u=o||0,c=n.getParsed(e),f=c._custom,h=xE(f);let p=c[r.axis],g=0,m=i?n.applyStack(r,c,i):p,y,b;m!==p&&(g=m-p,m=p),h&&(p=f.barStart,m=f.barEnd-f.barStart,p!==0&&po(p)!==po(f.barEnd)&&(g=0),g+=p);const w=!kt(o)&&!h?o:g;let T=r.getPixelForValue(w);if(n.chart.getDataVisibility(e)?y=r.getPixelForValue(g+m):y=T,b=y-T,Math.abs(b)<a&&(b=dY(b,r,u)*a,p===u&&(T-=b/2),y=T+b),T===r.getPixelForValue(u)){const A=po(b)*r.getLineWidthForValue(u)/2;T+=A,b-=A}return{size:b,base:T,head:y,center:y+b/2}}_calculateBarIndexPixels(e,n){const r=this,i=n.scale,o=r.options,a=o.skipNull,u=it(o.maxBarThickness,1/0);let c,f;if(n.grouped){const h=a?r._getStackCount(e):n.stackCount,p=o.barThickness==="flex"?fY(e,n,o,h):lY(e,n,o,h),g=r._getStackIndex(r.index,r._cachedMeta.stack,a?e:void 0);c=p.start+p.chunk*g+p.chunk/2,f=Math.min(u,p.chunk*p.ratio)}else c=i.getPixelForValue(r.getParsed(e)[i.axis],e),f=Math.min(u,n.min*n.ratio);return{base:c-f/2,head:c+f/2,center:c,size:f}}draw(){const e=this,n=e._cachedMeta,r=n.vScale,i=n.data,o=i.length;let a=0;for(;a<o;++a)e.getParsed(a)[r.axis]!==null&&i[a].draw(e._ctx)}}kE.id="bar";kE.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};kE.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class RE extends go{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(e,n,r,i){const{xScale:o,yScale:a}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=[];let h,p,g;for(h=r,p=r+i;h<p;++h)g=n[h],f.push({x:o.parse(ks(g,u),h),y:a.parse(ks(g,c),h),_custom:g&&g.r&&+g.r});return f}getMaxOverflow(){const{data:e,_parsed:n}=this._cachedMeta;let r=0;for(let i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size()/2,n[i]._custom);return r>0&&r}getLabelAndValue(e){const n=this,r=n._cachedMeta,{xScale:i,yScale:o}=r,a=n.getParsed(e),u=i.getLabelForValue(a.x),c=o.getLabelForValue(a.y),f=a._custom;return{label:r.label,value:"("+u+", "+c+(f?", "+f:"")+")"}}update(e){const n=this,r=n._cachedMeta.data;n.updateElements(r,0,r.length,e)}updateElements(e,n,r,i){const o=this,a=i==="reset",{iScale:u,vScale:c}=o._cachedMeta,f=o.resolveDataElementOptions(n,i),h=o.getSharedOptions(f),p=o.includeOptions(i,h),g=u.axis,m=c.axis;for(let y=n;y<n+r;y++){const b=e[y],w=!a&&o.getParsed(y),T={},A=T[g]=a?u.getPixelForDecimal(.5):u.getPixelForValue(w[g]),k=T[m]=a?c.getBasePixel():c.getPixelForValue(w[m]);T.skip=isNaN(A)||isNaN(k),p&&(T.options=o.resolveDataElementOptions(y,b.active?"active":i),a&&(T.options.radius=0)),o.updateElement(b,y,T,i)}o.updateSharedOptions(h,i,f)}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return n!=="active"&&(i.radius=0),i.radius+=it(r&&r._custom,o),i}}RE.id="bubble";RE.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};RE.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function mY(t,e,n){let r=1,i=1,o=0,a=0;if(e<Bt){const u=t,c=u+e,f=Math.cos(u),h=Math.sin(u),p=Math.cos(c),g=Math.sin(c),m=(k,N,P)=>dv(k,u,c,!0)?1:Math.max(N,N*n,P,P*n),y=(k,N,P)=>dv(k,u,c,!0)?-1:Math.min(N,N*n,P,P*n),b=m(0,f,p),w=m(un,h,g),T=y(tn,f,p),A=y(tn+un,h,g);r=(b-T)/2,i=(w-A)/2,o=-(b+T)/2,a=-(w+A)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}class dh extends go{constructor(e,n){super(e,n);this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=+r[o]}_getRotation(){return Ui(this.options.rotation-90)}_getCircumference(){return Ui(this.options.circumference)}_getRotationExtents(){let e=Bt,n=-Bt;const r=this;for(let i=0;i<r.chart.data.datasets.length;++i)if(r.chart.isDatasetVisible(i)){const o=r.chart.getDatasetMeta(i).controller,a=o._getRotation(),u=o._getCircumference();e=Math.min(e,a),n=Math.max(n,a+u)}return{rotation:e,circumference:n-e}}update(e){const n=this,r=n.chart,{chartArea:i}=r,o=n._cachedMeta,a=o.data,u=n.getMaxBorderWidth()+n.getMaxOffset(a)+n.options.spacing,c=Math.max((Math.min(i.width,i.height)-u)/2,0),f=Math.min(m6(n.options.cutout,c),1),h=n._getRingWeight(n.index),{circumference:p,rotation:g}=n._getRotationExtents(),{ratioX:m,ratioY:y,offsetX:b,offsetY:w}=mY(g,p,f),T=(i.width-u)/m,A=(i.height-u)/y,k=Math.max(Math.min(T,A)/2,0),N=sE(n.options.radius,k),P=Math.max(N*f,0),D=(N-P)/n._getVisibleDatasetWeightTotal();n.offsetX=b*N,n.offsetY=w*N,o.total=n.calculateTotal(),n.outerRadius=N-D*n._getRingWeightOffset(n.index),n.innerRadius=Math.max(n.outerRadius-D*h,0),n.updateElements(a,0,a.length,e)}_circumference(e,n){const r=this,i=r.options,o=r._cachedMeta,a=r._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:r.calculateCircumference(o._parsed[e]*a/Bt)}updateElements(e,n,r,i){const o=this,a=i==="reset",u=o.chart,c=u.chartArea,h=u.options.animation,p=(c.left+c.right)/2,g=(c.top+c.bottom)/2,m=a&&h.animateScale,y=m?0:o.innerRadius,b=m?0:o.outerRadius,w=o.resolveDataElementOptions(n,i),T=o.getSharedOptions(w),A=o.includeOptions(i,T);let k=o._getRotation(),N;for(N=0;N<n;++N)k+=o._circumference(N,a);for(N=n;N<n+r;++N){const P=o._circumference(N,a),D=e[N],$={x:p+o.offsetX,y:g+o.offsetY,startAngle:k,endAngle:k+P,circumference:P,outerRadius:b,innerRadius:y};A&&($.options=T||o.resolveDataElementOptions(N,D.active?"active":i)),k+=P,o.updateElement(D,N,$,i)}o.updateSharedOptions(T,i,w)}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Bt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this,r=n._cachedMeta,i=n.chart,o=i.data.labels||[],a=fh(r._parsed[e],i.options.locale);return{label:o[e]||"",value:a}}getMaxBorderWidth(e){const n=this;let r=0;const i=n.chart;let o,a,u,c,f;if(!e){for(o=0,a=i.data.datasets.length;o<a;++o)if(i.isDatasetVisible(o)){u=i.getDatasetMeta(o),e=u.data,c=u.controller,c!==n&&c.configure();break}}if(!e)return 0;for(o=0,a=e.length;o<a;++o)f=c.resolveDataElementOptions(o),f.borderAlign!=="inner"&&(r=Math.max(r,f.borderWidth||0,f.hoverBorderWidth||0));return r}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(it(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}dh.id="doughnut";dh.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};dh.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};dh.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((r,i)=>{const a=t.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return Ht(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class Av extends go{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const n=this,r=n._cachedMeta,{dataset:i,data:o=[],_dataset:a}=r,u=n.chart._animationsDisabled;let{start:c,count:f}=yY(r,o,u);n._drawStart=c,n._drawCount=f,_Y(r)&&(c=0,f=o.length),i._datasetIndex=n.index,i._decimated=!!a._decimated,i.points=o;const h=n.resolveDatasetElementOptions(e);n.options.showLine||(h.borderWidth=0),h.segment=n.options.segment,n.updateElement(i,void 0,{animated:!u,options:h},e),n.updateElements(o,c,f,e)}updateElements(e,n,r,i){const o=this,a=i==="reset",{iScale:u,vScale:c,_stacked:f}=o._cachedMeta,h=o.resolveDataElementOptions(n,i),p=o.getSharedOptions(h),g=o.includeOptions(i,p),m=u.axis,y=c.axis,b=o.options.spanGaps,w=Fc(b)?b:Number.POSITIVE_INFINITY,T=o.chart._animationsDisabled||a||i==="none";let A=n>0&&o.getParsed(n-1);for(let k=n;k<n+r;++k){const N=e[k],P=o.getParsed(k),D=T?N:{},$=kt(P[y]),B=D[m]=u.getPixelForValue(P[m],k),Y=D[y]=a||$?c.getBasePixel():c.getPixelForValue(f?o.applyStack(c,P,f):P[y],k);D.skip=isNaN(B)||isNaN(Y)||$,D.stop=k>0&&P[m]-A[m]>w,D.parsed=P,g&&(D.options=p||o.resolveDataElementOptions(k,N.active?"active":i)),T||o.updateElement(N,k,D,i),A=P}o.updateSharedOptions(p,i,h)}getMaxOverflow(){const e=this,n=e._cachedMeta,r=n.dataset,i=r.options&&r.options.borderWidth||0,o=n.data||[];if(!o.length)return i;const a=o[0].size(e.resolveDataElementOptions(0)),u=o[o.length-1].size(e.resolveDataElementOptions(o.length-1));return Math.max(i,a,u)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Av.id="line";Av.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Av.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function yY(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:a,_parsed:u}=t,c=a.axis,{min:f,max:h,minDefined:p,maxDefined:g}=a.getUserBounds();p&&(i=rr(Math.min(eu(u,a.axis,f).lo,n?r:eu(e,c,a.getPixelForValue(f)).lo),0,r-1)),g?o=rr(Math.max(eu(u,a.axis,h).hi+1,n?0:eu(e,c,a.getPixelForValue(h)).hi+1),i,r)-i:o=r-i}return{start:i,count:o}}function _Y(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}class OE extends go{constructor(e,n){super(e,n);this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this,r=n._cachedMeta,i=n.chart,o=i.data.labels||[],a=fh(r._parsed[e].r,i.options.locale);return{label:o[e]||"",value:a}}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}_updateRadius(){const e=this,n=e.chart,r=n.chartArea,i=n.options,o=Math.min(r.right-r.left,r.bottom-r.top),a=Math.max(o/2,0),u=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),c=(a-u)/n.getVisibleDatasetCount();e.outerRadius=a-c*e.index,e.innerRadius=e.outerRadius-c}updateElements(e,n,r,i){const o=this,a=i==="reset",u=o.chart,c=o.getDataset(),h=u.options.animation,p=o._cachedMeta.rScale,g=p.xCenter,m=p.yCenter,y=p.getIndexAngle(0)-.5*tn;let b=y,w;const T=360/o.countVisibleElements();for(w=0;w<n;++w)b+=o._computeAngle(w,i,T);for(w=n;w<n+r;w++){const A=e[w];let k=b,N=b+o._computeAngle(w,i,T),P=u.getDataVisibility(w)?p.getDistanceFromCenterForValue(c.data[w]):0;b=N,a&&(h.animateScale&&(P=0),h.animateRotate&&(k=N=y));const D={x:g,y:m,innerRadius:0,outerRadius:P,startAngle:k,endAngle:N,options:o.resolveDataElementOptions(w,A.active?"active":i)};o.updateElement(A,w,D,i)}}countVisibleElements(){const e=this.getDataset(),n=this._cachedMeta;let r=0;return n.data.forEach((i,o)=>{!isNaN(e.data[o])&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Ui(this.resolveDataElementOptions(e,n).angle||r):0}}OE.id="polarArea";OE.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};OE.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((r,i)=>{const a=t.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class bP extends dh{}bP.id="pie";bP.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class NE extends go{getLabelAndValue(e){const n=this,r=n._cachedMeta.vScale,i=n.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(i[r.axis])}}update(e){const n=this,r=n._cachedMeta,i=r.dataset,o=r.data||[],a=r.iScale.getLabels();if(i.points=o,e!=="resize"){const u=n.resolveDatasetElementOptions(e);n.options.showLine||(u.borderWidth=0);const c={_loop:!0,_fullLoop:a.length===o.length,options:u};n.updateElement(i,void 0,c,e)}n.updateElements(o,0,o.length,e)}updateElements(e,n,r,i){const o=this,a=o.getDataset(),u=o._cachedMeta.rScale,c=i==="reset";for(let f=n;f<n+r;f++){const h=e[f],p=o.resolveDataElementOptions(f,h.active?"active":i),g=u.getPointPositionForValue(f,a.data[f]),m=c?u.xCenter:g.x,y=c?u.yCenter:g.y,b={x:m,y,angle:g.angle,skip:isNaN(m)||isNaN(y),options:p};o.updateElement(h,f,b,i)}}}NE.id="radar";NE.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};NE.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class PE extends Av{}PE.id="scatter";PE.defaults={showLine:!1,fill:!1};PE.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function ru(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DE{constructor(e){this.options=e||{}}formats(){return ru()}parse(e,n){return ru()}format(e,n){return ru()}add(e,n,r){return ru()}diff(e,n,r){return ru()}startOf(e,n,r){return ru()}endOf(e,n){return ru()}}DE.override=function(t){Object.assign(DE.prototype,t)};var bY={_date:DE};function ph(t,e){return"native"in t?{x:t.x,y:t.y}:QN(t,e)}function wY(t,e){const n=t.getSortedVisibleDatasetMetas();let r,i,o;for(let a=0,u=n.length;a<u;++a){({index:r,data:i}=n[a]);for(let c=0,f=i.length;c<f;++c)o=i[c],o.skip||e(o,r,c)}}function EY(t,e,n,r){const{controller:i,data:o,_sorted:a}=t,u=i._cachedMeta.iScale;if(u&&e===u.axis&&a&&o.length){const c=u._reversePixels?a5:eu;if(r){if(i._sharedOptions){const f=o[0],h=typeof f.getRange=="function"&&f.getRange(e);if(h){const p=c(o,e,n-h),g=c(o,e,n+h);return{lo:p.lo,hi:g.hi}}}}else return c(o,e,n)}return{lo:0,hi:o.length-1}}function wP(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let u=0,c=o.length;u<c;++u){const{index:f,data:h}=o[u],{lo:p,hi:g}=EY(o[u],e,a,i);for(let m=p;m<=g;++m){const y=h[m];y.skip||r(y,f,m)}}}function TY(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function ME(t,e,n,r){const i=[];return Ja(e,t.chartArea,t._minPadding)&&wP(t,n,e,function(a,u,c){a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:u,index:c})},!0),i}function LE(t,e,n,r,i){const o=TY(n);let a=Number.POSITIVE_INFINITY,u=[];return Ja(e,t.chartArea,t._minPadding)&&wP(t,n,e,function(f,h,p){if(r&&!f.inRange(e.x,e.y,i))return;const g=f.getCenterPoint(i);if(!Ja(g,t.chartArea,t._minPadding)&&!f.inRange(e.x,e.y,i))return;const m=o(e,g);m<a?(u=[{element:f,datasetIndex:h,index:p}],a=m):m===a&&u.push({element:f,datasetIndex:h,index:p})}),u}function EP(t,e,n,r){const i=ph(e,t),o=[],a=n.axis,u=a==="x"?"inXRange":"inYRange";let c=!1;return wY(t,(f,h,p)=>{f[u](i[a],r)&&o.push({element:f,datasetIndex:h,index:p}),f.inRange(i.x,i.y,r)&&(c=!0)}),n.intersect&&!c?[]:o}var IY={modes:{index(t,e,n,r){const i=ph(e,t),o=n.axis||"x",a=n.intersect?ME(t,i,o,r):LE(t,i,o,!1,r),u=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const f=a[0].index,h=c.data[f];h&&!h.skip&&u.push({element:h,datasetIndex:c.index,index:f})}),u):[]},dataset(t,e,n,r){const i=ph(e,t),o=n.axis||"xy";let a=n.intersect?ME(t,i,o,r):LE(t,i,o,!1,r);if(a.length>0){const u=a[0].datasetIndex,c=t.getDatasetMeta(u).data;a=[];for(let f=0;f<c.length;++f)a.push({element:c[f],datasetIndex:u,index:f})}return a},point(t,e,n,r){const i=ph(e,t),o=n.axis||"xy";return ME(t,i,o,r)},nearest(t,e,n,r){const i=ph(e,t),o=n.axis||"xy";return LE(t,i,o,n.intersect,r)},x(t,e,n,r){return n.axis="x",EP(t,e,n,r)},y(t,e,n,r){return n.axis="y",EP(t,e,n,r)}}};const TP=["left","top","right","bottom"];function gh(t,e){return t.filter(n=>n.pos===e)}function IP(t,e){return t.filter(n=>TP.indexOf(n.pos)===-1&&n.box.axis===e)}function vh(t,e){return t.sort((n,r)=>{const i=e?r:n,o=e?n:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function SY(t){const e=[];let n,r,i,o,a,u;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:o,options:{stack:a,stackWeight:u=1}}=i,e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:u});return e}function CY(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:o}=n;if(!r||!TP.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function AY(t,e){const n=CY(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,a,u;for(o=0,a=t.length;o<a;++o){u=t[o];const{fullSize:c}=u.box,f=n[u.stack],h=f&&u.stackWeight/f.weight;u.horizontal?(u.width=h?h*r:c&&e.availableWidth,u.height=i):(u.width=r,u.height=h?h*i:c&&e.availableHeight)}return n}function xY(t){const e=SY(t),n=vh(e.filter(f=>f.box.fullSize),!0),r=vh(gh(e,"left"),!0),i=vh(gh(e,"right")),o=vh(gh(e,"top"),!0),a=vh(gh(e,"bottom")),u=IP(e,"x"),c=IP(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(a).concat(u),chartArea:gh(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(a).concat(u)}}function SP(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function CP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function kY(t,e,n,r){const{pos:i,box:o}=n,a=t.maxPadding;if(!It(i)){n.size&&(t[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?o.height:o.width),n.size=p.size/p.count,t[i]+=n.size}o.getPadding&&CP(a,o.getPadding());const u=Math.max(0,e.outerWidth-SP(a,t,"left","right")),c=Math.max(0,e.outerHeight-SP(a,t,"top","bottom")),f=u!==t.w,h=c!==t.h;return t.w=u,t.h=c,n.horizontal?{same:f,other:h}:{same:h,other:f}}function RY(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function OY(t,e){const n=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{o[a]=Math.max(e[a],n[a])}),o}return r(t?["left","right"]:["top","bottom"])}function mh(t,e,n,r){const i=[];let o,a,u,c,f,h;for(o=0,a=t.length,f=0;o<a;++o){u=t[o],c=u.box,c.update(u.width||e.w,u.height||e.h,OY(u.horizontal,e));const{same:p,other:g}=kY(e,n,u,r);f|=p&&i.length,h=h||g,c.fullSize||i.push(u)}return f&&mh(i,e,n,r)||h}function xv(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function AP(t,e,n,r){const i=n.padding;let{x:o,y:a}=e;for(const u of t){const c=u.box,f=r[u.stack]||{count:1,placed:0,weight:1},h=u.stackWeight/f.weight||1;if(u.horizontal){const p=e.w*h,g=f.size||c.height;Dr(f.start)&&(a=f.start),c.fullSize?xv(c,i.left,a,n.outerWidth-i.right-i.left,g):xv(c,e.left+f.placed,a,p,g),f.start=a,f.placed+=p,a=c.bottom}else{const p=e.h*h,g=f.size||c.width;Dr(f.start)&&(o=f.start),c.fullSize?xv(c,o,i.top,g,n.outerHeight-i.bottom-i.top):xv(c,o,e.top+f.placed,g,p),f.start=o,f.placed+=p,o=c.right}}e.x=o,e.y=a}lt.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var gi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=mr(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),u=xY(t.boxes),c=u.vertical,f=u.horizontal;Rt(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const h=c.reduce((b,w)=>w.box.options&&w.box.options.display===!1?b:b+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/h,hBoxMaxHeight:a/2}),g=Object.assign({},i);CP(g,mr(r));const m=Object.assign({maxPadding:g,w:o,h:a,x:i.left,y:i.top},i),y=AY(c.concat(f),p);mh(u.fullSize,m,p,y),mh(c,m,p,y),mh(f,m,p,y)&&mh(c,m,p,y),RY(m),AP(u.leftAndTop,m,p,y),m.x+=m.w,m.y+=m.h,AP(u.rightAndBottom,m,p,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Rt(u.chartArea,b=>{const w=b.box;Object.assign(w,t.chartArea),w.update(m.w,m.h)})}};class xP{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}}class NY extends xP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}}const kv="$chartjs",PY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},kP=t=>t===null||t==="";function DY(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[kv]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",kP(i)){const o=ZN(t,"width");o!==void 0&&(t.width=o)}if(kP(r))if(t.style.height==="")t.height=t.width/(e||2);else{const o=ZN(t,"height");o!==void 0&&(t.height=o)}return t}const RP=N5?{passive:!0}:!1;function MY(t,e,n){t.addEventListener(e,n,RP)}function LY(t,e,n){t.canvas.removeEventListener(e,n,RP)}function FY(t,e){const n=PY[t.type]||t.type,{x:r,y:i}=QN(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function UY(t,e,n){const r=t.canvas,o=r&&Bc(r)||r,a=new MutationObserver(u=>{const c=Bc(o);u.forEach(f=>{for(let h=0;h<f.addedNodes.length;h++){const p=f.addedNodes[h];(p===o||p===c)&&n(f.target)}})});return a.observe(document,{childList:!0,subtree:!0}),a}function jY(t,e,n){const r=t.canvas,i=r&&Bc(r);if(!i)return;const o=new MutationObserver(a=>{a.forEach(u=>{for(let c=0;c<u.removedNodes.length;c++)if(u.removedNodes[c]===r){n();break}})});return o.observe(i,{childList:!0}),o}const yh=new Map;let OP=0;function NP(){const t=window.devicePixelRatio;t!==OP&&(OP=t,yh.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function BY(t,e){yh.size||window.addEventListener("resize",NP),yh.set(t,e)}function VY(t){yh.delete(t),yh.size||window.removeEventListener("resize",NP)}function qY(t,e,n){const r=t.canvas,i=r&&Bc(r);if(!i)return;const o=yN((u,c)=>{const f=i.clientWidth;n(u,c),f<i.clientWidth&&n()},window),a=new ResizeObserver(u=>{const c=u[0],f=c.contentRect.width,h=c.contentRect.height;f===0&&h===0||o(f,h)});return a.observe(i),BY(t,o),a}function FE(t,e,n){n&&n.disconnect(),e==="resize"&&VY(t)}function HY(t,e,n){const r=t.canvas,i=yN(o=>{t.ctx!==null&&n(FY(o,t))},t,o=>{const a=o[0];return[a,a.offsetX,a.offsetY]});return MY(r,e,i),i}class $Y extends xP{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(DY(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[kv])return!1;const r=n[kv].initial;["height","width"].forEach(o=>{const a=r[o];kt(a)?n.removeAttribute(o):n.setAttribute(o,a)});const i=r.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[kv],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:UY,detach:jY,resize:qY}[n]||HY;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:FE,detach:FE,resize:FE}[n]||LY)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return O5(e,n,r,i)}isAttached(e){const n=Bc(e);return!!(n&&n.isConnected)}}function WY(t){return!XN()||typeof OffscreenCanvas!="undefined"&&t instanceof OffscreenCanvas?NY:$Y}class ji{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Fc(this.x)&&Fc(this.y)}getProps(e,n){const r=this,i=this.$animations;if(!n||!i)return r;const o={};return e.forEach(a=>{o[a]=i[a]&&i[a].active()?i[a]._to:r[a]}),o}}ji.defaults={};ji.defaultRoutes=void 0;const PP={values(t){return Ht(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),o=zY(t,n)}const a=di(Math.abs(o)),u=Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),fh(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=t/Math.pow(10,Math.floor(di(t)));return r===1||r===2||r===5?PP.numeric.call(this,t,e,n):""}};function zY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Rv={formatters:PP};lt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Rv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});lt.route("scale.ticks","color","","color");lt.route("scale.grid","color","","borderColor");lt.route("scale.grid","borderColor","","borderColor");lt.route("scale.title","color","","color");lt.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});lt.describe("scales",{_fallback:"scale"});lt.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function KY(t,e){const n=t.options.ticks,r=n.maxTicksLimit||GY(t),i=n.major.enabled?XY(e):[],o=i.length,a=i[0],u=i[o-1],c=[];if(o>r)return QY(e,c,i,o/r),c;const f=YY(i,e,r);if(o>0){let h,p;const g=o>1?Math.round((u-a)/(o-1)):null;for(Ov(e,c,f,kt(g)?0:a-g,a),h=0,p=o-1;h<p;h++)Ov(e,c,f,i[h],i[h+1]);return Ov(e,c,f,u,kt(g)?e.length:u+g),c}return Ov(e,c,f),c}function GY(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function YY(t,e,n){const r=JY(t),i=e.length/n;if(!r)return Math.max(i,1);const o=S6(r);for(let a=0,u=o.length-1;a<u;a++){const c=o[a];if(c>i)return c}return Math.max(i,1)}function XY(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function QY(t,e,n,r){let i=0,o=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===o&&(e.push(t[a]),i++,o=n[i*r])}function Ov(t,e,n,r,i){const o=it(r,0),a=Math.min(it(i,t.length),t.length);let u=0,c,f,h;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),h=o;h<0;)u++,h=Math.round(o+u*n);for(f=Math.max(o,0);f<a;f++)f===h&&(e.push(t[f]),u++,h=Math.round(o+u*n))}function JY(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const ZY=t=>t==="left"?"right":t==="right"?"left":t,DP=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function MP(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function eX(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,a=t._endPixel,u=1e-6;let c=t.getPixelForTick(i),f;if(!(n&&(r===1?f=Math.max(c-o,a-c):e===0?f=(t.getPixelForTick(1)-c)/2:f=(c-t.getPixelForTick(i-1))/2,c+=i<e?f:-f,c<o-u||c>a+u)))return c}function tX(t,e){Rt(t,n=>{const r=n.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete n.data[r[o]];r.splice(0,i)}})}function _h(t){return t.drawTicks?t.tickLength:0}function LP(t,e){if(!t.display)return 0;const n=Tn(t.font,e),r=mr(t.padding);return(Ht(t.text)?t.text.length:1)*n.lineHeight+r.height}function nX(t,e){return Object.assign(Object.create(t),{scale:e,type:"scale"})}function rX(t,e,n){return Object.assign(Object.create(t),{tick:n,index:e,type:"tick"})}function iX(t,e,n){let r=oE(t);return(n&&e!=="right"||!n&&e==="right")&&(r=ZY(r)),r}function oX(t,e,n,r){const{top:i,left:o,bottom:a,right:u,chart:c}=t,{chartArea:f,scales:h}=c;let p=0,g,m,y;const b=a-i,w=u-o;if(t.isHorizontal()){if(m=nr(r,o,u),It(n)){const T=Object.keys(n)[0],A=n[T];y=h[T].getPixelForValue(A)+b-e}else n==="center"?y=(f.bottom+f.top)/2+b-e:y=DP(t,n,e);g=u-o}else{if(It(n)){const T=Object.keys(n)[0],A=n[T];m=h[T].getPixelForValue(A)-w+e}else n==="center"?m=(f.left+f.right)/2-w+e:m=DP(t,n,e);y=nr(r,a,i),p=n==="left"?-un:un}return{titleX:m,titleY:y,maxWidth:g,rotation:p}}class iu extends ji{constructor(e){super();this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){const n=this;n.options=e.setContext(n.getContext()),n.axis=e.axis,n._userMin=n.parse(e.min),n._userMax=n.parse(e.max),n._suggestedMin=n.parse(e.suggestedMin),n._suggestedMax=n.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=hi(e,Number.POSITIVE_INFINITY),n=hi(n,Number.NEGATIVE_INFINITY),r=hi(r,Number.POSITIVE_INFINITY),i=hi(i,Number.NEGATIVE_INFINITY),{min:hi(e,r),max:hi(n,i),minDefined:Hn(e),maxDefined:Hn(n)}}getMinMax(e){const n=this;let{min:r,max:i,minDefined:o,maxDefined:a}=n.getUserBounds(),u;if(o&&a)return{min:r,max:i};const c=n.getMatchingVisibleMetas();for(let f=0,h=c.length;f<h;++f)u=c[f].controller.getMinMax(n,e),o||(r=Math.min(r,u.min)),a||(i=Math.max(i,u.max));return{min:hi(r,hi(i,r)),max:hi(i,hi(r,i))}}getPadding(){const e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jt(this.options.beforeUpdate,[this])}update(e,n,r){const i=this,o=i.options.ticks,a=o.sampleSize;i.beforeUpdate(),i.maxWidth=e,i.maxHeight=n,i._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),i.ticks=null,i._labelSizes=null,i._gridLineItems=null,i._labelItems=null,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i._maxLength=i.isHorizontal()?i.width+r.left+r.right:i.height+r.top+r.bottom,i._dataLimitsCached||(i.beforeDataLimits(),i.determineDataLimits(),i.afterDataLimits(),i._range=s5(i,i.options.grace),i._dataLimitsCached=!0),i.beforeBuildTicks(),i.ticks=i.buildTicks()||[],i.afterBuildTicks();const u=a<i.ticks.length;i._convertTicksToLabels(u?MP(i.ticks,a):i.ticks),i.configure(),i.beforeCalculateLabelRotation(),i.calculateLabelRotation(),i.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(i.ticks=KY(i,i.ticks),i._labelSizes=null),u&&i._convertTicksToLabels(i.ticks),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate()}configure(){const e=this;let n=e.options.reverse,r,i;e.isHorizontal()?(r=e.left,i=e.right):(r=e.top,i=e.bottom,n=!n),e._startPixel=r,e._endPixel=i,e._reversePixels=n,e._length=i-r,e._alignToPixels=e.options.alignToPixels}afterUpdate(){jt(this.options.afterUpdate,[this])}beforeSetDimensions(){jt(this.options.beforeSetDimensions,[this])}setDimensions(){const e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0}afterSetDimensions(){jt(this.options.afterSetDimensions,[this])}_callHooks(e){const n=this;n.chart.notifyPlugins(e,n.getContext()),jt(n.options[e],[n])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this,r=n.options.ticks;let i,o,a;for(i=0,o=e.length;i<o;i++)a=e[i],a.label=jt(r.callback,[a.value,i,e],n)}afterTickToLabelConversion(){jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this,n=e.options,r=n.ticks,i=e.ticks.length,o=r.minRotation||0,a=r.maxRotation;let u=o,c,f,h;if(!e._isVisible()||!r.display||o>=a||i<=1||!e.isHorizontal()){e.labelRotation=o;return}const p=e._getLabelSizes(),g=p.widest.width,m=p.highest.height,y=rr(e.chart.width-g,0,e.maxWidth);c=n.offset?e.maxWidth/i:y/(i-1),g+6>c&&(c=y/(i-(n.offset?.5:1)),f=e.maxHeight-_h(n.grid)-r.padding-LP(n.title,e.chart.options.font),h=Math.sqrt(g*g+m*m),u=uE(Math.min(Math.asin(rr((p.highest.height+6)/c,-1,1)),Math.asin(rr(f/h,-1,1))-Math.asin(rr(m/h,-1,1)))),u=Math.max(o,Math.min(a,u))),e.labelRotation=u}afterCalculateLabelRotation(){jt(this.options.afterCalculateLabelRotation,[this])}beforeFit(){jt(this.options.beforeFit,[this])}fit(){const e=this,n={width:0,height:0},{chart:r,options:{ticks:i,title:o,grid:a}}=e,u=e._isVisible(),c=e.isHorizontal();if(u){const f=LP(o,r.options.font);if(c?(n.width=e.maxWidth,n.height=_h(a)+f):(n.height=e.maxHeight,n.width=_h(a)+f),i.display&&e.ticks.length){const{first:h,last:p,widest:g,highest:m}=e._getLabelSizes(),y=i.padding*2,b=Ui(e.labelRotation),w=Math.cos(b),T=Math.sin(b);if(c){const A=i.mirror?0:T*g.width+w*m.height;n.height=Math.min(e.maxHeight,n.height+A+y)}else{const A=i.mirror?0:w*g.width+T*m.height;n.width=Math.min(e.maxWidth,n.width+A+y)}e._calculatePadding(h,p,T,w)}}e._handleMargins(),c?(e.width=e._length=r.width-e._margins.left-e._margins.right,e.height=n.height):(e.width=n.width,e.height=e._length=r.height-e._margins.top-e._margins.bottom)}_calculatePadding(e,n,r,i){const o=this,{ticks:{align:a,padding:u},position:c}=o.options,f=o.labelRotation!==0,h=c!=="top"&&o.axis==="x";if(o.isHorizontal()){const p=o.getPixelForTick(0)-o.left,g=o.right-o.getPixelForTick(o.ticks.length-1);let m=0,y=0;f?h?(m=i*e.width,y=r*n.height):(m=r*e.height,y=i*n.width):a==="start"?y=n.width:a==="end"?m=e.width:(m=e.width/2,y=n.width/2),o.paddingLeft=Math.max((m-p+u)*o.width/(o.width-p),0),o.paddingRight=Math.max((y-g+u)*o.width/(o.width-g),0)}else{let p=n.height/2,g=e.height/2;a==="start"?(p=0,g=e.height):a==="end"&&(p=n.height,g=0),o.paddingTop=p+u,o.paddingBottom=g+u}}_handleMargins(){const e=this;e._margins&&(e._margins.left=Math.max(e.paddingLeft,e._margins.left),e._margins.top=Math.max(e.paddingTop,e._margins.top),e._margins.right=Math.max(e.paddingRight,e._margins.right),e._margins.bottom=Math.max(e.paddingBottom,e._margins.bottom))}afterFit(){jt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){const n=this;n.beforeTickToLabelConversion(),n.generateTickLabels(e);let r,i;for(r=0,i=e.length;r<i;r++)kt(e[r].label)&&(e.splice(r,1),i--,r--);n.afterTickToLabelConversion()}_getLabelSizes(){const e=this;let n=e._labelSizes;if(!n){const r=e.options.ticks.sampleSize;let i=e.ticks;r<i.length&&(i=MP(i,r)),e._labelSizes=n=e._computeLabelSizes(i,i.length)}return n}_computeLabelSizes(e,n){const{ctx:r,_longestTextCache:i}=this,o=[],a=[];let u=0,c=0,f,h,p,g,m,y,b,w,T,A,k;for(f=0;f<n;++f){if(g=e[f].label,m=this._resolveTickFontOptions(f),r.font=y=m.string,b=i[y]=i[y]||{data:{},gc:[]},w=m.lineHeight,T=A=0,!kt(g)&&!Ht(g))T=bv(r,b.data,b.gc,T,g),A=w;else if(Ht(g))for(h=0,p=g.length;h<p;++h)k=g[h],!kt(k)&&!Ht(k)&&(T=bv(r,b.data,b.gc,T,k),A+=w);o.push(T),a.push(A),u=Math.max(T,u),c=Math.max(A,c)}tX(i,n);const N=o.indexOf(u),P=a.indexOf(c),D=$=>({width:o[$]||0,height:a[$]||0});return{first:D(0),last:D(n-1),widest:D(N),highest:D(P),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){const n=this;n._reversePixels&&(e=1-e);const r=n._startPixel+e*n._length;return k6(n._alignToPixels?Qa(n.chart,r,0):r)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this,r=n.ticks||[];if(e>=0&&e<r.length){const i=r[e];return i.$context||(i.$context=rX(n.getContext(),e,i))}return n.$context||(n.$context=nX(n.chart.getContext(),n))}_tickSize(){const e=this,n=e.options.ticks,r=Ui(e.labelRotation),i=Math.abs(Math.cos(r)),o=Math.abs(Math.sin(r)),a=e._getLabelSizes(),u=n.autoSkipPadding||0,c=a?a.widest.width+u:0,f=a?a.highest.height+u:0;return e.isHorizontal()?f*i>c*o?c/i:f/o:f*o<c*i?f/i:c/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this,r=n.axis,i=n.chart,o=n.options,{grid:a,position:u}=o,c=a.offset,f=n.isHorizontal(),p=n.ticks.length+(c?1:0),g=_h(a),m=[],y=a.setContext(n.getContext()),b=y.drawBorder?y.borderWidth:0,w=b/2,T=function(H){return Qa(i,H,b)};let A,k,N,P,D,$,B,Y,R,de,we,J;if(u==="top")A=T(n.bottom),$=n.bottom-g,Y=A-w,de=T(e.top)+w,J=e.bottom;else if(u==="bottom")A=T(n.top),de=e.top,J=T(e.bottom)-w,$=A+w,Y=n.top+g;else if(u==="left")A=T(n.right),D=n.right-g,B=A-w,R=T(e.left)+w,we=e.right;else if(u==="right")A=T(n.left),R=e.left,we=T(e.right)-w,D=A+w,B=n.left+g;else if(r==="x"){if(u==="center")A=T((e.top+e.bottom)/2+.5);else if(It(u)){const H=Object.keys(u)[0],W=u[H];A=T(n.chart.scales[H].getPixelForValue(W))}de=e.top,J=e.bottom,$=A+w,Y=$+g}else if(r==="y"){if(u==="center")A=T((e.left+e.right)/2);else if(It(u)){const H=Object.keys(u)[0],W=u[H];A=T(n.chart.scales[H].getPixelForValue(W))}D=A-w,B=D-g,R=e.left,we=e.right}const Te=it(o.ticks.maxTicksLimit,p),ve=Math.max(1,Math.ceil(p/Te));for(k=0;k<p;k+=ve){const H=a.setContext(n.getContext(k)),W=H.lineWidth,Q=H.color,oe=a.borderDash||[],Ne=H.borderDashOffset,ze=H.tickWidth,Fe=H.tickColor,ot=H.tickBorderDash||[],Wt=H.tickBorderDashOffset;N=eX(n,k,c),N!==void 0&&(P=Qa(i,N,W),f?D=B=R=we=P:$=Y=de=J=P,m.push({tx1:D,ty1:$,tx2:B,ty2:Y,x1:R,y1:de,x2:we,y2:J,width:W,color:Q,borderDash:oe,borderDashOffset:Ne,tickWidth:ze,tickColor:Fe,tickBorderDash:ot,tickBorderDashOffset:Wt}))}return n._ticksLength=p,n._borderValue=A,m}_computeLabelItems(e){const n=this,r=n.axis,i=n.options,{position:o,ticks:a}=i,u=n.isHorizontal(),c=n.ticks,{align:f,crossAlign:h,padding:p,mirror:g}=a,m=_h(i.grid),y=m+p,b=g?-p:y,w=-Ui(n.labelRotation),T=[];let A,k,N,P,D,$,B,Y,R,de,we,J,Te="middle";if(o==="top")$=n.bottom-b,B=n._getXAxisLabelAlignment();else if(o==="bottom")$=n.top+b,B=n._getXAxisLabelAlignment();else if(o==="left"){const H=n._getYAxisLabelAlignment(m);B=H.textAlign,D=H.x}else if(o==="right"){const H=n._getYAxisLabelAlignment(m);B=H.textAlign,D=H.x}else if(r==="x"){if(o==="center")$=(e.top+e.bottom)/2+y;else if(It(o)){const H=Object.keys(o)[0],W=o[H];$=n.chart.scales[H].getPixelForValue(W)+y}B=n._getXAxisLabelAlignment()}else if(r==="y"){if(o==="center")D=(e.left+e.right)/2-y;else if(It(o)){const H=Object.keys(o)[0],W=o[H];D=n.chart.scales[H].getPixelForValue(W)}B=n._getYAxisLabelAlignment(m).textAlign}r==="y"&&(f==="start"?Te="top":f==="end"&&(Te="bottom"));const ve=n._getLabelSizes();for(A=0,k=c.length;A<k;++A){N=c[A],P=N.label;const H=a.setContext(n.getContext(A));Y=n.getPixelForTick(A)+a.labelOffset,R=n._resolveTickFontOptions(A),de=R.lineHeight,we=Ht(P)?P.length:1;const W=we/2,Q=H.color,oe=H.textStrokeColor,Ne=H.textStrokeWidth;u?(D=Y,o==="top"?h==="near"||w!==0?J=-we*de+de/2:h==="center"?J=-ve.highest.height/2-W*de+de:J=-ve.highest.height+de/2:h==="near"||w!==0?J=de/2:h==="center"?J=ve.highest.height/2-W*de:J=ve.highest.height-we*de,g&&(J*=-1)):($=Y,J=(1-we)*de/2);let ze;if(H.showLabelBackdrop){const Fe=mr(H.backdropPadding),ot=ve.heights[A],Wt=ve.widths[A];let X=$+J-Fe.top,Ee=D-Fe.left;switch(Te){case"middle":X-=ot/2;break;case"bottom":X-=ot;break}switch(B){case"center":Ee-=Wt/2;break;case"right":Ee-=Wt;break}ze={left:Ee,top:X,width:Wt+Fe.width,height:ot+Fe.height,color:H.backdropColor}}T.push({rotation:w,label:P,font:R,color:Q,strokeColor:oe,strokeWidth:Ne,textOffset:J,textAlign:B,textBaseline:Te,translation:[D,$],backdrop:ze})}return T}_getXAxisLabelAlignment(){const e=this,{position:n,ticks:r}=e.options;if(-Ui(e.labelRotation))return n==="top"?"left":"right";let o="center";return r.align==="start"?o="left":r.align==="end"&&(o="right"),o}_getYAxisLabelAlignment(e){const n=this,{position:r,ticks:{crossAlign:i,mirror:o,padding:a}}=n.options,u=n._getLabelSizes(),c=e+a,f=u.widest.width;let h,p;return r==="left"?o?(p=n.right+a,i==="near"?h="left":i==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=n.right-c,i==="near"?h="right":i==="center"?(h="center",p-=f/2):(h="left",p=n.left)):r==="right"?o?(p=n.left+a,i==="near"?h="right":i==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=n.left+c,i==="near"?h="left":i==="center"?(h="center",p+=f/2):(h="right",p=n.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){const e=this;if(e.options.ticks.mirror)return;const n=e.chart,r=e.options.position;if(r==="left"||r==="right")return{top:0,left:e.left,bottom:n.height,right:e.right};if(r==="top"||r==="bottom")return{top:e.top,left:0,bottom:e.bottom,right:n.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:o,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,o,a),e.restore())}getLineWidthForValue(e){const n=this,r=n.options.grid;if(!n._isVisible()||!r.display)return 0;const o=n.ticks.findIndex(a=>a.value===e);return o>=0?r.setContext(n.getContext(o)).lineWidth:0}drawGrid(e){const n=this,r=n.options.grid,i=n.ctx,o=n._gridLineItems||(n._gridLineItems=n._computeGridLineItems(e));let a,u;const c=(f,h,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(r.display)for(a=0,u=o.length;a<u;++a){const f=o[a];r.drawOnChartArea&&c({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),r.drawTicks&&c({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const e=this,{chart:n,ctx:r,options:{grid:i}}=e,o=i.setContext(e.getContext()),a=i.drawBorder?o.borderWidth:0;if(!a)return;const u=i.setContext(e.getContext(0)).lineWidth,c=e._borderValue;let f,h,p,g;e.isHorizontal()?(f=Qa(n,e.left,a)-a/2,h=Qa(n,e.right,u)+u/2,p=g=c):(p=Qa(n,e.top,a)-a/2,g=Qa(n,e.bottom,u)+u/2,f=h=c),r.save(),r.lineWidth=o.borderWidth,r.strokeStyle=o.borderColor,r.beginPath(),r.moveTo(f,p),r.lineTo(h,g),r.stroke(),r.restore()}drawLabels(e){const n=this;if(!n.options.ticks.display)return;const i=n.ctx,o=n._computeLabelArea();o&&yE(i,o);const a=n._labelItems||(n._labelItems=n._computeLabelItems(e));let u,c;for(u=0,c=a.length;u<c;++u){const f=a[u],h=f.font,p=f.label;f.backdrop&&(i.fillStyle=f.backdrop.color,i.fillRect(f.backdrop.left,f.backdrop.top,f.backdrop.width,f.backdrop.height));let g=f.textOffset;Za(i,p,0,g,h,f)}o&&_E(i)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const o=Tn(r.font),a=mr(r.padding),u=r.align;let c=o.lineHeight/2;n==="bottom"||n==="center"||It(n)?(c+=a.bottom,Ht(r.text)&&(c+=o.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:f,titleY:h,maxWidth:p,rotation:g}=oX(this,c,n,u);Za(e,r.text,0,0,o,{color:r.color,maxWidth:p,rotation:g,textAlign:iX(u,n,i),textBaseline:"middle",translation:[f,h]})}draw(e){const n=this;!n._isVisible()||(n.drawBackground(),n.drawGrid(e),n.drawBorder(),n.drawTitle(),n.drawLabels(e))}_layers(){const e=this,n=e.options,r=n.ticks&&n.ticks.z||0,i=it(n.grid&&n.grid.z,-1);return!e._isVisible()||e.draw!==iu.prototype.draw?[{z:r,draw(o){e.draw(o)}}]:[{z:i,draw(o){e.drawBackground(),e.drawGrid(o),e.drawTitle()}},{z:i+1,draw(){e.drawBorder()}},{z:r,draw(o){e.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this,r=n.chart.getSortedVisibleDatasetMetas(),i=n.axis+"AxisID",o=[];let a,u;for(a=0,u=r.length;a<u;++a){const c=r[a];c[i]===n.id&&(!e||c.type===e)&&o.push(c)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Tn(n.font)}_maxDigits(){const e=this,n=e._resolveTickFontOptions(0).lineHeight;return(e.isHorizontal()?e.width:e.height)/n}}class Nv{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=this,r=Object.getPrototypeOf(e);let i;uX(r)&&(i=n.register(r));const o=n.items,a=e.id,u=n.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,sX(e,u,i),n.override&&lt.override(e.id,e.overrides)),u}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in lt[i]&&(delete lt[i][r],this.override&&delete Xa[r])}}function sX(t,e,n){const r=nh(Object.create(null),[n?lt.get(n):{},lt.get(e),t.defaults]);lt.set(e,r),t.defaultRoutes&&aX(e,t.defaultRoutes),t.descriptors&&lt.describe(e,t.descriptors)}function aX(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),u=a.pop(),c=a.join(".");lt.route(o,i,c,u)})}function uX(t){return"id"in t&&"defaults"in t}class cX{constructor(){this.controllers=new Nv(go,"datasets",!0),this.elements=new Nv(ji,"elements"),this.plugins=new Nv(Object,"plugins"),this.scales=new Nv(iu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){const i=this;[...n].forEach(o=>{const a=r||i._getRegistryForType(o);r||a.isForType(o)||a===i.plugins&&o.id?i._exec(e,a,o):Rt(o,u=>{const c=r||i._getRegistryForType(u);i._exec(e,c,u)})})}_exec(e,n,r){const i=aE(e);jt(r["before"+i],[],r),n[e](r),jt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Wo=new cX;class lX{constructor(){this._init=[]}notify(e,n,r,i){const o=this;n==="beforeInit"&&(o._init=o._createDescriptors(e,!0),o._notify(o._init,e,"install"));const a=i?o._descriptors(e).filter(i):o._descriptors(e),u=o._notify(a,e,n,r);return n==="destroy"&&(o._notify(a,e,"stop"),o._notify(o._init,e,"uninstall")),u}_notify(e,n,r,i){i=i||{};for(const o of e){const a=o.plugin,u=a[r],c=[n,i,o.options];if(jt(u,c,a)===!1&&i.cancelable)return!1}return!0}invalidate(){kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=it(r.options&&r.options.plugins,{}),o=fX(r);return i===!1&&!n?[]:dX(e,o,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(o,a)=>o.filter(u=>!a.some(c=>u.plugin.id===c.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function fX(t){const e=[],n=Object.keys(Wo.plugins.items);for(let i=0;i<n.length;i++)e.push(Wo.getPlugin(n[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];e.indexOf(o)===-1&&e.push(o)}return e}function hX(t,e){return!e&&t===!1?null:t===!0?{}:t}function dX(t,e,n,r){const i=[],o=t.getContext();for(let a=0;a<e.length;a++){const u=e[a],c=u.id,f=hX(n[c],r);f!==null&&i.push({plugin:u,options:pX(t.config,u,f,o)})}return i}function pX(t,e,n,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function UE(t,e){const n=lt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function gX(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function vX(t,e){return t===e?"_index_":"_value_"}function mX(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function jE(t,e){return t==="x"||t==="y"?t:e.axis||mX(e.position)||t.charAt(0).toLowerCase()}function yX(t,e){const n=Xa[t.type]||{scales:{}},r=e.scales||{},i=UE(t.type,e),o=Object.create(null),a=Object.create(null);return Object.keys(r).forEach(u=>{const c=r[u],f=jE(u,c),h=vX(f,i),p=n.scales||{};o[f]=o[f]||u,a[u]=rh(Object.create(null),[{axis:f},c,p[f],p[h]])}),t.data.datasets.forEach(u=>{const c=u.type||t.type,f=u.indexAxis||UE(c,e),p=(Xa[c]||{}).scales||{};Object.keys(p).forEach(g=>{const m=gX(g,f),y=u[m+"AxisID"]||o[m]||m;a[y]=a[y]||Object.create(null),rh(a[y],[{axis:m},r[y],p[g]])})}),Object.keys(a).forEach(u=>{const c=a[u];rh(c,[lt.scales[c.type],lt.scale])}),a}function FP(t){const e=t.options||(t.options={});e.plugins=it(e.plugins,{}),e.scales=yX(t,e)}function UP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function _X(t){return t=t||{},t.data=UP(t.data),FP(t),t}const jP=new Map,BP=new Set;function Pv(t,e){let n=jP.get(t);return n||(n=e(),jP.set(t,n),BP.add(n)),n}const bh=(t,e,n)=>{const r=ks(e,n);r!==void 0&&t.add(r)};class bX{constructor(e){this._config=_X(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=UP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),FP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Pv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Pv(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Pv(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Pv(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:o}=this,a=this._cachedScopes(e,r),u=a.get(n);if(u)return u;const c=new Set;n.forEach(h=>{e&&(c.add(e),h.forEach(p=>bh(c,e,p))),h.forEach(p=>bh(c,i,p)),h.forEach(p=>bh(c,Xa[o]||{},p)),h.forEach(p=>bh(c,lt,p)),h.forEach(p=>bh(c,vE,p))});const f=Array.from(c);return f.length===0&&f.push(Object.create(null)),BP.has(n)&&a.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,Xa[n]||{},lt.datasets[n]||{},{type:n},lt,vE]}resolveNamedOptions(e,n,r,i=[""]){const o={$shared:!0},{resolver:a,subPrefixes:u}=VP(this._resolverCache,e,i);let c=a;if(wX(a,n)){o.$shared=!1,r=Lc(r)?r():r;const f=this.createResolver(e,r,u);c=Uc(a,r,f)}for(const f of n)o[f]=c[f];return o}createResolver(e,n,r=[""],i){const{resolver:o}=VP(this._resolverCache,e,r);return It(n)?Uc(o,n,void 0,i):o}}function VP(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);return o||(o={resolver:TE(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,o)),o}function wX(t,e){const{isScriptable:n,isIndexable:r}=qN(t);for(const i of e)if(n(i)&&Lc(t[i])||r(i)&&Ht(t[i]))return!0;return!1}var EX="3.5.1";const TX=["top","bottom","left","right","chartArea"];function qP(t,e){return t==="top"||t==="bottom"||TX.indexOf(t)===-1&&e==="x"}function HP(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function $P(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),jt(n&&n.onComplete,[t],e)}function IX(t){const e=t.chart,n=e.options.animation;jt(n&&n.onProgress,[t],e)}function WP(t){return XN()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Dv={},zP=t=>{const e=WP(t);return Object.values(Dv).filter(n=>n.canvas===e).pop()};class KP{constructor(e,n){const r=this,i=this.config=new bX(n),o=WP(e),a=zP(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");const u=i.createResolver(i.chartOptionScopes(),r.getContext());this.platform=new(i.platform||WY(o));const c=r.platform.acquireContext(o,u.aspectRatio),f=c&&c.canvas,h=f&&f.height,p=f&&f.width;if(this.id=v6(),this.ctx=c,this.canvas=f,this.width=p,this.height=h,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lX,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=p6(()=>this.update("resize"),u.resizeDelay||0),Dv[r.id]=r,!c||!f){console.error("Failed to create chart: can't acquire context from the given item");return}$o.listen(r,"complete",$P),$o.listen(r,"progress",IX),r._initialize(),r.attached&&r.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:o}=this;return kt(e)?n&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){const e=this;return e.notifyPlugins("beforeInit"),e.options.responsive?e.resize():JN(e,e.options.devicePixelRatio),e.bindEvents(),e.notifyPlugins("afterInit"),e}clear(){return FN(this.canvas,this.ctx),this}stop(){return $o.stop(this),this}resize(e,n){$o.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this,i=r.options,o=r.canvas,a=i.maintainAspectRatio&&r.aspectRatio,u=r.platform.getMaximumSize(o,e,n,a),c=i.devicePixelRatio||r.platform.getDevicePixelRatio();r.width=u.width,r.height=u.height,r._aspectRatio=r.aspectRatio,!!JN(r,c,!0)&&(r.notifyPlugins("resize",{size:u}),jt(i.onResize,[r,u],r),r.attached&&r._doResize()&&r.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Rt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this,n=e.options,r=n.scales,i=e.scales,o=Object.keys(i).reduce((u,c)=>(u[c]=!1,u),{});let a=[];r&&(a=a.concat(Object.keys(r).map(u=>{const c=r[u],f=jE(u,c),h=f==="r",p=f==="x";return{options:c,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Rt(a,u=>{const c=u.options,f=c.id,h=jE(f,c),p=it(c.type,u.dtype);(c.position===void 0||qP(c.position,h)!==qP(u.dposition))&&(c.position=u.dposition),o[f]=!0;let g=null;if(f in i&&i[f].type===p)g=i[f];else{const m=Wo.getScale(p);g=new m({id:f,type:p,ctx:e.ctx,chart:e}),i[g.id]=g}g.init(c,n)}),Rt(o,(u,c)=>{u||delete i[c]}),Rt(i,u=>{gi.configure(e,u,u.options),gi.addBox(e,u)})}_updateMetasets(){const e=this,n=e._metasets,r=e.data.datasets.length,i=n.length;if(n.sort((o,a)=>o.index-a.index),i>r){for(let o=r;o<i;++o)e._destroyDatasetMeta(o);n.splice(r,i-r)}e._sortedMetasets=n.slice(0).sort(HP("order","index"))}_removeUnreferencedMetasets(){const e=this,{_metasets:n,data:{datasets:r}}=e;n.length>r.length&&delete e._stacks,n.forEach((i,o)=>{r.filter(a=>a===i._dataset).length===0&&e._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=this,n=[],r=e.data.datasets;let i,o;for(e._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){const a=r[i];let u=e.getDatasetMeta(i);const c=a.type||e.config.type;if(u.type&&u.type!==c&&(e._destroyDatasetMeta(i),u=e.getDatasetMeta(i)),u.type=c,u.indexAxis=a.indexAxis||UE(c,e.options),u.order=a.order||0,u.index=i,u.label=""+a.label,u.visible=e.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const f=Wo.getController(c),{datasetElementType:h,dataElementType:p}=lt.datasets[c];Object.assign(f.prototype,{dataElementType:Wo.getElement(p),datasetElementType:h&&Wo.getElement(h)}),u.controller=new f(e,i),n.push(u.controller)}}return e._updateMetasets(),n}_resetElements(){const e=this;Rt(e.data.datasets,(n,r)=>{e.getDatasetMeta(r).controller.reset()},e)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this,r=n.config;r.update(),n._options=r.createResolver(r.chartOptionScopes(),n.getContext()),Rt(n.scales,f=>{gi.removeBox(n,f)});const i=n._animationsDisabled=!n.options.animation;n.ensureScalesHaveIDs(),n.buildOrUpdateScales();const o=new Set(Object.keys(n._listeners)),a=new Set(n.options.events);if((!E6(o,a)||!!this._responsiveListeners!==n.options.responsive)&&(n.unbindEvents(),n.bindEvents()),n._plugins.invalidate(),n.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const u=n.buildOrUpdateControllers();n.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,h=n.data.datasets.length;f<h;f++){const{controller:p}=n.getDatasetMeta(f),g=!i&&u.indexOf(p)===-1;p.buildOrUpdateElements(g),c=Math.max(+p.getMaxOverflow(),c)}n._minPadding=c,n._updateLayout(c),i||Rt(u,f=>{f.reset()}),n._updateDatasets(e),n.notifyPlugins("afterUpdate",{mode:e}),n._layers.sort(HP("z","_idx")),n._lastEvent&&n._eventHandler(n._lastEvent,!0),n.render()}_updateLayout(e){const n=this;if(n.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gi.update(n,n.width,n.height,e);const r=n.chartArea,i=r.width<=0||r.height<=0;n._layers=[],Rt(n.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),n._layers.push(...o._layers()))},n),n._layers.forEach((o,a)=>{o._idx=a}),n.notifyPlugins("afterLayout")}_updateDatasets(e){const n=this,r=typeof e=="function";if(n.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,o=n.data.datasets.length;i<o;++i)n._updateDataset(i,r?e({datasetIndex:i}):e);n.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this,i=r.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};r.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,r.notifyPlugins("afterDatasetUpdate",o))}render(){const e=this;e.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($o.has(e)?e.attached&&!$o.running(e)&&$o.start(e):(e.draw(),$P({chart:e})))}draw(){const e=this;let n;if(e._resizeBeforeDraw){const{width:i,height:o}=e._resizeBeforeDraw;e._resize(i,o),e._resizeBeforeDraw=null}if(e.clear(),e.width<=0||e.height<=0||e.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=e._layers;for(n=0;n<r.length&&r[n].z<=0;++n)r[n].draw(e.chartArea);for(e._drawDatasets();n<r.length;++n)r[n].draw(e.chartArea);e.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,i=[];let o,a;for(o=0,a=r.length;o<a;++o){const u=r[o];(!e||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const e=this;if(e.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const n=e.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r)e._drawDataset(n[r]);e.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this,r=n.ctx,i=e._clip,o=!i.disabled,a=n.chartArea,u={meta:e,index:e.index,cancelable:!0};n.notifyPlugins("beforeDatasetDraw",u)!==!1&&(o&&yE(r,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?n.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?n.height:a.bottom+i.bottom}),e.controller.draw(),o&&_E(r),u.cancelable=!1,n.notifyPlugins("afterDatasetDraw",u))}getElementsAtEventForMode(e,n,r,i){const o=IY.modes[n];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const n=this,r=n.data.datasets[e],i=n._metasets;let o=i.filter(a=>a&&a._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context={chart:this,type:"chart"})}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=this,o=r?"show":"hide",a=i.getDatasetMeta(e),u=a.controller._resolveAnimations(void 0,o);Dr(n)?(a.data[n].hidden=!r,i.update()):(i.setDatasetVisibility(e,r),u.update(a,{visible:r}),i.update(c=>c.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this,r=n._metasets&&n._metasets[e];r&&r.controller&&(r.controller._destroy(),delete n._metasets[e])}destroy(){const e=this,{canvas:n,ctx:r}=e;let i,o;for(e.stop(),$o.remove(e),i=0,o=e.data.datasets.length;i<o;++i)e._destroyDatasetMeta(i);e.config.clearCache(),n&&(e.unbindEvents(),FN(n,r),e.platform.releaseContext(r),e.canvas=null,e.ctx=null),e.notifyPlugins("destroy"),delete Dv[e.id]}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this,n=e._listeners,r=e.platform,i=(a,u)=>{r.addEventListener(e,a,u),n[a]=u},o=function(a,u,c){a.offsetX=u,a.offsetY=c,e._eventHandler(a)};Rt(e.options.events,a=>i(a,o))}bindResponsiveEvents(){const e=this;e._responsiveListeners||(e._responsiveListeners={});const n=e._responsiveListeners,r=e.platform,i=(f,h)=>{r.addEventListener(e,f,h),n[f]=h},o=(f,h)=>{n[f]&&(r.removeEventListener(e,f,h),delete n[f])},a=(f,h)=>{e.canvas&&e.resize(f,h)};let u;const c=()=>{o("attach",c),e.attached=!0,e.resize(),i("resize",a),i("detach",u)};u=()=>{e.attached=!1,o("resize",a),i("attach",c)},r.isAttached(e.canvas)?c():u()}unbindEvents(){const e=this;Rt(e._listeners,(n,r)=>{e.platform.removeEventListener(e,r,n)}),e._listeners={},Rt(e._responsiveListeners,(n,r)=>{e.platform.removeEventListener(e,r,n)}),e._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let o,a,u,c;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),u=0,c=e.length;u<c;++u){a=e[u];const f=a&&this.getDatasetMeta(a.datasetIndex).controller;f&&f[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this,r=n._active||[],i=e.map(({datasetIndex:a,index:u})=>{const c=n.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[u],index:u}});!lv(i,r)&&(n._active=i,n._updateHoverStyles(i,r))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}_updateHoverStyles(e,n,r){const i=this,o=i.options.hover,a=(f,h)=>f.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),u=a(n,e),c=r?e:a(e,n);u.length&&i.updateHoverStyle(u,o.mode,!1),c.length&&o.mode&&i.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,n){const r=this,i={event:e,replay:n,cancelable:!0},o=u=>(u.options.events||this.options.events).includes(e.type);if(r.notifyPlugins("beforeEvent",i,o)===!1)return;const a=r._handleEvent(e,n);return i.cancelable=!1,r.notifyPlugins("afterEvent",i,o),(a||i.changed)&&r.render(),r}_handleEvent(e,n){const r=this,{_active:i=[],options:o}=r,a=o.hover,u=n;let c=[],f=!1,h=null;return e.type!=="mouseout"&&(c=r.getElementsAtEventForMode(e,a.mode,a,u),h=e.type==="click"?r._lastEvent:e),r._lastEvent=null,Ja(e,r.chartArea,r._minPadding)&&(jt(o.onHover,[e,c,r],r),(e.type==="mouseup"||e.type==="click"||e.type==="contextmenu")&&jt(o.onClick,[e,c,r],r)),f=!lv(c,i),(f||n)&&(r._active=c,r._updateHoverStyles(c,i,n)),r._lastEvent=h,f}}const GP=()=>Rt(KP.instances,t=>t._plugins.invalidate()),Rs=!0;Object.defineProperties(KP,{defaults:{enumerable:Rs,value:lt},instances:{enumerable:Rs,value:Dv},overrides:{enumerable:Rs,value:Xa},registry:{enumerable:Rs,value:Wo},version:{enumerable:Rs,value:EX},getChart:{enumerable:Rs,value:zP},register:{enumerable:Rs,value:(...t)=>{Wo.add(...t),GP()}},unregister:{enumerable:Rs,value:(...t)=>{Wo.remove(...t),GP()}}});function YP(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:a,outerRadius:u,innerRadius:c}=e;let f=i/u;t.beginPath(),t.arc(o,a,u,r-f,n+f),c>i?(f=i/c,t.arc(o,a,c,n+f,r-f,!0)):t.arc(o,a,i,n+un,r-un),t.closePath(),t.clip()}function SX(t){return bE(t,["outerStart","outerEnd","innerStart","innerEnd"])}function CX(t,e,n,r){const i=SX(t.options.borderRadius),o=(n-e)/2,a=Math.min(o,r*e/2),u=c=>{const f=(n-Math.min(o,c))*r/2;return rr(c,0,Math.min(o,f))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:rr(i.innerStart,0,a),innerEnd:rr(i.innerEnd,0,a)}}function qc(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function BE(t,e,n,r,i){const{x:o,y:a,startAngle:u,pixelMargin:c,innerRadius:f}=e,h=Math.max(e.outerRadius+r+n-c,0),p=f>0?f+r+n+c:0;let g=0;const m=i-u;if(r){const H=f>0?f-r:0,W=h>0?h-r:0,Q=(H+W)/2,oe=Q!==0?m*Q/(Q+r):m;g=(m-oe)/2}const y=Math.max(.001,m*h-n/tn)/h,b=(m-y)/2,w=u+b+g,T=i-b-g,{outerStart:A,outerEnd:k,innerStart:N,innerEnd:P}=CX(e,p,h,T-w),D=h-A,$=h-k,B=w+A/D,Y=T-k/$,R=p+N,de=p+P,we=w+N/R,J=T-P/de;if(t.beginPath(),t.arc(o,a,h,B,Y),k>0){const H=qc($,Y,o,a);t.arc(H.x,H.y,k,Y,T+un)}const Te=qc(de,T,o,a);if(t.lineTo(Te.x,Te.y),P>0){const H=qc(de,J,o,a);t.arc(H.x,H.y,P,T+un,J+Math.PI)}if(t.arc(o,a,p,T-P/p,w+N/p,!0),N>0){const H=qc(R,we,o,a);t.arc(H.x,H.y,N,we+Math.PI,w-un)}const ve=qc(D,w,o,a);if(t.lineTo(ve.x,ve.y),A>0){const H=qc(D,B,o,a);t.arc(H.x,H.y,A,w-un,B)}t.closePath()}function AX(t,e,n,r){const{fullCircles:i,startAngle:o,circumference:a}=e;let u=e.endAngle;if(i){BE(t,e,n,r,o+Bt);for(let c=0;c<i;++c)t.fill();isNaN(a)||(u=o+a%Bt,a%Bt==0&&(u+=Bt))}return BE(t,e,n,r,u),t.fill(),u}function xX(t,e,n){const{x:r,y:i,startAngle:o,pixelMargin:a,fullCircles:u}=e,c=Math.max(e.outerRadius-a,0),f=e.innerRadius+a;let h;for(n&&YP(t,e,o+Bt),t.beginPath(),t.arc(r,i,f,o+Bt,o,!0),h=0;h<u;++h)t.stroke();for(t.beginPath(),t.arc(r,i,c,o,o+Bt),h=0;h<u;++h)t.stroke()}function kX(t,e,n,r,i){const{options:o}=e,a=o.borderAlign==="inner";!o.borderWidth||(a?(t.lineWidth=o.borderWidth*2,t.lineJoin="round"):(t.lineWidth=o.borderWidth,t.lineJoin="bevel"),e.fullCircles&&xX(t,e,a),a&&YP(t,e,i),BE(t,e,n,r,i),t.stroke())}class VE extends ji{constructor(e){super();this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=A6(i,{x:e,y:n}),{startAngle:u,endAngle:c,innerRadius:f,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=this.options.spacing/2,m=p>=Bt||dv(o,u,c),y=a>=f+g&&a<=h+g;return m&&y}getCenterPoint(e){const{x:n,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:c,spacing:f}=this.options,h=(i+o)/2,p=(a+u+f+c)/2;return{x:n+Math.cos(h)*p,y:r+Math.sin(h)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const n=this,{options:r,circumference:i}=n,o=(r.offset||0)/2,a=(r.spacing||0)/2;if(n.pixelMargin=r.borderAlign==="inner"?.33:0,n.fullCircles=i>Bt?Math.floor(i/Bt):0,i===0||n.innerRadius<0||n.outerRadius<0)return;e.save();let u=0;if(o){u=o/2;const f=(n.startAngle+n.endAngle)/2;e.translate(Math.cos(f)*u,Math.sin(f)*u),n.circumference>=tn&&(u=o)}e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor;const c=AX(e,n,u,a);kX(e,n,u,a,c),e.restore()}}VE.id="arc";VE.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};VE.defaultRoutes={backgroundColor:"backgroundColor"};function XP(t,e,n=e){t.lineCap=it(n.borderCapStyle,e.borderCapStyle),t.setLineDash(it(n.borderDash,e.borderDash)),t.lineDashOffset=it(n.borderDashOffset,e.borderDashOffset),t.lineJoin=it(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=it(n.borderWidth,e.borderWidth),t.strokeStyle=it(n.borderColor,e.borderColor)}function RX(t,e,n){t.lineTo(n.x,n.y)}function OX(t){return t.stepped?J6:t.tension||t.cubicInterpolationMode==="monotone"?Z6:RX}function QP(t,e,n={}){const r=t.length,{start:i=0,end:o=r-1}=n,{start:a,end:u}=e,c=Math.max(i,a),f=Math.min(o,u),h=i<a&&o<a||i>u&&o>u;return{count:r,start:c,loop:e.loop,ilen:f<c&&!h?r+f-c:f-c}}function NX(t,e,n,r){const{points:i,options:o}=e,{count:a,start:u,loop:c,ilen:f}=QP(i,n,r),h=OX(o);let{move:p=!0,reverse:g}=r||{},m,y,b;for(m=0;m<=f;++m)y=i[(u+(g?f-m:m))%a],!y.skip&&(p?(t.moveTo(y.x,y.y),p=!1):h(t,b,y,g,o.stepped),b=y);return c&&(y=i[(u+(g?f:0))%a],h(t,b,y,g,o.stepped)),!!c}function PX(t,e,n,r){const i=e.points,{count:o,start:a,ilen:u}=QP(i,n,r),{move:c=!0,reverse:f}=r||{};let h=0,p=0,g,m,y,b,w,T;const A=N=>(a+(f?u-N:N))%o,k=()=>{b!==w&&(t.lineTo(h,w),t.lineTo(h,b),t.lineTo(h,T))};for(c&&(m=i[A(0)],t.moveTo(m.x,m.y)),g=0;g<=u;++g){if(m=i[A(g)],m.skip)continue;const N=m.x,P=m.y,D=N|0;D===y?(P<b?b=P:P>w&&(w=P),h=(p*h+N)/++p):(k(),t.lineTo(N,P),y=D,p=0,b=w=P),T=P}k()}function qE(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?PX:NX}function DX(t){return t.stepped?P5:t.tension||t.cubicInterpolationMode==="monotone"?D5:nu}function MX(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),XP(t,e.options),t.stroke(i)}function LX(t,e,n,r){const{segments:i,options:o}=e,a=qE(e);for(const u of i)XP(t,o,u.style),t.beginPath(),a(t,e,u,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const FX=typeof Path2D=="function";function UX(t,e,n,r){FX&&e.segments.length===1?MX(t,e,n,r):LX(t,e,n,r)}class Mv extends ji{constructor(e){super();this.animated=!0,this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this,i=r.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!r._pointsUpdated){const o=i.spanGaps?r._loop:r._fullLoop;S5(r._points,i,e,o,n),r._pointsUpdated=!0}}set points(e){const n=this;n._points=e,delete n._segments,delete n._path,n._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=H5(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this,i=r.options,o=e[n],a=r.points,u=B5(r,{property:n,start:o,end:o});if(!u.length)return;const c=[],f=DX(i);let h,p;for(h=0,p=u.length;h<p;++h){const{start:g,end:m}=u[h],y=a[g],b=a[m];if(y===b){c.push(y);continue}const w=Math.abs((o-y[n])/(b[n]-y[n])),T=f(y,b,w,i.stepped);T[n]=e[n],c.push(T)}return c.length===1?c[0]:c}pathSegment(e,n,r){return qE(this)(e,this,n,r)}path(e,n,r){const i=this,o=i.segments,a=qE(i);let u=i._loop;n=n||0,r=r||i.points.length-n;for(const c of o)u&=a(e,i,c,{start:n,end:n+r-1});return!!u}draw(e,n,r,i){const o=this,a=o.options||{};!(o.points||[]).length||!a.borderWidth||(e.save(),UX(e,o,r,i),e.restore(),o.animated&&(o._pointsUpdated=!1,o._path=void 0))}}Mv.id="line";Mv.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Mv.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Mv.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function JP(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}class HE extends ji{constructor(e){super();this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(n-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return JP(this,e,"x",n)}inYRange(e,n){return JP(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this,i=r.options;r.skip||i.radius<.1||!Ja(r,n,r.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,wv(e,i,r.x,r.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}HE.id="point";HE.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};HE.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function ZP(t,e){const{x:n,y:r,base:i,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let u,c,f,h,p;return t.horizontal?(p=a/2,u=Math.min(n,i),c=Math.max(n,i),f=r-p,h=r+p):(p=o/2,u=n-p,c=n+p,f=Math.min(r,i),h=Math.max(r,i)),{left:u,top:f,right:c,bottom:h}}function Os(t,e,n,r){return t?0:rr(e,n,r)}function jX(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=UN(r);return{t:Os(i.top,o.top,0,n),r:Os(i.right,o.right,0,e),b:Os(i.bottom,o.bottom,0,n),l:Os(i.left,o.left,0,e)}}function BX(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=wE(i),a=Math.min(e,n),u=t.borderSkipped,c=r||It(i);return{topLeft:Os(!c||u.top||u.left,o.topLeft,0,a),topRight:Os(!c||u.top||u.right,o.topRight,0,a),bottomLeft:Os(!c||u.bottom||u.left,o.bottomLeft,0,a),bottomRight:Os(!c||u.bottom||u.right,o.bottomRight,0,a)}}function VX(t){const e=ZP(t),n=e.right-e.left,r=e.bottom-e.top,i=jX(t,n/2,r/2),o=BX(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function $E(t,e,n,r){const i=e===null,o=n===null,u=t&&!(i&&o)&&ZP(t,r);return u&&(i||e>=u.left&&e<=u.right)&&(o||n>=u.top&&n<=u.bottom)}function qX(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function HX(t,e){t.rect(e.x,e.y,e.w,e.h)}function WE(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+a,radius:t.radius}}class zE extends ji{constructor(e){super();this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,e&&Object.assign(this,e)}draw(e){const n=this.options,{inner:r,outer:i}=VX(this),o=qX(i.radius)?Ev:HX,a=.33;e.save(),(i.w!==r.w||i.h!==r.h)&&(e.beginPath(),o(e,WE(i,a,r)),e.clip(),o(e,WE(r,-a,i)),e.fillStyle=n.borderColor,e.fill("evenodd")),e.beginPath(),o(e,WE(r,a,i)),e.fillStyle=n.backgroundColor,e.fill(),e.restore()}inRange(e,n,r){return $E(this,e,n,r)}inXRange(e,n){return $E(this,e,null,n)}inYRange(e,n){return $E(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+i)/2:n,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}zE.id="bar";zE.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0};zE.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const eD=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},$X=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class tD extends ji{constructor(e){super();this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){const i=this;i.maxWidth=e,i.maxHeight=n,i._margins=r,i.setDimensions(),i.buildLabels(),i.fit()}setDimensions(){const e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=e._margins.left,e.right=e.width):(e.height=e.maxHeight,e.top=e._margins.top,e.bottom=e.height)}buildLabels(){const e=this,n=e.options.labels||{};let r=jt(n.generateLabels,[e.chart],e)||[];n.filter&&(r=r.filter(i=>n.filter(i,e.chart.data))),n.sort&&(r=r.sort((i,o)=>n.sort(i,o,e.chart.data))),e.options.reverse&&r.reverse(),e.legendItems=r}fit(){const e=this,{options:n,ctx:r}=e;if(!n.display){e.width=e.height=0;return}const i=n.labels,o=Tn(i.font),a=o.size,u=e._computeTitleHeight(),{boxWidth:c,itemHeight:f}=eD(i,a);let h,p;r.font=o.string,e.isHorizontal()?(h=e.maxWidth,p=e._fitRows(u,a,c,f)+10):(p=e.maxHeight,h=e._fitCols(u,a,c,f)+10),e.width=Math.min(h,n.maxWidth||e.maxWidth),e.height=Math.min(p,n.maxHeight||e.maxHeight)}_fitRows(e,n,r,i){const o=this,{ctx:a,maxWidth:u,options:{labels:{padding:c}}}=o,f=o.legendHitBoxes=[],h=o.lineWidths=[0],p=i+c;let g=e;a.textAlign="left",a.textBaseline="middle";let m=-1,y=-p;return o.legendItems.forEach((b,w)=>{const T=r+n/2+a.measureText(b.text).width;(w===0||h[h.length-1]+T+2*c>u)&&(g+=p,h[h.length-(w>0?0:1)]=0,y+=p,m++),f[w]={left:0,top:y,row:m,width:T,height:i},h[h.length-1]+=T+c}),g}_fitCols(e,n,r,i){const o=this,{ctx:a,maxHeight:u,options:{labels:{padding:c}}}=o,f=o.legendHitBoxes=[],h=o.columnSizes=[],p=u-e;let g=c,m=0,y=0,b=0,w=0;return o.legendItems.forEach((T,A)=>{const k=r+n/2+a.measureText(T.text).width;A>0&&y+i+2*c>p&&(g+=m+c,h.push({width:m,height:y}),b+=m+c,w++,m=y=0),f[A]={left:b,top:y,col:w,width:k,height:i},m=Math.max(m,k),y+=i+c}),g+=m,h.push({width:m,height:y}),g}adjustHitBoxes(){const e=this;if(!e.options.display)return;const n=e._computeTitleHeight(),{legendHitBoxes:r,options:{align:i,labels:{padding:o},rtl:a}}=e,u=Vc(a,e.left,e.width);if(this.isHorizontal()){let c=0,f=nr(i,e.left+o,e.right-e.lineWidths[c]);for(const h of r)c!==h.row&&(c=h.row,f=nr(i,e.left+o,e.right-e.lineWidths[c])),h.top+=e.top+n+o,h.left=u.leftForLtr(u.x(f),h.width),f+=h.width+o}else{let c=0,f=nr(i,e.top+n+o,e.bottom-e.columnSizes[c].height);for(const h of r)h.col!==c&&(c=h.col,f=nr(i,e.top+n+o,e.bottom-e.columnSizes[c].height)),h.top=f,h.left+=e.left+o,h.left=u.leftForLtr(u.x(h.left),h.width),f+=h.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){const e=this;if(e.options.display){const n=e.ctx;yE(n,e),e._draw(),_E(n)}}_draw(){const e=this,{options:n,columnSizes:r,lineWidths:i,ctx:o}=e,{align:a,labels:u}=n,c=lt.color,f=Vc(n.rtl,e.left,e.width),h=Tn(u.font),{color:p,padding:g}=u,m=h.size,y=m/2;let b;e.drawTitle(),o.textAlign=f.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=h.string;const{boxWidth:w,boxHeight:T,itemHeight:A}=eD(u,m),k=function(B,Y,R){if(isNaN(w)||w<=0||isNaN(T)||T<0)return;o.save();const de=it(R.lineWidth,1);if(o.fillStyle=it(R.fillStyle,c),o.lineCap=it(R.lineCap,"butt"),o.lineDashOffset=it(R.lineDashOffset,0),o.lineJoin=it(R.lineJoin,"miter"),o.lineWidth=de,o.strokeStyle=it(R.strokeStyle,c),o.setLineDash(it(R.lineDash,[])),u.usePointStyle){const we={radius:w*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:de},J=f.xPlus(B,w/2),Te=Y+y;wv(o,we,J,Te)}else{const we=Y+Math.max((m-T)/2,0),J=f.leftForLtr(B,w),Te=wE(R.borderRadius);o.beginPath(),Object.values(Te).some(ve=>ve!==0)?Ev(o,{x:J,y:we,w,h:T,radius:Te}):o.rect(J,we,w,T),o.fill(),de!==0&&o.stroke()}o.restore()},N=function(B,Y,R){Za(o,R.text,B,Y+A/2,h,{strikethrough:R.hidden,textAlign:f.textAlign(R.textAlign)})},P=e.isHorizontal(),D=this._computeTitleHeight();P?b={x:nr(a,e.left+g,e.right-i[0]),y:e.top+g+D,line:0}:b={x:e.left+g,y:nr(a,e.top+D+g,e.bottom-r[0].height),line:0},tP(e.ctx,n.textDirection);const $=A+g;e.legendItems.forEach((B,Y)=>{o.strokeStyle=B.fontColor||p,o.fillStyle=B.fontColor||p;const R=o.measureText(B.text).width,de=f.textAlign(B.textAlign||(B.textAlign=u.textAlign)),we=w+y+R;let J=b.x,Te=b.y;f.setWidth(e.width),P?Y>0&&J+we+g>e.right&&(Te=b.y+=$,b.line++,J=b.x=nr(a,e.left+g,e.right-i[b.line])):Y>0&&Te+$>e.bottom&&(J=b.x=J+r[b.line].width+g,b.line++,Te=b.y=nr(a,e.top+D+g,e.bottom-r[b.line].height));const ve=f.x(J);k(ve,Te,B),J=g6(de,J+w+y,P?J+we:e.right,n.rtl),N(f.x(J),Te,B),P?b.x+=we+g:b.y+=$}),nP(e.ctx,n.textDirection)}drawTitle(){const e=this,n=e.options,r=n.title,i=Tn(r.font),o=mr(r.padding);if(!r.display)return;const a=Vc(n.rtl,e.left,e.width),u=e.ctx,c=r.position,f=i.size/2,h=o.top+f;let p,g=e.left,m=e.width;if(this.isHorizontal())m=Math.max(...e.lineWidths),p=e.top+h,g=nr(n.align,g,e.right-m);else{const b=e.columnSizes.reduce((w,T)=>Math.max(w,T.height),0);p=h+nr(n.align,e.top,e.bottom-b-n.labels.padding-e._computeTitleHeight())}const y=nr(c,g,g+m);u.textAlign=a.textAlign(oE(c)),u.textBaseline="middle",u.strokeStyle=r.color,u.fillStyle=r.color,u.font=i.string,Za(u,r.text,y,p,i)}_computeTitleHeight(){const e=this.options.title,n=Tn(e.font),r=mr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){const r=this;let i,o,a;if(e>=r.left&&e<=r.right&&n>=r.top&&n<=r.bottom){for(a=r.legendHitBoxes,i=0;i<a.length;++i)if(o=a[i],e>=o.left&&e<=o.left+o.width&&n>=o.top&&n<=o.top+o.height)return r.legendItems[i]}return null}handleEvent(e){const n=this,r=n.options;if(!WX(e.type,r))return;const i=n._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"){const o=n._hoveredItem,a=$X(o,i);o&&!a&&jt(r.onLeave,[e,o,n],n),n._hoveredItem=i,i&&!a&&jt(r.onHover,[e,i,n],n)}else i&&jt(r.onClick,[e,i,n],n)}}function WX(t,e){return!!(t==="mousemove"&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var rhe={id:"legend",_element:tD,start(t,e,n){const r=t.legend=new tD({ctx:t.ctx,options:n,chart:t});gi.configure(t,r,n),gi.addBox(t,r)},stop(t){gi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;gi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o}}=t.legend.options;return t._getSortedDatasetMetas().map(a=>{const u=a.controller.getStyle(n?0:void 0),c=mr(u.borderWidth);return{text:e[a.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!a.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class nD extends ji{constructor(e){super();this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this,i=r.options;if(r.left=0,r.top=0,!i.display){r.width=r.height=r.right=r.bottom=0;return}r.width=r.right=e,r.height=r.bottom=n;const o=Ht(i.text)?i.text.length:1;r._padding=mr(i.padding);const a=o*Tn(i.font).lineHeight+r._padding.height;r.isHorizontal()?r.height=a:r.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:o,options:a}=this,u=a.align;let c=0,f,h,p;return this.isHorizontal()?(h=nr(u,r,o),p=n+e,f=o-r):(a.position==="left"?(h=r+e,p=nr(u,i,n),c=tn*-.5):(h=o-e,p=nr(u,n,i),c=tn*.5),f=i-n),{titleX:h,titleY:p,maxWidth:f,rotation:c}}draw(){const e=this,n=e.ctx,r=e.options;if(!r.display)return;const i=Tn(r.font),a=i.lineHeight/2+e._padding.top,{titleX:u,titleY:c,maxWidth:f,rotation:h}=e._drawArgs(a);Za(n,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:oE(r.align),textBaseline:"middle",translation:[u,c]})}}function zX(t,e){const n=new nD({ctx:t.ctx,options:e,chart:t});gi.configure(t,n,e),gi.addBox(t,n),t.titleBlock=n}var ihe={id:"title",_element:nD,start(t,e,n){zX(t,n)},stop(t){const e=t.titleBlock;gi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;gi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wh={average(t){if(!t.length)return!1;let e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const u=a.tooltipPosition();r+=u.x,i+=u.y,++o}}return{x:r/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,a,u;for(o=0,a=t.length;o<a;++o){const c=t[o].element;if(c&&c.hasValue()){const f=c.getCenterPoint(),h=cE(e,f);h<i&&(i=h,u=c)}}if(u){const c=u.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function vo(t,e){return e&&(Ht(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zo(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function KX(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:a,value:u}=o.getLabelAndValue(i);return{chart:t,label:a,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:u,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function rD(t,e){const n=t._chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:a,boxHeight:u}=e,c=Tn(e.bodyFont),f=Tn(e.titleFont),h=Tn(e.footerFont),p=o.length,g=i.length,m=r.length,y=mr(e.padding);let b=y.height,w=0,T=r.reduce((N,P)=>N+P.before.length+P.lines.length+P.after.length,0);if(T+=t.beforeBody.length+t.afterBody.length,p&&(b+=p*f.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),T){const N=e.displayColors?Math.max(u,c.lineHeight):c.lineHeight;b+=m*N+(T-m)*c.lineHeight+(T-1)*e.bodySpacing}g&&(b+=e.footerMarginTop+g*h.lineHeight+(g-1)*e.footerSpacing);let A=0;const k=function(N){w=Math.max(w,n.measureText(N).width+A)};return n.save(),n.font=f.string,Rt(t.title,k),n.font=c.string,Rt(t.beforeBody.concat(t.afterBody),k),A=e.displayColors?a+2:0,Rt(r,N=>{Rt(N.before,k),Rt(N.lines,k),Rt(N.after,k)}),A=0,n.font=h.string,Rt(t.footer,k),n.restore(),w+=y.width,{width:w,height:b}}function GX(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function YX(t,e,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+o+a>e.width||t==="right"&&i-o-a<0)return!0}function XX(t,e,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:u,right:c}}=t;let f="center";return r==="center"?f=i<=(u+c)/2?"left":"right":i<=o/2?f="left":i>=a-o/2&&(f="right"),YX(f,t,e,n)&&(f="center"),f}function iD(t,e,n){const r=e.yAlign||GX(t,n);return{xAlign:e.xAlign||XX(t,e,n,r),yAlign:r}}function QX(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function JX(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function oD(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=t,{xAlign:u,yAlign:c}=n,f=i+o,h=a+o;let p=QX(e,u);const g=JX(e,c,f);return c==="center"?u==="left"?p+=f:u==="right"&&(p-=f):u==="left"?p-=h:u==="right"&&(p+=h),{x:rr(p,0,r.width-e.width),y:rr(g,0,r.height-e.height)}}function Lv(t,e,n){const r=mr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function sD(t){return vo([],zo(t))}function ZX(t,e,n){return Object.assign(Object.create(t),{tooltip:e,tooltipItems:n,type:"tooltip"})}function aD(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class KE extends ji{constructor(e){super();this.opacity=0,this._active=[],this._chart=e._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this,n=e._cachedAnimations;if(n)return n;const r=e._chart,i=e.options.setContext(e.getContext()),o=i.enabled&&r.options.animation&&i.animations,a=new uP(e._chart,o);return o._cacheable&&(e._cachedAnimations=Object.freeze(a)),a}getContext(){const e=this;return e.$context||(e.$context=ZX(e._chart.getContext(),e,e._tooltipItems))}getTitle(e,n){const r=this,{callbacks:i}=n,o=i.beforeTitle.apply(r,[e]),a=i.title.apply(r,[e]),u=i.afterTitle.apply(r,[e]);let c=[];return c=vo(c,zo(o)),c=vo(c,zo(a)),c=vo(c,zo(u)),c}getBeforeBody(e,n){return sD(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const r=this,{callbacks:i}=n,o=[];return Rt(e,a=>{const u={before:[],lines:[],after:[]},c=aD(i,a);vo(u.before,zo(c.beforeLabel.call(r,a))),vo(u.lines,c.label.call(r,a)),vo(u.after,zo(c.afterLabel.call(r,a))),o.push(u)}),o}getAfterBody(e,n){return sD(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const r=this,{callbacks:i}=n,o=i.beforeFooter.apply(r,[e]),a=i.footer.apply(r,[e]),u=i.afterFooter.apply(r,[e]);let c=[];return c=vo(c,zo(o)),c=vo(c,zo(a)),c=vo(c,zo(u)),c}_createItems(e){const n=this,r=n._active,i=n._chart.data,o=[],a=[],u=[];let c=[],f,h;for(f=0,h=r.length;f<h;++f)c.push(KX(n._chart,r[f]));return e.filter&&(c=c.filter((p,g,m)=>e.filter(p,g,m,i))),e.itemSort&&(c=c.sort((p,g)=>e.itemSort(p,g,i))),Rt(c,p=>{const g=aD(e.callbacks,p);o.push(g.labelColor.call(n,p)),a.push(g.labelPointStyle.call(n,p)),u.push(g.labelTextColor.call(n,p))}),n.labelColors=o,n.labelPointStyles=a,n.labelTextColors=u,n.dataPoints=c,c}update(e,n){const r=this,i=r.options.setContext(r.getContext()),o=r._active;let a,u=[];if(!o.length)r.opacity!==0&&(a={opacity:0});else{const c=wh[i.position].call(r,o,r._eventPosition);u=r._createItems(i),r.title=r.getTitle(u,i),r.beforeBody=r.getBeforeBody(u,i),r.body=r.getBody(u,i),r.afterBody=r.getAfterBody(u,i),r.footer=r.getFooter(u,i);const f=r._size=rD(r,i),h=Object.assign({},c,f),p=iD(r._chart,i,h),g=oD(i,h,p,r._chart);r.xAlign=p.xAlign,r.yAlign=p.yAlign,a={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:c.x,caretY:c.y}}r._tooltipItems=u,r.$context=void 0,a&&r._resolveAnimations().update(r,a),e&&i.external&&i.external.call(r,{chart:r._chart,tooltip:r,replay:n})}drawCaret(e,n,r,i){const o=this.getCaretPosition(e,r,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:o}=this,{cornerRadius:a,caretSize:u}=r,{x:c,y:f}=e,{width:h,height:p}=n;let g,m,y,b,w,T;return o==="center"?(w=f+p/2,i==="left"?(g=c,m=g-u,b=w+u,T=w-u):(g=c+h,m=g+u,b=w-u,T=w+u),y=g):(i==="left"?m=c+a+u:i==="right"?m=c+h-a-u:m=this.caretX,o==="top"?(b=f,w=b-u,g=m-u,y=m+u):(b=f+p,w=b+u,g=m+u,y=m-u),T=b),{x1:g,x2:m,x3:y,y1:b,y2:w,y3:T}}drawTitle(e,n,r){const i=this,o=i.title,a=o.length;let u,c,f;if(a){const h=Vc(r.rtl,i.x,i.width);for(e.x=Lv(i,r.titleAlign,r),n.textAlign=h.textAlign(r.titleAlign),n.textBaseline="middle",u=Tn(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=u.string,f=0;f<a;++f)n.fillText(o[f],h.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+c,f+1===a&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,i,o){const a=this,u=a.labelColors[r],c=a.labelPointStyles[r],{boxHeight:f,boxWidth:h}=o,p=Tn(o.bodyFont),g=Lv(a,"left",o),m=i.x(g),y=f<p.lineHeight?(p.lineHeight-f)/2:0,b=n.y+y;if(o.usePointStyle){const w={radius:Math.min(h,f)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},T=i.leftForLtr(m,h)+h/2,A=b+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,wv(e,w,T,A),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,wv(e,w,T,A)}else{e.lineWidth=u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const w=i.leftForLtr(m,h),T=i.leftForLtr(i.xPlus(m,1),h-2),A=wE(u.borderRadius);Object.values(A).some(k=>k!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Ev(e,{x:w,y:b,w:h,h:f,radius:A}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),Ev(e,{x:T,y:b+1,w:h-2,h:f-2,radius:A}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(w,b,h,f),e.strokeRect(w,b,h,f),e.fillStyle=u.backgroundColor,e.fillRect(T,b+1,h-2,f-2))}e.fillStyle=a.labelTextColors[r]}drawBody(e,n,r){const i=this,{body:o}=i,{bodySpacing:a,bodyAlign:u,displayColors:c,boxHeight:f,boxWidth:h}=r,p=Tn(r.bodyFont);let g=p.lineHeight,m=0;const y=Vc(r.rtl,i.x,i.width),b=function(B){n.fillText(B,y.x(e.x+m),e.y+g/2),e.y+=g+a},w=y.textAlign(u);let T,A,k,N,P,D,$;for(n.textAlign=u,n.textBaseline="middle",n.font=p.string,e.x=Lv(i,w,r),n.fillStyle=r.bodyColor,Rt(i.beforeBody,b),m=c&&w!=="right"?u==="center"?h/2+1:h+2:0,N=0,D=o.length;N<D;++N){for(T=o[N],A=i.labelTextColors[N],n.fillStyle=A,Rt(T.before,b),k=T.lines,c&&k.length&&(i._drawColorBox(n,e,N,y,r),g=Math.max(p.lineHeight,f)),P=0,$=k.length;P<$;++P)b(k[P]),g=p.lineHeight;Rt(T.after,b)}m=0,g=p.lineHeight,Rt(i.afterBody,b),e.y-=a}drawFooter(e,n,r){const i=this,o=i.footer,a=o.length;let u,c;if(a){const f=Vc(r.rtl,i.x,i.width);for(e.x=Lv(i,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=f.textAlign(r.footerAlign),n.textBaseline="middle",u=Tn(r.footerFont),n.fillStyle=r.footerColor,n.font=u.string,c=0;c<a;++c)n.fillText(o[c],f.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:o,yAlign:a}=this,{x:u,y:c}=e,{width:f,height:h}=r,p=i.cornerRadius;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(u+p,c),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(u+f-p,c),n.quadraticCurveTo(u+f,c,u+f,c+p),a==="center"&&o==="right"&&this.drawCaret(e,n,r,i),n.lineTo(u+f,c+h-p),n.quadraticCurveTo(u+f,c+h,u+f-p,c+h),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(u+p,c+h),n.quadraticCurveTo(u,c+h,u,c+h-p),a==="center"&&o==="left"&&this.drawCaret(e,n,r,i),n.lineTo(u,c+p),n.quadraticCurveTo(u,c,u+p,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this,r=n._chart,i=n.$animations,o=i&&i.x,a=i&&i.y;if(o||a){const u=wh[e.position].call(n,n._active,n._eventPosition);if(!u)return;const c=n._size=rD(n,e),f=Object.assign({},u,n._size),h=iD(r,e,f),p=oD(e,f,h,r);(o._to!==p.x||a._to!==p.y)&&(n.xAlign=h.xAlign,n.yAlign=h.yAlign,n.width=c.width,n.height=c.height,n.caretX=u.x,n.caretY=u.y,n._resolveAnimations().update(n,p))}}draw(e){const n=this,r=n.options.setContext(n.getContext());let i=n.opacity;if(!i)return;n._updateAnimationTarget(r);const o={width:n.width,height:n.height},a={x:n.x,y:n.y};i=Math.abs(i)<.001?0:i;const u=mr(r.padding),c=n.title.length||n.beforeBody.length||n.body.length||n.afterBody.length||n.footer.length;r.enabled&&c&&(e.save(),e.globalAlpha=i,n.drawBackground(a,e,o,r),tP(e,r.textDirection),a.y+=u.top,n.drawTitle(a,e,r),n.drawBody(a,e,r),n.drawFooter(a,e,r),nP(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this,i=r._active,o=e.map(({datasetIndex:c,index:f})=>{const h=r._chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[f],index:f}}),a=!lv(i,o),u=r._positionChanged(o,n);(a||u)&&(r._active=o,r._eventPosition=n,r.update(!0))}handleEvent(e,n){const r=this,i=r.options,o=r._active||[];let a=!1,u=[];e.type!=="mouseout"&&(u=r._chart.getElementsAtEventForMode(e,i.mode,i,n),i.reverse&&u.reverse());const c=r._positionChanged(u,e);return a=n||!lv(u,o)||c,a&&(r._active=u,(i.enabled||i.external)&&(r._eventPosition={x:e.x,y:e.y},r.update(!0,n))),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:o}=this,a=wh[o.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}KE.positioners=wh;var ohe={id:"tooltip",_element:KE,positioners:wh,afterInit(t,e,n){n&&(t.tooltip=new KE({_chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip,n={tooltip:e};t.notifyPlugins("beforeTooltipDraw",n)!==!1&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n))},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:qo,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:qo,beforeBody:qo,beforeLabel:qo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return kt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:qo,afterBody:qo,beforeFooter:qo,footer:qo,afterFooter:qo}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const eQ=(t,e,n)=>typeof e=="string"?t.push(e)-1:isNaN(e)?null:n;function tQ(t,e,n){const r=t.indexOf(e);if(r===-1)return eQ(t,e,n);const i=t.lastIndexOf(e);return r!==i?n:r}const nQ=(t,e)=>t===null?null:rr(Math.round(t),0,e);class GE extends iu{constructor(e){super(e);this._startValue=void 0,this._valueRange=0}parse(e,n){if(kt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:tQ(r,e,it(n,e)),nQ(n,r.length-1)}determineDataLimits(){const e=this,{minDefined:n,maxDefined:r}=e.getUserBounds();let{min:i,max:o}=e.getMinMax(!0);e.options.bounds==="ticks"&&(n||(i=0),r||(o=e.getLabels().length-1)),e.min=i,e.max=o}buildTicks(){const e=this,n=e.min,r=e.max,i=e.options.offset,o=[];let a=e.getLabels();a=n===0&&r===a.length-1?a:a.slice(n,r+1),e._valueRange=Math.max(a.length-(i?0:1),1),e._startValue=e.min-(i?.5:0);for(let u=n;u<=r;u++)o.push({value:u});return o}getLabelForValue(e){const r=this.getLabels();return e>=0&&e<r.length?r[e]:e}configure(){const e=this;super.configure(),e.isHorizontal()||(e._reversePixels=!e._reversePixels)}getPixelForValue(e){const n=this;return typeof e!="number"&&(e=n.parse(e)),e===null?NaN:n.getPixelForDecimal((e-n._startValue)/n._valueRange)}getPixelForTick(e){const n=this,r=n.ticks;return e<0||e>r.length-1?null:n.getPixelForValue(r[e].value)}getValueForPixel(e){const n=this;return Math.round(n._startValue+n.getDecimalForPixel(e)*n._valueRange)}getBasePixel(){return this.bottom}}GE.id="category";GE.defaults={ticks:{callback:GE.prototype.getLabelForValue}};function rQ(t,e){const n=[],r=1e-14,{bounds:i,step:o,min:a,max:u,precision:c,count:f,maxTicks:h,maxDigits:p,includeBounds:g}=t,m=o||1,y=h-1,{min:b,max:w}=e,T=!kt(a),A=!kt(u),k=!kt(f),N=(w-b)/(p+1);let P=EN((w-b)/y/m)*m,D,$,B,Y;if(P<r&&!T&&!A)return[{value:b},{value:w}];Y=Math.ceil(w/P)-Math.floor(b/P),Y>y&&(P=EN(Y*P/y/m)*m),kt(c)||(D=Math.pow(10,c),P=Math.ceil(P*D)/D),i==="ticks"?($=Math.floor(b/P)*P,B=Math.ceil(w/P)*P):($=b,B=w),T&&A&&o&&C6((u-a)/o,P/1e3)?(Y=Math.round(Math.min((u-a)/P,h)),P=(u-a)/Y,$=a,B=u):k?($=T?a:$,B=A?u:B,Y=f-1,P=(B-$)/Y):(Y=(B-$)/P,oh(Y,Math.round(Y),P/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const R=Math.max(IN(P),IN($));D=Math.pow(10,kt(c)?R:c),$=Math.round($*D)/D,B=Math.round(B*D)/D;let de=0;for(T&&(g&&$!==a?(n.push({value:a}),$<a&&de++,oh(Math.round(($+de*P)*D)/D,a,uD(a,N,t))&&de++):$<a&&de++);de<Y;++de)n.push({value:Math.round(($+de*P)*D)/D});return A&&g&&B!==u?oh(n[n.length-1].value,u,uD(u,N,t))?n[n.length-1].value=u:n.push({value:u}):(!A||B===u)&&n.push({value:B}),n}function uD(t,e,{horizontal:n,minRotation:r}){const i=Ui(r),o=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class Fv extends iu{constructor(e){super(e);this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return kt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const e=this,{beginAtZero:n}=e.options,{minDefined:r,maxDefined:i}=e.getUserBounds();let{min:o,max:a}=e;const u=f=>o=r?o:f,c=f=>a=i?a:f;if(n){const f=po(o),h=po(a);f<0&&h<0?c(0):f>0&&h>0&&u(0)}if(o===a){let f=1;(a>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(f=Math.abs(a*.05)),c(a+f),n||u(o-f)}e.min=o,e.max=a}getTickLimit(){const e=this,n=e.options.ticks;let{maxTicksLimit:r,stepSize:i}=n,o;return i?o=Math.ceil(e.max/i)-Math.floor(e.min/i)+1:(o=e.computeTickLimit(),r=r||11),r&&(o=Math.min(r,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this,n=e.options,r=n.ticks;let i=e.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:n.bounds,min:n.min,max:n.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:e._maxDigits(),horizontal:e.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},a=e._range||e,u=rQ(o,a);return n.bounds==="ticks"&&TN(u,e,"value"),n.reverse?(u.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),u}configure(){const e=this,n=e.ticks;let r=e.min,i=e.max;if(super.configure(),e.options.offset&&n.length){const o=(i-r)/Math.max(n.length-1,1)/2;r-=o,i+=o}e._startValue=r,e._endValue=i,e._valueRange=i-r}getLabelForValue(e){return fh(e,this.chart.options.locale)}}class cD extends Fv{determineDataLimits(){const e=this,{min:n,max:r}=e.getMinMax(!0);e.min=Hn(n)?n:0,e.max=Hn(r)?r:1,e.handleTickRangeOptions()}computeTickLimit(){const e=this,n=e.isHorizontal(),r=n?e.width:e.height,i=Ui(e.options.ticks.minRotation),o=(n?Math.sin(i):Math.cos(i))||.001,a=e._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}cD.id="linear";cD.defaults={ticks:{callback:Rv.formatters.numeric}};function lD(t){return t/Math.pow(10,Math.floor(di(t)))===1}function iQ(t,e){const n=Math.floor(di(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[];let o=hi(t.min,Math.pow(10,Math.floor(di(e.min)))),a=Math.floor(di(o)),u=Math.floor(o/Math.pow(10,a)),c=a<0?Math.pow(10,Math.abs(a)):1;do i.push({value:o,major:lD(o)}),++u,u===10&&(u=1,++a,c=a>=0?1:c),o=Math.round(u*Math.pow(10,a)*c)/c;while(a<n||a===n&&u<r);const f=hi(t.max,o);return i.push({value:f,major:lD(o)}),i}class fD extends iu{constructor(e){super(e);this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Fv.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Hn(r)&&r>0?r:null}determineDataLimits(){const e=this,{min:n,max:r}=e.getMinMax(!0);e.min=Hn(n)?Math.max(0,n):null,e.max=Hn(r)?Math.max(0,r):null,e.options.beginAtZero&&(e._zero=!0),e.handleTickRangeOptions()}handleTickRangeOptions(){const e=this,{minDefined:n,maxDefined:r}=e.getUserBounds();let i=e.min,o=e.max;const a=f=>i=n?i:f,u=f=>o=r?o:f,c=(f,h)=>Math.pow(10,Math.floor(di(f))+h);i===o&&(i<=0?(a(1),u(10)):(a(c(i,-1)),u(c(o,1)))),i<=0&&a(c(o,-1)),o<=0&&u(c(i,1)),e._zero&&e.min!==e._suggestedMin&&i===c(e.min,0)&&a(c(i,-1)),e.min=i,e.max=o}buildTicks(){const e=this,n=e.options,r={min:e._userMin,max:e._userMax},i=iQ(r,e);return n.bounds==="ticks"&&TN(i,e,"value"),n.reverse?(i.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),i}getLabelForValue(e){return e===void 0?"0":fh(e,this.chart.options.locale)}configure(){const e=this,n=e.min;super.configure(),e._startValue=di(n),e._valueRange=di(e.max)-di(n)}getPixelForValue(e){const n=this;return(e===void 0||e===0)&&(e=n.min),e===null||isNaN(e)?NaN:n.getPixelForDecimal(e===n.min?0:(di(e)-n._startValue)/n._valueRange)}getValueForPixel(e){const n=this,r=n.getDecimalForPixel(e);return Math.pow(10,n._startValue+r*n._valueRange)}}fD.id="logarithmic";fD.defaults={ticks:{callback:Rv.formatters.logarithmic,major:{enabled:!0}}};function YE(t){const e=t.ticks;if(e.display&&t.display){const n=mr(e.backdropPadding);return it(e.font&&e.font.size,lt.font.size)+n.height}return 0}function oQ(t,e,n){return n=Ht(n)?n:[n],{w:Q6(t,e.string,n),h:n.length*e.lineHeight}}function hD(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function sQ(t){const e={l:0,r:t.width,t:0,b:t.height-t.paddingTop},n={},r=[],i=[],o=t.getLabels().length;for(let a=0;a<o;a++){const u=t.options.pointLabels.setContext(t.getPointLabelContext(a));i[a]=u.padding;const c=t.getPointPosition(a,t.drawingArea+i[a]),f=Tn(u.font),h=oQ(t.ctx,f,t._pointLabels[a]);r[a]=h;const p=t.getIndexAngle(a),g=uE(p),m=hD(g,c.x,h.w,0,180),y=hD(g,c.y,h.h,90,270);m.start<e.l&&(e.l=m.start,n.l=p),m.end>e.r&&(e.r=m.end,n.r=p),y.start<e.t&&(e.t=y.start,n.t=p),y.end>e.b&&(e.b=y.end,n.b=p)}t._setReductions(t.drawingArea,e,n),t._pointLabelItems=aQ(t,r,i)}function aQ(t,e,n){const r=[],i=t.getLabels().length,o=t.options,a=YE(o),u=t.getDistanceFromCenterForValue(o.ticks.reverse?t.min:t.max);for(let c=0;c<i;c++){const f=c===0?a/2:0,h=t.getPointPosition(c,u+f+n[c]),p=uE(t.getIndexAngle(c)),g=e[c],m=lQ(h.y,g.h,p),y=uQ(p),b=cQ(h.x,g.w,y);r.push({x:h.x,y:m,textAlign:y,left:b,top:m,right:b+g.w,bottom:m+g.h})}return r}function uQ(t){return t===0||t===180?"center":t<180?"left":"right"}function cQ(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function lQ(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function fQ(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const o=r.setContext(t.getPointLabelContext(i)),a=Tn(o.font),{x:u,y:c,textAlign:f,left:h,top:p,right:g,bottom:m}=t._pointLabelItems[i],{backdropColor:y}=o;if(!kt(y)){const b=mr(o.backdropPadding);n.fillStyle=y,n.fillRect(h-b.left,p-b.top,g-h+b.width,m-p+b.height)}Za(n,t._pointLabels[i],u,c+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function dD(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Bt);else{let o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let a=1;a<r;a++)o=t.getPointPosition(a,e),i.lineTo(o.x,o.y)}}function hQ(t,e,n,r){const i=t.ctx,o=e.circular,{color:a,lineWidth:u}=e;!o&&!r||!a||!u||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=u,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),dD(t,n,o,r),i.closePath(),i.stroke(),i.restore())}function Uv(t){return Fc(t)?t:0}function dQ(t,e,n){return Object.assign(Object.create(t),{label:n,index:e,type:"pointLabel"})}class jv extends Fv{constructor(e){super(e);this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=YE(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2}determineDataLimits(){const e=this,{min:n,max:r}=e.getMinMax(!1);e.min=Hn(n)&&!isNaN(n)?n:0,e.max=Hn(r)&&!isNaN(r)?r:0,e.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/YE(this.options))}generateTickLabels(e){const n=this;Fv.prototype.generateTickLabels.call(n,e),n._pointLabels=n.getLabels().map((r,i)=>{const o=jt(n.options.pointLabels.callback,[r,i],n);return o||o===0?o:""})}fit(){const e=this,n=e.options;n.display&&n.pointLabels.display?sQ(e):e.setCenterPoint(0,0,0,0)}_setReductions(e,n,r){const i=this;let o=n.l/Math.sin(r.l),a=Math.max(n.r-i.width,0)/Math.sin(r.r),u=-n.t/Math.cos(r.t),c=-Math.max(n.b-(i.height-i.paddingTop),0)/Math.cos(r.b);o=Uv(o),a=Uv(a),u=Uv(u),c=Uv(c),i.drawingArea=Math.max(e/2,Math.min(Math.floor(e-(o+a)/2),Math.floor(e-(u+c)/2))),i.setCenterPoint(o,a,u,c)}setCenterPoint(e,n,r,i){const o=this,a=o.width-n-o.drawingArea,u=e+o.drawingArea,c=r+o.drawingArea,f=o.height-o.paddingTop-i-o.drawingArea;o.xCenter=Math.floor((u+a)/2+o.left),o.yCenter=Math.floor((c+f)/2+o.top+o.paddingTop)}getIndexAngle(e){const n=Bt/this.getLabels().length,r=this.options.startAngle||0;return Ho(e*n+Ui(r))}getDistanceFromCenterForValue(e){const n=this;if(kt(e))return NaN;const r=n.drawingArea/(n.max-n.min);return n.options.reverse?(n.max-e)*r:(e-n.min)*r}getValueForDistanceFromCenter(e){if(kt(e))return NaN;const n=this,r=e/(n.drawingArea/(n.max-n.min));return n.options.reverse?n.max-r:n.min+r}getPointLabelContext(e){const n=this,r=n._pointLabels||[];if(e>=0&&e<r.length){const i=r[e];return dQ(n.getContext(),e,i)}}getPointPosition(e,n){const r=this,i=r.getIndexAngle(e)-un;return{x:Math.cos(i)*n+r.xCenter,y:Math.sin(i)*n+r.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:o}}drawBackground(){const e=this,{backgroundColor:n,grid:{circular:r}}=e.options;if(n){const i=e.ctx;i.save(),i.beginPath(),dD(e,e.getDistanceFromCenterForValue(e._endValue),r,e.getLabels().length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}drawGrid(){const e=this,n=e.ctx,r=e.options,{angleLines:i,grid:o}=r,a=e.getLabels().length;let u,c,f;if(r.pointLabels.display&&fQ(e,a),o.display&&e.ticks.forEach((h,p)=>{if(p!==0){c=e.getDistanceFromCenterForValue(h.value);const g=o.setContext(e.getContext(p-1));hQ(e,g,c,a)}}),i.display){for(n.save(),u=e.getLabels().length-1;u>=0;u--){const h=i.setContext(e.getPointLabelContext(u)),{color:p,lineWidth:g}=h;!g||!p||(n.lineWidth=g,n.strokeStyle=p,n.setLineDash(h.borderDash),n.lineDashOffset=h.borderDashOffset,c=e.getDistanceFromCenterForValue(r.ticks.reverse?e.min:e.max),f=e.getPointPosition(u,c),n.beginPath(),n.moveTo(e.xCenter,e.yCenter),n.lineTo(f.x,f.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const e=this,n=e.ctx,r=e.options,i=r.ticks;if(!i.display)return;const o=e.getIndexAngle(0);let a,u;n.save(),n.translate(e.xCenter,e.yCenter),n.rotate(o),n.textAlign="center",n.textBaseline="middle",e.ticks.forEach((c,f)=>{if(f===0&&!r.reverse)return;const h=i.setContext(e.getContext(f)),p=Tn(h.font);if(a=e.getDistanceFromCenterForValue(e.ticks[f].value),h.showLabelBackdrop){n.font=p.string,u=n.measureText(c.label).width,n.fillStyle=h.backdropColor;const g=mr(h.backdropPadding);n.fillRect(-u/2-g.left,-a-p.size/2-g.top,u+g.width,p.size+g.height)}Za(n,c.label,0,-a,p,{color:h.color})}),n.restore()}drawTitle(){}}jv.id="radialLinear";jv.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Rv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5}};jv.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};jv.descriptors={angleLines:{_fallback:"grid"}};const Bv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mr=Object.keys(Bv);function pQ(t,e){return t-e}function pD(t,e){if(kt(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Hn(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Fc(o)||o===!0)?n.startOf(a,"isoWeek",o):n.startOf(a,i)),+a)}function gD(t,e,n,r){const i=Mr.length;for(let o=Mr.indexOf(t);o<i-1;++o){const a=Bv[Mr[o]],u=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(u*a.size))<=r)return Mr[o]}return Mr[i-1]}function gQ(t,e,n,r,i){for(let o=Mr.length-1;o>=Mr.indexOf(n);o--){const a=Mr[o];if(Bv[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Mr[n?Mr.indexOf(n):0]}function vQ(t){for(let e=Mr.indexOf(t)+1,n=Mr.length;e<n;++e)if(Bv[Mr[e]].common)return Mr[e]}function vD(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=EE(n,e),o=n[r]>=e?n[r]:n[i];t[o]=!0}}function mQ(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),a=e[e.length-1].value;let u,c;for(u=o;u<=a;u=+i.add(u,1,r))c=n[u],c>=0&&(e[c].major=!0);return e}function mD(t,e,n){const r=[],i={},o=e.length;let a,u;for(a=0;a<o;++a)u=e[a],i[u]=a,r.push({value:u,major:!1});return o===0||!n?r:mQ(t,r,i,n)}class Vv extends iu{constructor(e){super(e);this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const r=e.time||(e.time={}),i=this._adapter=new bY._date(e.adapters.date);rh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:pD(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this,n=e.options,r=e._adapter,i=n.time.unit||"day";let{min:o,max:a,minDefined:u,maxDefined:c}=e.getUserBounds();function f(h){!u&&!isNaN(h.min)&&(o=Math.min(o,h.min)),!c&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!u||!c)&&(f(e._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&f(e.getMinMax(!1))),o=Hn(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),a=Hn(a)&&!isNaN(a)?a:+r.endOf(Date.now(),i)+1,e.min=Math.min(o,a-1),e.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this,n=e.options,r=n.time,i=n.ticks,o=i.source==="labels"?e.getLabelTimestamps():e._generate();n.bounds==="ticks"&&o.length&&(e.min=e._userMin||o[0],e.max=e._userMax||o[o.length-1]);const a=e.min,u=e.max,c=u5(o,a,u);return e._unit=r.unit||(i.autoSkip?gD(r.minUnit,e.min,e.max,e._getLabelCapacity(a)):gQ(e,c.length,r.minUnit,e.min,e.max)),e._majorUnit=!i.major.enabled||e._unit==="year"?void 0:vQ(e._unit),e.initOffsets(o),n.reverse&&c.reverse(),mD(e,c,e._majorUnit)}initOffsets(e){const n=this;let r=0,i=0,o,a;n.options.offset&&e.length&&(o=n.getDecimalForValue(e[0]),e.length===1?r=1-o:r=(n.getDecimalForValue(e[1])-o)/2,a=n.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-n.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;r=rr(r,0,u),i=rr(i,0,u),n._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this,n=e._adapter,r=e.min,i=e.max,o=e.options,a=o.time,u=a.unit||gD(a.minUnit,r,i,e._getLabelCapacity(r)),c=it(a.stepSize,1),f=u==="week"?a.isoWeekday:!1,h=Fc(f)||f===!0,p={};let g=r,m,y;if(h&&(g=+n.startOf(g,"isoWeek",f)),g=+n.startOf(g,h?"day":u),n.diff(i,r,u)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+u);const b=o.ticks.source==="data"&&e.getDataTimestamps();for(m=g,y=0;m<i;m=+n.add(m,c,u),y++)vD(p,m,b);return(m===i||o.bounds==="ticks"||y===1)&&vD(p,m,b),Object.keys(p).sort((w,T)=>w-T).map(w=>+w)}getLabelForValue(e){const n=this,r=n._adapter,i=n.options.time;return i.tooltipFormat?r.format(e,i.tooltipFormat):r.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,n,r,i){const o=this,a=o.options,u=a.time.displayFormats,c=o._unit,f=o._majorUnit,h=c&&u[c],p=f&&u[f],g=r[n],m=f&&p&&g&&g.major,y=o._adapter.format(e,i||(m?p:h)),b=a.ticks.callback;return b?jt(b,[y,n,r],o):y}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){const n=this;return e===null?NaN:(e-n.min)/(n.max-n.min)}getPixelForValue(e){const n=this,r=n._offsets,i=n.getDecimalForValue(e);return n.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){const n=this,r=n._offsets,i=n.getDecimalForPixel(e)/r.factor-r.end;return n.min+i*(n.max-n.min)}_getLabelSize(e){const n=this,r=n.options.ticks,i=n.ctx.measureText(e).width,o=Ui(n.isHorizontal()?r.maxRotation:r.minRotation),a=Math.cos(o),u=Math.sin(o),c=n._resolveTickFontOptions(0).size;return{w:i*a+c*u,h:i*u+c*a}}_getLabelCapacity(e){const n=this,r=n.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,a=n._tickFormatFunction(e,0,mD(n,[e],n._majorUnit),o),u=n._getLabelSize(a),c=Math.floor(n.isHorizontal()?n.width/u.w:n.height/u.h)-1;return c>0?c:1}getDataTimestamps(){const e=this;let n=e._cache.data||[],r,i;if(n.length)return n;const o=e.getMatchingVisibleMetas();if(e._normalized&&o.length)return e._cache.data=o[0].controller.getAllParsedValues(e);for(r=0,i=o.length;r<i;++r)n=n.concat(o[r].controller.getAllParsedValues(e));return e._cache.data=e.normalize(n)}getLabelTimestamps(){const e=this,n=e._cache.labels||[];let r,i;if(n.length)return n;const o=e.getLabels();for(r=0,i=o.length;r<i;++r)n.push(pD(e,o[r]));return e._cache.labels=e._normalized?n:e.normalize(n)}normalize(e){return VN(e.sort(pQ))}}Vv.id="time";Vv.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function qv(t,e,n){let r=0,i=t.length-1,o,a,u,c;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=eu(t,"pos",e)),{pos:o,time:u}=t[r],{pos:a,time:c}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=eu(t,"time",e)),{time:o,pos:u}=t[r],{time:a,pos:c}=t[i]);const f=a-o;return f?u+(c-u)*(e-o)/f:u}class yD extends Vv{constructor(e){super(e);this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this,n=e._getTimestampsForTable(),r=e._table=e.buildLookupTable(n);e._minPos=qv(r,e.min),e._tableRange=qv(r,e.max)-e._minPos,super.initOffsets(n)}buildLookupTable(e){const{min:n,max:r}=this,i=[],o=[];let a,u,c,f,h;for(a=0,u=e.length;a<u;++a)f=e[a],f>=n&&f<=r&&i.push(f);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,u=i.length;a<u;++a)h=i[a+1],c=i[a-1],f=i[a],Math.round((h+c)/2)!==f&&o.push({time:f,pos:a/(u-1)});return o}_getTimestampsForTable(){const e=this;let n=e._cache.all||[];if(n.length)return n;const r=e.getDataTimestamps(),i=e.getLabelTimestamps();return r.length&&i.length?n=e.normalize(r.concat(i)):n=r.length?r:i,n=e._cache.all=n,n}getDecimalForValue(e){return(qv(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this,r=n._offsets,i=n.getDecimalForPixel(e)/r.factor-r.end;return qv(n._table,i*n._tableRange+n._minPos,!0)}}yD.id="timeseries";yD.defaults=Vv.defaults;var vi="top",Bi="bottom",Vi="right",mi="left",XE="auto",Eh=[vi,Bi,Vi,mi],Hc="start",QE="end",yQ="clippingParents",_D="viewport",Th="popper",_Q="reference",bD=Eh.reduce(function(t,e){return t.concat([e+"-"+Hc,e+"-"+QE])},[]),wD=[].concat(Eh,[XE]).reduce(function(t,e){return t.concat([e,e+"-"+Hc,e+"-"+QE])},[]),bQ="beforeRead",wQ="read",EQ="afterRead",TQ="beforeMain",IQ="main",SQ="afterMain",CQ="beforeWrite",AQ="write",xQ="afterWrite",kQ=[bQ,wQ,EQ,TQ,IQ,SQ,CQ,AQ,xQ];function mo(t){return t?(t.nodeName||"").toLowerCase():null}function qi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ih(t){var e=qi(t).Element;return t instanceof e||t instanceof Element}function Hi(t){var e=qi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ED(t){if(typeof ShadowRoot=="undefined")return!1;var e=qi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function RQ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Hi(o)||!mo(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var u=i[a];u===!1?o.removeAttribute(a):o.setAttribute(a,u===!0?"":u)}))})}function OQ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),u=a.reduce(function(c,f){return c[f]="",c},{});!Hi(i)||!mo(i)||(Object.assign(i.style,u),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var NQ={name:"applyStyles",enabled:!0,phase:"write",fn:RQ,effect:OQ,requires:["computeStyles"]};function yo(t){return t.split("-")[0]}function $c(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function JE(t){var e=$c(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function TD(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ED(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ko(t){return qi(t).getComputedStyle(t)}function PQ(t){return["table","td","th"].indexOf(mo(t))>=0}function Ns(t){return((Ih(t)?t.ownerDocument:t.document)||window.document).documentElement}function Hv(t){return mo(t)==="html"?t:t.assignedSlot||t.parentNode||(ED(t)?t.host:null)||Ns(t)}function ID(t){return!Hi(t)||Ko(t).position==="fixed"?null:t.offsetParent}function DQ(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Hi(t)){var r=Ko(t);if(r.position==="fixed")return null}for(var i=Hv(t);Hi(i)&&["html","body"].indexOf(mo(i))<0;){var o=Ko(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Sh(t){for(var e=qi(t),n=ID(t);n&&PQ(n)&&Ko(n).position==="static";)n=ID(n);return n&&(mo(n)==="html"||mo(n)==="body"&&Ko(n).position==="static")?e:n||DQ(t)||e}function ZE(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}var Ps=Math.max,Ch=Math.min,$v=Math.round;function Wv(t,e,n){return Ps(t,Ch(e,n))}function SD(){return{top:0,right:0,bottom:0,left:0}}function CD(t){return Object.assign({},SD(),t)}function AD(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var MQ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,CD(typeof e!="number"?e:AD(e,Eh))};function LQ(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,u=yo(n.placement),c=ZE(u),f=[mi,Vi].indexOf(u)>=0,h=f?"height":"width";if(!(!o||!a)){var p=MQ(i.padding,n),g=JE(o),m=c==="y"?vi:mi,y=c==="y"?Bi:Vi,b=n.rects.reference[h]+n.rects.reference[c]-a[c]-n.rects.popper[h],w=a[c]-n.rects.reference[c],T=Sh(o),A=T?c==="y"?T.clientHeight||0:T.clientWidth||0:0,k=b/2-w/2,N=p[m],P=A-g[h]-p[y],D=A/2-g[h]/2+k,$=Wv(N,D,P),B=c;n.modifiersData[r]=(e={},e[B]=$,e.centerOffset=$-D,e)}}function FQ(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!TD(e.elements.popper,i)||(e.elements.arrow=i))}var UQ={name:"arrow",enabled:!0,phase:"main",fn:LQ,effect:FQ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},jQ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function BQ(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:$v($v(e*i)/i)||0,y:$v($v(n*i)/i)||0}}function xD(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.offsets,a=t.position,u=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,h=f===!0?BQ(o):typeof f=="function"?f(o):o,p=h.x,g=p===void 0?0:p,m=h.y,y=m===void 0?0:m,b=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),T=mi,A=vi,k=window;if(c){var N=Sh(n),P="clientHeight",D="clientWidth";N===qi(n)&&(N=Ns(n),Ko(N).position!=="static"&&(P="scrollHeight",D="scrollWidth")),N=N,i===vi&&(A=Bi,y-=N[P]-r.height,y*=u?1:-1),i===mi&&(T=Vi,g-=N[D]-r.width,g*=u?1:-1)}var $=Object.assign({position:a},c&&jQ);if(u){var B;return Object.assign({},$,(B={},B[A]=w?"0":"",B[T]=b?"0":"",B.transform=(k.devicePixelRatio||1)<2?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",B))}return Object.assign({},$,(e={},e[A]=w?y+"px":"",e[T]=b?g+"px":"",e.transform="",e))}function VQ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,u=n.roundOffsets,c=u===void 0?!0:u,f={placement:yo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,xD(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,xD(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var qQ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:VQ,data:{}},zv={passive:!0};function HQ(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,u=a===void 0?!0:a,c=qi(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(h){h.addEventListener("scroll",n.update,zv)}),u&&c.addEventListener("resize",n.update,zv),function(){o&&f.forEach(function(h){h.removeEventListener("scroll",n.update,zv)}),u&&c.removeEventListener("resize",n.update,zv)}}var $Q={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:HQ,data:{}},WQ={left:"right",right:"left",bottom:"top",top:"bottom"};function Kv(t){return t.replace(/left|right|bottom|top/g,function(e){return WQ[e]})}var zQ={start:"end",end:"start"};function kD(t){return t.replace(/start|end/g,function(e){return zQ[e]})}function eT(t){var e=qi(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function tT(t){return $c(Ns(t)).left+eT(t).scrollLeft}function KQ(t){var e=qi(t),n=Ns(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,u=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,u=r.offsetTop)),{width:i,height:o,x:a+tT(t),y:u}}function GQ(t){var e,n=Ns(t),r=eT(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Ps(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Ps(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+tT(t),c=-r.scrollTop;return Ko(i||n).direction==="rtl"&&(u+=Ps(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:u,y:c}}function nT(t){var e=Ko(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function RD(t){return["html","body","#document"].indexOf(mo(t))>=0?t.ownerDocument.body:Hi(t)&&nT(t)?t:RD(Hv(t))}function Ah(t,e){var n;e===void 0&&(e=[]);var r=RD(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=qi(r),a=i?[o].concat(o.visualViewport||[],nT(r)?r:[]):r,u=e.concat(a);return i?u:u.concat(Ah(Hv(a)))}function rT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function YQ(t){var e=$c(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function OD(t,e){return e===_D?rT(KQ(t)):Hi(e)?YQ(e):rT(GQ(Ns(t)))}function XQ(t){var e=Ah(Hv(t)),n=["absolute","fixed"].indexOf(Ko(t).position)>=0,r=n&&Hi(t)?Sh(t):t;return Ih(r)?e.filter(function(i){return Ih(i)&&TD(i,r)&&mo(i)!=="body"}):[]}function QQ(t,e,n){var r=e==="clippingParents"?XQ(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(u,c){var f=OD(t,c);return u.top=Ps(f.top,u.top),u.right=Ch(f.right,u.right),u.bottom=Ch(f.bottom,u.bottom),u.left=Ps(f.left,u.left),u},OD(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function xh(t){return t.split("-")[1]}function ND(t){var e=t.reference,n=t.element,r=t.placement,i=r?yo(r):null,o=r?xh(r):null,a=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,c;switch(i){case vi:c={x:a,y:e.y-n.height};break;case Bi:c={x:a,y:e.y+e.height};break;case Vi:c={x:e.x+e.width,y:u};break;case mi:c={x:e.x-n.width,y:u};break;default:c={x:e.x,y:e.y}}var f=i?ZE(i):null;if(f!=null){var h=f==="y"?"height":"width";switch(o){case Hc:c[f]=c[f]-(e[h]/2-n[h]/2);break;case QE:c[f]=c[f]+(e[h]/2-n[h]/2);break}}return c}function kh(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.boundary,a=o===void 0?yQ:o,u=n.rootBoundary,c=u===void 0?_D:u,f=n.elementContext,h=f===void 0?Th:f,p=n.altBoundary,g=p===void 0?!1:p,m=n.padding,y=m===void 0?0:m,b=CD(typeof y!="number"?y:AD(y,Eh)),w=h===Th?_Q:Th,T=t.elements.reference,A=t.rects.popper,k=t.elements[g?w:h],N=QQ(Ih(k)?k:k.contextElement||Ns(t.elements.popper),a,c),P=$c(T),D=ND({reference:P,element:A,strategy:"absolute",placement:i}),$=rT(Object.assign({},A,D)),B=h===Th?$:P,Y={top:N.top-B.top+b.top,bottom:B.bottom-N.bottom+b.bottom,left:N.left-B.left+b.left,right:B.right-N.right+b.right},R=t.modifiersData.offset;if(h===Th&&R){var de=R[i];Object.keys(Y).forEach(function(we){var J=[Vi,Bi].indexOf(we)>=0?1:-1,Te=[vi,Bi].indexOf(we)>=0?"y":"x";Y[we]+=de[Te]*J})}return Y}function JQ(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,u=n.flipVariations,c=n.allowedAutoPlacements,f=c===void 0?wD:c,h=xh(r),p=h?u?bD:bD.filter(function(y){return xh(y)===h}):Eh,g=p.filter(function(y){return f.indexOf(y)>=0});g.length===0&&(g=p);var m=g.reduce(function(y,b){return y[b]=kh(t,{placement:b,boundary:i,rootBoundary:o,padding:a})[yo(b)],y},{});return Object.keys(m).sort(function(y,b){return m[y]-m[b]})}function ZQ(t){if(yo(t)===XE)return[];var e=Kv(t);return[kD(t),e,kD(e)]}function e8(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,u=a===void 0?!0:a,c=n.fallbackPlacements,f=n.padding,h=n.boundary,p=n.rootBoundary,g=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,b=n.allowedAutoPlacements,w=e.options.placement,T=yo(w),A=T===w,k=c||(A||!y?[Kv(w)]:ZQ(w)),N=[w].concat(k).reduce(function(Wt,X){return Wt.concat(yo(X)===XE?JQ(e,{placement:X,boundary:h,rootBoundary:p,padding:f,flipVariations:y,allowedAutoPlacements:b}):X)},[]),P=e.rects.reference,D=e.rects.popper,$=new Map,B=!0,Y=N[0],R=0;R<N.length;R++){var de=N[R],we=yo(de),J=xh(de)===Hc,Te=[vi,Bi].indexOf(we)>=0,ve=Te?"width":"height",H=kh(e,{placement:de,boundary:h,rootBoundary:p,altBoundary:g,padding:f}),W=Te?J?Vi:mi:J?Bi:vi;P[ve]>D[ve]&&(W=Kv(W));var Q=Kv(W),oe=[];if(o&&oe.push(H[we]<=0),u&&oe.push(H[W]<=0,H[Q]<=0),oe.every(function(Wt){return Wt})){Y=de,B=!1;break}$.set(de,oe)}if(B)for(var Ne=y?3:1,ze=function(X){var Ee=N.find(function(ge){var pe=$.get(ge);if(pe)return pe.slice(0,X).every(function(ht){return ht})});if(Ee)return Y=Ee,"break"},Fe=Ne;Fe>0;Fe--){var ot=ze(Fe);if(ot==="break")break}e.placement!==Y&&(e.modifiersData[r]._skip=!0,e.placement=Y,e.reset=!0)}}var t8={name:"flip",enabled:!0,phase:"main",fn:e8,requiresIfExists:["offset"],data:{_skip:!1}};function PD(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function DD(t){return[vi,Vi,Bi,mi].some(function(e){return t[e]>=0})}function n8(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=kh(e,{elementContext:"reference"}),u=kh(e,{altBoundary:!0}),c=PD(a,r),f=PD(u,i,o),h=DD(c),p=DD(f);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}var r8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:n8};function i8(t,e,n){var r=yo(t),i=[mi,vi].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],u=o[1];return a=a||0,u=(u||0)*i,[mi,Vi].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}function o8(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=wD.reduce(function(h,p){return h[p]=i8(p,e.rects,o),h},{}),u=a[e.placement],c=u.x,f=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=a}var s8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:o8};function a8(t){var e=t.state,n=t.name;e.modifiersData[n]=ND({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var u8={name:"popperOffsets",enabled:!0,phase:"read",fn:a8,data:{}};function c8(t){return t==="x"?"y":"x"}function l8(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,u=a===void 0?!1:a,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.padding,g=n.tether,m=g===void 0?!0:g,y=n.tetherOffset,b=y===void 0?0:y,w=kh(e,{boundary:c,rootBoundary:f,padding:p,altBoundary:h}),T=yo(e.placement),A=xh(e.placement),k=!A,N=ZE(T),P=c8(N),D=e.modifiersData.popperOffsets,$=e.rects.reference,B=e.rects.popper,Y=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,R={x:0,y:0};if(!!D){if(o||u){var de=N==="y"?vi:mi,we=N==="y"?Bi:Vi,J=N==="y"?"height":"width",Te=D[N],ve=D[N]+w[de],H=D[N]-w[we],W=m?-B[J]/2:0,Q=A===Hc?$[J]:B[J],oe=A===Hc?-B[J]:-$[J],Ne=e.elements.arrow,ze=m&&Ne?JE(Ne):{width:0,height:0},Fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:SD(),ot=Fe[de],Wt=Fe[we],X=Wv(0,$[J],ze[J]),Ee=k?$[J]/2-W-X-ot-Y:Q-X-ot-Y,ge=k?-$[J]/2+W+X+Wt+Y:oe+X+Wt+Y,pe=e.elements.arrow&&Sh(e.elements.arrow),ht=pe?N==="y"?pe.clientTop||0:pe.clientLeft||0:0,$e=e.modifiersData.offset?e.modifiersData.offset[e.placement][N]:0,We=D[N]+Ee-$e-ht,Ke=D[N]+ge-$e;if(o){var M=Wv(m?Ch(ve,We):ve,Te,m?Ps(H,Ke):H);D[N]=M,R[N]=M-Te}if(u){var U=N==="x"?vi:mi,K=N==="x"?Bi:Vi,Z=D[P],ee=Z+w[U],se=Z-w[K],me=Wv(m?Ch(ee,We):ee,Z,m?Ps(se,Ke):se);D[P]=me,R[P]=me-Z}}e.modifiersData[r]=R}}var f8={name:"preventOverflow",enabled:!0,phase:"main",fn:l8,requiresIfExists:["offset"]};function h8(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function d8(t){return t===qi(t)||!Hi(t)?eT(t):h8(t)}function p8(t,e,n){n===void 0&&(n=!1);var r=Ns(e),i=$c(t),o=Hi(e),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&((mo(e)!=="body"||nT(r))&&(a=d8(e)),Hi(e)?(u=$c(e),u.x+=e.clientLeft,u.y+=e.clientTop):r&&(u.x=tT(r))),{x:i.left+a.scrollLeft-u.x,y:i.top+a.scrollTop-u.y,width:i.width,height:i.height}}function g8(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(u){if(!n.has(u)){var c=e.get(u);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function v8(t){var e=g8(t);return kQ.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function m8(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function y8(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var MD={placement:"bottom",modifiers:[],strategy:"absolute"};function LD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function _8(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?MD:i;return function(u,c,f){f===void 0&&(f=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},MD,o),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},p=[],g=!1,m={state:h,setOptions:function(T){b(),h.options=Object.assign({},o,h.options,T),h.scrollParents={reference:Ih(u)?Ah(u):u.contextElement?Ah(u.contextElement):[],popper:Ah(c)};var A=v8(y8([].concat(r,h.options.modifiers)));return h.orderedModifiers=A.filter(function(k){return k.enabled}),y(),m.update()},forceUpdate:function(){if(!g){var T=h.elements,A=T.reference,k=T.popper;if(!!LD(A,k)){h.rects={reference:p8(A,Sh(k),h.options.strategy==="fixed"),popper:JE(k)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(R){return h.modifiersData[R.name]=Object.assign({},R.data)});for(var N=0;N<h.orderedModifiers.length;N++){if(h.reset===!0){h.reset=!1,N=-1;continue}var P=h.orderedModifiers[N],D=P.fn,$=P.options,B=$===void 0?{}:$,Y=P.name;typeof D=="function"&&(h=D({state:h,options:B,name:Y,instance:m})||h)}}}},update:m8(function(){return new Promise(function(w){m.forceUpdate(),w(h)})}),destroy:function(){b(),g=!0}};if(!LD(u,c))return m;m.setOptions(f).then(function(w){!g&&f.onFirstUpdate&&f.onFirstUpdate(w)});function y(){h.orderedModifiers.forEach(function(w){var T=w.name,A=w.options,k=A===void 0?{}:A,N=w.effect;if(typeof N=="function"){var P=N({state:h,name:T,instance:m,options:k}),D=function(){};p.push(P||D)}})}function b(){p.forEach(function(w){return w()}),p=[]}return m}}var b8=[$Q,u8,qQ,NQ,s8,t8,f8,UQ,r8],she=_8({defaultModifiers:b8});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iT=function(t,e){return iT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},iT(t,e)};function be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Le=function(){return Le=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Le.apply(this,arguments)};function F(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})}function L(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(h){return c([f,h])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(h){f=[6,h],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Nn(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $n(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Je(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue=function(t,e){if(!t)throw Wc(e)},Wc=function(t){return new Error("Firebase Database ("+FD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UD=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)==55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},w8=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|u>>4,g=(u&15)<<2|f>>6,m=f&63;c||(m=64,a||(g=64)),r.push(n[h],n[p],n[g],n[m])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UD(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,u=a?n[t.charAt(i)]:0;++i;var c=i<t.length,f=c?n[t.charAt(i)]:64;++i;var h=i<t.length,p=h?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw Error();var g=o<<2|u>>4;if(r.push(g),f!==64){var m=u<<4&240|f>>2;if(r.push(m),p!==64){var y=f<<6&192|p;r.push(y)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},jD=function(t){var e=UD(t);return Gv.encodeByteArray(e,!0)},BD=function(t){return jD(t).replace(/\./g,"")},VD=function(t){try{return Gv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){return Rh(void 0,t)}function Rh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!E8(r)||(t[r]=Rh(t[r],e[r]));return t}function E8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Le({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[BD(JSON.stringify(n)),BD(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sT(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ou())}function HD(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T8(){return typeof self=="object"&&self.self===self}function aT(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $D(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I8(){return ou().indexOf("Electron/")>=0}function S8(){var t=ou();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C8(){return ou().indexOf("MSAppHost/")>=0}function WD(){return FD.NODE_ADMIN===!0}function A8(){return!HD()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oh(){return"indexedDB"in self&&indexedDB!=null}function uT(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function zD(){return!(!navigator||!navigator.cookieEnabled)}function x8(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k8="FirebaseError",zc=function(t){be(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=k8,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Go.prototype.create),o}return e}(Error),Go=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,a=this.errors[e],u=a?R8(a,i):"Error",c=this.serviceName+": "+u+" ("+o+").",f=new zc(o,c,i);return f},t}();function R8(t,e){return t.replace(O8,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var O8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){return JSON.parse(t)}function In(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cT=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Nh(VD(o[0])||""),n=Nh(VD(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},N8=function(t){var e=cT(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},P8=function(t){var e=cT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},D8=function(t){var e=cT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function su(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lT(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yv(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(t){for(var e=[],n=function(c,f){Array.isArray(f)?f.forEach(function(h){e.push(encodeURIComponent(c)+"="+encodeURIComponent(h))}):e.push(encodeURIComponent(c)+"="+encodeURIComponent(f))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],u=o[1];n(a,u)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L8=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],h=this.chain_[4],p,g,i=0;i<80;i++){i<40?i<20?(p=f^u&(c^f),g=1518500249):(p=u^c^f,g=1859775393):i<60?(p=u&c|f&(u|c),g=2400959708):(p=u^c^f,g=3395469782);var o=(a<<5|a>>>27)+p+h+g+r[i]&4294967295;h=f,f=c,c=(u<<30|u>>>2)&4294967295,u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},t}();function F8(t,e){var n=new U8(t,e);return n.subscribe.bind(n)}var U8=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");j8(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=fT),o.error===void 0&&(o.error=fT),o.complete===void 0&&(o.complete=fT);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function j8(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function fT(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function Lr(t,e){return t+" failed: "+e+" argument "}function Dn(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Lr(t,e)+"must be a valid function.")}function KD(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Lr(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B8=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,ue(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xv=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V8=1e3,q8=2,H8=4*60*60*1e3,$8=.5;function hT(t,e,n){e===void 0&&(e=V8),n===void 0&&(n=q8);var r=e*Math.pow(n,t),i=Math.round($8*r*(Math.random()-.5)*2);return Math.min(H8,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}var ir=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var au="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GD=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new Pn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(z8(e))try{this.getOrInitializeService({instanceIdentifier:au})}catch{}try{for(var i=Nn(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=$n(o.value,2),u=a[0],c=a[1],f=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:f});c.resolve(h)}catch{}}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=au),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return F(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Je(Je([],$n(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),$n(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=au),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=au),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.options,o=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=Nn(this.instancesDeferred.entries()),f=c.next();!f.done;f=c.next()){var h=$n(f.value,2),p=h[0],g=h[1],m=this.normalizeInstanceIdentifier(p);a===m&&g.resolve(u)}}catch(y){n={error:y}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return u},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);var a=this.instances.get(i);return a&&e(a,i),function(){o.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,o=this.onInitCallbacks.get(n);if(!!o)try{for(var a=Nn(o),u=a.next();!u.done;u=a.next()){var c=u.value;try{c(e,n)}catch{}}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:W8(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=au),this.component?this.component.multipleInstances?e:au:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function W8(t){return t===au?void 0:t}function z8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YD=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new GD(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function $i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uu,dT=[],rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));var XD={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},K8=rt.INFO,G8=(uu={},uu[rt.DEBUG]="log",uu[rt.VERBOSE]="log",uu[rt.INFO]="info",uu[rt.WARN]="warn",uu[rt.ERROR]="error",uu),Y8=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=G8[e];if(o)console[o].apply(console,$i(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},cu=function(){function t(e){this.name=e,this._logLevel=K8,this._logHandler=Y8,this._userLogHandler=null,dT.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in rt))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?XD[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$i([this,rt.DEBUG],e)),this._logHandler.apply(this,$i([this,rt.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$i([this,rt.VERBOSE],e)),this._logHandler.apply(this,$i([this,rt.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$i([this,rt.INFO],e)),this._logHandler.apply(this,$i([this,rt.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$i([this,rt.WARN],e)),this._logHandler.apply(this,$i([this,rt.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$i([this,rt.ERROR],e)),this._logHandler.apply(this,$i([this,rt.ERROR],e))},t}();function X8(t){dT.forEach(function(e){e.setLogLevel(t)})}function Q8(t,e){for(var n=function(a){var u=null;e&&e.level&&(u=XD[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(c,f){for(var h=[],p=2;p<arguments.length;p++)h[p-2]=arguments[p];var g=h.map(function(m){if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(function(m){return m}).join(" ");f>=(u!=null?u:c.logLevel)&&t({level:rt[f].toLowerCase(),message:g,args:h,type:c.name})}},r=0,i=dT;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ds,J8=(Ds={},Ds["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ds["bad-app-name"]="Illegal App name: '{$appName}",Ds["duplicate-app"]="Firebase App named '{$appName}' already exists",Ds["app-deleted"]="Firebase App named '{$appName}' already deleted",Ds["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ds["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ds),Kc=new Go("app","Firebase",J8),QD="@firebase/app",Z8="0.6.30",e7="@firebase/analytics",t7="@firebase/app-check",n7="@firebase/auth",r7="@firebase/database",i7="@firebase/functions",o7="@firebase/installations",s7="@firebase/messaging",a7="@firebase/performance",u7="@firebase/remote-config",c7="@firebase/storage",l7="@firebase/firestore",f7="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,Qv="[DEFAULT]",h7=(or={},or[QD]="fire-core",or[e7]="fire-analytics",or[t7]="fire-app-check",or[n7]="fire-auth",or[r7]="fire-rtdb",or[i7]="fire-fn",or[o7]="fire-iid",or[s7]="fire-fcm",or[a7]="fire-perf",or[u7]="fire-rc",or[c7]="fire-gcs",or[l7]="fire-fst",or["fire-js"]="fire-js",or[f7]="fire-js-all",or);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gc=new cu("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jv=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=qD(e),this.container=new YD(n.name),this._addComponent(new ir("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=Qv),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Qv),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Gc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Kc.create("app-deleted",{appName:this.name_})},t}();Jv.prototype.name&&Jv.prototype.options||Jv.prototype.delete||console.log("dc");var d7="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:f,setLogLevel:X8,onLog:h,apps:null,SDK_VERSION:d7,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:p}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(g){delete e[g]}function o(g){if(g=g||Qv,!Kr(e,g))throw Kc.create("no-app",{appName:g});return e[g]}o.App=t;function a(g,m){if(m===void 0&&(m={}),typeof m!="object"||m===null){var y=m;m={name:y}}var b=m;b.name===void 0&&(b.name=Qv);var w=b.name;if(typeof w!="string"||!w)throw Kc.create("bad-app-name",{appName:String(w)});if(Kr(e,w))throw Kc.create("duplicate-app",{appName:w});var T=new t(g,b,r);return e[w]=T,T}function u(){return Object.keys(e).map(function(g){return e[g]})}function c(g){var m=g.name;if(n.has(m))return Gc.debug("There were multiple attempts to register component "+m+"."),g.type==="PUBLIC"?r[m]:null;if(n.set(m,g),g.type==="PUBLIC"){var y=function(A){if(A===void 0&&(A=o()),typeof A[m]!="function")throw Kc.create("invalid-app-argument",{appName:m});return A[m]()};g.serviceProps!==void 0&&Rh(y,g.serviceProps),r[m]=y,t.prototype[m]=function(){for(var A=[],k=0;k<arguments.length;k++)A[k]=arguments[k];var N=this._getService.bind(this,m);return N.apply(this,g.multipleInstances?A:[])}}for(var b=0,w=Object.keys(e);b<w.length;b++){var T=w[b];e[T]._addComponent(g)}return g.type==="PUBLIC"?r[m]:null}function f(g,m,y){var b,w=(b=h7[g])!==null&&b!==void 0?b:g;y&&(w+="-"+y);var T=w.match(/\s|\//),A=m.match(/\s|\//);if(T||A){var k=['Unable to register library "'+w+'" with version "'+m+'":'];T&&k.push('library name "'+w+'" contains illegal characters (whitespace or "/")'),T&&A&&k.push("and"),A&&k.push('version name "'+m+'" contains illegal characters (whitespace or "/")'),Gc.warn(k.join(" "));return}c(new ir(w+"-version",function(){return{library:w,version:m}},"VERSION"))}function h(g,m){if(g!==null&&typeof g!="function")throw Kc.create("invalid-log-argument");Q8(g,m)}function p(g,m){if(m==="serverAuth")return null;var y=m;return y}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(){var t=p7(Jv);t.INTERNAL=Le(Le({},t.INTERNAL),{createFirebaseNamespace:JD,extendNamespace:e,createSubscribe:F8,ErrorFactory:Go,deepExtend:Rh});function e(n){Rh(t,n)}return t}var pT=JD();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g7=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(v7(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function v7(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t,e){t.INTERNAL.registerComponent(new ir("platform-logger",function(n){return new g7(n)},"PRIVATE")),t.registerVersion(QD,Z8,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(T8()&&self.firebase!==void 0){Gc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var ZD=self.firebase.SDK_VERSION;ZD&&ZD.indexOf("LITE")>=0&&Gc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var y7=pT.initializeApp;pT.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return HD()&&Gc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),y7.apply(void 0,t)};var ke=pT;m7(ke);var _7="firebase",eM="8.10.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ke.registerVersion(_7,eM,"app");ke.SDK_VERSION=eM;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gT=function(t,e){return gT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},gT(t,e)};function b7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function tM(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var w7=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Se,vT=vT||{},He=w7||self;function Zv(){}function mT(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ph(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function E7(t){return Object.prototype.hasOwnProperty.call(t,yT)&&t[yT]||(t[yT]=++T7)}var yT="closure_uid_"+(1e9*Math.random()>>>0),T7=0;function I7(t,e,n){return t.call.apply(t.bind,arguments)}function S7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wn=I7:Wn=S7,Wn.apply(null,arguments)}function em(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function zn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[i].apply(r,a)}}function Ms(){this.s=this.s,this.o=this.o}var C7=0,A7={};Ms.prototype.s=!1;Ms.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),C7!=0)){var t=E7(this);delete A7[t]}};Ms.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var nM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},rM=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function x7(t){e:{for(var e=_9,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function iM(t){return Array.prototype.concat.apply([],arguments)}function _T(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function tm(t){return/^[\s\xa0]*$/.test(t)}var oM=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function yr(t,e){return t.indexOf(e)!=-1}function bT(t,e){return t<e?-1:t>e?1:0}var _r;e:{var sM=He.navigator;if(sM){var aM=sM.userAgent;if(aM){_r=aM;break e}}_r=""}function wT(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function uM(t){var e={};for(var n in t)e[n]=t[n];return e}var cM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lM(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<cM.length;o++)n=cM[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ET(t){return ET[" "](t),t}ET[" "]=Zv;function k7(t){var e=N7;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var R7=yr(_r,"Opera"),Yc=yr(_r,"Trident")||yr(_r,"MSIE"),fM=yr(_r,"Edge"),TT=fM||Yc,hM=yr(_r,"Gecko")&&!(yr(_r.toLowerCase(),"webkit")&&!yr(_r,"Edge"))&&!(yr(_r,"Trident")||yr(_r,"MSIE"))&&!yr(_r,"Edge"),O7=yr(_r.toLowerCase(),"webkit")&&!yr(_r,"Edge");function dM(){var t=He.document;return t?t.documentMode:void 0}var nm;e:{var IT="",ST=function(){var t=_r;if(hM)return/rv:([^\);]+)(\)|;)/.exec(t);if(fM)return/Edge\/([\d\.]+)/.exec(t);if(Yc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(O7)return/WebKit\/(\S+)/.exec(t);if(R7)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ST&&(IT=ST?ST[1]:""),Yc){var CT=dM();if(CT!=null&&CT>parseFloat(IT)){nm=String(CT);break e}}nm=IT}var N7={};function P7(){return k7(function(){for(var t=0,e=oM(String(nm)).split("."),n=oM("9").split("."),r=Math.max(e.length,n.length),i=0;t==0&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o[0].length==0&&a[0].length==0)break;t=bT(o[1].length==0?0:parseInt(o[1],10),a[1].length==0?0:parseInt(a[1],10))||bT(o[2].length==0,a[2].length==0)||bT(o[2],a[2]),o=o[3],a=a[3]}while(t==0)}return 0<=t})}var AT;if(He.document&&Yc){var pM=dM();AT=pM||parseInt(nm,10)||void 0}else AT=void 0;var D7=AT,M7=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{He.addEventListener("test",Zv,e),He.removeEventListener("test",Zv,e)}catch{}return t}();function sr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}sr.prototype.h=function(){this.defaultPrevented=!0};function Dh(t,e){if(sr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(hM){e:{try{ET(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:L7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dh.Z.h.call(this)}}zn(Dh,sr);var L7={2:"touch",3:"pen",4:"mouse"};Dh.prototype.h=function(){Dh.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Mh="closure_listenable_"+(1e6*Math.random()|0),F7=0;function U7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++F7,this.ca=this.fa=!1}function rm(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function im(t){this.src=t,this.g={},this.h=0}im.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=kT(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new U7(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};function xT(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=nM(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(rm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function kT(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}var RT="closure_lm_"+(1e6*Math.random()|0),OT={};function gM(t,e,n,r,i){if(r&&r.once)return mM(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gM(t,e[o],n,r,i);return null}return n=MT(n),t&&t[Mh]?t.N(e,n,Ph(r)?!!r.capture:!!r,i):vM(t,e,n,!1,r,i)}function vM(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Ph(i)?!!i.capture:!!i,u=PT(t);if(u||(t[RT]=u=new im(t)),n=u.add(e,n,r,a,o),n.proxy)return n;if(r=j7(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)M7||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_M(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function j7(){function t(n){return e.call(t.src,t.listener,n)}var e=B7;return t}function mM(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)mM(t,e[o],n,r,i);return null}return n=MT(n),t&&t[Mh]?t.O(e,n,Ph(r)?!!r.capture:!!r,i):vM(t,e,n,!0,r,i)}function yM(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)yM(t,e[o],n,r,i);else r=Ph(r)?!!r.capture:!!r,n=MT(n),t&&t[Mh]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=kT(o,n,r,i),-1<n&&(rm(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=PT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kT(e,n,r,i)),(n=-1<t?e[t]:null)&&NT(n))}function NT(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Mh])xT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_M(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=PT(e))?(xT(n,t),n.h==0&&(n.src=null,e[RT]=null)):rm(t)}}}function _M(t){return t in OT?OT[t]:OT[t]="on"+t}function B7(t,e){if(t.ca)t=!0;else{e=new Dh(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&NT(t),t=n.call(r,e)}return t}function PT(t){return t=t[RT],t instanceof im?t:null}var DT="__closure_events_fn_"+(1e9*Math.random()>>>0);function MT(t){return typeof t=="function"?t:(t[DT]||(t[DT]=function(e){return t.handleEvent(e)}),t[DT])}function Mn(){Ms.call(this),this.i=new im(this),this.P=this,this.I=null}zn(Mn,Ms);Mn.prototype[Mh]=!0;Mn.prototype.removeEventListener=function(t,e,n,r){yM(this,t,e,n,r)};function Kn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new sr(e,t);else if(e instanceof sr)e.target=e.target||t;else{var i=e;e=new sr(r,t),lM(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=om(a,r,!0,e)&&i}if(a=e.g=t,i=om(a,r,!0,e)&&i,i=om(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=om(a,r,!1,e)&&i}Mn.prototype.M=function(){if(Mn.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rm(n[r]);delete t.g[e],t.h--}}this.I=null};Mn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Mn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function om(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,c=a.ia||a.src;a.fa&&xT(t.i,a),i=u.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var LT=He.JSON.stringify;function V7(){var t=wM,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var q7=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=bM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),bM=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new H7},function(t){return t.reset()}),H7=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function $7(t){He.setTimeout(function(){throw t},0)}function FT(t,e){UT||W7(),jT||(UT(),jT=!0),wM.add(t,e)}var UT;function W7(){var t=He.Promise.resolve(void 0);UT=function(){t.then(z7)}}var jT=!1,wM=new q7;function z7(){for(var t;t=V7();){try{t.h.call(t.g)}catch(n){$7(n)}var e=bM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jT=!1}function sm(t,e){Mn.call(this),this.h=t||1,this.g=e||He,this.j=Wn(this.kb,this),this.l=Date.now()}zn(sm,Mn);Se=sm.prototype;Se.da=!1;Se.S=null;Se.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kn(this,"tick"),this.da&&(BT(this),this.start()))}};Se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function BT(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}Se.M=function(){sm.Z.M.call(this),BT(this),delete this.g};function VT(t,e,n){if(typeof t=="function")n&&(t=Wn(t,n));else if(t&&typeof t.handleEvent=="function")t=Wn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:He.setTimeout(t,e||0)}function EM(t){t.g=VT(function(){t.g=null,t.i&&(t.i=!1,EM(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var K7=function(t){b7(e,t);function e(n,r){var i=t.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:EM(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Ms);function Lh(t){Ms.call(this),this.h=t,this.g={}}zn(Lh,Ms);var TM=[];function IM(t,e,n,r){Array.isArray(n)||(n&&(TM[0]=n.toString()),n=TM);for(var i=0;i<n.length;i++){var o=gM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function SM(t){wT(t.g,function(e,n){this.g.hasOwnProperty(n)&&NT(e)},t),t.g={}}Lh.prototype.M=function(){Lh.Z.M.call(this),SM(this)};Lh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function am(){this.g=!0}am.prototype.Aa=function(){this.g=!1};function G7(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",u=o.split("&"),c=0;c<u.length;c++){var f=u[c].split("=");if(1<f.length){var h=f[0];f=f[1];var p=h.split("_");a=2<=p.length&&p[1]=="type"?a+(h+"="+f+"&"):a+(h+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function Y7(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function Xc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Q7(t,n)+(r?" "+r:"")})}function X7(t,e){t.info(function(){return"TIMEOUT: "+e})}am.prototype.info=function(){};function Q7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return LT(n)}catch{return e}}var lu={},CM=null;function um(){return CM=CM||new Mn}lu.Ma="serverreachability";function AM(t){sr.call(this,lu.Ma,t)}zn(AM,sr);function Fh(t){var e=um();Kn(e,new AM(e,t))}lu.STAT_EVENT="statevent";function xM(t,e){sr.call(this,lu.STAT_EVENT,t),this.stat=e}zn(xM,sr);function br(t){var e=um();Kn(e,new xM(e,t))}lu.Na="timingevent";function kM(t,e){sr.call(this,lu.Na,t),this.size=e}zn(kM,sr);function Uh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){t()},e)}var cm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},RM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qT(){}qT.prototype.h=null;function OM(t){return t.h||(t.h=t.i())}function NM(){}var jh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function HT(){sr.call(this,"d")}zn(HT,sr);function $T(){sr.call(this,"c")}zn($T,sr);var WT;function lm(){}zn(lm,qT);lm.prototype.g=function(){return new XMLHttpRequest};lm.prototype.i=function(){return{}};WT=new lm;function Bh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Lh(this),this.P=J7,t=TT?125:void 0,this.W=new sm(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new PM}function PM(){this.i=null,this.g="",this.h=!1}var J7=45e3,zT={},fm={};Se=Bh.prototype;Se.setTimeout=function(t){this.P=t};function KT(t,e,n){t.K=1,t.v=vm(Yo(e)),t.s=n,t.U=!0,DM(t,null)}function DM(t,e){t.F=Date.now(),Vh(t),t.A=Yo(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),HM(n.h,"t",r),t.C=0,n=t.l.H,t.h=new PM,t.g=hL(t.l,n?e:null,!t.s),0<t.O&&(t.L=new K7(Wn(t.Ia,t,t.g),t.O)),IM(t.V,t.g,"readystatechange",t.gb),e=t.H?uM(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Fh(1),G7(t.j,t.u,t.A,t.m,t.X,t.s)}Se.gb=function(t){t=t.target;var e=this.L;e&&Xo(t)==3?e.l():this.Ia(t)};Se.Ia=function(t){try{if(t==this.g)e:{var e=Xo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||TT||this.g&&(this.h.h||this.g.ga()||tL(this.g)))){this.I||e!=4||n==7||(n==8||0>=r?Fh(3):Fh(2)),hm(this);var i=this.g.ba();this.N=i;t:if(MM(this)){var o=tL(this.g);t="";var a=o.length,u=Xo(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){fu(this),qh(this);var c="";break t}this.h.i=new He.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,Y7(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){t:{if(this.g){var f,h=this.g;if((f=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tm(f)){var p=f;break t}}p=null}if(i=p)Xc(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,GT(this,i);else{this.i=!1,this.o=3,br(12),fu(this),qh(this);break e}}this.U?(LM(this,e,c),TT&&this.i&&e==3&&(IM(this.V,this.W,"tick",this.fb),this.W.start())):(Xc(this.j,this.m,c,null),GT(this,c)),e==4&&fu(this),this.i&&!this.I&&(e==4?uL(this.l,this):(this.i=!1,Vh(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,br(12)):(this.o=0,br(13)),fu(this),qh(this)}}}catch{}finally{}};function MM(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function LM(t,e,n){for(var r=!0,i;!t.I&&t.C<n.length;)if(i=Z7(t,n),i==fm){e==4&&(t.o=4,br(14),r=!1),Xc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==zT){t.o=4,br(15),Xc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xc(t.j,t.m,i,null),GT(t,i);MM(t)&&i!=fm&&i!=zT&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,br(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),oI(e),e.L=!0,br(11))):(Xc(t.j,t.m,n,"[Invalid Chunked Response]"),fu(t),qh(t))}Se.fb=function(){if(this.g){var t=Xo(this.g),e=this.g.ga();this.C<e.length&&(hm(this),LM(this,t,e),this.i&&t!=4&&Vh(this))}};function Z7(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?fm:(n=Number(e.substring(n,r)),isNaN(n)?zT:(r+=1,r+n>e.length?fm:(e=e.substr(r,n),t.C=r+n,e)))}Se.cancel=function(){this.I=!0,fu(this)};function Vh(t){t.Y=Date.now()+t.P,FM(t,t.P)}function FM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Uh(Wn(t.eb,t),e)}function hm(t){t.B&&(He.clearTimeout(t.B),t.B=null)}Se.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(X7(this.j,this.A),this.K!=2&&(Fh(3),br(17)),fu(this),this.o=2,qh(this)):FM(this,this.Y-t)};function qh(t){t.l.G==0||t.I||uL(t.l,t)}function fu(t){hm(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,BT(t.W),SM(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function GT(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||QT(n.i,t))){if(n.I=t.N,!t.J&&QT(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0)e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Em(n),bm(n);else break e;iI(n),br(18)}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Uh(Wn(n.ab,n),6e3));if(1>=zM(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else pu(n,11)}else if((t.J||n.g==t)&&Em(n),!tm(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var a=o[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var c=o[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var f=t.g;if(f){var h=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var p=r.i;!p.g&&(yr(h,"spdy")||yr(h,"quic")||yr(h,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(JT(p,p.h),p.h=null))}if(r.D){var g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Gt(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var m=t;if(r.oa=fL(r,r.H?r.la:null,r.W),m.J){KM(r.i,m);var y=m,b=r.K;b&&y.setTimeout(b),y.B&&(hm(y),Vh(y)),r.g=m}else sL(r);0<n.l.length&&wm(n)}else o[0]!="stop"&&o[0]!="close"||pu(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?pu(n,7):nI(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}Fh(4)}catch{}}function e9(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(mT(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function YT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(mT(t)||typeof t=="string")rM(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(mT(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=e9(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Qc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}Se=Qc.prototype;Se.R=function(){XT(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};Se.T=function(){return XT(this),this.g.concat()};function XT(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];hu(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],hu(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}Se.get=function(t,e){return hu(this.h,t)?this.h[t]:e};Se.set=function(t,e){hu(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};Se.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function hu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var UM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function t9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function du(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof du){this.g=e!==void 0?e:t.g,dm(this,t.j),this.s=t.s,pm(this,t.i),gm(this,t.m),this.l=t.l,e=t.h;var n=new Wh;n.i=e.i,e.g&&(n.g=new Qc(e.g),n.h=e.h),jM(this,n),this.o=t.o}else t&&(n=String(t).match(UM))?(this.g=!!e,dm(this,n[1]||"",!0),this.s=Hh(n[2]||""),pm(this,n[3]||"",!0),gm(this,n[4]),this.l=Hh(n[5]||"",!0),jM(this,n[6]||"",!0),this.o=Hh(n[7]||"")):(this.g=!!e,this.h=new Wh(null,this.g))}du.prototype.toString=function(){var t=[],e=this.j;e&&t.push($h(e,BM,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($h(e,BM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push($h(n,n.charAt(0)=="/"?s9:o9,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$h(n,u9)),t.join("")};function Yo(t){return new du(t)}function dm(t,e,n){t.j=n?Hh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pm(t,e,n){t.i=n?Hh(e,!0):e}function gm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jM(t,e,n){e instanceof Wh?(t.h=e,c9(t.h,t.g)):(n||(e=$h(e,a9)),t.h=new Wh(e,t.g))}function Gt(t,e,n){t.h.set(e,n)}function vm(t){return Gt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function n9(t){return t instanceof du?Yo(t):new du(t,void 0)}function r9(t,e,n,r){var i=new du(null,void 0);return t&&dm(i,t),e&&pm(i,e),n&&gm(i,n),r&&(i.l=r),i}function Hh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $h(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,i9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function i9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var BM=/[#\/\?@]/g,o9=/[#\?:]/g,s9=/[#\?]/g,a9=/[#\?@]/g,u9=/#/g;function Wh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ls(t){t.g||(t.g=new Qc,t.h=0,t.i&&t9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Se=Wh.prototype;Se.add=function(t,e){Ls(this),this.i=null,t=Jc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function VM(t,e){Ls(t),e=Jc(t,e),hu(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,hu(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&XT(t)))}function qM(t,e){return Ls(t),e=Jc(t,e),hu(t.g.h,e)}Se.forEach=function(t,e){Ls(this),this.g.forEach(function(n,r){rM(n,function(i){t.call(e,i,r,this)},this)},this)};Se.T=function(){Ls(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};Se.R=function(t){Ls(this);var e=[];if(typeof t=="string")qM(this,t)&&(e=iM(e,this.g.get(Jc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=iM(e,t[n])}return e};Se.set=function(t,e){return Ls(this),this.i=null,t=Jc(this,t),qM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Se.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function HM(t,e,n){VM(t,e),0<n.length&&(t.i=null,t.g.set(Jc(t,e),_T(n)),t.h+=n.length)}Se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};function Jc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function c9(t,e){e&&!t.j&&(Ls(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(VM(this,r),HM(this,i,n))},t)),t.j=e}var l9=function(){function t(e,n){this.h=e,this.g=n}return t}();function $M(t){this.l=t||f9,He.PerformanceNavigationTiming?(t=He.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(He.g&&He.g.Ea&&He.g.Ea()&&He.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var f9=10;function WM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zM(t){return t.h?1:t.g?t.g.size:0}function QT(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function JT(t,e){t.g?t.g.add(e):t.h=e}function KM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$M.prototype.cancel=function(){var t,e;if(this.i=GM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=tM(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function GM(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var r=t.i;try{for(var i=tM(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return _T(t.i)}function ZT(){}ZT.prototype.stringify=function(t){return He.JSON.stringify(t,void 0)};ZT.prototype.parse=function(t){return He.JSON.parse(t,void 0)};function h9(){this.g=new ZT}function d9(t,e,n){var r=n||"";try{YT(t,function(i,o){var a=i;Ph(i)&&(a=LT(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function p9(t,e){var n=new am;if(He.Image){var r=new Image;r.onload=em(mm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=em(mm,n,r,"TestLoadImage: error",!1,e),r.onabort=em(mm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=em(mm,n,r,"TestLoadImage: timeout",!1,e),He.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function mm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function zh(t){this.l=t.$b||null,this.j=t.ib||!1}zn(zh,qT);zh.prototype.g=function(){return new ym(this.l,this.j)};zh.prototype.i=function(t){return function(){return t}}({});function ym(t,e){Mn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=eI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zn(ym,Mn);var eI=0;Se=ym.prototype;Se.open=function(t,e){if(this.readyState!=eI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gh(this)};Se.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||He).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};Se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kh(this)),this.readyState=eI};Se.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gh(this)),this.g&&(this.readyState=3,Gh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof He.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YM(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function YM(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}Se.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Kh(this):Gh(this),this.readyState==3&&YM(this)}};Se.Ua=function(t){this.g&&(this.response=this.responseText=t,Kh(this))};Se.Ta=function(t){this.g&&(this.response=t,Kh(this))};Se.ha=function(){this.g&&Kh(this)};function Kh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gh(t)}Se.setRequestHeader=function(t,e){this.v.append(t,e)};Se.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Se.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ym.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var g9=He.JSON.parse;function hn(t){Mn.call(this),this.headers=new Qc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XM,this.K=this.L=!1}zn(hn,Mn);var XM="",v9=/^https?$/i,m9=["POST","PUT"];Se=hn.prototype;Se.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():WT.g(),this.C=this.u?OM(this.u):OM(WT),this.g.onreadystatechange=Wn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){QM(this,o);return}t=n||"";var i=new Qc(this.headers);r&&YT(r,function(o,a){i.set(a,o)}),r=x7(i.T()),n=He.FormData&&t instanceof He.FormData,!(0<=nM(m9,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eL(this),0<this.B&&((this.K=y9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wn(this.pa,this)):this.A=VT(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){QM(this,o)}};function y9(t){return Yc&&P7()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function _9(t){return t.toLowerCase()=="content-type"}Se.pa=function(){typeof vT!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kn(this,"timeout"),this.abort(8))};function QM(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,JM(t),_m(t)}function JM(t){t.D||(t.D=!0,Kn(t,"complete"),Kn(t,"error"))}Se.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kn(this,"complete"),Kn(this,"abort"),_m(this))};Se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_m(this,!0)),hn.Z.M.call(this)};Se.Fa=function(){this.s||(this.F||this.v||this.l?ZM(this):this.cb())};Se.cb=function(){ZM(this)};function ZM(t){if(t.h&&typeof vT!="undefined"&&(!t.C[1]||Xo(t)!=4||t.ba()!=2)){if(t.v&&Xo(t)==4)VT(t.Fa,0,t);else if(Kn(t,"readystatechange"),Xo(t)==4){t.h=!1;try{var e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var o=String(t.H).match(UM)[1]||null;if(!o&&He.self&&He.self.location){var a=He.self.location.protocol;o=a.substr(0,a.length-1)}i=!v9.test(o?o.toLowerCase():"")}r=i}if(r)Kn(t,"complete"),Kn(t,"success");else{t.m=6;try{var u=2<Xo(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.ba()+"]",JM(t)}}finally{_m(t)}}}}function _m(t,e){if(t.g){eL(t);var n=t.g,r=t.C[0]?Zv:null;t.g=null,t.C=null,e||Kn(t,"ready");try{n.onreadystatechange=r}catch{}}}function eL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(He.clearTimeout(t.A),t.A=null)}function Xo(t){return t.g?t.g.readyState:0}Se.ba=function(){try{return 2<Xo(this)?this.g.status:-1}catch{return-1}};Se.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Se.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),g9(e)}};function tL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case XM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Se.Da=function(){return this.m};Se.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function b9(t){var e="";return wT(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function tI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=b9(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Gt(t,e,n))}function Yh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nL(t){this.za=0,this.l=[],this.h=new am,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yh("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yh("baseRetryDelayMs",5e3,t),this.$a=Yh("retryDelaySeedMs",1e4,t),this.Ya=Yh("forwardChannelMaxRetries",2,t),this.ra=Yh("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new $M(t&&t.concurrentRequestLimit),this.Ca=new h9,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}Se=nL.prototype;Se.ma=8;Se.G=1;function nI(t){if(rL(t),t.G==3){var e=t.V++,n=Yo(t.F);Gt(n,"SID",t.J),Gt(n,"RID",e),Gt(n,"TYPE","terminate"),Xh(t,n),e=new Bh(t,t.h,e,void 0),e.K=2,e.v=vm(Yo(n)),n=!1,He.navigator&&He.navigator.sendBeacon&&(n=He.navigator.sendBeacon(e.v.toString(),"")),!n&&He.Image&&(new Image().src=e.v,n=!0),n||(e.g=hL(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Vh(e)}lL(t)}Se.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function bm(t){t.g&&(oI(t),t.g.cancel(),t.g=null)}function rL(t){bm(t),t.u&&(He.clearTimeout(t.u),t.u=null),Em(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&He.clearTimeout(t.m),t.m=null)}function rI(t,e){t.l.push(new l9(t.Za++,e)),t.G==3&&wm(t)}function wm(t){WM(t.i)||t.m||(t.m=!0,FT(t.Ha,t),t.C=0)}function w9(t,e){return zM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Uh(Wn(t.Ha,t,e),cL(t,t.C)),t.C++,!0)}Se.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Bh(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=uM(n),lM(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=oL(this,e,r),i=Yo(this.F),Gt(i,"RID",t),Gt(i,"CVER",22),this.D&&Gt(i,"X-HTTP-Session-Id",this.D),Xh(this,i),this.o&&n&&tI(i,this.o,n),JT(this.i,e),this.Ra&&Gt(i,"TYPE","init"),this.ja?(Gt(i,"$req",r),Gt(i,"SID","null"),e.$=!0,KT(e,i,null)):KT(e,i,r),this.G=2}}else this.G==3&&(t?iL(this,t):this.l.length==0||WM(this.i)||iL(this))};function iL(t,e){var n;e?n=e.m:n=t.V++;var r=Yo(t.F);Gt(r,"SID",t.J),Gt(r,"RID",n),Gt(r,"AID",t.U),Xh(t,r),t.o&&t.s&&tI(r,t.o,t.s),n=new Bh(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=oL(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),JT(t.i,n),KT(n,r,e)}function Xh(t,e){t.j&&YT({},function(n,r){Gt(e,r,n)})}function oL(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Wn(t.j.Oa,t.j,t):null;e:for(var i=t.l,o=-1;;){var a=["count="+n];o==-1?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,c=0;c<n;c++){var f=i[c].h,h=i[c].g;if(f-=o,0>f)o=Math.max(0,i[c].h-100),u=!1;else try{d9(h,a,"req"+f+"_")}catch{r&&r(h)}}if(u){r=a.join("&");break e}}return t=t.l.splice(0,n),e.D=t,r}function sL(t){t.g||t.u||(t.Y=1,FT(t.Ga,t),t.A=0)}function iI(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Uh(Wn(t.Ga,t),cL(t,t.A)),t.A++,!0)}Se.Ga=function(){if(this.u=null,aL(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Uh(Wn(this.bb,this),t)}};Se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,br(10),bm(this),aL(this))};function oI(t){t.B!=null&&(He.clearTimeout(t.B),t.B=null)}function aL(t){t.g=new Bh(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Yo(t.oa);Gt(e,"RID","rpc"),Gt(e,"SID",t.J),Gt(e,"CI",t.N?"0":"1"),Gt(e,"AID",t.U),Xh(t,e),Gt(e,"TYPE","xmlhttp"),t.o&&t.s&&tI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=vm(Yo(e)),n.s=null,n.U=!0,DM(n,t)}Se.ab=function(){this.v!=null&&(this.v=null,bm(this),iI(this),br(19))};function Em(t){t.v!=null&&(He.clearTimeout(t.v),t.v=null)}function uL(t,e){var n=null;if(t.g==e){Em(t),oI(t),t.g=null;var r=2}else if(QT(t.i,e))n=e.D,KM(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=um(),Kn(r,new kM(r,n,e,i)),wm(t)}else sL(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&w9(t,e)||r==2&&iI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:pu(t,5);break;case 4:pu(t,10);break;case 3:pu(t,6);break;default:pu(t,2)}}}function cL(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function pu(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Wn(t.jb,t);n||(n=new du("//www.google.com/images/cleardot.gif"),He.location&&He.location.protocol=="http"||dm(n,"https"),vm(n)),p9(n.toString(),r)}else br(2);t.G=0,t.j&&t.j.va(e),lL(t),rL(t)}Se.jb=function(t){t?(this.h.info("Successfully pinged google.com"),br(2)):(this.h.info("Failed to ping google.com"),br(1))};function lL(t){t.G=0,t.I=-1,t.j&&((GM(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,_T(t.l),t.l.length=0),t.j.ua())}function fL(t,e,n){var r=n9(n);if(r.i!="")e&&pm(r,e+"."+r.i),gm(r,r.m);else{var i=He.location;r=r9(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&wT(t.aa,function(o,a){Gt(r,a,o)}),e=t.D,n=t.sa,e&&n&&Gt(r,e,n),Gt(r,"VER",t.ma),Xh(t,r),r}function hL(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new hn(new zh({ib:!0})):new hn(t.qa),e.L=t.H,e}function dL(){}Se=dL.prototype;Se.xa=function(){};Se.wa=function(){};Se.va=function(){};Se.ua=function(){};Se.Oa=function(){};function Tm(){if(Yc&&!(10<=Number(D7)))throw Error("Environmental error: no available transport.")}Tm.prototype.g=function(t,e){return new Gr(t,e)};function Gr(t,e){Mn.call(this),this.g=new nL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!tm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tm(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Zc(this)}zn(Gr,Mn);Gr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),FT(Wn(t.hb,t,e))),br(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=fL(t,null,t.W),wm(t)};Gr.prototype.close=function(){nI(this.g)};Gr.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,rI(this.g,e)}else this.v?(e={},e.__data__=LT(t),rI(this.g,e)):rI(this.g,t)};Gr.prototype.M=function(){this.g.j=null,delete this.j,nI(this.g),delete this.g,Gr.Z.M.call(this)};function pL(t){HT.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}zn(pL,HT);function gL(){$T.call(this),this.status=1}zn(gL,$T);function Zc(t){this.g=t}zn(Zc,dL);Zc.prototype.xa=function(){Kn(this.g,"a")};Zc.prototype.wa=function(t){Kn(this.g,new pL(t))};Zc.prototype.va=function(t){Kn(this.g,new gL(t))};Zc.prototype.ua=function(){Kn(this.g,"b")};Tm.prototype.createWebChannel=Tm.prototype.g;Gr.prototype.send=Gr.prototype.u;Gr.prototype.open=Gr.prototype.m;Gr.prototype.close=Gr.prototype.close;cm.NO_ERROR=0;cm.TIMEOUT=8;cm.HTTP_ERROR=6;RM.COMPLETE="complete";NM.EventType=jh;jh.OPEN="a";jh.CLOSE="b";jh.ERROR="c";jh.MESSAGE="d";Mn.prototype.listen=Mn.prototype.N;hn.prototype.listenOnce=hn.prototype.O;hn.prototype.getLastError=hn.prototype.La;hn.prototype.getLastErrorCode=hn.prototype.Da;hn.prototype.getStatus=hn.prototype.ba;hn.prototype.getResponseJson=hn.prototype.Qa;hn.prototype.getResponseText=hn.prototype.ga;hn.prototype.send=hn.prototype.ea;var E9=function(){return new Tm},T9=function(){return um()},sI=cm,I9=RM,S9=lu,vL={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},C9=zh,Im=NM,A9=hn;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yr=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Yr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return be(e,t),e}(Error),Wi=new cu("@firebase/firestore");function aI(){return Wi.logLevel}function fe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wi.logLevel<=rt.DEBUG){var r=e.map(uI);Wi.debug.apply(Wi,Je(["Firestore (8.10.0): "+t],r))}}function dn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wi.logLevel<=rt.ERROR){var r=e.map(uI);Wi.error.apply(Wi,Je(["Firestore (8.10.0): "+t],r))}}function Qh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wi.logLevel<=rt.WARN){var r=e.map(uI);Wi.warn.apply(Wi,Je(["Firestore (8.10.0): "+t],r))}}function uI(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw dn(e),new Error(e)}function je(t,e){t||Re()}function ye(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){var e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mL=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=x9(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length));return r},t}();function ut(t,e){return t<e?-1:t>e?1:0}function el(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function yL(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),et=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Fr(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bL(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wL=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),yt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return be(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,a=n;o<a.length;o++){var u=a[o];if(u.indexOf("//")>=0)throw new re(z.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(c){return c.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(wL),k9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zi=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return be(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return k9.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",o=0,a=function(){if(i.length===0)throw new re(z.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var c=n[o];if(c==="\\"){if(o+1===n.length)throw new re(z.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var f=n[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new re(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=f,o+=2}else c==="`"?(u=!u,o++):c!=="."||u?(i+=c,o++):(a(),o++)}if(a(),u)throw new re(z.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(wL),tl=function(){function t(e){this.fields=e,e.sort(zi.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return el(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),wr=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return ut(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();wr.EMPTY_BYTE_STRING=new wr("");var R9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(je(!!t),typeof t=="string"){var e=0,n=R9.exec(t);if(je(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pn(t.seconds),nanos:pn(t.nanos)}}function pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nl(t){return typeof t=="string"?wr.fromBase64String(t):wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function EL(t){var e=t.mapValue.fields.__previous_value__;return cI(e)?EL(e):e}function Jh(t){var e=Fs(t.mapValue.fields.__local_write_time__.timestampValue);return new Fr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){return t==null}function Sm(t){return t===0&&1/t==-1/0}function TL(t){return typeof t=="number"&&Number.isInteger(t)&&!Sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(yt.fromString(e))},t.fromName=function(e){return new t(yt.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&yt.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return yt.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new yt(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cI(t)?4:10:Re()}function _o(t,e){var n=mu(t);if(n!==mu(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jh(t).isEqual(Jh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Fs(r.timestampValue),a=Fs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return nl(r.bytesValue).isEqual(nl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return pn(r.geoPointValue.latitude)===pn(i.geoPointValue.latitude)&&pn(r.geoPointValue.longitude)===pn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pn(r.integerValue)===pn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=pn(r.doubleValue),a=pn(i.doubleValue);return o===a?Sm(o)===Sm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],_o);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(_L(o)!==_L(a))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!_o(o[u],a[u])))return!1;return!0}(t,e);default:return Re()}}function Zh(t,e){return(t.values||[]).find(function(n){return _o(n,e)})!==void 0}function rl(t,e){var n=mu(t),r=mu(e);if(n!==r)return ut(n,r);switch(n){case 0:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return function(i,o){var a=pn(i.integerValue||i.doubleValue),u=pn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return IL(t.timestampValue,e.timestampValue);case 4:return IL(Jh(t),Jh(e));case 5:return ut(t.stringValue,e.stringValue);case 6:return function(i,o){var a=nl(i),u=nl(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),u=o.split("/"),c=0;c<a.length&&c<u.length;c++){var f=ut(a[c],u[c]);if(f!==0)return f}return ut(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){var a=ut(pn(i.latitude),pn(o.latitude));return a!==0?a:ut(pn(i.longitude),pn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],u=o.values||[],c=0;c<a.length&&c<u.length;++c){var f=rl(a[c],u[c]);if(f)return f}return ut(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a=i.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(var h=0;h<u.length&&h<f.length;++h){var p=ut(u[h],f[h]);if(p!==0)return p;var g=rl(a[u[h]],c[f[h]]);if(g!==0)return g}return ut(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Re()}}function IL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);var n=Fs(t),r=Fs(e),i=ut(n.seconds,r.seconds);return i!==0?i:ut(n.nanos,r.nanos)}function lI(t){return fI(t)}function fI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=Fs(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?nl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Pe.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",o=!0,a=0,u=r.values||[];a<u.length;a++)o?o=!1:i+=",",i+=fI(u[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",o=!0,a=0,u=Object.keys(r.fields||{}).sort();a<u.length;a++){var c=u[a];o?o=!1:i+=",",i+=c+":"+fI(r.fields[c])}return i+"}"}(t.mapValue):Re();var e,n}function Cm(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function hI(t){return!!t&&"integerValue"in t}function dI(t){return!!t&&"arrayValue"in t}function SL(t){return!!t&&"nullValue"in t}function CL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Am(t){return!!t&&"mapValue"in t}function ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return gu(t.mapValue.fields,function(i,o){return e.mapValue.fields[i]=ed(o)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ed(t.arrayValue.values[r]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!Am(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(n)},t.prototype.setAll=function(e){var n=this,r=zi.emptyPath(),i={},o=[];e.forEach(function(u,c){if(!r.isImmediateParentOf(c)){var f=n.getFieldsMap(r);n.applyChanges(f,i,o),i={},o=[],r=c.popLast()}u?i[c.lastSegment()]=ed(u):o.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,o)},t.prototype.delete=function(e){var n=this.field(e.popLast());Am(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return _o(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=n.mapValue.fields[e.get(r)];Am(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){gu(n,function(u,c){return e[u]=c});for(var i=0,o=r;i<o.length;i++){var a=o[i];delete e[a]}},t.prototype.clone=function(){return new t(ed(this.value))},t}();function AL(t){var e=[];return gu(t.fields,function(n,r){var i=new zi([n]);if(Am(r)){var o=AL(r.mapValue).fields;if(o.length===0)e.push(i);else for(var a=0,u=o;a<u.length;a++){var c=u[a];e.push(i.child(c))}}else e.push(i)}),new tl(e)}var Gn=function(){function t(e,n,r,i,o){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return t.newInvalidDocument=function(e){return new t(e,0,et.min(),Xr.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Xr.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Xr.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),O9=function(t,e,n,r,i,o,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e,n,r,i,o,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),new O9(t,e,n,r,i,o,a)}function td(t){var e=ye(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+lI(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),vu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Rm(e.startAt)),e.endAt&&(n+="|ub:",n+=Rm(e.endAt)),e.h=n}return e.h}function xm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!j9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!_o(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OL(t.startAt,e.startAt)&&OL(t.endAt,e.endAt)}function km(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Qr=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).field=n,o.op=r,o.value=i,o}return be(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new N9(n,r,i):r==="array-contains"?new M9(n,i):r==="in"?new L9(n,i):r==="not-in"?new F9(n,i):r==="array-contains-any"?new U9(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new P9(n,i):new D9(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(rl(r,this.value)):r!==null&&mu(this.value)===mu(r)&&this.m(rl(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Re()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),N9=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,i)||this).key=Pe.fromName(i.referenceValue),o}return be(e,t),e.prototype.matches=function(n){var r=Pe.comparator(n.key,this.key);return this.m(r)},e}(Qr),P9=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=kL("in",r),i}return be(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(Qr),D9=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=kL("not-in",r),i}return be(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(Qr);function kL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Pe.fromName(r.referenceValue)})}var M9=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return be(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return dI(r)&&Zh(r.arrayValue,this.value)},e}(Qr),L9=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return be(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Zh(this.value.arrayValue,r)},e}(Qr),F9=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return be(e,t),e.prototype.matches=function(n){if(Zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Zh(this.value.arrayValue,r)},e}(Qr),U9=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return be(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!dI(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return Zh(r.value.arrayValue,o)})},e}(Qr),nd=function(t,e){this.position=t,this.before=e};function Rm(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return lI(e)}).join(",")}var il=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function j9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function RL(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Pe.comparator(Pe.fromName(a.referenceValue),n.key):rl(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function OL(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!_o(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo=function(t,e,n,r,i,o,a,u){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),a===void 0&&(a=null),u===void 0&&(u=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function NL(t,e,n,r,i,o,a,u){return new Qo(t,e,n,r,i,o,a,u)}function ol(t){return new Qo(t)}function Om(t){return!vu(t.limit)&&t.limitType==="F"}function Nm(t){return!vu(t.limit)&&t.limitType==="L"}function pI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function gI(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function vI(t){return t.collectionGroup!==null}function sl(t){var e=ye(t);if(e.p===null){e.p=[];var n=gI(e),r=pI(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new il(n)),e.p.push(new il(zi.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var u=a[o];e.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new il(zi.keyField(),c))}}}return e.p}function yi(t){var e=ye(t);if(!e.T)if(e.limitType==="F")e.T=xL(e.path,e.collectionGroup,sl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=sl(e);r<i.length;r++){var o=i[r],a=o.dir==="desc"?"asc":"desc";n.push(new il(o.field,a))}var u=e.endAt?new nd(e.endAt.position,!e.endAt.before):null,c=e.startAt?new nd(e.startAt.position,!e.startAt.before):null;e.T=xL(e.path,e.collectionGroup,n,e.filters,e.limit,u,c)}return e.T}function PL(t,e,n){return new Qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rd(t,e){return xm(yi(t),yi(e))&&t.limitType===e.limitType}function DL(t){return td(yi(t))+"|lt:"+t.limitType}function mI(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+lI(i.value);var i}).join(", ")+"]"),vu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Rm(e.startAt)),e.endAt&&(n+=", endAt: "+Rm(e.endAt)),"Target("+n+")"}(yi(t))+"; limitType="+t.limitType+")"}function id(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Pe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!RL(n.startAt,sl(n),r))&&(!n.endAt||!RL(n.endAt,sl(n),r))}(t,e)}function ML(t){return function(e,n){for(var r=!1,i=0,o=sl(t);i<o.length;i++){var a=o[i],u=B9(a,e,n);if(u!==0)return u;r=r||a.field.isKeyField()}return 0}}function B9(t,e,n){var r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(i,o,a){var u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?rl(u,c):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(e)?"-0":e}}function FL(t){return{integerValue:""+t}}function UL(t,e){return TL(e)?FL(e):LL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pm=function(){this._=void 0};function V9(t,e,n){return t instanceof al?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof yu?BL(t,e):t instanceof _u?VL(t,e):function(r,i){var o=jL(r,i),a=qL(o)+qL(r.A);return hI(o)&&hI(r.A)?FL(a):LL(r.R,a)}(t,e)}function q9(t,e,n){return t instanceof yu?BL(t,e):t instanceof _u?VL(t,e):n}function jL(t,e){return t instanceof ul?hI(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var al=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return be(e,t),e}(Pm),yu=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return be(e,t),e}(Pm);function BL(t,e){for(var n=HL(e),r=function(a){n.some(function(u){return _o(u,a)})||n.push(a)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _u=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return be(e,t),e}(Pm);function VL(t,e){for(var n=HL(e),r=function(a){n=n.filter(function(u){return!_o(u,a)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ul=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return be(e,t),e}(Pm);function qL(t){return pn(t.integerValue||t.doubleValue)}function HL(t){return dI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var od=function(t,e){this.field=t,this.transform=e},H9=function(t,e){this.version=t,this.transformResults=e},ar=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Dm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Mm=function(){};function $9(t,e,n){t instanceof sd?function(r,i,o){var a=r.value.clone(),u=KL(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Us?function(r,i,o){if(Dm(r.precondition,i)){var a=KL(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(zL(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yI(t,e,n){t instanceof sd?function(r,i,o){if(Dm(r.precondition,i)){var a=r.value.clone(),u=GL(r.fieldTransforms,o,i);a.setAll(u),i.convertToFoundDocument(WL(i),a).setHasLocalMutations()}}(t,e,n):t instanceof Us?function(r,i,o){if(Dm(r.precondition,i)){var a=GL(r.fieldTransforms,o,i),u=i.data;u.setAll(zL(r)),u.setAll(a),i.convertToFoundDocument(WL(i),u).setHasLocalMutations()}}(t,e,n):function(r,i){Dm(r.precondition,i)&&i.convertToNoDocument(et.min())}(t,e)}function W9(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),u=jL(o.transform,a||null);u!=null&&(n==null&&(n=Xr.empty()),n.set(o.field,u))}return n||null}function $L(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&el(n,r,function(i,o){return function(a,u){return a.field.isEqual(u.field)&&function(c,f){return c instanceof yu&&f instanceof yu||c instanceof _u&&f instanceof _u?el(c.elements,f.elements,_o):c instanceof ul&&f instanceof ul?_o(c.A,f.A):c instanceof al&&f instanceof al}(a.transform,u.transform)}(i,o)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function WL(t){return t.isFoundDocument()?t.version:et.min()}var sd=function(t){function e(n,r,i,o){o===void 0&&(o=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return be(e,t),e}(Mm),Us=function(t){function e(n,r,i,o,a){a===void 0&&(a=[]);var u=this;return(u=t.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=a,u.type=1,u}return be(e,t),e}(Mm);function zL(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function KL(t,e,n){var r=new Map;je(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,q9(a,u,n[i]))}return r}function GL(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],u=a.transform,c=n.data.field(a.field);r.set(a.field,V9(u,c,e))}return r}var gn,ft,ad=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return be(e,t),e}(Mm),_I=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return be(e,t),e}(Mm),z9=function(t){this.count=t};function YL(t){switch(t){case z.OK:return Re();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return Re()}}function XL(t){if(t===void 0)return dn("GRPC error has no .code"),z.UNKNOWN;switch(t){case gn.OK:return z.OK;case gn.CANCELLED:return z.CANCELLED;case gn.UNKNOWN:return z.UNKNOWN;case gn.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case gn.INTERNAL:return z.INTERNAL;case gn.UNAVAILABLE:return z.UNAVAILABLE;case gn.UNAUTHENTICATED:return z.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case gn.NOT_FOUND:return z.NOT_FOUND;case gn.ALREADY_EXISTS:return z.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return z.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case gn.ABORTED:return z.ABORTED;case gn.OUT_OF_RANGE:return z.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return z.UNIMPLEMENTED;case gn.DATA_LOSS:return z.DATA_LOSS;default:return Re()}}(ft=gn||(gn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur=function(){function t(e,n){this.comparator=e,this.root=n||js.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,js.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,js.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new Lm(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new Lm(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Lm(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new Lm(this.root,e,this.comparator,!0)},t}(),Lm=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),js=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:t.RED,this.left=i!=null?i:t.EMPTY,this.right=o!=null?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();var e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)},t}();js.EMPTY=null,js.RED=!0,js.BLACK=!1,js.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Re()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new js(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn=function(){function t(e){this.comparator=e,this.data=new ur(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new QL(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new QL(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),QL=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),K9=new ur(Pe.comparator);function _i(){return K9}var G9=new ur(Pe.comparator);function bI(){return G9}var Y9=new ur(Pe.comparator);function JL(){return Y9}var X9=new Sn(Pe.comparator);function Ot(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=X9,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Q9=new Sn(ut);function Fm(){return Q9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wI=function(){function t(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,EI.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(et.min(),r,Fm(),_i(),Ot())},t}(),EI=function(){function t(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(wr.EMPTY_BYTE_STRING,n,Ot(),Ot(),Ot())},t}(),Um=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ZL=function(t,e){this.targetId=t,this.V=e},eF=function(t,e,n,r){n===void 0&&(n=wr.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},tF=function(){function t(){this.S=0,this.D=rF(),this.C=wr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=Ot(),n=Ot(),r=Ot();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new EI(this.C,this.N,e,n,r)},t.prototype.L=function(){this.k=!1,this.D=rF()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),J9=function(){function t(e){this.W=e,this.G=new Map,this.H=_i(),this.J=nF(),this.Y=new Sn(ut)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)i=a[o],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(e.resumeToken));break;default:Re()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var o=i.target;if(km(o))if(r===0){var a=new Pe(o.path);this.tt(n,a,Gn.newNoDocument(a,et.min()))}else je(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(a,u){var c=n.ot(u);if(c){if(a.current&&km(c.target)){var f=new Pe(c.target.path);n.H.get(f)!==null||n.at(u,f)||n.tt(u,f,Gn.newNoDocument(f,e))}a.$&&(r.set(u,a.M()),a.L())}});var i=Ot();this.J.forEach(function(a,u){var c=!0;u.forEachWhile(function(f){var h=n.ot(f);return!h||h.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var o=new wI(e,r,this.Y,this.H,i);return this.H=_i(),this.J=nF(),this.Y=new Sn(ut),o},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.at(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new tF,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Sn(ut),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new tF),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function nF(){return new ur(Pe.comparator)}function rF(){return new ur(Pe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z9={asc:"ASCENDING",desc:"DESCENDING"},eJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tJ=function(t,e){this.databaseId=t,this.I=e};function ud(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function iF(t,e){return t.I?e.toBase64():e.toUint8Array()}function nJ(t,e){return ud(t,e.toTimestamp())}function Ln(t){return je(!!t),et.fromTimestamp(function(e){var n=Fs(e);return new Fr(n.seconds,n.nanos)}(t))}function TI(t,e){return function(n){return new yt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function oF(t){var e=yt.fromString(t);return je(mF(e)),e}function cd(t,e){return TI(t.databaseId,e.path)}function bo(t,e){var n=oF(e);if(n.get(1)!==t.databaseId.projectId)throw new re(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(aF(n))}function II(t,e){return TI(t.databaseId,e)}function sF(t){var e=oF(t);return e.length===4?yt.emptyPath():aF(e)}function ld(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aF(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uF(t,e,n){return{name:cd(t,e),fields:n.value.mapValue.fields}}function cF(t,e,n){var r=bo(t,e.name),i=Ln(e.updateTime),o=new Xr({mapValue:{fields:e.fields}}),a=Gn.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function jm(t,e){var n;if(e instanceof sd)n={update:uF(t,e.key,e.value)};else if(e instanceof ad)n={delete:cd(t,e.key)};else if(e instanceof Us)n={update:uF(t,e.key,e.data),updateMask:aJ(e.fieldMask)};else{if(!(e instanceof _I))return Re();n={verify:cd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof al)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _u)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ul)return{fieldPath:o.field.canonicalString(),increment:a.A};throw Re()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:nJ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Re()}(t,e.precondition)),n}function lF(t,e){var n=e.currentDocument?function(f){return f.updateTime!==void 0?ar.updateTime(Ln(f.updateTime)):f.exists!==void 0?ar.exists(f.exists):ar.none()}(e.currentDocument):ar.none(),r=e.updateTransforms?e.updateTransforms.map(function(f){return function(h,p){var g=null;if("setToServerValue"in p)je(p.setToServerValue==="REQUEST_TIME"),g=new al;else if("appendMissingElements"in p){var m=p.appendMissingElements.values||[];g=new yu(m)}else if("removeAllFromArray"in p){var y=p.removeAllFromArray.values||[];g=new _u(y)}else"increment"in p?g=new ul(h,p.increment):Re();var b=zi.fromServerFormat(p.fieldPath);return new od(b,g)}(t,f)}):[];if(e.update){e.update.name;var i=bo(t,e.update.name),o=new Xr({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(f){var h=f.fieldPaths||[];return new tl(h.map(function(p){return zi.fromServerFormat(p)}))}(e.updateMask);return new Us(i,o,a,n,r)}return new sd(i,o,n,r)}if(e.delete){var u=bo(t,e.delete);return new ad(u,n)}if(e.verify){var c=bo(t,e.verify);return new _I(c,n)}return Re()}function fF(t,e){return{documents:[II(t,e.path)]}}function hF(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=II(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=II(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var c=u.map(function(f){return function(h){if(h.op==="=="){if(CL(h.value))return{unaryFilter:{field:cl(h.field),op:"IS_NAN"}};if(SL(h.value))return{unaryFilter:{field:cl(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(CL(h.value))return{unaryFilter:{field:cl(h.field),op:"IS_NOT_NAN"}};if(SL(h.value))return{unaryFilter:{field:cl(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(h.field),op:iJ(h.op),value:h.value}}}(f)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(c){return function(f){return{field:cl(f.field),direction:rJ(f.dir)}}(c)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(u,c){return u.I||vu(c)?c:{value:c}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=gF(e.startAt)),e.endAt&&(n.structuredQuery.endAt=gF(e.endAt)),n}function dF(t){var e=sF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){je(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=pF(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(p){return function(g){return new il(ll(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p)}));var c=null;n.limit&&(c=function(p){var g;return vu(g=typeof p=="object"?p.value:p)?null:g}(n.limit));var f=null;n.startAt&&(f=vF(n.startAt));var h=null;return n.endAt&&(h=vF(n.endAt)),NL(e,i,u,a,c,"F",f,h)}function pF(t){return t?t.unaryFilter!==void 0?[sJ(t)]:t.fieldFilter!==void 0?[oJ(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return pF(e)}).reduce(function(e,n){return e.concat(n)}):Re():[]}function gF(t){return{before:t.before,values:t.position}}function vF(t){var e=!!t.before,n=t.values||[];return new nd(n,e)}function rJ(t){return Z9[t]}function iJ(t){return eJ[t]}function cl(t){return{fieldPath:t.canonicalString()}}function ll(t){return zi.fromServerFormat(t.fieldPath)}function oJ(t){return Qr.create(ll(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}function sJ(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ll(t.unaryFilter.field);return Qr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ll(t.unaryFilter.field);return Qr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ll(t.unaryFilter.field);return Qr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ll(t.unaryFilter.field);return Qr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Re()}}function aJ(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function mF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=yF(e)),e=uJ(t.get(n),e);return yF(e)}function uJ(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function yF(t){return t+""}function Jo(t){var e=t.length;if(je(e>=2),e===2)return je(t.charAt(0)===""&&t.charAt(1)===""),yt.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Re(),t.charAt(a+1)){case"":var u=t.substring(o,a),c=void 0;i.length===0?c=u:(c=i+=u,i=""),r.push(c);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Re()}o=a+2}return new yt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cJ=function(t,e){this.seconds=t,this.nanoseconds=e},Jr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Jr.store="owner",Jr.key="owner";var Bs=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Bs.store="mutationQueues",Bs.keyPath="userId";var $t=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$t.store="mutations",$t.keyPath="batchId",$t.userMutationsIndex="userMutationsIndex",$t.userMutationsKeyPath=["userId","batchId"];var cr=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,Ki(n)]},t.key=function(e,n,r){return[e,Ki(n),r]},t}();cr.store="documentMutations",cr.PLACEHOLDER=new cr;var lJ=function(t,e){this.path=t,this.readTime=e},fJ=function(t,e){this.path=t,this.version=e},nn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};nn.store="remoteDocuments",nn.readTimeIndex="readTimeIndex",nn.readTimeIndexPath="readTime",nn.collectionReadTimeIndex="collectionReadTimeIndex",nn.collectionReadTimeIndexPath=["parentPath","readTime"];var wo=function(t){this.byteSize=t};wo.store="remoteDocumentGlobal",wo.key="remoteDocumentGlobalKey";var Ur=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Ur.store="targets",Ur.keyPath="targetId",Ur.queryTargetsIndexName="queryTargetsIndex",Ur.queryTargetsKeyPath=["canonicalId","targetId"];var Yn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Yn.store="targetDocuments",Yn.keyPath=["targetId","path"],Yn.documentTargetsIndex="documentTargetsIndex",Yn.documentTargetsKeyPath=["path","targetId"];var Zr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Zr.key="targetGlobalKey",Zr.store="targetGlobal";var bu=function(t,e){this.collectionId=t,this.parent=e};bu.store="collectionParents",bu.keyPath=["collectionId","parent"];var Zo=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Zo.store="clientMetadata",Zo.keyPath="clientId";var fl=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};fl.store="bundles",fl.keyPath="bundleId";var hl=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};hl.store="namedQueries",hl.keyPath="name";var hJ=Je(Je([],Je(Je([],Je(Je([],Je(Je([],[Bs.store,$t.store,cr.store,nn.store,Ur.store,Jr.store,Zr.store,Yn.store]),[Zo.store])),[wo.store])),[bu.store])),[fl.store,hl.store]),_F="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bF=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),lr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},ae=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,o){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,o)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,o=0,a=!1;e.forEach(function(u){++i,u.next(function(){++o,a&&o===i&&n()},function(c){return r(c)})}),a=!0,o===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(u){return u?t.resolve(u):a()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(o,a){i.push(n.call(r,o,a))}),this.waitFor(i)},t}(),wF=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new lr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new fd(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=SI(i.target.error);r.ft.reject(new fd(e,o))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new fd(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new pJ(n)},t}(),dl=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(ou())===12.2&&dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return fe("SimpleDb","Removing database:",e),Eu(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB=="undefined")return!1;if(t.gt())return!0;var e=ou(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var e;return typeof process!="undefined"&&((e={})===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return F(this,void 0,void 0,function(){var n,r=this;return L(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(fe("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,a){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(c){var f=c.target.result;o(f)},u.onblocked=function(){a(new fd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(c){var f=c.target.error;f.name==="VersionError"?a(new re(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new fd(e,f))},u.onupgradeneeded=function(c){fe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var f=c.target.result;r.wt.Rt(f,u.transaction,c.oldVersion,r.version).next(function(){fe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return F(this,void 0,void 0,function(){var o,a,u,c,f;return L(this,function(h){switch(h.label){case 0:o=n==="readonly",a=0,u=function(){var p,g,m,y,b;return L(this,function(w){switch(w.label){case 0:++a,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,c.At(e)];case 2:return c.db=w.sent(),p=wF.open(c.db,e,o?"readonly":"readwrite",r),g=i(p).catch(function(T){return p.abort(T),ae.reject(T)}).toPromise(),m={},g.catch(function(){}),[4,p.dt];case 3:return[2,(m.value=(w.sent(),g),m)];case 4:return y=w.sent(),b=y.name!=="FirebaseError"&&a<3,fe("SimpleDb","Transaction failed with error:",y.message,"Retrying:",b),c.close(),b?[3,5]:[2,{value:Promise.reject(y)}];case 5:return[2]}})},c=this,h.label=1;case 1:return[5,u()];case 2:if(typeof(f=h.sent())=="object")return[2,f.value];h.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),dJ=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Eu(this.Pt.delete())},t}(),fd=function(t){function e(n,r){var i=this;return(i=t.call(this,z.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return be(e,t),e}(re);function wu(t){return t.name==="IndexedDbTransactionError"}var pJ=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(fe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Eu(r)},t.prototype.add=function(e){return fe("SimpleDb","ADD",this.store.name,e,e),Eu(this.store.add(e))},t.prototype.get=function(e){var n=this;return Eu(this.store.get(e)).next(function(r){return r===void 0&&(r=null),fe("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return fe("SimpleDb","DELETE",this.store.name,e),Eu(this.store.delete(e))},t.prototype.count=function(){return fe("SimpleDb","COUNT",this.store.name),Eu(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},t.prototype.kt=function(e,n){fe("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,a,u){return u.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new ae(function(r,i){n.onerror=function(o){var a=SI(o.target.error);i(a)},n.onsuccess=function(o){var a=o.target.result;a?e(a.primaryKey,a.value).next(function(u){u?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new ae(function(i,o){e.onerror=function(a){o(a.target.error)},e.onsuccess=function(a){var u=a.target.result;if(u){var c=new dJ(u),f=n(u.primaryKey,u.value,c);if(f instanceof ae){var h=f.catch(function(p){return c.done(),ae.reject(p)});r.push(h)}c.isDone?i():c.Dt===null?u.continue():u.continue(c.Dt)}else i()}}).next(function(){return ae.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Eu(t){return new ae(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=SI(r.target.error);n(i)}})}var EF=!1;function SI(t){var e=dl._t(ou());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new re("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return EF||(EF=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TF=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return be(e,t),e}(bF);function jr(t,e){var n=ye(t);return dl.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CI=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&$9(o,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&yI(a,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e.key)&&yI(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(et.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Ot())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,function(n,r){return $L(n,r)})&&el(this.baseMutations,e.baseMutations,function(n,r){return $L(n,r)})},t}(),gJ=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){je(e.mutations.length===r.length);for(var i=JL(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Bm=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=et.min()),a===void 0&&(a=et.min()),u===void 0&&(u=wr.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),IF=function(t){this.Lt=t};function AI(t,e){if(e.document)return cF(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Pe.fromSegments(e.noDocument.path),r=gl(e.noDocument.readTime),i=Gn.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Pe.fromSegments(e.unknownDocument.path);return r=gl(e.unknownDocument.version),Gn.newUnknownDocument(o,r)}return Re()}function SF(t,e,n){var r=xI(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(p,g){return{name:cd(p,g.key),fields:g.data.value.mapValue.fields,updateTime:ud(p,g.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new nn(null,null,o,a,r,i)}if(e.isNoDocument()){var u=e.key.path.toArray(),c=pl(e.version);return a=e.hasCommittedMutations,new nn(null,new lJ(u,c),null,a,r,i)}if(e.isUnknownDocument()){var f=e.key.path.toArray(),h=pl(e.version);return new nn(new fJ(f,h),null,null,!0,r,i)}return Re()}function xI(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function CF(t){var e=new Fr(t[0],t[1]);return et.fromTimestamp(e)}function pl(t){var e=t.toTimestamp();return new cJ(e.seconds,e.nanoseconds)}function gl(t){var e=new Fr(t.seconds,t.nanoseconds);return et.fromTimestamp(e)}function vl(t,e){for(var n=(e.baseMutations||[]).map(function(c){return lF(t.Lt,c)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(c){return lF(t.Lt,c)}),u=Fr.fromMillis(e.localWriteTimeMs);return new CI(e.batchId,u,n,a)}function hd(t){var e,n,r=gl(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?gl(t.lastLimboFreeSnapshotVersion):et.min();return t.query.documents!==void 0?(je((n=t.query).documents.length===1),e=yi(ol(sF(n.documents[0])))):e=function(o){return yi(dF(o))}(t.query),new Bm(e,t.targetId,0,t.lastListenSequenceNumber,r,i,wr.fromBase64String(t.resumeToken))}function AF(t,e){var n,r=pl(e.snapshotVersion),i=pl(e.lastLimboFreeSnapshotVersion);n=km(e.target)?fF(t.Lt,e.target):hF(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Ur(e.targetId,td(e.target),r,o,e.sequenceNumber,i,n)}function kI(t){var e=dF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?PL(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vJ=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return xF(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:gl(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return xF(e).put({bundleId:(r=n).id,createTime:pl(Ln(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return kF(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:kI(i.bundledQuery),readTime:gl(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return kF(e).put(function(r){return{name:r.name,readTime:pl(Ln(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function xF(t){return jr(t,fl.store)}function kF(t){return jr(t,hl.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mJ=function(){function t(){this.Bt=new RI}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),ae.resolve()},t.prototype.getCollectionParents=function(e,n){return ae.resolve(this.Bt.getEntries(n))},t}(),RI=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Sn(yt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Sn(yt.comparator)).toArray()},t}(),yJ=function(){function t(){this.qt=new RI}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Ki(o)};return RF(e).put(a)}return ae.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[yL(n),""],!1,!0);return RF(e).Nt(i).next(function(o){for(var a=0,u=o;a<u.length;a++){var c=u[a];if(c.collectionId!==n)break;r.push(Jo(c.parent))}return r})},t}();function RF(t){return jr(t,bu.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eo=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e,n){var r=t.store($t.store),i=t.store(cr.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,c=r.$t({range:a},function(y,b,w){return u++,w.delete()});o.push(c.next(function(){je(u===1)}));for(var f=[],h=0,p=n.mutations;h<p.length;h++){var g=p[h],m=cr.key(e,g.key.path,n.batchId);o.push(i.delete(m)),f.push(g.key)}return ae.waitFor(o).next(function(){return f})}function Vm(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Re();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo.DEFAULT_COLLECTION_PERCENTILE=10,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Eo.DEFAULT=new Eo(41943040,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Eo.DISABLED=new Eo(-1,0,0);var _J=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,r,i){return je(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vs(e).$t({index:$t.userMutationsIndex,range:r},function(i,o,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var o=this,a=ml(e),u=Vs(e);return u.add({}).next(function(c){je(typeof c=="number");for(var f=new CI(c,n,r,i),h=function(T,A,k){var N=k.baseMutations.map(function(D){return jm(T.Lt,D)}),P=k.mutations.map(function(D){return jm(T.Lt,D)});return new $t(A,k.batchId,k.localWriteTime.toMillis(),N,P)}(o.R,o.userId,f),p=[],g=new Sn(function(T,A){return ut(T.canonicalString(),A.canonicalString())}),m=0,y=i;m<y.length;m++){var b=y[m],w=cr.key(o.userId,b.key.path,c);g=g.add(b.key.path.popLast()),p.push(u.put(h)),p.push(a.put(w,cr.PLACEHOLDER))}return g.forEach(function(T){p.push(o.Ut.addToCollectionParentIndex(e,T))}),e.addOnCommittedListener(function(){o.Kt[c]=f.keys()}),ae.waitFor(p).next(function(){return f})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return Vs(e).get(n).next(function(i){return i?(je(i.userId===r.userId),vl(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?ae.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Vs(e).$t({index:$t.userMutationsIndex,range:o},function(u,c,f){c.userId===r.userId&&(je(c.batchId>=i),a=vl(r.R,c)),f.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Vs(e).$t({index:$t.userMutationsIndex,range:n,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vs(e).Nt($t.userMutationsIndex,r).next(function(i){return i.map(function(o){return vl(n.R,o)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=cr.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return ml(e).$t({range:o},function(u,c,f){var h=u[0],p=u[1],g=u[2],m=Jo(p);if(h===r.userId&&n.path.isEqual(m))return Vs(e).get(g).next(function(y){if(!y)throw Re();je(y.userId===r.userId),a.push(vl(r.R,y))});f.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Sn(ut),o=[];return n.forEach(function(a){var u=cr.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(u),f=ml(e).$t({range:c},function(h,p,g){var m=h[0],y=h[1],b=h[2],w=Jo(y);m===r.userId&&a.path.isEqual(w)?i=i.add(b):g.done()});o.push(f)}),ae.waitFor(o).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,o=i.length+1,a=cr.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(a),c=new Sn(ut);return ml(e).$t({range:u},function(f,h,p){var g=f[0],m=f[1],y=f[2],b=Jo(m);g===r.userId&&i.isPrefixOf(b)?b.length===o&&(c=c.add(y)):p.done()}).next(function(){return r.Wt(e,c)})},t.prototype.Wt=function(e,n){var r=this,i=[],o=[];return n.forEach(function(a){o.push(Vs(e).get(a).next(function(u){if(u===null)throw Re();je(u.userId===r.userId),i.push(vl(r.R,u))}))}),ae.waitFor(o).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return NF(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),ae.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return ae.resolve();var i=IDBKeyRange.lowerBound(cr.prefixForUser(n.userId)),o=[];return ml(e).$t({range:i},function(a,u,c){if(a[0]===n.userId){var f=Jo(a[1]);o.push(f)}else c.done()}).next(function(){je(o.length===0)})})},t.prototype.containsKey=function(e,n){return PF(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return DF(e).get(this.userId).next(function(r){return r||new Bs(n.userId,-1,"")})},t}();function PF(t,e,n){var r=cr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ml(t).$t({range:o,Ft:!0},function(u,c,f){var h=u[0],p=u[1];u[2],h===e&&p===i&&(a=!0),f.done()}).next(function(){return a})}function Vs(t){return jr(t,$t.store)}function ml(t){return jr(t,cr.store)}function DF(t){return jr(t,Bs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qm=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),bJ=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new qm(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return et.fromTimestamp(new Fr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(e,o)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return yl(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return je(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return yl(e).$t(function(u,c){var f=hd(c);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o++,a.push(i.removeTargetData(e,f)))}).next(function(){return ae.waitFor(a)}).next(function(){return o})},t.prototype.forEachTarget=function(e,n){return yl(e).$t(function(r,i){var o=hd(i);n(o)})},t.prototype.Xt=function(e){return MF(e).get(Zr.key).next(function(n){return je(n!==null),n})},t.prototype.Zt=function(e,n){return MF(e).put(Zr.key,n)},t.prototype.te=function(e,n){return yl(e).put(AF(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=td(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return yl(e).$t({range:i,index:Ur.queryTargetsIndexName},function(a,u,c){var f=hd(u);xm(n,f.target)&&(o=f,c.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,o=[],a=qs(e);return n.forEach(function(u){var c=Ki(u.path);o.push(a.put(new Yn(r,c))),o.push(i.referenceDelegate.addReference(e,r,u))}),ae.waitFor(o)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,o=qs(e);return ae.forEach(n,function(a){var u=Ki(a.path);return ae.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=qs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=qs(e),o=Ot();return i.$t({range:r,Ft:!0},function(a,u,c){var f=Jo(a[1]),h=new Pe(f);o=o.add(h)}).next(function(){return o})},t.prototype.containsKey=function(e,n){var r=Ki(n.path),i=IDBKeyRange.bound([r],[yL(r)],!1,!0),o=0;return qs(e).$t({index:Yn.documentTargetsIndex,Ft:!0,range:i},function(a,u,c){var f=a[0];a[1],f!==0&&(o++,c.done())}).next(function(){return o>0})},t.prototype.lt=function(e,n){return yl(e).get(n).next(function(r){return r?hd(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){return jr(t,Ur.store)}function MF(t){return jr(t,Zr.store)}function qs(t){return jr(t,Yn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){return F(this,void 0,void 0,function(){return L(this,function(e){if(t.code!==z.FAILED_PRECONDITION||t.message!==_F)throw t;return fe("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=ut(n,i);return a===0?ut(r,o):a}var wJ=function(){function t(e){this.ne=e,this.buffer=new Sn(LF),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();LF(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),EJ=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;fe("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return F(n,void 0,void 0,function(){var i;return L(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return wu(i=o.sent())?(fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Tu(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return o.sent(),[2]}})})})},t}(),TJ=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return ae.resolve(Yr.o);var i=new wJ(n);return this.ae.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(OF)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),OF):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,o,a,u,c,f,h=this,p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(g){return g>h.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.maximumSequenceNumbersToCollect+" from "+g),i=h.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),h.nthSequenceNumber(e,i)}).next(function(g){return r=g,u=Date.now(),h.removeTargets(e,r,n)}).next(function(g){return o=g,c=Date.now(),h.removeOrphanedDocuments(e,r)}).next(function(g){return f=Date.now(),aI()<=rt.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-p)+`ms
	Determined least recently used `+i+" in "+(u-a)+`ms
	Removed `+o+" targets in "+(c-u)+`ms
	Removed `+g+" documents in "+(f-c)+`ms
Total Duration: `+(f-p)+"ms"),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})})},t}(),IJ=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new TJ(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return Hm(e,r)},t.prototype.removeReference=function(e,n,r){return Hm(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return Hm(e,n)},t.prototype._e=function(e,n){return function(r,i){var o=!1;return DF(r).Ot(function(a){return PF(r,a,i).next(function(u){return u&&(o=!0),ae.resolve(!u)})}).next(function(){return o})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(u,c){if(c<=n){var f=r._e(e,u).next(function(h){if(!h)return a++,i.getEntry(e,u).next(function(){return i.removeEntry(u),qs(e).delete([0,Ki(u.path)])})});o.push(f)}}).next(function(){return ae.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return Hm(e,n)},t.prototype.we=function(e,n){var r,i=qs(e),o=Yr.o;return i.$t({index:Yn.documentTargetsIndex},function(a,u){var c=a[0];a[1];var f=u.path,h=u.sequenceNumber;c===0?(o!==Yr.o&&n(new Pe(Jo(r)),o),o=h,r=f):o=Yr.o}).next(function(){o!==Yr.o&&n(new Pe(Jo(r)),o)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Hm(t,e){return qs(t).put(function(n,r){return new Yn(0,Ki(n.path),r)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _l=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];if(this.equalsFn(u,e))return c}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){gu(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];e(u,c)}})},t.prototype.isEmpty=function(){return bL(this.inner)},t}(),FF=function(){function t(){this.changes=new _l(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:et.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:Gn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ae.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),SJ=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return Hs(e).put($m(n),r)},t.prototype.removeEntry=function(e,n){var r=Hs(e),i=$m(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return Hs(e).get($m(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return Hs(e).get($m(n)).next(function(i){return{document:r.ye(n,i),size:Vm(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=_i();return this.pe(e,n,function(o,a){var u=r.ye(o,a);i=i.insert(o,u)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=_i(),o=new ur(Pe.comparator);return this.pe(e,n,function(a,u){var c=r.ye(a,u);i=i.insert(a,c),o=o.insert(a,Vm(u))}).next(function(){return{documents:i,Te:o}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return ae.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),a=o.getNext();return Hs(e).$t({range:i},function(u,c,f){for(var h=Pe.fromSegments(u);a&&Pe.comparator(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?f.Ct(a.path.toArray()):f.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,o=_i(),a=n.path.length+1,u={};if(r.isEqual(et.min())){var c=n.path.toArray();u.range=IDBKeyRange.lowerBound(c)}else{var f=n.path.toArray(),h=xI(r);u.range=IDBKeyRange.lowerBound([f,h],!0),u.index=nn.collectionReadTimeIndex}return Hs(e).$t(u,function(p,g,m){if(p.length===a){var y=AI(i.R,g);n.path.isPrefixOf(y.key.path)?id(n,y)&&(o=o.insert(y.key,y)):m.done()}}).next(function(){return o})},t.prototype.newChangeBuffer=function(e){return new CJ(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return UF(e).get(wo.key).next(function(n){return je(!!n),n})},t.prototype.me=function(e,n){return UF(e).put(wo.key,n)},t.prototype.ye=function(e,n){if(n){var r=AI(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(et.min()))return r}return Gn.newInvalidDocument(e)},t}(),CJ=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new _l(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return be(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],o=0,a=new Sn(function(u,c){return ut(u.canonicalString(),c.canonicalString())});return this.changes.forEach(function(u,c){var f=r.Ae.get(u);if(c.document.isValidDocument()){var h=SF(r.Ie.R,c.document,r.getReadTime(u));a=a.add(u.path.popLast());var p=Vm(h);o+=p-f,i.push(r.Ie.addEntry(n,u,h))}else if(o-=f,r.trackRemovals){var g=SF(r.Ie.R,Gn.newNoDocument(u,et.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,g))}else i.push(r.Ie.removeEntry(n,u))}),a.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),ae.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var a=o.documents;return o.Te.forEach(function(u,c){i.Ae.set(u,c)}),a})},e}(FF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){return jr(t,wo.store)}function Hs(t){return jr(t,nn.store)}function $m(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AJ=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var o=this;je(r<i&&r>=0&&i<=11);var a=new wF("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Jr.store)}(e),function(c){c.createObjectStore(Bs.store,{keyPath:Bs.keyPath}),c.createObjectStore($t.store,{keyPath:$t.keyPath,autoIncrement:!0}).createIndex($t.userMutationsIndex,$t.userMutationsKeyPath,{unique:!0}),c.createObjectStore(cr.store)}(e),jF(e),function(c){c.createObjectStore(nn.store)}(e));var u=ae.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Yn.store),c.deleteObjectStore(Ur.store),c.deleteObjectStore(Zr.store)}(e),jF(e)),u=u.next(function(){return function(c){var f=c.store(Zr.store),h=new Zr(0,0,et.min().toTimestamp(),0);return f.put(Zr.key,h)}(a)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(c,f){return f.store($t.store).Nt().next(function(h){c.deleteObjectStore($t.store),c.createObjectStore($t.store,{keyPath:$t.keyPath,autoIncrement:!0}).createIndex($t.userMutationsIndex,$t.userMutationsKeyPath,{unique:!0});var p=f.store($t.store),g=h.map(function(m){return p.put(m)});return ae.waitFor(g)})}(e,a)})),u=u.next(function(){(function(c){c.createObjectStore(Zo.store,{keyPath:Zo.keyPath})})(e)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(a)})),r<6&&i>=6&&(u=u.next(function(){return function(c){c.createObjectStore(wo.store)}(e),o.be(a)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(a)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(e,a)})),r<9&&i>=9&&(u=u.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e),function(c){var f=c.objectStore(nn.store);f.createIndex(nn.readTimeIndex,nn.readTimeIndexPath,{unique:!1}),f.createIndex(nn.collectionReadTimeIndex,nn.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(a)})),r<11&&i>=11&&(u=u.next(function(){(function(c){c.createObjectStore(fl.store,{keyPath:fl.keyPath})})(e),function(c){c.createObjectStore(hl.store,{keyPath:hl.keyPath})}(e)})),u},t.prototype.be=function(e){var n=0;return e.store(nn.store).$t(function(r,i){n+=Vm(i)}).next(function(){var r=new wo(n);return e.store(wo.store).put(wo.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(Bs.store),i=e.store($t.store);return r.Nt().next(function(o){return ae.forEach(o,function(a){var u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt($t.userMutationsIndex,u).next(function(c){return ae.forEach(c,function(f){je(f.userId===a.userId);var h=vl(n.R,f);return NF(e,a.userId,h).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Yn.store),r=e.store(nn.store);return e.store(Zr.store).get(Zr.key).next(function(i){var o=[];return r.$t(function(a,u){var c=new yt(a),f=function(h){return[0,Ki(h)]}(c);o.push(n.get(f).next(function(h){return h?ae.resolve():function(p){return n.put(new Yn(0,Ki(p),i.highestListenSequenceNumber))}(c)}))}).next(function(){return ae.waitFor(o)})})},t.prototype.Pe=function(e,n){e.createObjectStore(bu.store,{keyPath:bu.keyPath});var r=n.store(bu.store),i=new RI,o=function(a){if(i.add(a)){var u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:Ki(c)})}};return n.store(nn.store).$t({Ft:!0},function(a,u){var c=new yt(a);return o(c.popLast())}).next(function(){return n.store(cr.store).$t({Ft:!0},function(a,u){a[0];var c=a[1];a[2];var f=Jo(c);return o(f.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(Ur.store);return r.$t(function(i,o){var a=hd(o),u=AF(n.R,a);return r.put(u)})},t}();function jF(t){t.createObjectStore(Yn.store,{keyPath:Yn.keyPath}).createIndex(Yn.documentTargetsIndex,Yn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ur.store,{keyPath:Ur.keyPath}).createIndex(Ur.queryTargetsIndexName,Ur.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Zr.store)}var OI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xJ=function(){function t(e,n,r,i,o,a,u,c,f,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=f,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(p){return Promise.resolve()},!t.yt())throw new re(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new IJ(this,i),this.Le=n+"main",this.R=new IF(c),this.Be=new dl(this.Le,11,new AJ(this.R)),this.qe=new bJ(this.referenceDelegate,this.R),this.Ut=new yJ,this.Ue=function(p,g){return new SJ(p,g)}(this.R,this.Ut),this.Ke=new vJ,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,h===!1&&dn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new re(z.FAILED_PRECONDITION,OI);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new Yr(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return F(n,void 0,void 0,function(){return L(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return F(n,void 0,void 0,function(){return L(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return F(n,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Wm(n).put(new Zo(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(wu(n))return fe("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return dd(e).get(Jr.key).next(function(r){return ae.resolve(n.tn(r))})},t.prototype.en=function(e){return Wm(e).delete(this.clientId)},t.prototype.nn=function(){return F(this,void 0,void 0,function(){var e,n,r,i,o=this;return L(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var c=jr(u,Zo.store);return c.Nt().next(function(f){var h=o.rn(f,18e5),p=f.filter(function(g){return h.indexOf(g)===-1});return ae.forEach(p,function(g){return c.delete(g.clientId)}).next(function(){return p})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?ae.resolve(!0):dd(e).get(Jr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new re(z.FAILED_PRECONDITION,OI);return!1}}return!(!n.networkEnabled||!n.inForeground)||Wm(e).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var a=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,c=n.networkEnabled===o.networkEnabled;if(a||u&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&fe("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return F(this,void 0,void 0,function(){var e=this;return L(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Jr.store,Zo.store],function(r){var i=new TF(r,Yr.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Wm(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return _J.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;fe("IndexedDbPersistence","Starting transaction:",e);var o,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,hJ,function(u){return o=new TF(u,i.Ne?i.Ne.next():Yr.o),n==="readwrite-primary"?i.Je(o).next(function(c){return!!c||i.Ye(o)}).next(function(c){if(!c)throw dn("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new re(z.FAILED_PRECONDITION,_F);return r(o)}).next(function(c){return i.Ze(o).next(function(){return c})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},t.prototype.dn=function(e){var n=this;return dd(e).get(Jr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new re(z.FAILED_PRECONDITION,OI)})},t.prototype.Ze=function(e){var n=new Jr(this.clientId,this.allowTabSynchronization,Date.now());return dd(e).put(Jr.key,n)},t.yt=function(){return dl.yt()},t.prototype.Xe=function(e){var n=this,r=dd(e);return r.get(Jr.key).next(function(i){return n.tn(i)?(fe("IndexedDbPersistence","Releasing primary lease."),r.delete(Jr.key)):ae.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(dn("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),A8()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return fe("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return dn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){dn("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function dd(t){return jr(t,Jr.store)}function Wm(t){return jr(t,Zo.store)}function NI(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var kJ=function(t,e){this.progress=t,this.wn=e},BF=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var o=0,a=n;o<a.length;o++)a[o].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return Pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):vI(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new Pe(n)).next(function(r){var i=bI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,o=n.collectionGroup,a=bI();return this.Ut.getCollectionParents(e,o).next(function(u){return ae.forEach(u,function(c){var f=function(h,p){return new Qo(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return i.An(e,f,r).next(function(h){h.forEach(function(p,g){a=a.insert(p,g)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(u){return i=u,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(u){return o=u,a.Rn(e,o,i).next(function(c){i=c;for(var f=0,h=o;f<h.length;f++)for(var p=h[f],g=0,m=p.mutations;g<m.length;g++){var y=m[g],b=y.key,w=i.get(b);w==null&&(w=Gn.newInvalidDocument(b),i=i.insert(b,w)),yI(y,w,p.localWriteTime),w.isFoundDocument()||(i=i.remove(b))}})}).next(function(){return i.forEach(function(u,c){id(n,c)||(i=i.remove(u))}),i})},t.prototype.Rn=function(e,n,r){for(var i=Ot(),o=0,a=n;o<a.length;o++)for(var u=0,c=a[o].mutations;u<c.length;u++){var f=c[u];f instanceof Us&&r.get(f.key)===null&&(i=i.add(f.key))}var h=r;return this.Ue.getEntries(e,i).next(function(p){return p.forEach(function(g,m){m.isFoundDocument()&&(h=h.insert(g,m))}),h})},t}(),RJ=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=Ot(),i=Ot(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),VF=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var o=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(et.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var u=o.Cn(n,a);return(Om(n)||Nm(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(e,n):(aI()<=rt.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mI(n)),o.Sn.getDocumentsMatchingQuery(e,n,r).next(function(c){return u.forEach(function(f){c=c.insert(f.key,f)}),c}))})},t.prototype.Cn=function(e,n){var r=new Sn(ML(e));return n.forEach(function(i,o){id(e,o)&&(r=r.add(o))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var o=e==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return aI()<=rt.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",mI(n)),this.Sn.getDocumentsMatchingQuery(e,n,et.min())},t}(),OJ=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.kn=new ur(ut),this.Fn=new _l(function(o){return td(o)},xm),this.$n=et.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new BF(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t,e,n,r){return new OJ(t,e,n,r)}function HF(t,e){return F(this,void 0,void 0,function(){var n,r,i,o;return L(this,function(a){switch(a.label){case 0:return n=ye(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var c;return n._n.getAllMutationBatches(u).next(function(f){return c=f,r=n.persistence.getMutationQueue(e),i=new BF(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(f){for(var h=[],p=[],g=Ot(),m=0,y=c;m<y.length;m++){var b=y[m];h.push(b.batchId);for(var w=0,T=b.mutations;w<T.length;w++){var A=T[w];g=g.add(A.key)}}for(var k=0,N=f;k<N.length;k++){var P=N[k];p.push(P.batchId);for(var D=0,$=P.mutations;D<$.length;D++){var B=$[D];g=g.add(B.key)}}return i.pn(u,g).next(function(Y){return{Ln:Y,removedBatchIds:h,addedBatchIds:p}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function NJ(t,e){var n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){var h=c.batch,p=h.keys(),g=ae.resolve();return p.forEach(function(m){g=g.next(function(){return f.getEntry(u,m)}).next(function(y){var b=c.docVersions.get(m);je(b!==null),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&f.addEntry(y,c.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(u,h)})}(n,r,e,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function $F(t){var e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function PJ(t,e){var n=ye(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];e.targetChanges.forEach(function(h,p){var g=i.get(p);if(g){u.push(n.qe.removeMatchingKeys(o,h.removedDocuments,p).next(function(){return n.qe.addMatchingKeys(o,h.addedDocuments,p)}));var m=h.resumeToken;if(m.approximateByteSize()>0){var y=g.withResumeToken(m,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(p,y),function(b,w,T){return je(w.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,y,h)&&u.push(n.qe.updateTargetData(o,y))}}});var c=_i();if(e.documentUpdates.forEach(function(h,p){e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),u.push(WF(o,a,e.documentUpdates,r,void 0).next(function(h){c=h})),!r.isEqual(et.min())){var f=n.qe.getLastRemoteSnapshotVersion(o).next(function(h){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(f)}return ae.waitFor(u).next(function(){return a.apply(o)}).next(function(){return n.Mn.En(o,c)}).next(function(){return c})}).then(function(o){return n.kn=i,o})}function WF(t,e,n,r,i){var o=Ot();return n.forEach(function(a){return o=o.add(a)}),e.getEntries(t,o).next(function(a){var u=_i();return n.forEach(function(c,f){var h=a.get(c),p=(i==null?void 0:i.get(c))||r;f.isNoDocument()&&f.version.isEqual(et.min())?(e.removeEntry(c,p),u=u.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f,p),u=u.insert(c,f)):fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)}),u})}function DJ(t,e){var n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function bl(t,e){var n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(o){return o?(i=o,ae.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new Bm(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(e,r.targetId)),r})}function wl(t,e,n){return F(this,void 0,void 0,function(){var r,i,o,a;return L(this,function(u){switch(u.label){case 0:r=ye(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!wu(a=u.sent()))throw a;return fe("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function zm(t,e,n){var r=ye(t),i=et.min(),o=Ot();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(u,c,f){var h=ye(u),p=h.Fn.get(f);return p!==void 0?ae.resolve(h.kn.get(p)):h.qe.getTargetData(c,f)}(r,a,yi(e)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,u.targetId).next(function(c){o=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:et.min(),n?o:Ot())}).next(function(u){return{documents:u,Bn:o}})})}function zF(t,e){var n=ye(t),r=ye(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(a){return a?a.target:null})})}function KF(t){var e=ye(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var a=ye(r),u=_i(),c=xI(o),f=Hs(i),h=IDBKeyRange.lowerBound(c,!0);return f.$t({index:nn.readTimeIndex,range:h},function(p,g){var m=AI(a.R,g);u=u.insert(m.key,m),c=g.readTime}).next(function(){return{wn:u,readTime:CF(c)}})}(e.On,n,e.$n)}).then(function(n){var r=n.wn,i=n.readTime;return e.$n=i,r})}function MJ(t){return F(this,void 0,void 0,function(){var e;return L(this,function(n){return[2,(e=ye(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Hs(i),a=et.min();return o.$t({index:nn.readTimeIndex,reverse:!0},function(u,c,f){c.readTime&&(a=CF(c.readTime)),f.done()}).next(function(){return a})}(r)}).then(function(r){e.$n=r})]})})}function LJ(t,e,n,r){return F(this,void 0,void 0,function(){var i,o,a,u,c,f,h,p,g,m;return L(this,function(y){switch(y.label){case 0:for(i=ye(t),o=Ot(),a=_i(),u=JL(),c=0,f=n;c<f.length;c++)h=f[c],p=e.qn(h.metadata.name),h.document&&(o=o.add(p)),a=a.insert(p,e.Un(h)),u=u.insert(p,e.Kn(h.metadata.readTime));return g=i.On.newChangeBuffer({trackRemovals:!0}),[4,bl(i,function(b){return yi(ol(yt.fromString("__bundle__/docs/"+b)))}(r))];case 1:return m=y.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(b){return WF(b,g,a,et.min(),u).next(function(w){return g.apply(b),w}).next(function(w){return i.qe.removeMatchingKeysForTargetId(b,m.targetId).next(function(){return i.qe.addMatchingKeys(b,o,m.targetId)}).next(function(){return i.Mn.En(b,w)}).next(function(){return w})})})]}})})}function FJ(t,e,n){return n===void 0&&(n=Ot()),F(this,void 0,void 0,function(){var r,i;return L(this,function(o){switch(o.label){case 0:return[4,bl(t,yi(kI(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ye(t)).persistence.runTransaction("Save named query","readwrite",function(a){var u=Ln(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ke.saveNamedQuery(a,e);var c=r.withResumeToken(wr.EMPTY_BYTE_STRING,u);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UJ=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return ae.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ln(r.createTime)}),ae.resolve()},t.prototype.getNamedQuery=function(e,n){return ae.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:kI(r.bundledQuery),readTime:Ln(r.readTime)}}(n)),ae.resolve()},t}(),PI=function(){function t(){this.Wn=new Sn(Fn.Gn),this.zn=new Sn(Fn.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new Fn(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Fn(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new Pe(new yt([])),i=new Fn(r,e),o=new Fn(r,e+1),a=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),a.push(u.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new Pe(new yt([])),r=new Fn(n,e),i=new Fn(n,e+1),o=Ot();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},t.prototype.containsKey=function(e){var n=new Fn(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),Fn=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return Pe.comparator(e.key,n.key)||ut(e.ns,n.ns)},t.Hn=function(e,n){return ut(e.ns,n.ns)||Pe.comparator(e.key,n.key)},t}(),jJ=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Sn(Fn.Gn)}return t.prototype.checkEmpty=function(e){return ae.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new CI(o,n,r,i);this._n.push(a);for(var u=0,c=i;u<c.length;u++){var f=c[u];this.rs=this.rs.add(new Fn(f.key,o)),this.Ut.addToCollectionParentIndex(e,f.key.path.popLast())}return ae.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return ae.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return ae.resolve(this._n.length>o?this._n[o]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ae.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return ae.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new Fn(n,0),o=new Fn(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(u){var c=r.os(u.ns);a.push(c)}),ae.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Sn(ut);return n.forEach(function(o){var a=new Fn(o,0),u=new Fn(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,u],function(c){i=i.add(c.ns)})}),ae.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,o=r;Pe.isDocumentKey(o)||(o=o.child(""));var a=new Fn(new Pe(o),0),u=new Sn(ut);return this.rs.forEachWhile(function(c){var f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.ns)),!0)},a),ae.resolve(this.us(u))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;je(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return ae.forEach(n.mutations,function(o){var a=new Fn(o.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new Fn(n,0),i=this.rs.firstAfterOrEqual(r);return ae.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,ae.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),BJ=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new ur(Pe.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return ae.resolve(r?r.document.clone():Gn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=_i();return n.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():Gn.newInvalidDocument(o))}),ae.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=_i(),o=new Pe(n.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var u=a.getNext(),c=u.key,f=u.value,h=f.document,p=f.readTime;if(!n.path.isPrefixOf(c.path))break;p.compareTo(r)<=0||id(n,h)&&(i=i.insert(h.key,h.clone()))}return ae.resolve(i)},t.prototype.fs=function(e,n){return ae.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new VJ(this)},t.prototype.getSize=function(e){return ae.resolve(this.size)},t}(),VJ=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return be(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),ae.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(FF),qJ=function(){function t(e){this.persistence=e,this.ds=new _l(function(n){return td(n)},xm),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.ws=0,this._s=new PI,this.targetCount=0,this.ys=qm.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),ae.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return ae.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return ae.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),ae.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ae.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new qm(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,ae.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),ae.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ae.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return this.ds.forEach(function(u,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(u),a.push(i.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),ae.waitFor(a).next(function(){return o})},t.prototype.getTargetCount=function(e){return ae.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return ae.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),ae.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(a){o.push(i.markPotentiallyOrphaned(e,a))}),ae.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),ae.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return ae.resolve(r)},t.prototype.containsKey=function(e,n){return ae.resolve(this._s.containsKey(n))},t}(),HJ=function(){function t(e,n){var r=this;this.gs={},this.Ne=new Yr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new qJ(this),this.Ut=new mJ,this.Ue=function(i,o){return new BJ(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new IF(n),this.Ke=new UJ(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new jJ(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;fe("MemoryPersistence","Starting transaction:",e);var o=new $J(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return ae.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),$J=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return be(e,t),e}(bF),WJ=function(){function t(e){this.persistence=e,this.As=new PI,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Re()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ae.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ae.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),ae.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.vs,function(i){var o=Pe.fromPath(i);return n.Ps(e,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return ae.or([function(){return ae.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),Xn=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t,e){return"firestore_clients_"+t+"_"+e}function YF(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function DI(t,e){return"firestore_targets_"+t+"_"+e}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");var XF=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new re(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(dn("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),MI=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new re(i.error.code,i.error.message)),o?new t(e,i.state,r):(dn("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),QF=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Fm(),a=0;i&&a<r.activeTargetIds.length;++a)i=TL(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(dn("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),zJ=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(dn("SharedClientState","Failed to parse online state: "+e),null)},t}(),LI=function(){function t(){this.activeTargetIds=Fm()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),FI=function(){function t(e,n,r,i,o){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ur(ut),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=GF(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new LI),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Ks=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return F(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c,f,h,p,g=this;return L(this,function(m){switch(m.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=m.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(GF(this.persistenceKey,i)))&&(a=QF.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(c=this.js(u))&&this.Ws(c),f=0,h=this.$s;f<h.length;f++)p=h[f],this.ks(p);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(DI(this.persistenceKey,e));if(r){var i=MI.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(DI(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return fe("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){fe("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void dn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return F(n,void 0,void 0,function(){var i,o,a,u,c,f;return L(this,function(h){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(f=function(p){var g=Yr.o;if(p!=null)try{var m=JSON.parse(p);je(typeof m=="number"),g=m}catch(y){dn("SharedClientState","Failed to read sequence number from WebStorage",y)}return g}(r.newValue))!==Yr.o&&this.sequenceNumberHandler(f);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new XF(this.currentUser,e,n,r),o=YF(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},t.prototype.Hs=function(e){var n=YF(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=DI(this.persistenceKey,e),o=new MI(e,n,r);this.setItem(i,o.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return QF.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return XF.Vs(new Xn(o),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return MI.Vs(i,n)},t.prototype.js=function(e){return zJ.Vs(e)},t.prototype.ii=function(e){return F(this,void 0,void 0,function(){return L(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(fe("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.Fs.insert(e,n):this.Fs.remove(e),o=this.Gs(this.Fs),a=this.Gs(i),u=[],c=[];return a.forEach(function(f){o.has(f)||u.push(f)}),o.forEach(function(f){a.has(f)||c.push(f)}),this.syncEngine.hi(u,c).then(function(){r.Fs=i})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Fm();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),JF=function(){function t(){this.li=new LI,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new LI,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),KJ=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),ZF=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),GJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},YJ=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),XJ=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return be(e,t),e.prototype.Fi=function(n,r,i,o){return new Promise(function(a,u){var c=new A9;c.listenOnce(I9.COMPLETE,function(){try{switch(c.getLastErrorCode()){case sI.NO_ERROR:var h=c.getResponseJson();fe("Connection","XHR received:",JSON.stringify(h)),a(h);break;case sI.TIMEOUT:fe("Connection",'RPC "'+n+'" timed out'),u(new re(z.DEADLINE_EXCEEDED,"Request time out"));break;case sI.HTTP_ERROR:var p=c.getStatus();if(fe("Connection",'RPC "'+n+'" failed with status:',p,"response text:",c.getResponseText()),p>0){var g=c.getResponseJson().error;if(g&&g.status&&g.message){var m=function(y){var b=y.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(b)>=0?b:z.UNKNOWN}(g.status);u(new re(m,g.message))}else u(new re(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new re(z.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{fe("Connection",'RPC "'+n+'" completed.')}});var f=JSON.stringify(o);c.send(r,"POST",f,i,15)})},e.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=E9(),a=T9(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new C9({})),this.ki(u.initMessageHeaders,r),sT()||$D()||I8()||S8()||C8()||aT()||(u.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");fe("Connection","Creating WebChannel: "+c,u);var f=o.createWebChannel(c,u),h=!1,p=!1,g=new YJ({Ei:function(y){p?fe("Connection","Not sending because WebChannel is closed:",y):(h||(fe("Connection","Opening WebChannel transport."),f.open(),h=!0),fe("Connection","WebChannel sending:",y),f.send(y))},Ti:function(){return f.close()}}),m=function(y,b,w){y.listen(b,function(T){try{w(T)}catch(A){setTimeout(function(){throw A},0)}})};return m(f,Im.EventType.OPEN,function(){p||fe("Connection","WebChannel transport opened.")}),m(f,Im.EventType.CLOSE,function(){p||(p=!0,fe("Connection","WebChannel transport closed"),g.Vi())}),m(f,Im.EventType.ERROR,function(y){p||(p=!0,Qh("Connection","WebChannel transport errored:",y),g.Vi(new re(z.UNAVAILABLE,"The operation could not be completed")))}),m(f,Im.EventType.MESSAGE,function(y){var b;if(!p){var w=y.data[0];je(!!w);var T=w,A=T.error||((b=T[0])===null||b===void 0?void 0:b.error);if(A){fe("Connection","WebChannel received error:",A);var k=A.status,N=function(D){var $=gn[D];if($!==void 0)return XL($)}(k),P=A.message;N===void 0&&(N=z.INTERNAL,P="Unknown error status: "+k+" with message "+A.message),p=!0,g.Vi(new re(N,P)),f.close()}else fe("Connection","WebChannel received:",w),g.Si(w)}}),m(a,S9.STAT_EVENT,function(y){y.stat===vL.PROXY?fe("Connection","Detected buffering proxy"):y.stat===vL.NOPROXY&&fe("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var o=this.xi(e,n);fe("RestConnection","Sending: ",o,r);var a={};return this.ki(a,i),this.Fi(e,o,a,r).then(function(u){return fe("RestConnection","Received: ",u),u},function(u){throw Qh("RestConnection",e+" failed with error: ",u,"url: ",o,"request:",r),u})},t.prototype.$i=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=GJ[e];return this.Di+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return typeof window!="undefined"?window:null}function Km(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){return new tJ(t,!0)}var UI=function(){function t(e,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&fe("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),t2=function(){function t(e,n,r,i,o,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new UI(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return F(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return F(this,void 0,void 0,function(){return L(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return F(this,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(dn(n.toString()),dn("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===z.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var o=new re(z.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return F(e,void 0,void 0,function(){return L(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return fe("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),QJ=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,u}return be(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,a){var u;if("targetChange"in a){a.targetChange;var c=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Re()}(a.targetChange.targetChangeType||"NO_CHANGE"),f=a.targetChange.targetIds||[],h=function(w,T){return w.I?(je(T===void 0||typeof T=="string"),wr.fromBase64String(T||"")):(je(T===void 0||T instanceof Uint8Array),wr.fromUint8Array(T||new Uint8Array))}(o,a.targetChange.resumeToken),p=(g=a.targetChange.cause)&&function(w){var T=w.code===void 0?z.UNKNOWN:XL(w.code);return new re(T,w.message||"")}(g);u=new eF(c,f,h,p||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,f=bo(o,c.document.name),h=Ln(c.document.updateTime);var g=new Xr({mapValue:{fields:c.document.fields}}),m=(p=Gn.newFoundDocument(f,h,g),c.targetIds||[]),y=c.removedTargetIds||[];u=new Um(m,y,p.key,p)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,f=bo(o,c.document),h=c.readTime?Ln(c.readTime):et.min(),g=Gn.newNoDocument(f,h),p=c.removedTargetIds||[],u=new Um([],p,g.key,g);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,f=bo(o,c.document),h=c.removedTargetIds||[],u=new Um([],h,f,null);else{if(!("filter"in a))return Re();a.filter;var b=a.filter;b.targetId,c=b.count||0,f=new z9(c),h=b.targetId,u=new ZL(h,f)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return et.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?et.min():a.readTime?Ln(a.readTime):et.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=ld(this.R),r.addTarget=function(o,a){var u,c=a.target;return(u=km(c)?{documents:fF(o,c)}:{query:hF(o,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=iF(o,a.resumeToken):a.snapshotVersion.compareTo(et.min())>0&&(u.readTime=ud(o,a.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,a){var u=function(c,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Re()}}(0,a.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=ld(this.R),r.removeTarget=n,this.cr(r)},e}(t2),JJ=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,u.gr=!1,u}return be(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(je(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,a){return o&&o.length>0?(je(a!==void 0),o.map(function(u){return function(c,f){var h=c.updateTime?Ln(c.updateTime):Ln(f);return h.isEqual(et.min())&&(h=Ln(f)),new H9(h,c.transformResults||[])}(u,a)})):[]}(n.writeResults,n.commitTime),i=Ln(n.commitTime);return this.listener.Tr(i,r)}return je(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=ld(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return jm(r.R,o)})};this.cr(i)},e}(t2),ZJ=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return be(e,t),e.prototype.br=function(){if(this.Rr)throw new re(z.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new re(z.UNKNOWN,a.toString())})},e.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new re(z.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),eZ=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(dn(n),this.Vr=!1):fe("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),tZ=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return F(o,void 0,void 0,function(){return L(this,function(u){switch(u.label){case 0:return $s(this)?(fe("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return F(this,void 0,void 0,function(){var f;return L(this,function(h){switch(h.label){case 0:return(f=ye(c)).Or.add(4),[4,El(f)];case 1:return h.sent(),f.Br.set("Unknown"),f.Or.delete(4),[4,gd(f)];case 2:return h.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new eZ(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:if(!$s(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function El(t){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Gm(t,e){var n=ye(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),VI(n)?BI(n):Il(n).er()&&jI(n,e))}function vd(t,e){var n=ye(t),r=Il(n);n.$r.delete(e),r.er()&&n2(n,e),n.$r.size===0&&(r.er()?r.ir():$s(n)&&n.Br.set("Unknown"))}function jI(t,e){t.qr.U(e.targetId),Il(t).mr(e)}function n2(t,e){t.qr.U(e),Il(t).yr(e)}function BI(t){t.qr=new J9({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Il(t).start(),t.Br.Sr()}function VI(t){return $s(t)&&!Il(t).tr()&&t.$r.size>0}function $s(t){return ye(t).Or.size===0}function r2(t){t.qr=void 0}function nZ(t){return F(this,void 0,void 0,function(){return L(this,function(e){return t.$r.forEach(function(n,r){jI(t,n)}),[2]})})}function rZ(t,e){return F(this,void 0,void 0,function(){return L(this,function(n){return r2(t),VI(t)?(t.Br.Nr(e),BI(t)):t.Br.set("Unknown"),[2]})})}function iZ(t,e,n){return F(this,void 0,void 0,function(){var r,i,o;return L(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof eF&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(u,c){return F(this,void 0,void 0,function(){var f,h,p,g;return L(this,function(m){switch(m.label){case 0:f=c.cause,h=0,p=c.targetIds,m.label=1;case 1:return h<p.length?(g=p[h],u.$r.has(g)?[4,u.remoteSyncer.rejectListen(g,f)]:[3,3]):[3,5];case 2:m.sent(),u.$r.delete(g),u.qr.removeTarget(g),m.label=3;case 3:m.label=4;case 4:return h++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ym(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Um?t.qr.X(e):e instanceof ZL?t.qr.rt(e):t.qr.et(e),n.isEqual(et.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,$F(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(u,c){var f=u.qr.ut(c);return f.targetChanges.forEach(function(h,p){if(h.resumeToken.approximateByteSize()>0){var g=u.$r.get(p);g&&u.$r.set(p,g.withResumeToken(h.resumeToken,c))}}),f.targetMismatches.forEach(function(h){var p=u.$r.get(h);if(p){u.$r.set(h,p.withResumeToken(wr.EMPTY_BYTE_STRING,p.snapshotVersion)),n2(u,h);var g=new Bm(p.target,h,1,p.sequenceNumber);jI(u,g)}}),u.remoteSyncer.applyRemoteEvent(f)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return fe("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Ym(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Ym(t,e,n){return F(this,void 0,void 0,function(){var r=this;return L(this,function(i){switch(i.label){case 0:if(!wu(e))throw e;return t.Or.add(1),[4,El(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return $F(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return F(r,void 0,void 0,function(){return L(this,function(o){switch(o.label){case 0:return fe("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),t.Or.delete(1),[4,gd(t)];case 2:return o.sent(),[2]}})})}),[2]}})})}function i2(t,e){return e().catch(function(n){return Ym(t,n,e)})}function Tl(t){return F(this,void 0,void 0,function(){var e,n,r,i,o;return L(this,function(a){switch(a.label){case 0:e=ye(t),n=Ws(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(u){return $s(u)&&u.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,DJ(e.localStore,r)];case 3:return(i=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,c){u.Fr.push(c);var f=Ws(u);f.er()&&f.pr&&f.Er(c.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Ym(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return o2(e)&&s2(e),[2]}})})}function o2(t){return $s(t)&&!Ws(t).tr()&&t.Fr.length>0}function s2(t){Ws(t).start()}function oZ(t){return F(this,void 0,void 0,function(){return L(this,function(e){return Ws(t).Ar(),[2]})})}function sZ(t){return F(this,void 0,void 0,function(){var e,n,r,i;return L(this,function(o){for(e=Ws(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function aZ(t,e,n){return F(this,void 0,void 0,function(){var r,i;return L(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=gJ.from(r,e,n),[4,i2(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Tl(t)];case 2:return o.sent(),[2]}})})}function uZ(t,e){return F(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return e&&Ws(t).pr?[4,function(r,i){return F(this,void 0,void 0,function(){var o,a;return L(this,function(u){switch(u.label){case 0:return YL(a=i.code)&&a!==z.ABORTED?(o=r.Fr.shift(),Ws(r).sr(),[4,i2(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,Tl(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return o2(t)&&s2(t),[2]}})})}function qI(t,e){return F(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return n=ye(t),e?(n.Or.delete(2),[4,gd(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,El(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Il(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var o=ye(n);return o.br(),new QJ(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:nZ.bind(null,t),Ri:rZ.bind(null,t),_r:iZ.bind(null,t)}),t.Mr.push(function(n){return F(e,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),VI(t)?BI(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),r2(t),r.label=3;case 3:return[2]}})})})),t.Ur}function Ws(t){var e=this;return t.Kr||(t.Kr=function(n,r,i){var o=ye(n);return o.br(),new JJ(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:oZ.bind(null,t),Ri:uZ.bind(null,t),Ir:sZ.bind(null,t),Tr:aZ.bind(null,t)}),t.Mr.push(function(n){return F(e,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,Tl(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.Fr.length>0&&(fe("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}var cZ=function(){function t(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Sl(t,e){if(dn("AsyncQueue",e+": "+t),wu(t))return new re(z.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a2=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||Pe.comparator(n.key,r.key)}:function(n,r){return Pe.comparator(n.key,r.key)},this.keyedMap=bI(),this.sortedSet=new ur(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),u2=function(){function t(){this.Qr=new ur(Pe.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(n):e.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):Re():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),Xm=function(){function t(e,n,r,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(a){o.push({type:0,doc:a})}),new t(e,n,a2.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),lZ=function(){this.Wr=void 0,this.listeners=[]},fZ=function(){this.queries=new _l(function(t){return DL(t)},rd),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e){return F(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return L(this,function(f){switch(f.label){case 0:if(n=ye(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new lZ),!i)return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=f.sent(),[3,4];case 3:return u=f.sent(),c=Sl(u,"Initialization of query '"+mI(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&WI(n),[2]}})})}function $I(t,e){return F(this,void 0,void 0,function(){var n,r,i,o,a;return L(this,function(u){return n=ye(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function hZ(t,e){for(var n=ye(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],u=a.query,c=n.queries.get(u);if(c){for(var f=0,h=c.listeners;f<h.length;f++)h[f].Hr(a)&&(r=!0);c.Wr=a}}r&&WI(n)}function dZ(t,e,n){var r=ye(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function WI(t){t.Gr.forEach(function(e){e.next()})}var zI=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}e=new Xm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=Xm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),pZ=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),c2=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return bo(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?cF(this.R,e.document,!1):Gn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return Ln(e)},t}(),gZ=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=l2(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new c2(this.R),i=0,o=e;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var u=r.qn(a.metadata.name),c=0,f=a.metadata.queries;c<f.length;c++){var h=f[c],p=(n.get(h)||Ot()).add(u);n.set(h,p)}}return n},t.prototype.complete=function(){return F(this,void 0,void 0,function(){var e,n,r,i,o;return L(this,function(a){switch(a.label){case 0:return[4,LJ(this.localStore,new c2(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(o=i[r],[4,FJ(this.localStore,o,n.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new kJ(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f2=function(t){this.key=t},h2=function(t){this.key=t},d2=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=Ot(),this.mutatedKeys=Ot(),this.lo=ML(e),this.fo=new a2(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new u2,o=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,u=o,c=!1,f=Om(this.query)&&o.size===this.query.limit?o.last():null,h=Nm(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(g,m){var y=o.get(g),b=id(r.query,m)?m:null,w=!!y&&r.mutatedKeys.has(y.key),T=!!b&&(b.hasLocalMutations||r.mutatedKeys.has(b.key)&&b.hasCommittedMutations),A=!1;y&&b?y.data.isEqual(b.data)?w!==T&&(i.track({type:3,doc:b}),A=!0):r.yo(y,b)||(i.track({type:2,doc:b}),A=!0,(f&&r.lo(b,f)>0||h&&r.lo(b,h)<0)&&(c=!0)):!y&&b?(i.track({type:0,doc:b}),A=!0):y&&!b&&(i.track({type:1,doc:y}),A=!0,(f||h)&&(c=!0)),A&&(b?(u=u.add(b),a=T?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),Om(this.query)||Nm(this.query))for(;u.size>this.query.limit;){var p=Om(this.query)?u.last():u.first();u=u.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{fo:u,mo:i,Nn:c,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(h,p){return function(g,m){var y=function(b){switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return y(g)-y(m)}(h.type,p.type)||i.lo(h.doc,p.doc)}),this.po(r);var u=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,f=c!==this.ao;return this.ao=c,a.length!==0||f?{snapshot:new Xm(this.query,e.fo,o,a,e.mutatedKeys,c===0,f,!1),To:u}:{To:u}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new u2,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Ot(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new h2(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new f2(i))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ot();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return Xm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),vZ=function(t,e,n){this.query=t,this.targetId=e,this.view=n},mZ=function(t){this.key=t,this.bo=!1},yZ=function(){function t(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new _l(function(u){return DL(u)},rd),this.Vo=new Map,this.So=new Set,this.Do=new ur(Pe.comparator),this.Co=new Map,this.No=new PI,this.xo={},this.ko=new Map,this.Fo=qm.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function _Z(t,e){return F(this,void 0,void 0,function(){var n,r,i,o,a,u;return L(this,function(c){switch(c.label){case 0:return n=JI(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,bl(n.localStore,yi(e))];case 2:return a=c.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,KI(n,e,r,u==="current")];case 3:i=c.sent(),n.isPrimaryClient&&Gm(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function KI(t,e,n,r){return F(this,void 0,void 0,function(){var i,o,a,u,c,f;return L(this,function(h){switch(h.label){case 0:return t.Oo=function(p,g,m){return function(y,b,w,T){return F(this,void 0,void 0,function(){var A,k,N;return L(this,function(P){switch(P.label){case 0:return A=b.view._o(w),A.Nn?[4,zm(y.localStore,b.query,!1).then(function(D){var $=D.documents;return b.view._o($,A)})]:[3,2];case 1:A=P.sent(),P.label=2;case 2:return k=T&&T.targetChanges.get(b.targetId),N=b.view.applyChanges(A,y.isPrimaryClient,k),[2,(XI(y,b.targetId,N.To),N.snapshot)]}})})}(t,p,g,m)},[4,zm(t.localStore,e,!0)];case 1:return i=h.sent(),o=new d2(e,i.Bn),a=o._o(i.documents),u=EI.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),c=o.applyChanges(a,t.isPrimaryClient,u),XI(t,n,c.To),f=new vZ(e,n,o),[2,(t.Po.set(e,f),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function bZ(t,e){return F(this,void 0,void 0,function(){var n,r,i;return L(this,function(o){switch(o.label){case 0:return n=ye(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!rd(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,wl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),vd(n.remoteStore,r.targetId),Cl(n,r.targetId)}).catch(Tu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Cl(n,r.targetId),[4,wl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function wZ(t,e,n){return F(this,void 0,void 0,function(){var r,i,o,a;return L(this,function(u){switch(u.label){case 0:r=ZI(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(c,f){var h,p=ye(c),g=Fr.now(),m=f.reduce(function(y,b){return y.add(b.key)},Ot());return p.persistence.runTransaction("Locally write mutations","readwrite",function(y){return p.Mn.pn(y,m).next(function(b){h=b;for(var w=[],T=0,A=f;T<A.length;T++){var k=A[T],N=W9(k,h.get(k.key));N!=null&&w.push(new Us(k.key,N,AL(N.value.mapValue),ar.exists(!0)))}return p._n.addMutationBatch(y,g,w,f)})}).then(function(y){return y.applyToLocalDocumentSet(h),{batchId:y.batchId,changes:h}})}(r.localStore,e)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,f,h){var p=c.xo[c.currentUser.toKey()];p||(p=new ur(ut)),p=p.insert(f,h),c.xo[c.currentUser.toKey()]=p}(r,i.batchId,n),[4,es(r,i.changes)];case 3:return u.sent(),[4,Tl(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=Sl(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function p2(t,e){return F(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:n=ye(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,PJ(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,a){var u=n.Co.get(a);u&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?je(u.bo):o.removedDocuments.size>0&&(je(u.bo),u.bo=!1))}),[4,es(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Tu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function g2(t,e,n){var r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,a){var u=a.view.zr(e);u.snapshot&&i.push(u.snapshot)}),function(o,a){var u=ye(o);u.onlineState=a;var c=!1;u.queries.forEach(function(f,h){for(var p=0,g=h.listeners;p<g.length;p++)g[p].zr(a)&&(c=!0)}),c&&WI(u)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EZ(t,e,n){return F(this,void 0,void 0,function(){var r,i,o,a,u,c;return L(this,function(f){switch(f.label){case 0:return(r=ye(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new ur(Pe.comparator)).insert(o,Gn.newNoDocument(o,et.min())),u=Ot().add(o),c=new wI(et.min(),new Map,new Sn(ut),a,u),[4,p2(r,c)]):[3,2];case 1:return f.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),QI(r),[3,4];case 2:return[4,wl(r.localStore,e,!1).then(function(){return Cl(r,e,n)}).catch(Tu)];case 3:f.sent(),f.label=4;case 4:return[2]}})})}function TZ(t,e){return F(this,void 0,void 0,function(){var n,r,i;return L(this,function(o){switch(o.label){case 0:n=ye(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,NJ(n.localStore,e)];case 2:return i=o.sent(),YI(n,r,null),GI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,es(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Tu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function IZ(t,e,n){return F(this,void 0,void 0,function(){var r,i;return L(this,function(o){switch(o.label){case 0:r=ye(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(a,u){var c=ye(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(f){var h;return c._n.lookupMutationBatch(f,u).next(function(p){return je(p!==null),h=p.keys(),c._n.removeMutationBatch(f,p)}).next(function(){return c._n.performConsistencyCheck(f)}).next(function(){return c.Mn.pn(f,h)})})}(r.localStore,e)];case 2:return i=o.sent(),YI(r,e,n),GI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,es(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Tu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function SZ(t,e){return F(this,void 0,void 0,function(){var n,r,i,o,a;return L(this,function(u){switch(u.label){case 0:$s((n=ye(t)).remoteStore)||fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(c){var f=ye(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(h){return f._n.getHighestUnacknowledgedBatchId(h)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),a=Sl(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function GI(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function YI(t,e,n){var r=ye(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Cl(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||v2(t,a)})}function v2(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(vd(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),QI(t))}function XI(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof f2?(t.No.addReference(o.key,e),CZ(t,o)):o instanceof h2?(fe("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||v2(t,o.key)):Re()}}function CZ(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.So.add(r),QI(t))}function QI(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Pe(yt.fromString(e)),r=t.Fo.next();t.Co.set(r,new mZ(n)),t.Do=t.Do.insert(n,r),Gm(t.remoteStore,new Bm(yi(ol(n.path)),r,2,Yr.o))}}function es(t,e,n){return F(this,void 0,void 0,function(){var r,i,o,a;return L(this,function(u){switch(u.label){case 0:return r=ye(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,f){a.push(r.Oo(f,e,n).then(function(h){if(h){r.isPrimaryClient&&r.sharedClientState.updateQueryState(f.targetId,h.fromCache?"not-current":"current"),i.push(h);var p=RJ.Pn(f.targetId,h);o.push(p)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(c,f){return F(this,void 0,void 0,function(){var h,p,g,m,y,b,w,T,A;return L(this,function(k){switch(k.label){case 0:h=ye(c),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,h.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(N){return ae.forEach(f,function(P){return ae.forEach(P.bn,function(D){return h.persistence.referenceDelegate.addReference(N,P.targetId,D)}).next(function(){return ae.forEach(P.vn,function(D){return h.persistence.referenceDelegate.removeReference(N,P.targetId,D)})})})})];case 2:return k.sent(),[3,4];case 3:if(!wu(p=k.sent()))throw p;return fe("LocalStore","Failed to update sequence numbers: "+p),[3,4];case 4:for(g=0,m=f;g<m.length;g++)y=m[g],b=y.targetId,y.fromCache||(w=h.kn.get(b),T=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(T),h.kn=h.kn.insert(b,A));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function AZ(t,e){return F(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return(n=ye(t)).currentUser.isEqual(e)?[3,3]:(fe("SyncEngine","User change. New user:",e.toKey()),[4,HF(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(o,a){o.ko.forEach(function(u){u.forEach(function(c){c.reject(new re(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,es(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function xZ(t,e){var n=ye(t),r=n.Co.get(e);if(r&&r.bo)return Ot().add(r.key);var i=Ot(),o=n.Vo.get(e);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var c=u[a],f=n.Po.get(c);i=i.unionWith(f.view.wo)}return i}function kZ(t,e){return F(this,void 0,void 0,function(){var n,r,i;return L(this,function(o){switch(o.label){case 0:return[4,zm((n=ye(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&XI(n,e.targetId,i.To),i)]}})})}function RZ(t){return F(this,void 0,void 0,function(){var e;return L(this,function(n){return[2,KF((e=ye(t)).localStore).then(function(r){return es(e,r)})]})})}function OZ(t,e,n,r){return F(this,void 0,void 0,function(){var i,o;return L(this,function(a){switch(a.label){case 0:return[4,function(u,c){var f=ye(u),h=ye(f._n);return f.persistence.runTransaction("Lookup mutation documents","readonly",function(p){return h.jt(p,c).next(function(g){return g?f.Mn.pn(p,g):ae.resolve(null)})})}((i=ye(t)).localStore,e)];case 1:return(o=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Tl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(YI(i,e,r||null),GI(i,e),function(u,c){ye(ye(u)._n).Gt(c)}(i.localStore,e)):Re(),a.label=4;case 4:return[4,es(i,o)];case 5:return a.sent(),[3,7];case 6:fe("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function NZ(t,e){return F(this,void 0,void 0,function(){var n,r,i,o,a,u,c,f;return L(this,function(h){switch(h.label){case 0:return JI(n=ye(t)),ZI(n),e!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,m2(n,r.toArray())]);case 1:return i=h.sent(),n.$o=!0,[4,qI(n.remoteStore,!0)];case 2:for(h.sent(),o=0,a=i;o<a.length;o++)u=a[o],Gm(n.remoteStore,u);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(c=[],f=Promise.resolve(),n.Vo.forEach(function(p,g){n.sharedClientState.isLocalQueryTarget(g)?c.push(g):f=f.then(function(){return Cl(n,g),wl(n.localStore,g,!0)}),vd(n.remoteStore,g)}),[4,f]);case 4:return h.sent(),[4,m2(n,c)];case 5:return h.sent(),function(p){var g=ye(p);g.Co.forEach(function(m,y){vd(g.remoteStore,y)}),g.No.ts(),g.Co=new Map,g.Do=new ur(Pe.comparator)}(n),n.$o=!1,[4,qI(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}})})}function m2(t,e,n){return F(this,void 0,void 0,function(){var r,i,o,a,u,c,f,h,p,g,m,y,b,w;return L(this,function(T){switch(T.label){case 0:r=ye(t),i=[],o=[],a=0,u=e,T.label=1;case 1:return a<u.length?(c=u[a],f=void 0,(h=r.Vo.get(c))&&h.length!==0?[4,bl(r.localStore,yi(h[0]))]:[3,7]):[3,13];case 2:f=T.sent(),p=0,g=h,T.label=3;case 3:return p<g.length?(m=g[p],y=r.Po.get(m),[4,kZ(r,y)]):[3,6];case 4:(b=T.sent()).snapshot&&o.push(b.snapshot),T.label=5;case 5:return p++,[3,3];case 6:return[3,11];case 7:return[4,zF(r.localStore,c)];case 8:return w=T.sent(),[4,bl(r.localStore,w)];case 9:return f=T.sent(),[4,KI(r,y2(w),c,!1)];case 10:T.sent(),T.label=11;case 11:i.push(f),T.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function y2(t){return NL(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function PZ(t){var e=ye(t);return ye(ye(e.localStore).persistence).fn()}function DZ(t,e,n,r){return F(this,void 0,void 0,function(){var i,o,a;return L(this,function(u){switch(u.label){case 0:return(i=ye(t)).$o?(fe("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,KF(i.localStore)];case 3:return o=u.sent(),a=wI.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,es(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,wl(i.localStore,e,!0)];case 6:return u.sent(),Cl(i,e,r),[3,8];case 7:Re(),u.label=8;case 8:return[2]}})})}function MZ(t,e,n){return F(this,void 0,void 0,function(){var r,i,o,a,u,c,f,h,p,g;return L(this,function(m){switch(m.label){case 0:if(!(r=JI(t)).$o)return[3,10];i=0,o=e,m.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(fe("SyncEngine","Adding an already active target "+a),[3,5]):[4,zF(r.localStore,a)]):[3,6];case 2:return u=m.sent(),[4,bl(r.localStore,u)];case 3:return c=m.sent(),[4,KI(r,y2(u),c.targetId,!1)];case 4:m.sent(),Gm(r.remoteStore,c),m.label=5;case 5:return i++,[3,1];case 6:f=function(y){return L(this,function(b){switch(b.label){case 0:return r.Vo.has(y)?[4,wl(r.localStore,y,!1).then(function(){vd(r.remoteStore,y),Cl(r,y)}).catch(Tu)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})},h=0,p=n,m.label=7;case 7:return h<p.length?(g=p[h],[5,f(g)]):[3,10];case 8:m.sent(),m.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function JI(t){var e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=p2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EZ.bind(null,e),e.vo._r=hZ.bind(null,e.eventManager),e.vo.Mo=dZ.bind(null,e.eventManager),e}function ZI(t){var e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IZ.bind(null,e),e}function LZ(t,e,n){var r=ye(t);(function(i,o,a){return F(this,void 0,void 0,function(){var u,c,f,h,p,g;return L(this,function(m){switch(m.label){case 0:return m.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return u=m.sent(),[4,function(y,b){var w=ye(y),T=Ln(b.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",function(A){return w.Ke.getBundleMetadata(A,b.id)}).then(function(A){return!!A&&A.createTime.compareTo(T)>=0})}(i.localStore,u)];case 2:return m.sent()?[4,o.close()]:[3,4];case 3:return[2,(m.sent(),void a._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(u)))];case 4:return a._updateProgress(l2(u)),c=new gZ(u,i.localStore,o.R),[4,o.Lo()];case 5:f=m.sent(),m.label=6;case 6:return f?[4,c.oo(f)]:[3,10];case 7:return(h=m.sent())&&a._updateProgress(h),[4,o.Lo()];case 8:f=m.sent(),m.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return p=m.sent(),[4,es(i,p.wn,void 0)];case 12:return m.sent(),[4,function(y,b){var w=ye(y);return w.persistence.runTransaction("Save bundle","readwrite",function(T){return w.Ke.saveBundleMetadata(T,b)})}(i.localStore,u)];case 13:return m.sent(),a._completeWith(p.progress),[3,15];case 14:return Qh("SyncEngine","Loading bundle failed with "+(g=m.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var _2=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return F(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return this.R=pd(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return qF(this.persistence,new VF,e.initialUser,this.R)},t.prototype.qo=function(e){return new HJ(WJ.bs,this.R)},t.prototype.Bo=function(e){return new JF},t.prototype.terminate=function(){return F(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),b2=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return be(e,t),e.prototype.initialize=function(n){return F(this,void 0,void 0,function(){var r=this;return L(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,MJ(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,ZI(this.Qo.syncEngine)];case 4:return i.sent(),[4,Tl(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(n){return qF(this.persistence,new VF,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new EJ(r,n.asyncQueue)},e.prototype.qo=function(n){var r=NI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Eo.withCacheSize(this.cacheSizeBytes):Eo.DEFAULT;return new xJ(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,e2(),Km(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new JF},e}(_2),FZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return be(e,t),e.prototype.initialize=function(n){return F(this,void 0,void 0,function(){var r,i=this;return L(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof FI?(this.sharedClientState.syncEngine={ui:OZ.bind(null,r),ai:DZ.bind(null,r),hi:MZ.bind(null,r),fn:PZ.bind(null,r),ci:RZ.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return F(i,void 0,void 0,function(){return L(this,function(u){switch(u.label){case 0:return[4,NZ(this.Qo.syncEngine,a)];case 1:return u.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(n){var r=e2();if(!FI.yt(r))throw new re(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=NI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new FI(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(b2),eS=function(){function t(){}return t.prototype.initialize=function(e,n){return F(this,void 0,void 0,function(){var r=this;return L(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return g2(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=AZ.bind(null,this.syncEngine),[4,qI(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new fZ},t.prototype.createDatastore=function(e){var n,r=pd(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new XJ(n));return function(o,a,u){return new ZJ(o,a,u)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,o,a,u=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(c){return g2(u.syncEngine,c,0)},a=ZF.yt()?new ZF:new KJ,new tZ(n,r,i,o,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,o,a,u,c,f){var h=new yZ(r,i,o,a,u,c);return f&&(h.$o=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return F(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return n=ye(e),fe("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,El(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return F(this,void 0,void 0,function(){var r;return L(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return F(this,void 0,void 0,function(){return L(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qm=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),UZ=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new lr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return F(this,void 0,void 0,function(){return L(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return F(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return F(this,void 0,void 0,function(){var e,n,r,i;return L(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new pZ(JSON.parse(i),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return F(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),jZ=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return F(this,void 0,void 0,function(){var n,r=this;return L(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new re(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return F(this,void 0,void 0,function(){var u,c,f,h,p,g;return L(this,function(m){switch(m.label){case 0:return u=ye(o),c=ld(u.R)+"/documents",f={documents:a.map(function(y){return cd(u.R,y)})},[4,u.$i("BatchGetDocuments",c,f)];case 1:return h=m.sent(),p=new Map,h.forEach(function(y){var b=function(w,T){return"found"in T?function(A,k){je(!!k.found),k.found.name,k.found.updateTime;var N=bo(A,k.found.name),P=Ln(k.found.updateTime),D=new Xr({mapValue:{fields:k.found.fields}});return Gn.newFoundDocument(N,P,D)}(w,T):"missing"in T?function(A,k){je(!!k.missing),je(!!k.readTime);var N=bo(A,k.missing),P=Ln(k.readTime);return Gn.newNoDocument(N,P)}(w,T):Re()}(u.R,y);p.set(b.key.toString(),b)}),g=[],[2,(a.forEach(function(y){var b=p.get(y.toString());je(!!b),g.push(b)}),g)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new ad(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return F(this,void 0,void 0,function(){var e,n=this;return L(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var a=Pe.fromPath(o);n.mutations.push(new _I(a,n.precondition(a)))}),[4,function(i,o){return F(this,void 0,void 0,function(){var a,u,c;return L(this,function(f){switch(f.label){case 0:return a=ye(i),u=ld(a.R)+"/documents",c={writes:o.map(function(h){return jm(a.R,h)})},[4,a.Ni("Commit",u,c)];case 1:return f.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Re();n=et.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new re(z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?ar.updateTime(n):ar.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(et.min()))throw new re(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(n)}return ar.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),BZ=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new UI(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return F(e,void 0,void 0,function(){var n,r,i=this;return L(this,function(o){return n=new jZ(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(u){i.ic(u)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!vu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!YL(n)}return!1},t}(),VZ=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Xn.UNAUTHENTICATED,this.clientId=mL.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return F(i,void 0,void 0,function(){return L(this,function(a){switch(a.label){case 0:return fe("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return t.prototype.getConfiguration=function(){return F(this,void 0,void 0,function(){return L(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new re(z.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return F(e,void 0,void 0,function(){var r,i;return L(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=Sl(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e){return F(this,void 0,void 0,function(){var n,r,i=this;return L(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return F(i,void 0,void 0,function(){return L(this,function(u){switch(u.label){case 0:return r.isEqual(a)?[3,2]:[4,HF(e.localStore,a)];case 1:u.sent(),r=a,u.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function T2(t,e){return F(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,tS(t)];case 1:return n=i.sent(),fe("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(o){return function(a,u){return F(this,void 0,void 0,function(){var c,f;return L(this,function(h){switch(h.label){case 0:return(c=ye(a)).asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials"),f=$s(c),c.Or.add(3),[4,El(c)];case 1:return h.sent(),f&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(u)];case 2:return h.sent(),c.Or.delete(3),[4,gd(c)];case 3:return h.sent(),[2]}})})}(e.remoteStore,o)}),t.onlineComponents=e,[2]}})})}function tS(t){return F(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(fe("FirestoreClient","Using default OfflineComponentProvider"),[4,E2(t,new _2)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Jm(t){return F(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(fe("FirestoreClient","Using default OnlineComponentProvider"),[4,T2(t,new eS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function I2(t){return tS(t).then(function(e){return e.persistence})}function nS(t){return tS(t).then(function(e){return e.localStore})}function S2(t){return Jm(t).then(function(e){return e.remoteStore})}function rS(t){return Jm(t).then(function(e){return e.syncEngine})}function Al(t){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:return[4,Jm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=_Z.bind(null,e.syncEngine),n.onUnlisten=bZ.bind(null,e.syncEngine),n)]}})})}function C2(t,e,n){var r=this;n===void 0&&(n={});var i=new lr;return t.asyncQueue.enqueueAndForget(function(){return F(r,void 0,void 0,function(){var o;return L(this,function(a){switch(a.label){case 0:return o=function(u,c,f,h,p){var g=new Qm({next:function(y){c.enqueueAndForget(function(){return $I(u,m)});var b=y.docs.has(f);!b&&y.fromCache?p.reject(new re(z.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&h&&h.source==="server"?p.reject(new re(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(y)},error:function(y){return p.reject(y)}}),m=new zI(ol(f.path),g,{includeMetadataChanges:!0,so:!0});return HI(u,m)},[4,Al(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function A2(t,e,n){var r=this;n===void 0&&(n={});var i=new lr;return t.asyncQueue.enqueueAndForget(function(){return F(r,void 0,void 0,function(){var o;return L(this,function(a){switch(a.label){case 0:return o=function(u,c,f,h,p){var g=new Qm({next:function(y){c.enqueueAndForget(function(){return $I(u,m)}),y.fromCache&&h.source==="server"?p.reject(new re(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:function(y){return p.reject(y)}}),m=new zI(f,g,{includeMetadataChanges:!0,so:!0});return HI(u,m)},[4,Al(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var qZ=function(t,e,n,r,i,o,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},Zm=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),x2=new Map,k2=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},R2=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(Xn.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),HZ=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),$Z=function(){function t(e){var n=this;this.currentUser=Xn.UNAUTHENTICATED,this.oc=new lr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){fe("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):(fe("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(fe("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(je(typeof i.accessToken=="string"),new k2(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return F(r,void 0,void 0,function(){return L(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Xn(e)},t}(),WZ=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Xn.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),zZ=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new WZ(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(Xn.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e,n){if(!n)throw new re(z.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function oS(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new re(z.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function O2(t,e,n,r){if(e===!0&&r===!0)throw new re(z.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function N2(t){if(!Pe.isDocumentKey(t))throw new re(z.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function P2(t){if(Pe.isDocumentKey(t))throw new re(z.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ey(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":Re()}function _t(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ey(t);throw new re(z.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function D2(t,e){if(e<=0)throw new re(z.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M2=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new re(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),md=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M2({}),this._settingsFrozen=!1,e instanceof Zm?(this._databaseId=e,this._credentials=new R2):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new re(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zm(r.options.projectId)}(e),this._credentials=new $Z(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new re(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new re(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M2(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new R2;switch(n.type){case"gapi":var r=n.client;return je(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zZ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new re(z.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=x2.get(e))&&(fe("ComponentProvider","Removing Datastore"),x2.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Jt=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new zs(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Br=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),zs=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,ol(i))||this)._path=i,o.type="collection",o}return be(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Jt(this.firestore,null,new Pe(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Br);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Qe(t),iS("collection","path",e),t instanceof md)return P2(n=yt.fromString.apply(yt,Je([e],r))),new zs(t,null,n);if(!(t instanceof Jt||t instanceof zs))throw new re(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return P2(n=yt.fromString.apply(yt,Je([t.path],r)).child(yt.fromString(e))),new zs(t.firestore,null,n)}function ty(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Qe(t),arguments.length===1&&(e=mL.u()),iS("doc","path",e),t instanceof md)return N2(n=yt.fromString.apply(yt,Je([e],r))),new Jt(t,null,new Pe(n));if(!(t instanceof Jt||t instanceof zs))throw new re(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return N2(n=t._path.child(yt.fromString.apply(yt,Je([e],r)))),new Jt(t.firestore,t instanceof zs?t.converter:null,new Pe(n))}function F2(t,e){return t=Qe(t),e=Qe(e),(t instanceof Jt||t instanceof zs)&&(e instanceof Jt||e instanceof zs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function U2(t,e){return t=Qe(t),e=Qe(e),t instanceof Br&&e instanceof Br&&t.firestore===e.firestore&&rd(t._query,e._query)&&t.converter===e.converter}var KZ=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new UI(this,"async_queue_retry"),this.Ic=function(){var r=Km();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new lr;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return F(this,void 0,void 0,function(){var e,n=this;return L(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!wu(e=r.sent()))throw e;return fe("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(i){throw n.yc=i,n.gc=!1,dn("INTERNAL UNHANDLED ERROR: ",function(o){var a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var o=cZ.createAndSchedule(this,e,n,r,function(a){return i.vc(a)});return this.mc.push(o),o},t.prototype.Ac=function(){this.yc&&Re()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return F(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,u){return a.targetTimeMs-u.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function xl(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var GZ=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),YZ=-1,cn=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new KZ,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return be(e,t),e.prototype._terminate=function(){return this._firestoreClient||j2(this),this._firestoreClient.terminate()},e}(md);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t){return t._firestoreClient||j2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function j2(t){var e,n=t._freezeSettings(),r=function(i,o,a,u){return new qZ(i,o,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new VZ(t._credentials,t._queue,r)}function B2(t,e,n){var r=this,i=new lr;return t.asyncQueue.enqueue(function(){return F(r,void 0,void 0,function(){var o;return L(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,E2(t,n)];case 1:return a.sent(),[4,T2(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===z.FAILED_PRECONDITION||u.code===z.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=a.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function V2(t){if(t._initialized||t._terminated)throw new re(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new re(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Iu=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(wr.fromBase64String(e))}catch(n){throw new re(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(wr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Su=function(t){this._methodName=t},ny=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return ut(this._lat,e._lat)||ut(this._long,e._long)},t}(),XZ=/^__.*__$/,QZ=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)},t}(),q2=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new Us(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}var $2=function(){function t(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},t.prototype.Oc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return iy(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(H2(this.Nc)&&XZ.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),JZ=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||pd(e)}return t.prototype.Uc=function(e,n,r,i){return i===void 0&&(i=!1),new $2({Nc:e,methodName:n,qc:r,path:zi.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Cu(t){var e=t._freezeSettings(),n=pd(t._databaseId);return new JZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ry(t,e,n,r,i,o){o===void 0&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);cS("Data must be an object, but it was:",a,r);var u,c,f=K2(r,a);if(o.merge)u=new tl(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var h=[],p=0,g=o.mergeFields;p<g.length;p++){var m=lS(e,g[p],n);if(!a.contains(m))throw new re(z.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");Y2(h,m)||h.push(m)}u=new tl(h),c=a.fieldTransforms.filter(function(y){return u.covers(y.field)})}else u=null,c=a.fieldTransforms;return new QZ(new Xr(f),u,c)}var sS=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return be(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Su);function W2(t,e,n){return new $2({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var ZZ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return be(e,t),e.prototype._toFieldTransform=function(n){return new od(n.path,new al)},e.prototype.isEqual=function(n){return n instanceof e},e}(Su),eee=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return be(e,t),e.prototype._toFieldTransform=function(n){var r=W2(this,n,!0),i=this.Kc.map(function(a){return Au(a,r)}),o=new yu(i);return new od(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Su),tee=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return be(e,t),e.prototype._toFieldTransform=function(n){var r=W2(this,n,!0),i=this.Kc.map(function(a){return Au(a,r)}),o=new _u(i);return new od(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Su),nee=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Qc=r,i}return be(e,t),e.prototype._toFieldTransform=function(n){var r=new ul(n.R,UL(n.R,this.Qc));return new od(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Su);function aS(t,e,n,r){var i=t.Uc(1,e,n);cS("Data must be an object, but it was:",i,r);var o=[],a=Xr.empty();gu(r,function(c,f){var h=fS(e,c,n);f=Qe(f);var p=i.Oc(h);if(f instanceof sS)o.push(h);else{var g=Au(f,p);g!=null&&(o.push(h),a.set(h,g))}});var u=new tl(o);return new q2(a,u,i.fieldTransforms)}function uS(t,e,n,r,i,o){var a=t.Uc(1,e,n),u=[lS(e,r,n)],c=[i];if(o.length%2!=0)throw new re(z.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<o.length;f+=2)u.push(lS(e,o[f])),c.push(o[f+1]);for(var h=[],p=Xr.empty(),g=u.length-1;g>=0;--g)if(!Y2(h,u[g])){var m=u[g],y=c[g];y=Qe(y);var b=a.Oc(m);if(y instanceof sS)h.push(m);else{var w=Au(y,b);w!=null&&(h.push(m),p.set(m,w))}}var T=new tl(h);return new q2(p,T,a.fieldTransforms)}function z2(t,e,n,r){return r===void 0&&(r=!1),Au(n,t.Uc(r?4:3,e))}function Au(t,e){if(G2(t=Qe(t)))return cS("Unsupported field value:",e,t),K2(t,e);if(t instanceof Su)return function(n,r){if(!H2(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,a=0,u=n;a<u.length;a++){var c=Au(u[a],r.Mc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Qe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return UL(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Fr.fromDate(n);return{timestampValue:ud(r.R,i)}}if(n instanceof Fr)return i=new Fr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:ud(r.R,i)};if(n instanceof ny)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Iu)return{bytesValue:iF(r.R,n._byteString)};if(n instanceof Jt){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:TI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+ey(n))}(t,e)}function K2(t,e){var n={};return bL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gu(t,function(r,i){var o=Au(i,e.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function G2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fr||t instanceof ny||t instanceof Iu||t instanceof Jt||t instanceof Su)}function cS(t,e,n){if(!G2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=ey(n);throw r==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function lS(t,e,n){if((e=Qe(e))instanceof To)return e._internalPath;if(typeof e=="string")return fS(t,e);throw iy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ree=new RegExp("[~\\*/\\[\\]]");function fS(t,e,n){if(e.search(ree)>=0)throw iy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(To.bind.apply(To,Je([void 0],e.split("."))))()._internalPath}catch{throw iy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function iy(t,e,n,r,i){var o=r&&!r.isEmpty(),a=i!==void 0,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new re(z.INVALID_ARGUMENT,(u+=". ")+t+c)}function Y2(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yd=function(){function t(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Jt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new iee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),iee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return be(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(yd);function oy(t,e){return typeof e=="string"?fS(t,e):e instanceof To?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xu=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),ts=function(t){function e(n,r,i,o,a,u){var c=this;return(c=t.call(this,n,r,i,o,u)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return be(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new _d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(oy("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(yd),_d=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return be(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(ts),Ks=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new _d(r._firestore,r._userDataWriter,i.key,i,new xu(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){return{type:"added",doc:new _d(r._firestore,r._userDataWriter,u.doc.key,u.doc,new xu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var c=new _d(r._firestore,r._userDataWriter,u.doc.key,u.doc,new xu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),f=-1,h=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(h=(a=a.add(u.doc)).indexOf(u.doc.key)),{type:oee(u.type),doc:c,oldIndex:f,newIndex:h}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function oee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}function X2(t,e){return t instanceof ts&&e instanceof ts?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ks&&e instanceof Ks&&t._firestore===e._firestore&&U2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){if(Nm(t)&&t.explicitOrderBy.length===0)throw new re(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bd=function(){};function Gs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var see=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return be(e,t),e.prototype._apply=function(n){var r=Cu(n.firestore),i=function(o,a,u,c,f,h,p){var g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new re(z.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+h+"' queries on FieldPath.documentId().");if(h==="in"||h==="not-in"){rU(p,h);for(var m=[],y=0,b=p;y<b.length;y++){var w=b[y];m.push(nU(c,o,w))}g={arrayValue:{values:m}}}else g=nU(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||rU(p,h),g=z2(u,"where",p,h==="in"||h==="not-in");var T=Qr.create(f,h,g);return function(A,k){if(k.g()){var N=gI(A);if(N!==null&&!N.isEqual(k.field))throw new re(z.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+N.toString()+"' and '"+k.field.toString()+"'");var P=pI(A);P!==null&&iU(A,k.field,P)}var D=function($,B){for(var Y=0,R=$.filters;Y<R.length;Y++){var de=R[Y];if(B.indexOf(de.op)>=0)return de.op}return null}(A,function($){switch($){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(D!==null)throw D===k.op?new re(z.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+k.op.toString()+"' filter."):new re(z.INVALID_ARGUMENT,"Invalid query. You cannot use '"+k.op.toString()+"' filters with '"+D.toString()+"' filters.")}(o,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Br(n.firestore,n.converter,function(o,a){var u=o.filters.concat([a]);return new Qo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(bd),aee=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return be(e,t),e.prototype._apply=function(n){var r=function(i,o,a){if(i.startAt!==null)throw new re(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new re(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new il(o,a);return function(c,f){if(pI(c)===null){var h=gI(c);h!==null&&iU(c,h,f.field)}}(i,u),u}(n._query,this.jc,this.zc);return new Br(n.firestore,n.converter,function(i,o){var a=i.explicitOrderBy.concat([o]);return new Qo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(bd),J2=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return be(e,t),e.prototype._apply=function(n){return new Br(n.firestore,n.converter,PL(n._query,this.Hc,this.Jc))},e}(bd),Z2=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return be(e,t),e.prototype._apply=function(n){var r=tU(n,this.type,this.Yc,this.Xc);return new Br(n.firestore,n.converter,function(i,o){return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},e}(bd),eU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return be(e,t),e.prototype._apply=function(n){var r=tU(n,this.type,this.Yc,this.Xc);return new Br(n.firestore,n.converter,function(i,o){return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},e}(bd);function tU(t,e,n,r){if(n[0]=Qe(n[0]),n[0]instanceof yd)return function(o,a,u,c,f){if(!c)throw new re(z.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var h=[],p=0,g=sl(o);p<g.length;p++){var m=g[p];if(m.field.isKeyField())h.push(Cm(a,c.key));else{var y=c.data.field(m.field);if(cI(y))throw new re(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){var b=m.field.canonicalString();throw new re(z.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+b+"' (used as the orderBy) does not exist.")}h.push(y)}}return new nd(h,f)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Cu(t.firestore);return function(o,a,u,c,f,h){var p=o.explicitOrderBy;if(f.length>p.length)throw new re(z.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],m=0;m<f.length;m++){var y=f[m];if(p[m].field.isKeyField()){if(typeof y!="string")throw new re(z.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof y);if(!vI(o)&&y.indexOf("/")!==-1)throw new re(z.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+y+"' contains a slash.");var b=o.path.child(yt.fromString(y));if(!Pe.isDocumentKey(b))throw new re(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+b+"' is not because it contains an odd number of segments.");var w=new Pe(b);g.push(Cm(a,w))}else{var T=z2(u,c,y);g.push(T)}}return new nd(g,h)}(t._query,t.firestore._databaseId,i,e,n,r)}function nU(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new re(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vI(e)&&n.indexOf("/")!==-1)throw new re(z.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(yt.fromString(n));if(!Pe.isDocumentKey(r))throw new re(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Cm(t,new Pe(r))}if(n instanceof Jt)return Cm(t,n._key);throw new re(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ey(n)+".")}function rU(t,e){if(!Array.isArray(t)||t.length===0)throw new re(z.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new re(z.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function iU(t,e,n){if(!n.isEqual(e))throw new re(z.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hS=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),mu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Re()}},t.prototype.convertObject=function(e,n){var r=this,i={};return gu(e.fields,function(o,a){i[o]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new ny(pn(e.latitude),pn(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=EL(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jh(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Fs(e);return new Fr(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=yt.fromString(e);je(mF(r));var i=new Zm(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return i.isEqual(n)||dn("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var uee=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return be(e,t),e.prototype.convertBytes=function(n){return new Iu(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Jt(this.firestore,null,r)},e}(hS),cee=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cu(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=Ys(e,this._firestore),o=sy(i.converter,n,r),a=ry(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ar.none())),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,u=Ys(e,this._firestore);return a=typeof(n=Qe(n))=="string"||n instanceof To?uS(this._dataReader,"WriteBatch.update",u._key,n,r,i):aS(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(a.toMutation(u._key,ar.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Ys(e,this._firestore);return this._mutations=this._mutations.concat(new ad(n._key,ar.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new re(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){if((t=Qe(t)).firestore!==e)throw new re(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ku=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return be(e,t),e.prototype.convertBytes=function(n){return new Iu(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Jt(this.firestore,null,r)},e}(hS);function oU(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=_t(t,Jt);var o=_t(t.firestore,cn),a=Cu(o);return wd(o,[(typeof(e=Qe(e))=="string"||e instanceof To?uS(a,"updateDoc",t._key,e,n,r):aS(a,"updateDoc",t._key,e)).toMutation(t._key,ar.exists(!0))])}function sU(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Qe(t);var a={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||xl(i[u])||(a=i[u],u++);var c,f,h,p={includeMetadataChanges:a.includeMetadataChanges};if(xl(i[u])){var g=i[u];i[u]=(e=g.next)===null||e===void 0?void 0:e.bind(g),i[u+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[u+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(t instanceof Jt)f=_t(t.firestore,cn),h=ol(t._key.path),c={next:function(b){i[u]&&i[u](dS(f,t,b))},error:i[u+1],complete:i[u+2]};else{var m=_t(t,Br);f=_t(m.firestore,cn),h=m._query;var y=new ku(f);c={next:function(b){i[u]&&i[u](new Ks(f,y,m,b))},error:i[u+1],complete:i[u+2]},Q2(t._query)}return function(b,w,T,A){var k=this,N=new Qm(A),P=new zI(w,N,T);return b.asyncQueue.enqueueAndForget(function(){return F(k,void 0,void 0,function(){var D;return L(this,function($){switch($.label){case 0:return D=HI,[4,Al(b)];case 1:return[2,D.apply(void 0,[$.sent(),P])]}})})}),function(){N.Wo(),b.asyncQueue.enqueueAndForget(function(){return F(k,void 0,void 0,function(){var D;return L(this,function($){switch($.label){case 0:return D=$I,[4,Al(b)];case 1:return[2,D.apply(void 0,[$.sent(),P])]}})})})}}(Un(f),h,p,c)}function wd(t,e){return function(n,r){var i=this,o=new lr;return n.asyncQueue.enqueueAndForget(function(){return F(i,void 0,void 0,function(){var a;return L(this,function(u){switch(u.label){case 0:return a=wZ,[4,rS(n)];case 1:return[2,a.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(Un(t),e)}function dS(t,e,n){var r=n.docs.get(e._key),i=new ku(t);return new ts(t,i,e._key,r,new xu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lee=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return be(e,t),e.prototype.get=function(n){var r=this,i=Ys(n,this._firestore),o=new ku(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new ts(r._firestore,o,i._key,a._document,new xu(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Cu(e)}return t.prototype.get=function(e){var n=this,r=Ys(e,this._firestore),i=new uee(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return Re();var a=o[0];if(a.isFoundDocument())return new yd(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new yd(n._firestore,i,r._key,null,r.converter);throw Re()})},t.prototype.set=function(e,n,r){var i=Ys(e,this._firestore),o=sy(i.converter,n,r),a=ry(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,u=Ys(e,this._firestore);return a=typeof(n=Qe(n))=="string"||n instanceof To?uS(this._dataReader,"Transaction.update",u._key,n,r,i):aS(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,a),this},t.prototype.delete=function(e){var n=Ys(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(){if(typeof Uint8Array=="undefined")throw new re(z.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function uU(){if(typeof atob=="undefined")throw new re(z.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var cU=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return uU(),new t(Iu.fromBase64String(e))},t.fromUint8Array=function(e){return aU(),new t(Iu.fromUint8Array(e))},t.prototype.toBase64=function(){return uU(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return aU(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),fee=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){V2(r=_t(r,cn));var o=Un(r),a=r._freezeSettings(),u=new eS;return B2(o,u,new b2(u,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){V2(n=_t(n,cn));var r=Un(n),i=n._freezeSettings(),o=new eS;return B2(r,o,new FZ(o,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new re(z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new lr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return F(r,void 0,void 0,function(){var o;return L(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(u){return F(this,void 0,void 0,function(){var c;return L(this,function(f){switch(f.label){case 0:return dl.yt()?(c=u+"main",[4,dl.delete(c)]):[2,Promise.resolve()];case 1:return f.sent(),[2]}})})}(NI(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),pS=function(){function t(e,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof Zm||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||Qh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,o,a,u){var c;u===void 0&&(u={});var f=(i=_t(i,md))._getSettings();if(f.host!=="firestore.googleapis.com"&&f.host!==o&&Qh("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:o+":"+a,ssl:!1})),u.mockUserToken){var h,p;if(typeof u.mockUserToken=="string")h=u.mockUserToken,p=Xn.MOCK_USER;else{h=oT(u.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var g=u.mockUserToken.sub||u.mockUserToken.user_id;if(!g)throw new re(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xn(g)}i._credentials=new HZ(new k2(h,p))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return F(n,void 0,void 0,function(){var r,i;return L(this,function(o){switch(o.label){case 0:return[4,I2(e)];case 1:return r=o.sent(),[4,S2(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(a){var u=ye(a);return u.Or.delete(0),gd(u)}(i))]}})})})}(Un(_t(this._delegate,cn)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return F(n,void 0,void 0,function(){var r,i;return L(this,function(o){switch(o.label){case 0:return[4,I2(e)];case 1:return r=o.sent(),[4,S2(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return F(this,void 0,void 0,function(){var u;return L(this,function(c){switch(c.label){case 0:return(u=ye(a)).Or.add(0),[4,El(u)];case 1:return c.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(Un(_t(this._delegate,cn)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&O2("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new lr;return e.asyncQueue.enqueueAndForget(function(){return F(n,void 0,void 0,function(){var i;return L(this,function(o){switch(o.label){case 0:return i=SZ,[4,rS(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Un(_t(this._delegate,cn)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,o){var a=this,u=new Qm(o);return i.asyncQueue.enqueueAndForget(function(){return F(a,void 0,void 0,function(){var c;return L(this,function(f){switch(f.label){case 0:return c=function(h,p){ye(h).Gr.add(p),p.next()},[4,Al(i)];case 1:return[2,c.apply(void 0,[f.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return F(a,void 0,void 0,function(){var c;return L(this,function(f){switch(f.label){case 0:return c=function(h,p){ye(h).Gr.delete(p)},[4,Al(i)];case 1:return[2,c.apply(void 0,[f.sent(),u])]}})})})}}(Un(n=_t(n,cn)),xl(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new re(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new cy(this,L2(this._delegate,e))}catch(n){throw Er(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Ru(this,ty(this._delegate,e))}catch(n){throw Er(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Id(this,function(n,r){if(n=_t(n,md),iS("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new re(z.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Br(n,null,function(i){return new Qo(yt.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw Er(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(o,a){var u=this,c=new lr;return o.asyncQueue.enqueueAndForget(function(){return F(u,void 0,void 0,function(){var f;return L(this,function(h){switch(h.label){case 0:return[4,function(p){return Jm(p).then(function(g){return g.datastore})}(o)];case 1:return f=h.sent(),new BZ(o.asyncQueue,f,a,c).run(),[2]}})})}),c.promise}(Un(r),function(o){return i(new lee(r,o))})}(this._delegate,function(r){return e(new lU(n,r))})},t.prototype.batch=function(){var e=this;return Un(this._delegate),new fU(new cee(this._delegate,function(n){return wd(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new re(z.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new re(z.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),ay=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return be(e,t),e.prototype.convertBytes=function(n){return new cU(new Iu(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Ru.eu(r,this.firestore,null)},e}(hS);function hee(t){var e;e=t,Wi.setLogLevel(e)}var lU=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ay(e)}return t.prototype.get=function(e){var n=this,r=Ou(e);return this._delegate.get(r).then(function(i){return new Ed(n._firestore,new ts(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=Ou(e);return r?(oS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=Ou(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Je([u,n,r],o)),this},t.prototype.delete=function(e){var n=Ou(e);return this._delegate.delete(n),this},t}(),fU=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=Ou(e);return r?(oS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=Ou(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Je([u,n,r],o)),this},t.prototype.delete=function(e){var n=Ou(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),uy=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new _d(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Td(this._firestore,r),n!=null?n:{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new ay(e),n),i.set(n,o)),o},t}();uy.su=new WeakMap;var Ru=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ay(e)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new re(z.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Jt(n._delegate,r,new Pe(e)))},t.eu=function(e,n,r){return new t(n,new Jt(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new cy(this.firestore,L2(this._delegate,e))}catch(n){throw Er(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Qe(e))instanceof Jt&&F2(this._delegate,e)},t.prototype.set=function(e,n){n=oS("DocumentReference.set",n);try{return function(r,i,o){r=_t(r,Jt);var a=_t(r.firestore,cn),u=sy(r.converter,i,o);return wd(a,[ry(Cu(a),"setDoc",r._key,u,r.converter!==null,o).toMutation(r._key,ar.none())])}(this._delegate,e,n)}catch(r){throw Er(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?oU(this._delegate,e):oU.apply(void 0,Je([this._delegate,e,n],r))}catch(o){throw Er(o,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return wd(_t((e=this._delegate).firestore,cn),[new ad(e._key,ar.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=hU(n),o=dU(n,function(a){return new Ed(e.firestore,new ts(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return sU(this._delegate,i,o)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=_t(r,Jt);var i=_t(r.firestore,cn),o=Un(i),a=new ku(i);return function(u,c){var f=this,h=new lr;return u.asyncQueue.enqueueAndForget(function(){return F(f,void 0,void 0,function(){var p;return L(this,function(g){switch(g.label){case 0:return p=function(m,y,b){return F(this,void 0,void 0,function(){var w,T;return L(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,function(k,N){var P=ye(k);return P.persistence.runTransaction("read document","readonly",function(D){return P.Mn.mn(D,N)})}(m,y)];case 1:return(T=A.sent()).isFoundDocument()?b.resolve(T):T.isNoDocument()?b.resolve(null):b.reject(new re(z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return w=A.sent(),T=Sl(w,"Failed to get document '"+y+" from cache"),b.reject(T),[3,3];case 3:return[2]}})})},[4,nS(u)];case 1:return[2,p.apply(void 0,[g.sent(),c,h])]}})})}),h.promise}(o,r._key).then(function(u){return new ts(i,a,r._key,u,new xu(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=_t(r,Jt);var i=_t(r.firestore,cn);return C2(Un(i),r._key,{source:"server"}).then(function(o){return dS(i,r,o)})}(this._delegate):function(r){r=_t(r,Jt);var i=_t(r.firestore,cn);return C2(Un(i),r._key).then(function(o){return dS(i,r,o)})}(this._delegate)).then(function(r){return new Ed(n.firestore,new ts(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(uy.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Er(t,e,n){return t.message=t.message.replace(e,n),t}function hU(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!xl(r))return r}return{}}function dU(t,e){var n,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(n=(i=xl(t[0])?t[0]:xl(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Ed=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ru(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return X2(this._delegate,e._delegate)},t}(),Td=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return be(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Ed),Id=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ay(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Gs(this._delegate,function(i,o,a){var u=o,c=oy("where",i);return new see(c,u,a)}(e,n,r)))}catch(i){throw Er(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Gs(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,a=oy("orderBy",r);return new aee(a,o)}(e,n)))}catch(r){throw Er(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Gs(this._delegate,function(n){return D2("limit",n),new J2("limit",n,"F")}(e)))}catch(n){throw Er(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Gs(this._delegate,function(n){return D2("limitToLast",n),new J2("limitToLast",n,"L")}(e)))}catch(n){throw Er(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Z2("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw Er(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Z2("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw Er(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new eU("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw Er(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new eU("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw Er(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return U2(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=_t(r,Br);var i=_t(r.firestore,cn),o=Un(i),a=new ku(i);return function(u,c){var f=this,h=new lr;return u.asyncQueue.enqueueAndForget(function(){return F(f,void 0,void 0,function(){var p;return L(this,function(g){switch(g.label){case 0:return p=function(m,y,b){return F(this,void 0,void 0,function(){var w,T,A,k,N;return L(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,zm(m,y,!0)];case 1:return N=P.sent(),w=new d2(y,N.Bn),T=w._o(N.documents),A=w.applyChanges(T,!1),b.resolve(A.snapshot),[3,3];case 2:return k=P.sent(),N=Sl(k,"Failed to execute query '"+y+" against cache"),b.reject(N),[3,3];case 3:return[2]}})})},[4,nS(u)];case 1:return[2,p.apply(void 0,[g.sent(),c,h])]}})})}),h.promise}(o,r._query).then(function(u){return new Ks(i,a,r,u)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=_t(r,Br);var i=_t(r.firestore,cn),o=Un(i),a=new ku(i);return A2(o,r._query,{source:"server"}).then(function(u){return new Ks(i,a,r,u)})}(this._delegate):function(r){r=_t(r,Br);var i=_t(r.firestore,cn),o=Un(i),a=new ku(i);return Q2(r._query),A2(o,r._query).then(function(u){return new Ks(i,a,r,u)})}(this._delegate)).then(function(r){return new gS(n.firestore,new Ks(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=hU(n),o=dU(n,function(a){return new gS(e.firestore,new Ks(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return sU(this._delegate,i,o)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(uy.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),dee=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Td(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),gS=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new Id(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Td(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new dee(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new Td(r._firestore,i))})},t.prototype.isEqual=function(e){return X2(this._delegate,e._delegate)},t}(),cy=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return be(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ru(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Ru(this.firestore,n===void 0?ty(this._delegate):ty(this._delegate,n))}catch(r){throw Er(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,o){var a=_t(i.firestore,cn),u=ty(i),c=sy(i.converter,o);return wd(a,[ry(Cu(i.firestore),"addDoc",u._key,c,i.converter!==null,{}).toMutation(u._key,ar.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new Ru(r.firestore,i)})},e.prototype.isEqual=function(n){return F2(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(uy.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(Id);function Ou(t){return _t(t,Jt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pee=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(To.bind.apply(To,Je([void 0],e)))}return t.documentId=function(){return new t(zi.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Qe(e))instanceof To&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),gee=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new ZZ("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new sS("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new eee("arrayUnion",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new tee("arrayRemove",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new nee("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vee(t){return function(e,n){var r=Un(e=_t(e,cn)),i=new GZ;return function(o,a,u,c){var f=this,h=function(p,g){return function(m,y){return new UZ(m,y)}(function(m,y){if(m instanceof Uint8Array)return w2(m,y);if(m instanceof ArrayBuffer)return w2(new Uint8Array(m),y);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof p=="string"?new TextEncoder().encode(p):p),g)}(u,pd(a));o.asyncQueue.enqueueAndForget(function(){return F(f,void 0,void 0,function(){var p;return L(this,function(g){switch(g.label){case 0:return p=LZ,[4,rS(o)];case 1:return p.apply(void 0,[g.sent(),h,c]),[2]}})})})}(r,e._databaseId,n,i),i}(this._delegate,t)}function mee(t){var e,n,r=this;return(e=this._delegate,n=t,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return F(a,void 0,void 0,function(){var u;return L(this,function(c){switch(c.label){case 0:return u=function(f,h){var p=ye(f);return p.persistence.runTransaction("Get named query","readonly",function(g){return p.Ke.getNamedQuery(g,h)})},[4,nS(i)];case 1:return[2,u.apply(void 0,[c.sent(),o])]}})})})}(Un(e=_t(e,cn)),n).then(function(i){return i?new Br(e,null,i.query):null})).then(function(i){return i?new Id(r,i):null})}var yee={Firestore:pS,GeoPoint:ny,Timestamp:Fr,Blob:cU,Transaction:lU,WriteBatch:fU,DocumentReference:Ru,DocumentSnapshot:Ed,Query:Id,QueryDocumentSnapshot:Td,QuerySnapshot:gS,CollectionReference:cy,FieldPath:pee,FieldValue:gee,setLogLevel:hee,CACHE_SIZE_UNLIMITED:YZ};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(t){(function(e,n){e.INTERNAL.registerComponent(new ir("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},yee)))})(t,function(e,n){return new pS(e,new cn(e,n),new fee)}),t.registerVersion("@firebase/firestore","2.4.0")}_ee(ke);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,l,d){s!=Array.prototype&&s!=Object.prototype&&(s[l]=d.value)};function n(s){s=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,s];for(var l=0;l<s.length;++l){var d=s[l];if(d&&d.Math==Math)return d}return globalThis}var r=n(this);function i(s,l){if(l){var d=r;s=s.split(".");for(var v=0;v<s.length-1;v++){var _=s[v];_ in d||(d[_]={}),d=d[_]}s=s[s.length-1],v=d[s],l=l(v),l!=v&&l!=null&&e(d,s,{configurable:!0,writable:!0,value:l})}}function o(s){var l=0;return function(){return l<s.length?{done:!1,value:s[l++]}:{done:!0}}}function a(s){var l=typeof Symbol!="undefined"&&Symbol.iterator&&s[Symbol.iterator];return l?l.call(s):{next:o(s)}}i("Promise",function(s){function l(I){this.b=0,this.c=void 0,this.a=[];var O=this.f();try{I(O.resolve,O.reject)}catch(G){O.reject(G)}}function d(){this.a=null}function v(I){return I instanceof l?I:new l(function(O){O(I)})}if(s)return s;d.prototype.b=function(I){if(this.a==null){this.a=[];var O=this;this.c(function(){O.g()})}this.a.push(I)};var _=r.setTimeout;d.prototype.c=function(I){_(I,0)},d.prototype.g=function(){for(;this.a&&this.a.length;){var I=this.a;this.a=[];for(var O=0;O<I.length;++O){var G=I[O];I[O]=null;try{G()}catch(ne){this.f(ne)}}}this.a=null},d.prototype.f=function(I){this.c(function(){throw I})},l.prototype.f=function(){function I(ne){return function(qe){G||(G=!0,ne.call(O,qe))}}var O=this,G=!1;return{resolve:I(this.m),reject:I(this.g)}},l.prototype.m=function(I){if(I===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(I instanceof l)this.s(I);else{e:switch(typeof I){case"object":var O=I!=null;break e;case"function":O=!0;break e;default:O=!1}O?this.v(I):this.h(I)}},l.prototype.v=function(I){var O=void 0;try{O=I.then}catch(G){this.g(G);return}typeof O=="function"?this.u(O,I):this.h(I)},l.prototype.g=function(I){this.i(2,I)},l.prototype.h=function(I){this.i(1,I)},l.prototype.i=function(I,O){if(this.b!=0)throw Error("Cannot settle("+I+", "+O+"): Promise already settled in state"+this.b);this.b=I,this.c=O,this.l()},l.prototype.l=function(){if(this.a!=null){for(var I=0;I<this.a.length;++I)E.b(this.a[I]);this.a=null}};var E=new d;return l.prototype.s=function(I){var O=this.f();I.Ra(O.resolve,O.reject)},l.prototype.u=function(I,O){var G=this.f();try{I.call(O,G.resolve,G.reject)}catch(ne){G.reject(ne)}},l.prototype.then=function(I,O){function G(mt,On){return typeof mt=="function"?function(Fo){try{ne(mt(Fo))}catch($0){qe($0)}}:On}var ne,qe,xt=new l(function(mt,On){ne=mt,qe=On});return this.Ra(G(I,ne),G(O,qe)),xt},l.prototype.catch=function(I){return this.then(void 0,I)},l.prototype.Ra=function(I,O){function G(){switch(ne.b){case 1:I(ne.c);break;case 2:O(ne.c);break;default:throw Error("Unexpected state: "+ne.b)}}var ne=this;this.a==null?E.b(G):this.a.push(G)},l.resolve=v,l.reject=function(I){return new l(function(O,G){G(I)})},l.race=function(I){return new l(function(O,G){for(var ne=a(I),qe=ne.next();!qe.done;qe=ne.next())v(qe.value).Ra(O,G)})},l.all=function(I){var O=a(I),G=O.next();return G.done?v([]):new l(function(ne,qe){function xt(Fo){return function($0){mt[Fo]=$0,On--,On==0&&ne(mt)}}var mt=[],On=0;do mt.push(void 0),On++,v(G.value).Ra(xt(mt.length-1),qe),G=O.next();while(!G.done)})},l});var u=u||{},c=this||self,f=/^[\w+/_-]+[=]{0,2}$/,h=null;function p(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&f.test(s)?s:""}function g(){}function m(s){var l=typeof s;return l!="object"?l:s?Array.isArray(s)?"array":l:"null"}function y(s){var l=m(s);return l=="array"||l=="object"&&typeof s.length=="number"}function b(s){return m(s)=="function"}function w(s){var l=typeof s;return l=="object"&&s!=null||l=="function"}function T(s){return Object.prototype.hasOwnProperty.call(s,A)&&s[A]||(s[A]=++k)}var A="closure_uid_"+(1e9*Math.random()>>>0),k=0;function N(s,l,d){return s.call.apply(s.bind,arguments)}function P(s,l,d){if(!s)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var _=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_,v),s.apply(l,_)}}return function(){return s.apply(l,arguments)}}function D(s,l,d){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?D=N:D=P,D.apply(null,arguments)}function $(s,l){var d=Array.prototype.slice.call(arguments,1);return function(){var v=d.slice();return v.push.apply(v,arguments),s.apply(this,v)}}function B(s,l){function d(){}d.prototype=l.prototype,s.bb=l.prototype,s.prototype=new d,s.prototype.constructor=s}function Y(s){return s}function R(s,l,d){this.code=we+s,this.message=l||J[s]||"",this.a=d||null}B(R,Error),R.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},R.prototype.toJSON=function(){return this.w()};function de(s){var l=s&&s.code;return l?new R(l.substring(we.length),s.message,s.serverResponse):null}var we="auth/",J={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Te={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ve(s){for(var l in Te)if(Te[l].id===s)return s=Te[l],{firebaseEndpoint:s.Ua,secureTokenEndpoint:s.$a,identityPlatformEndpoint:s.Xa};return null}var H;H=ve("__EID__")?"__EID__":void 0;function W(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function Q(s){if(Error.captureStackTrace)Error.captureStackTrace(this,Q);else{var l=Error().stack;l&&(this.stack=l)}s&&(this.message=String(s))}B(Q,Error),Q.prototype.name="CustomError";function oe(s,l){s=s.split("%s");for(var d="",v=s.length-1,_=0;_<v;_++)d+=s[_]+(_<l.length?l[_]:"%s");Q.call(this,d+s[v])}B(oe,Q),oe.prototype.name="AssertionError";function Ne(s,l){throw new oe("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function ze(s,l){this.c=s,this.f=l,this.b=0,this.a=null}ze.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};function Fe(s,l){s.f(l),100>s.b&&(s.b++,l.next=s.a,s.a=l)}function ot(){this.b=this.a=null}var Wt=new ze(function(){return new Ee},function(s){s.reset()});ot.prototype.add=function(s,l){var d=Wt.get();d.set(s,l),this.b?this.b.next=d:this.a=d,this.b=d};function X(){var s=he,l=null;return s.a&&(l=s.a,s.a=s.a.next,s.a||(s.b=null),l.next=null),l}function Ee(){this.next=this.b=this.a=null}Ee.prototype.set=function(s,l){this.a=s,this.b=l,this.next=null},Ee.prototype.reset=function(){this.next=this.b=this.a=null};var ge=Array.prototype.indexOf?function(s,l){return Array.prototype.indexOf.call(s,l,void 0)}:function(s,l){if(typeof s=="string")return typeof l!="string"||l.length!=1?-1:s.indexOf(l,0);for(var d=0;d<s.length;d++)if(d in s&&s[d]===l)return d;return-1},pe=Array.prototype.forEach?function(s,l,d){Array.prototype.forEach.call(s,l,d)}:function(s,l,d){for(var v=s.length,_=typeof s=="string"?s.split(""):s,E=0;E<v;E++)E in _&&l.call(d,_[E],E,s)};function ht(s,l){for(var d=typeof s=="string"?s.split(""):s,v=s.length-1;0<=v;--v)v in d&&l.call(void 0,d[v],v,s)}var $e=Array.prototype.filter?function(s,l){return Array.prototype.filter.call(s,l,void 0)}:function(s,l){for(var d=s.length,v=[],_=0,E=typeof s=="string"?s.split(""):s,I=0;I<d;I++)if(I in E){var O=E[I];l.call(void 0,O,I,s)&&(v[_++]=O)}return v},We=Array.prototype.map?function(s,l){return Array.prototype.map.call(s,l,void 0)}:function(s,l){for(var d=s.length,v=Array(d),_=typeof s=="string"?s.split(""):s,E=0;E<d;E++)E in _&&(v[E]=l.call(void 0,_[E],E,s));return v},Ke=Array.prototype.some?function(s,l){return Array.prototype.some.call(s,l,void 0)}:function(s,l){for(var d=s.length,v=typeof s=="string"?s.split(""):s,_=0;_<d;_++)if(_ in v&&l.call(void 0,v[_],_,s))return!0;return!1};function M(s){e:{for(var l=iq,d=s.length,v=typeof s=="string"?s.split(""):s,_=0;_<d;_++)if(_ in v&&l.call(void 0,v[_],_,s)){l=_;break e}l=-1}return 0>l?null:typeof s=="string"?s.charAt(l):s[l]}function U(s,l){return 0<=ge(s,l)}function K(s,l){l=ge(s,l);var d;return(d=0<=l)&&Array.prototype.splice.call(s,l,1),d}function Z(s,l){var d=0;ht(s,function(v,_){l.call(void 0,v,_,s)&&Array.prototype.splice.call(s,_,1).length==1&&d++})}function ee(s){return Array.prototype.concat.apply([],arguments)}function se(s){var l=s.length;if(0<l){for(var d=Array(l),v=0;v<l;v++)d[v]=s[v];return d}return[]}var me=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},le=/&/g,te=/</g,ie=/>/g,Be=/"/g,Ce=/'/g,Oe=/\x00/g,Ve=/[\x00&<>"']/;function Ie(s,l){return s.indexOf(l)!=-1}function Ct(s,l){return s<l?-1:s>l?1:0}var dt;e:{var er=c.navigator;if(er){var ni=er.userAgent;if(ni){dt=ni;break e}}dt=""}function Pt(s){return Ie(dt,s)}function aa(s,l){for(var d in s)l.call(void 0,s[d],d,s)}function mn(s){for(var l in s)return!1;return!0}function Vr(s){var l={},d;for(d in s)l[d]=s[d];return l}var rn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lt(s,l){for(var d,v,_=1;_<arguments.length;_++){v=arguments[_];for(d in v)s[d]=v[d];for(var E=0;E<rn.length;E++)d=rn[E],Object.prototype.hasOwnProperty.call(v,d)&&(s[d]=v[d])}}function fs(s,l){e:{try{var d=s&&s.ownerDocument,v=d&&(d.defaultView||d.parentWindow);if(v=v||c,v.Element&&v.Location){var _=v;break e}}catch{}_=null}if(_&&typeof _[l]!="undefined"&&(!s||!(s instanceof _[l])&&(s instanceof _.Location||s instanceof _.Element))){if(w(s))try{var E=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch{E="<object could not be stringified>"}else E=s===void 0?"undefined":s===null?"null":typeof s;Ne("Argument is not a %s (or a non-Element, non-Location mock); got: %s",l,E)}}function ri(s,l){this.a=s===hs&&l||"",this.b=up}ri.prototype.ta=!0,ri.prototype.sa=function(){return this.a},ri.prototype.toString=function(){return"Const{"+this.a+"}"};function ua(s){return s instanceof ri&&s.constructor===ri&&s.b===up?s.a:(Ne("expected object of type Const, got '"+s+"'"),"type_error:Const")}var up={},hs={},Ju;function ca(){if(Ju===void 0){var s=null,l=c.trustedTypes;if(l&&l.createPolicy){try{s=l.createPolicy("goog#html",{createHTML:Y,createScript:Y,createScriptURL:Y})}catch(d){c.console&&c.console.error(d.message)}Ju=s}else Ju=s}return Ju}function xi(s,l){this.a=l===Bn?s:""}xi.prototype.ta=!0,xi.prototype.sa=function(){return this.a.toString()},xi.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function la(s){return s instanceof xi&&s.constructor===xi?s.a:(Ne("expected object of type TrustedResourceUrl, got '"+s+"' of type "+m(s)),"type_error:TrustedResourceUrl")}function Ql(s,l){var d=ua(s);if(!__.test(d))throw Error("Invalid TrustedResourceUrl format: "+d);return s=d.replace(y_,function(v,_){if(!Object.prototype.hasOwnProperty.call(l,_))throw Error('Found marker, "'+_+'", in format string, "'+d+'", but no valid label mapping found in args: '+JSON.stringify(l));return v=l[_],v instanceof ri?ua(v):encodeURIComponent(String(v))}),kn(s)}var y_=/%{(\w+)}/g,__=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Bn={};function kn(s){var l=ca();return s=l?l.createScriptURL(s):s,new xi(s,Bn)}function vt(s,l){this.a=l===fa?s:""}vt.prototype.ta=!0,vt.prototype.sa=function(){return this.a.toString()},vt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Zu(s){return s instanceof vt&&s.constructor===vt?s.a:(Ne("expected object of type SafeUrl, got '"+s+"' of type "+m(s)),"type_error:SafeUrl")}var b_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,w_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Jl=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function cp(s){if(s instanceof vt)return s;if(s=typeof s=="object"&&s.ta?s.sa():String(s),Jl.test(s))s=new vt(s,fa);else{s=String(s),s=s.replace(/(%0A|%0D)/g,"");var l=s.match(w_);s=l&&b_.test(l[1])?new vt(s,fa):null}return s}function Rn(s){return s instanceof vt?s:(s=typeof s=="object"&&s.ta?s.sa():String(s),Jl.test(s)||(s="about:invalid#zClosurez"),new vt(s,fa))}var fa={},lp=new vt("about:invalid#zClosurez",fa);function ds(s,l,d){this.a=d===fp?s:""}ds.prototype.ta=!0,ds.prototype.sa=function(){return this.a.toString()},ds.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function E_(s){return s instanceof ds&&s.constructor===ds?s.a:(Ne("expected object of type SafeHtml, got '"+s+"' of type "+m(s)),"type_error:SafeHtml")}var fp={};function T_(s,l){fs(s,"HTMLScriptElement"),s.src=la(l),(l=s.ownerDocument&&s.ownerDocument.defaultView)&&l!=c?l=p(l.document):(h===null&&(h=p(c.document)),l=h),l&&s.setAttribute("nonce",l)}function hp(s,l,d,v){return s=s instanceof vt?s:Rn(s),l=l||c,d=d instanceof ri?ua(d):d||"",l.open(Zu(s),d,v,void 0)}function dp(s,l){for(var d=s.split("%s"),v="",_=Array.prototype.slice.call(arguments,1);_.length&&1<d.length;)v+=d.shift()+_.shift();return v+d.join("%s")}function Zl(s){return Ve.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(le,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(te,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(ie,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(Be,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(Ce,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(Oe,"&#0;"))),s}function ef(s){return ef[" "](s),s}ef[" "]=g;function ha(s,l){var d=S_;return Object.prototype.hasOwnProperty.call(d,s)?d[s]:d[s]=l(s)}var I_=Pt("Opera"),yn=Pt("Trident")||Pt("MSIE"),tf=Pt("Edge"),pp=tf||yn,gp=Pt("Gecko")&&!(Ie(dt.toLowerCase(),"webkit")&&!Pt("Edge"))&&!(Pt("Trident")||Pt("MSIE"))&&!Pt("Edge"),eo=Ie(dt.toLowerCase(),"webkit")&&!Pt("Edge");function vp(){var s=c.document;return s?s.documentMode:void 0}var ec;e:{var nf="",rf=function(){var s=dt;if(gp)return/rv:([^\);]+)(\)|;)/.exec(s);if(tf)return/Edge\/([\d\.]+)/.exec(s);if(yn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(eo)return/WebKit\/(\S+)/.exec(s);if(I_)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(rf&&(nf=rf?rf[1]:""),yn){var of=vp();if(of!=null&&of>parseFloat(nf)){ec=String(of);break e}}ec=nf}var S_={};function mp(s){return ha(s,function(){for(var l=0,d=me(String(ec)).split("."),v=me(String(s)).split("."),_=Math.max(d.length,v.length),E=0;l==0&&E<_;E++){var I=d[E]||"",O=v[E]||"";do{if(I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],O=/(\d*)(\D*)(.*)/.exec(O)||["","","",""],I[0].length==0&&O[0].length==0)break;l=Ct(I[1].length==0?0:parseInt(I[1],10),O[1].length==0?0:parseInt(O[1],10))||Ct(I[2].length==0,O[2].length==0)||Ct(I[2],O[2]),I=I[3],O=O[3]}while(l==0)}return 0<=l})}var da;if(c.document&&yn){var yp=vp();da=yp||parseInt(ec,10)||void 0}else da=void 0;var to=da;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var C_=!yn||9<=Number(to);function pa(s){var l=document;return typeof s=="string"?l.getElementById(s):s}function sf(s,l){aa(l,function(d,v){d&&typeof d=="object"&&d.ta&&(d=d.sa()),v=="style"?s.style.cssText=d:v=="class"?s.className=d:v=="for"?s.htmlFor=d:_p.hasOwnProperty(v)?s.setAttribute(_p[v],d):v.lastIndexOf("aria-",0)==0||v.lastIndexOf("data-",0)==0?s.setAttribute(v,d):s[v]=d})}var _p={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function A_(s,l,d){var v=arguments,_=document,E=String(v[0]),I=v[1];if(!C_&&I&&(I.name||I.type)){if(E=["<",E],I.name&&E.push(' name="',Zl(I.name),'"'),I.type){E.push(' type="',Zl(I.type),'"');var O={};Lt(O,I),delete O.type,I=O}E.push(">"),E=E.join("")}return E=ga(_,E),I&&(typeof I=="string"?E.className=I:Array.isArray(I)?E.className=I.join(" "):sf(E,I)),2<v.length&&bp(_,E,v),E}function bp(s,l,d){function v(O){O&&l.appendChild(typeof O=="string"?s.createTextNode(O):O)}for(var _=2;_<d.length;_++){var E=d[_];if(!y(E)||w(E)&&0<E.nodeType)v(E);else{e:{if(E&&typeof E.length=="number"){if(w(E)){var I=typeof E.item=="function"||typeof E.item=="string";break e}if(b(E)){I=typeof E.item=="function";break e}}I=!1}pe(I?se(E):E,v)}}}function ga(s,l){return l=String(l),s.contentType==="application/xhtml+xml"&&(l=l.toLowerCase()),s.createElement(l)}function af(s){c.setTimeout(function(){throw s},0)}var C;function S(){var s=c.MessageChannel;if(typeof s=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!Pt("Presto")&&(s=function(){var _=ga(document,"IFRAME");_.style.display="none",document.documentElement.appendChild(_);var E=_.contentWindow;_=E.document,_.open(),_.close();var I="callImmediate"+Math.random(),O=E.location.protocol=="file:"?"*":E.location.protocol+"//"+E.location.host;_=D(function(G){(O=="*"||G.origin==O)&&G.data==I&&this.port1.onmessage()},this),E.addEventListener("message",_,!1),this.port1={},this.port2={postMessage:function(){E.postMessage(I,O)}}}),typeof s!="undefined"&&!Pt("Trident")&&!Pt("MSIE")){var l=new s,d={},v=d;return l.port1.onmessage=function(){if(d.next!==void 0){d=d.next;var _=d.Hb;d.Hb=null,_()}},function(_){v.next={Hb:_},v=v.next,l.port2.postMessage(0)}}return function(_){c.setTimeout(_,0)}}function x(s,l){V||j(),q||(V(),q=!0),he.add(s,l)}var V;function j(){if(c.Promise&&c.Promise.resolve){var s=c.Promise.resolve(void 0);V=function(){s.then(De)}}else V=function(){var l=De;!b(c.setImmediate)||c.Window&&c.Window.prototype&&!Pt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(C||(C=S()),C(l)):c.setImmediate(l)}}var q=!1,he=new ot;function De(){for(var s;s=X();){try{s.a.call(s.b)}catch(l){af(l)}Fe(Wt,s)}q=!1}function ce(s,l){if(this.a=st,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=g)try{var d=this;s.call(l,function(v){va(d,pt,v)},function(v){if(!(v instanceof tc))try{throw v instanceof Error?v:Error("Promise rejected.")}catch{}va(d,Dt,v)})}catch(v){va(this,Dt,v)}}var st=0,pt=2,Dt=3;function qt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}qt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var zt=new ze(function(){return new qt},function(s){s.reset()});function ln(s,l,d){var v=zt.get();return v.g=s,v.b=l,v.f=d,v}function _e(s){if(s instanceof ce)return s;var l=new ce(g);return va(l,pt,s),l}function At(s){return new ce(function(l,d){d(s)})}function uf(s,l,d){NA(s,l,d,null)||x($(l,s))}function Po(s){return new ce(function(l,d){var v=s.length,_=[];if(v)for(var E=function(ne,qe){v--,_[ne]=qe,v==0&&l(_)},I=function(ne){d(ne)},O=0,G;O<s.length;O++)G=s[O],uf(G,$(E,O),I);else l(_)})}function kA(s){return new ce(function(l){var d=s.length,v=[];if(d)for(var _=function(O,G,ne){d--,v[O]=G?{Qb:!0,value:ne}:{Qb:!1,reason:ne},d==0&&l(v)},E=0,I;E<s.length;E++)I=s[E],uf(I,$(_,E,!0),$(_,E,!1));else l(v)})}ce.prototype.then=function(s,l,d){return OA(this,b(s)?s:null,b(l)?l:null,d)},ce.prototype.$goog_Thenable=!0,t=ce.prototype,t.oa=function(s,l){return s=ln(s,s,l),s.c=!0,x_(this,s),this},t.o=function(s,l){return OA(this,null,s,l)},t.cancel=function(s){if(this.a==st){var l=new tc(s);x(function(){RA(this,l)},this)}};function RA(s,l){if(s.a==st)if(s.c){var d=s.c;if(d.b){for(var v=0,_=null,E=null,I=d.b;I&&(I.c||(v++,I.a==s&&(_=I),!(_&&1<v)));I=I.next)_||(E=I);_&&(d.a==st&&v==1?RA(d,l):(E?(v=E,v.next==d.f&&(d.f=v),v.next=v.next.next):DA(d),MA(d,_,Dt,l)))}s.c=null}else va(s,Dt,l)}function x_(s,l){s.b||s.a!=pt&&s.a!=Dt||PA(s),s.f?s.f.next=l:s.b=l,s.f=l}function OA(s,l,d,v){var _=ln(null,null,null);return _.a=new ce(function(E,I){_.g=l?function(O){try{var G=l.call(v,O);E(G)}catch(ne){I(ne)}}:E,_.b=d?function(O){try{var G=d.call(v,O);G===void 0&&O instanceof tc?I(O):E(G)}catch(ne){I(ne)}}:I}),_.a.c=s,x_(s,_),_.a}t.$c=function(s){this.a=st,va(this,pt,s)},t.ad=function(s){this.a=st,va(this,Dt,s)};function va(s,l,d){s.a==st&&(s===d&&(l=Dt,d=new TypeError("Promise cannot resolve to itself")),s.a=1,NA(d,s.$c,s.ad,s)||(s.i=d,s.a=l,s.c=null,PA(s),l!=Dt||d instanceof tc||Q4(s,d)))}function NA(s,l,d,v){if(s instanceof ce)return x_(s,ln(l||g,d||null,v)),!0;if(W(s))return s.then(l,d,v),!0;if(w(s))try{var _=s.then;if(b(_))return X4(s,_,l,d,v),!0}catch(E){return d.call(v,E),!0}return!1}function X4(s,l,d,v,_){function E(G){O||(O=!0,v.call(_,G))}function I(G){O||(O=!0,d.call(_,G))}var O=!1;try{l.call(s,I,E)}catch(G){E(G)}}function PA(s){s.h||(s.h=!0,x(s.gc,s))}function DA(s){var l=null;return s.b&&(l=s.b,s.b=l.next,l.next=null),s.b||(s.f=null),l}t.gc=function(){for(var s;s=DA(this);)MA(this,s,this.a,this.i);this.h=!1};function MA(s,l,d,v){if(d==Dt&&l.b&&!l.c)for(;s&&s.g;s=s.c)s.g=!1;if(l.a)l.a.c=null,LA(l,d,v);else try{l.c?l.g.call(l.f):LA(l,d,v)}catch(_){FA.call(null,_)}Fe(zt,l)}function LA(s,l,d){l==pt?s.g.call(s.f,d):s.b&&s.b.call(s.f,d)}function Q4(s,l){s.g=!0,x(function(){s.g&&FA.call(null,l)})}var FA=af;function tc(s){Q.call(this,s)}B(tc,Q),tc.prototype.name="cancel";function wp(){this.ya=this.ya,this.pa=this.pa}var J4=0,Z4={};wp.prototype.ya=!1;function UA(s){if(!s.ya&&(s.ya=!0,s.Da(),J4!=0)){var l=T(s);delete Z4[l]}}wp.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var e3=Object.freeze||function(s){return s},jA=!yn||9<=Number(to),t3=yn&&!mp("9"),n3=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,l=Object.defineProperty({},"passive",{get:function(){s=!0}});try{c.addEventListener("test",g,l),c.removeEventListener("test",g,l)}catch{}return s}();function xr(s,l){this.type=s,this.b=this.target=l,this.defaultPrevented=!1}xr.prototype.preventDefault=function(){this.defaultPrevented=!0};function ma(s,l){if(xr.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var d=this.type=s.type,v=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=l,l=s.relatedTarget){if(gp){e:{try{ef(l.nodeName);var _=!0;break e}catch{}_=!1}_||(l=null)}}else d=="mouseover"?l=s.fromElement:d=="mouseout"&&(l=s.toElement);this.relatedTarget=l,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:r3[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}B(ma,xr);var r3=e3({2:"touch",3:"pen",4:"mouse"});ma.prototype.preventDefault=function(){ma.bb.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,t3)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}},ma.prototype.g=function(){return this.a};var cf="closure_listenable_"+(1e6*Math.random()|0),i3=0;function o3(s,l,d,v,_){this.listener=s,this.proxy=null,this.src=l,this.type=d,this.capture=!!v,this.Wa=_,this.key=++i3,this.wa=this.Qa=!1}function Ep(s){s.wa=!0,s.listener=null,s.proxy=null,s.src=null,s.Wa=null}function Tp(s){this.src=s,this.a={},this.b=0}Tp.prototype.add=function(s,l,d,v,_){var E=s.toString();s=this.a[E],s||(s=this.a[E]=[],this.b++);var I=R_(s,l,v,_);return-1<I?(l=s[I],d||(l.Qa=!1)):(l=new o3(l,this.src,E,!!v,_),l.Qa=d,s.push(l)),l};function k_(s,l){var d=l.type;d in s.a&&K(s.a[d],l)&&(Ep(l),s.a[d].length==0&&(delete s.a[d],s.b--))}function R_(s,l,d,v){for(var _=0;_<s.length;++_){var E=s[_];if(!E.wa&&E.listener==l&&E.capture==!!d&&E.Wa==v)return _}return-1}var O_="closure_lm_"+(1e6*Math.random()|0),N_={};function ii(s,l,d,v,_){if(v&&v.once)P_(s,l,d,v,_);else if(Array.isArray(l))for(var E=0;E<l.length;E++)ii(s,l[E],d,v,_);else d=M_(d),s&&s[cf]?WA(s,l,d,w(v)?!!v.capture:!!v,_):BA(s,l,d,!1,v,_)}function BA(s,l,d,v,_,E){if(!l)throw Error("Invalid event type");var I=w(_)?!!_.capture:!!_,O=Ip(s);if(O||(s[O_]=O=new Tp(s)),d=O.add(l,d,v,I,E),!d.proxy)if(v=s3(),d.proxy=v,v.src=s,v.listener=d,s.addEventListener)n3||(_=I),_===void 0&&(_=!1),s.addEventListener(l.toString(),v,_);else if(s.attachEvent)s.attachEvent(qA(l.toString()),v);else if(s.addListener&&s.removeListener)s.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.")}function s3(){var s=a3,l=jA?function(d){return s.call(l.src,l.listener,d)}:function(d){if(d=s.call(l.src,l.listener,d),!d)return d};return l}function P_(s,l,d,v,_){if(Array.isArray(l))for(var E=0;E<l.length;E++)P_(s,l[E],d,v,_);else d=M_(d),s&&s[cf]?L_(s,l,d,w(v)?!!v.capture:!!v,_):BA(s,l,d,!0,v,_)}function qr(s,l,d,v,_){if(Array.isArray(l))for(var E=0;E<l.length;E++)qr(s,l[E],d,v,_);else v=w(v)?!!v.capture:!!v,d=M_(d),s&&s[cf]?(s=s.v,l=String(l).toString(),l in s.a&&(E=s.a[l],d=R_(E,d,v,_),-1<d&&(Ep(E[d]),Array.prototype.splice.call(E,d,1),E.length==0&&(delete s.a[l],s.b--)))):s&&(s=Ip(s))&&(l=s.a[l.toString()],s=-1,l&&(s=R_(l,d,v,_)),(d=-1<s?l[s]:null)&&VA(d))}function VA(s){if(typeof s!="number"&&s&&!s.wa){var l=s.src;if(l&&l[cf])k_(l.v,s);else{var d=s.type,v=s.proxy;l.removeEventListener?l.removeEventListener(d,v,s.capture):l.detachEvent?l.detachEvent(qA(d),v):l.addListener&&l.removeListener&&l.removeListener(v),(d=Ip(l))?(k_(d,s),d.b==0&&(d.src=null,l[O_]=null)):Ep(s)}}}function qA(s){return s in N_?N_[s]:N_[s]="on"+s}function HA(s,l,d,v){var _=!0;if((s=Ip(s))&&(l=s.a[l.toString()]))for(l=l.concat(),s=0;s<l.length;s++){var E=l[s];E&&E.capture==d&&!E.wa&&(E=$A(E,v),_=_&&E!==!1)}return _}function $A(s,l){var d=s.listener,v=s.Wa||s.src;return s.Qa&&VA(s),d.call(v,l)}function a3(s,l){if(s.wa)return!0;if(!jA){if(!l)e:{l=["window","event"];for(var d=c,v=0;v<l.length;v++)if(d=d[l[v]],d==null){l=null;break e}l=d}if(v=l,l=new ma(v,this),d=!0,!(0>v.keyCode||v.returnValue!=null)){e:{var _=!1;if(v.keyCode==0)try{v.keyCode=-1;break e}catch{_=!0}(_||v.returnValue==null)&&(v.returnValue=!0)}for(v=[],_=l.b;_;_=_.parentNode)v.push(_);for(s=s.type,_=v.length-1;0<=_;_--){l.b=v[_];var E=HA(v[_],s,!0,l);d=d&&E}for(_=0;_<v.length;_++)l.b=v[_],E=HA(v[_],s,!1,l),d=d&&E}return d}return $A(s,new ma(l,this))}function Ip(s){return s=s[O_],s instanceof Tp?s:null}var D_="__closure_events_fn_"+(1e9*Math.random()>>>0);function M_(s){return b(s)?s:(s[D_]||(s[D_]=function(l){return s.handleEvent(l)}),s[D_])}function pr(){wp.call(this),this.v=new Tp(this),this.bc=this,this.hb=null}B(pr,wp),pr.prototype[cf]=!0,pr.prototype.addEventListener=function(s,l,d,v){ii(this,s,l,d,v)},pr.prototype.removeEventListener=function(s,l,d,v){qr(this,s,l,d,v)},pr.prototype.dispatchEvent=function(s){var l,d=this.hb;if(d)for(l=[];d;d=d.hb)l.push(d);d=this.bc;var v=s.type||s;if(typeof s=="string")s=new xr(s,d);else if(s instanceof xr)s.target=s.target||d;else{var _=s;s=new xr(v,d),Lt(s,_)}if(_=!0,l)for(var E=l.length-1;0<=E;E--){var I=s.b=l[E];_=Sp(I,v,!0,s)&&_}if(I=s.b=d,_=Sp(I,v,!0,s)&&_,_=Sp(I,v,!1,s)&&_,l)for(E=0;E<l.length;E++)I=s.b=l[E],_=Sp(I,v,!1,s)&&_;return _},pr.prototype.Da=function(){if(pr.bb.Da.call(this),this.v){var s=this.v,l;for(l in s.a){for(var d=s.a[l],v=0;v<d.length;v++)Ep(d[v]);delete s.a[l],s.b--}}this.hb=null};function WA(s,l,d,v,_){s.v.add(String(l),d,!1,v,_)}function L_(s,l,d,v,_){s.v.add(String(l),d,!0,v,_)}function Sp(s,l,d,v){if(l=s.v.a[String(l)],!l)return!0;l=l.concat();for(var _=!0,E=0;E<l.length;++E){var I=l[E];if(I&&!I.wa&&I.capture==d){var O=I.listener,G=I.Wa||I.src;I.Qa&&k_(s.v,I),_=O.call(G,v)!==!1&&_}}return _&&!v.defaultPrevented}function F_(s,l,d){if(b(s))d&&(s=D(s,d));else if(s&&typeof s.handleEvent=="function")s=D(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(s,l||0)}function nc(s){var l=null;return new ce(function(d,v){l=F_(function(){d(void 0)},s),l==-1&&v(Error("Failed to schedule timer."))}).o(function(d){throw c.clearTimeout(l),d})}function zA(s){if(s.X&&typeof s.X=="function")return s.X();if(typeof s=="string")return s.split("");if(y(s)){for(var l=[],d=s.length,v=0;v<d;v++)l.push(s[v]);return l}l=[],d=0;for(v in s)l[d++]=s[v];return l}function KA(s){if(s.Y&&typeof s.Y=="function")return s.Y();if(!s.X||typeof s.X!="function"){if(y(s)||typeof s=="string"){var l=[];s=s.length;for(var d=0;d<s;d++)l.push(d);return l}l=[],d=0;for(var v in s)l[d++]=v;return l}}function u3(s,l){if(s.forEach&&typeof s.forEach=="function")s.forEach(l,void 0);else if(y(s)||typeof s=="string")pe(s,l,void 0);else for(var d=KA(s),v=zA(s),_=v.length,E=0;E<_;E++)l.call(void 0,v[E],d&&d[E],s)}function rc(s,l){this.b={},this.a=[],this.c=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var v=0;v<d;v+=2)this.set(arguments[v],arguments[v+1])}else if(s)if(s instanceof rc)for(d=s.Y(),v=0;v<d.length;v++)this.set(d[v],s.get(d[v]));else for(v in s)this.set(v,s[v])}t=rc.prototype,t.X=function(){U_(this);for(var s=[],l=0;l<this.a.length;l++)s.push(this.b[this.a[l]]);return s},t.Y=function(){return U_(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function U_(s){if(s.c!=s.a.length){for(var l=0,d=0;l<s.a.length;){var v=s.a[l];ya(s.b,v)&&(s.a[d++]=v),l++}s.a.length=d}if(s.c!=s.a.length){var _={};for(d=l=0;l<s.a.length;)v=s.a[l],ya(_,v)||(s.a[d++]=v,_[v]=1),l++;s.a.length=d}}t.get=function(s,l){return ya(this.b,s)?this.b[s]:l},t.set=function(s,l){ya(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=l},t.forEach=function(s,l){for(var d=this.Y(),v=0;v<d.length;v++){var _=d[v],E=this.get(_);s.call(l,E,_,this)}};function ya(s,l){return Object.prototype.hasOwnProperty.call(s,l)}var GA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function c3(s,l){if(s){s=s.split("&");for(var d=0;d<s.length;d++){var v=s[d].indexOf("="),_=null;if(0<=v){var E=s[d].substring(0,v);_=s[d].substring(v+1)}else E=s[d];l(E,_?decodeURIComponent(_.replace(/\+/g," ")):"")}}}function ps(s,l){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var d;s instanceof ps?(this.i=l!==void 0?l:s.i,lf(this,s.c),this.l=s.l,this.a=s.a,ff(this,s.g),this.f=s.f,j_(this,JA(s.b)),this.h=s.h):s&&(d=String(s).match(GA))?(this.i=!!l,lf(this,d[1]||"",!0),this.l=hf(d[2]||""),this.a=hf(d[3]||"",!0),ff(this,d[4]),this.f=hf(d[5]||"",!0),j_(this,d[6]||"",!0),this.h=hf(d[7]||"")):(this.i=!!l,this.b=new _a(null,this.i))}ps.prototype.toString=function(){var s=[],l=this.c;l&&s.push(df(l,YA,!0),":");var d=this.a;return(d||l=="file")&&(s.push("//"),(l=this.l)&&s.push(df(l,YA,!0),"@"),s.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.g,d!=null&&s.push(":",String(d))),(d=this.f)&&(this.a&&d.charAt(0)!="/"&&s.push("/"),s.push(df(d,d.charAt(0)=="/"?h3:f3,!0))),(d=this.b.toString())&&s.push("?",d),(d=this.h)&&s.push("#",df(d,p3)),s.join("")},ps.prototype.resolve=function(s){var l=new ps(this),d=!!s.c;d?lf(l,s.c):d=!!s.l,d?l.l=s.l:d=!!s.a,d?l.a=s.a:d=s.g!=null;var v=s.f;if(d)ff(l,s.g);else if(d=!!s.f){if(v.charAt(0)!="/")if(this.a&&!this.f)v="/"+v;else{var _=l.f.lastIndexOf("/");_!=-1&&(v=l.f.substr(0,_+1)+v)}if(_=v,_==".."||_==".")v="";else if(Ie(_,"./")||Ie(_,"/.")){v=_.lastIndexOf("/",0)==0,_=_.split("/");for(var E=[],I=0;I<_.length;){var O=_[I++];O=="."?v&&I==_.length&&E.push(""):O==".."?((1<E.length||E.length==1&&E[0]!="")&&E.pop(),v&&I==_.length&&E.push("")):(E.push(O),v=!0)}v=E.join("/")}else v=_}return d?l.f=v:d=s.b.toString()!=="",d?j_(l,JA(s.b)):d=!!s.h,d&&(l.h=s.h),l};function lf(s,l,d){s.c=d?hf(l,!0):l,s.c&&(s.c=s.c.replace(/:$/,""))}function ff(s,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);s.g=l}else s.g=null}function j_(s,l,d){l instanceof _a?(s.b=l,g3(s.b,s.i)):(d||(l=df(l,d3)),s.b=new _a(l,s.i))}function on(s,l,d){s.b.set(l,d)}function oi(s,l){return s.b.get(l)}function kr(s){return s instanceof ps?new ps(s):new ps(s,void 0)}function Cp(s,l,d,v){var _=new ps(null,void 0);return s&&lf(_,s),l&&(_.a=l),d&&ff(_,d),v&&(_.f=v),_}function hf(s,l){return s?l?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function df(s,l,d){return typeof s=="string"?(s=encodeURI(s).replace(l,l3),d&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function l3(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var YA=/[#\/\?@]/g,f3=/[#\?:]/g,h3=/[#\?]/g,d3=/[#\?@]/g,p3=/#/g;function _a(s,l){this.b=this.a=null,this.c=s||null,this.f=!!l}function gs(s){s.a||(s.a=new rc,s.b=0,s.c&&c3(s.c,function(l,d){s.add(decodeURIComponent(l.replace(/\+/g," ")),d)}))}function XA(s){var l=KA(s);if(typeof l=="undefined")throw Error("Keys are undefined");var d=new _a(null,void 0);s=zA(s);for(var v=0;v<l.length;v++){var _=l[v],E=s[v];Array.isArray(E)?QA(d,_,E):d.add(_,E)}return d}t=_a.prototype,t.add=function(s,l){gs(this),this.c=null,s=ic(this,s);var d=this.a.get(s);return d||this.a.set(s,d=[]),d.push(l),this.b+=1,this};function no(s,l){gs(s),l=ic(s,l),ya(s.a.b,l)&&(s.c=null,s.b-=s.a.get(l).length,s=s.a,ya(s.b,l)&&(delete s.b[l],s.c--,s.a.length>2*s.c&&U_(s)))}t.clear=function(){this.a=this.c=null,this.b=0};function B_(s,l){return gs(s),l=ic(s,l),ya(s.a.b,l)}t.forEach=function(s,l){gs(this),this.a.forEach(function(d,v){pe(d,function(_){s.call(l,_,v,this)},this)},this)},t.Y=function(){gs(this);for(var s=this.a.X(),l=this.a.Y(),d=[],v=0;v<l.length;v++)for(var _=s[v],E=0;E<_.length;E++)d.push(l[v]);return d},t.X=function(s){gs(this);var l=[];if(typeof s=="string")B_(this,s)&&(l=ee(l,this.a.get(ic(this,s))));else{s=this.a.X();for(var d=0;d<s.length;d++)l=ee(l,s[d])}return l},t.set=function(s,l){return gs(this),this.c=null,s=ic(this,s),B_(this,s)&&(this.b-=this.a.get(s).length),this.a.set(s,[l]),this.b+=1,this},t.get=function(s,l){return s?(s=this.X(s),0<s.length?String(s[0]):l):l};function QA(s,l,d){no(s,l),0<d.length&&(s.c=null,s.a.set(ic(s,l),se(d)),s.b+=d.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],l=this.a.Y(),d=0;d<l.length;d++){var v=l[d],_=encodeURIComponent(String(v));v=this.X(v);for(var E=0;E<v.length;E++){var I=_;v[E]!==""&&(I+="="+encodeURIComponent(String(v[E]))),s.push(I)}}return this.c=s.join("&")};function JA(s){var l=new _a;return l.c=s.c,s.a&&(l.a=new rc(s.a),l.b=s.b),l}function ic(s,l){return l=String(l),s.f&&(l=l.toLowerCase()),l}function g3(s,l){l&&!s.f&&(gs(s),s.c=null,s.a.forEach(function(d,v){var _=v.toLowerCase();v!=_&&(no(this,v),QA(this,_,d))},s)),s.f=l}function ZA(s){var l=[];return V_(new v3,s,l),l.join("")}function v3(){}function V_(s,l,d){if(l==null)d.push("null");else{if(typeof l=="object"){if(Array.isArray(l)){var v=l;l=v.length,d.push("[");for(var _="",E=0;E<l;E++)d.push(_),V_(s,v[E],d),_=",";d.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{d.push("{"),_="";for(v in l)Object.prototype.hasOwnProperty.call(l,v)&&(E=l[v],typeof E!="function"&&(d.push(_),tx(v,d),d.push(":"),V_(s,E,d),_=","));d.push("}");return}}switch(typeof l){case"string":tx(l,d);break;case"number":d.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":d.push(String(l));break;case"function":d.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var ex={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},m3=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function tx(s,l){l.push('"',s.replace(m3,function(d){var v=ex[d];return v||(v="\\u"+(d.charCodeAt(0)|65536).toString(16).substr(1),ex[d]=v),v}),'"')}function q_(){var s=Vn();return yn&&!!to&&to==11||/Edge\/\d+/.test(s)}function pf(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function nx(s,l){l=l||c.window;var d="about:blank";s&&(d=Zu(cp(s)||lp)),l.location.href=d}function rx(s,l){var d=[],v;for(v in s)v in l?typeof s[v]!=typeof l[v]?d.push(v):typeof s[v]=="object"&&s[v]!=null&&l[v]!=null?0<rx(s[v],l[v]).length&&d.push(v):s[v]!==l[v]&&d.push(v):d.push(v);for(v in l)v in s||d.push(v);return d}function y3(){var s=Vn();return s=oc(s)!=ax?null:(s=s.match(/\sChrome\/(\d+)/i))&&s.length==2?parseInt(s[1],10):null,s&&30>s?!1:!yn||!to||9<to}function ix(s){return s=(s||Vn()).toLowerCase(),!!(s.match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function ba(s){s=s||c.window;try{s.close()}catch{}}function ox(s,l,d){var v=Math.floor(1e9*Math.random()).toString();l=l||500,d=d||600;var _=(window.screen.availHeight-d)/2,E=(window.screen.availWidth-l)/2;l={width:l,height:d,top:0<_?_:0,left:0<E?E:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},d=Vn().toLowerCase(),v&&(l.target=v,Ie(d,"crios/")&&(l.target="_blank")),oc(Vn())==W_&&(s=s||"http://localhost",l.scrollbars=!0),d=s||"",(s=l)||(s={}),v=window,l=d instanceof vt?d:cp(typeof d.href!="undefined"?d.href:String(d))||lp,d=s.target||d.target,_=[];for(I in s)switch(I){case"width":case"height":case"top":case"left":_.push(I+"="+s[I]);break;case"target":case"noopener":case"noreferrer":break;default:_.push(I+"="+(s[I]?1:0))}var I=_.join(",");if((Pt("iPhone")&&!Pt("iPod")&&!Pt("iPad")||Pt("iPad")||Pt("iPod"))&&v.navigator&&v.navigator.standalone&&d&&d!="_self"?(I=ga(document,"A"),fs(I,"HTMLAnchorElement"),l=l instanceof vt?l:Rn(l),I.href=Zu(l),I.setAttribute("target",d),s.noreferrer&&I.setAttribute("rel","noreferrer"),s=document.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,v,1),I.dispatchEvent(s),I={}):s.noreferrer?(I=hp("",v,d,I),s=Zu(l),I&&(pp&&Ie(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),I.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Zl(s)+'">',s=(v=ca())?v.createHTML(s):s,s=new ds(s,null,fp),v=I.document)&&(v.write(E_(s)),v.close())):(I=hp(l,v,d,I))&&s.noopener&&(I.opener=null),I)try{I.focus()}catch{}return I}function _3(s){return new ce(function(l){function d(){nc(2e3).then(function(){if(!s||s.closed)l();else return d()})}return d()})}var b3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w3=/^[^@]+@[^@]+$/;function Ap(){var s=null;return new ce(function(l){c.document.readyState=="complete"?l():(s=function(){l()},P_(window,"load",s))}).o(function(l){throw qr(window,"load",s),l})}function E3(){return H_(void 0)?Ap().then(function(){return new ce(function(s,l){var d=c.document,v=setTimeout(function(){l(Error("Cordova framework is not ready."))},1e3);d.addEventListener("deviceready",function(){clearTimeout(v),s()},!1)})}):At(Error("Cordova must run in an Android or iOS file scheme."))}function H_(s){return s=s||Vn(),!(ac()!=="file:"&&ac()!=="ionic:"||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function $_(){var s=c.window;try{return!(!s||s==s.top)}catch{return!1}}function ki(){return typeof c.WorkerGlobalScope!="undefined"&&typeof c.importScripts=="function"}function ro(){return ke.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ke.INTERNAL.hasOwnProperty("node")?"Node":ki()?"Worker":"Browser"}function sx(){var s=ro();return s==="ReactNative"||s==="Node"}function T3(){for(var s=50,l=[];0<s;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return l.join("")}var W_="Firefox",ax="Chrome";function oc(s){var l=s.toLowerCase();if(Ie(l,"opera/")||Ie(l,"opr/")||Ie(l,"opios/"))return"Opera";if(Ie(l,"iemobile"))return"IEMobile";if(Ie(l,"msie")||Ie(l,"trident/"))return"IE";if(Ie(l,"edge/"))return"Edge";if(Ie(l,"firefox/"))return W_;if(Ie(l,"silk/"))return"Silk";if(Ie(l,"blackberry"))return"Blackberry";if(Ie(l,"webos"))return"Webos";if(!Ie(l,"safari/")||Ie(l,"chrome/")||Ie(l,"crios/")||Ie(l,"android"))if(!Ie(l,"chrome/")&&!Ie(l,"crios/")||Ie(l,"edge/")){if(Ie(l,"android"))return"Android";if((s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&s.length==2)return s[1]}else return ax;else return"Safari";return"Other"}var ux={md:"FirebaseCore-web",od:"FirebaseUI-web"};function sc(s,l){l=l||[];var d=[],v={},_;for(_ in ux)v[ux[_]]=!0;for(_=0;_<l.length;_++)typeof v[l[_]]!="undefined"&&(delete v[l[_]],d.push(l[_]));return d.sort(),l=d,l.length||(l=["FirebaseCore-web"]),d=ro(),d==="Browser"?(v=Vn(),d=oc(v)):d==="Worker"&&(v=Vn(),d=oc(v)+"-"+d),d+"/JsCore/"+s+"/"+l.join(",")}function Vn(){return c.navigator&&c.navigator.userAgent||""}function Kt(s,l){s=s.split("."),l=l||c;for(var d=0;d<s.length&&typeof l=="object"&&l!=null;d++)l=l[s[d]];return d!=s.length&&(l=void 0),l}function z_(){try{var s=c.localStorage,l=Ea();if(s)return s.setItem(l,"1"),s.removeItem(l),q_()?!!c.indexedDB:!0}catch{return ki()&&!!c.indexedDB}return!1}function wa(){return(xp()||ac()==="chrome-extension:"||H_())&&!sx()&&z_()&&!ki()}function xp(){return ac()==="http:"||ac()==="https:"}function ac(){return c.location&&c.location.protocol||null}function gf(s){return s=s||Vn(),!(ix(s)||oc(s)==W_)}function vf(s){return typeof s=="undefined"?null:ZA(s)}function cx(s){var l={},d;for(d in s)s.hasOwnProperty(d)&&s[d]!==null&&s[d]!==void 0&&(l[d]=s[d]);return l}function uc(s){if(s!==null)return JSON.parse(s)}function Ea(s){return s||Math.floor(1e9*Math.random()).toString()}function lx(s){return s=s||Vn(),!(oc(s)=="Safari"||s.toLowerCase().match(/iphone|ipad|ipod/))}function fx(){var s=c.___jsl;if(s&&s.H){for(var l in s.H)if(s.H[l].r=s.H[l].r||[],s.H[l].L=s.H[l].L||[],s.H[l].r=s.H[l].L.concat(),s.CP)for(var d=0;d<s.CP.length;d++)s.CP[d]=null}}function vs(s,l){if(s>l)throw Error("Short delay should be less than long delay!");this.a=s,this.c=l,s=Vn(),l=ro(),this.b=ix(s)||l==="ReactNative"}vs.prototype.get=function(){var s=c.navigator;return(s&&typeof s.onLine=="boolean"&&(xp()||ac()==="chrome-extension:"||typeof s.connection!="undefined")?s.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};function K_(){var s=c.document;return s&&typeof s.visibilityState!="undefined"?s.visibilityState=="visible":!0}function I3(){var s=c.document,l=null;return K_()||!s?_e():new ce(function(d){l=function(){K_()&&(s.removeEventListener("visibilitychange",l,!1),d())},s.addEventListener("visibilitychange",l,!1)}).o(function(d){throw s.removeEventListener("visibilitychange",l,!1),d})}function mf(s){try{var l=new Date(parseInt(s,10));if(!isNaN(l.getTime())&&!/[^0-9]/.test(s))return l.toUTCString()}catch{}return null}function hx(){return!(!Kt("fireauth.oauthhelper",c)&&!Kt("fireauth.iframe",c))}function S3(){var s=c.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}function C3(){var s=c.navigator;return s&&s.serviceWorker?_e().then(function(){return s.serviceWorker.ready}).then(function(l){return l.active||null}).o(function(){return null}):_e(null)}var dx={};function G_(s){dx[s]||(dx[s]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(s))}var Y_;try{var X_={};Object.defineProperty(X_,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(X_,"abcd",{configurable:!0,enumerable:!0,value:2}),Y_=X_.abcd==2}catch{Y_=!1}function xe(s,l,d){Y_?Object.defineProperty(s,l,{configurable:!0,enumerable:!0,value:d}):s[l]=d}function gr(s,l){if(l)for(var d in l)l.hasOwnProperty(d)&&xe(s,d,l[d])}function io(s){var l={};return gr(l,s),l}function A3(s){var l={},d;for(d in s)s.hasOwnProperty(d)&&(l[d]=s[d]);return l}function x3(s,l){if(!l||!l.length)return!0;if(!s)return!1;for(var d=0;d<l.length;d++){var v=s[l[d]];if(v==null||v==="")return!1}return!0}function Q_(s){var l=s;if(typeof s=="object"&&s!=null){l="length"in s?[]:{};for(var d in s)xe(l,d,Q_(s[d]))}return l}function J_(s){var l=s&&(s[nb]?"phone":null);if(l&&s&&s[tb]){xe(this,"uid",s[tb]),xe(this,"displayName",s[px]||null);var d=null;s[eb]&&(d=new Date(s[eb]).toUTCString()),xe(this,"enrollmentTime",d),xe(this,"factorId",l)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}J_.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Z_(s){try{var l=new yf(s)}catch{l=null}return l}var px="displayName",eb="enrolledAt",tb="mfaEnrollmentId",nb="phoneInfo";function yf(s){J_.call(this,s),xe(this,"phoneNumber",s[nb])}B(yf,J_),yf.prototype.w=function(){var s=yf.bb.w.call(this);return s.phoneNumber=this.phoneNumber,s};function k3(s){var l={},d=s[R3],v=s[N3],_=s[P3];if(s=Z_(s[O3]),!_||_!=kp&&_!=_f&&!d||_==_f&&!v||_==rb&&!s)throw Error("Invalid checkActionCode response!");_==_f?(l[vx]=d||null,l[mx]=d||null,l[gx]=v):(l[vx]=v||null,l[mx]=v||null,l[gx]=d||null),l[D3]=s||null,xe(this,L3,_),xe(this,M3,Q_(l))}var rb="REVERT_SECOND_FACTOR_ADDITION",kp="EMAIL_SIGNIN",_f="VERIFY_AND_CHANGE_EMAIL",R3="email",O3="mfaInfo",N3="newEmail",P3="requestType",gx="email",vx="fromEmail",D3="multiFactorInfo",mx="previousEmail",M3="data",L3="operation";function ib(s){s=kr(s);var l=oi(s,yx)||null,d=oi(s,_x)||null,v=oi(s,bx)||null;if(v=v&&B3[v]||null,!l||!d||!v)throw new R("argument-error",yx+", "+_x+"and "+bx+" are required in a valid action code URL.");gr(this,{apiKey:l,operation:v,code:d,continueUrl:oi(s,F3)||null,languageCode:oi(s,U3)||null,tenantId:oi(s,j3)||null})}var yx="apiKey",_x="oobCode",F3="continueUrl",U3="languageCode",bx="mode",j3="tenantId",B3={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:rb,signIn:kp,verifyAndChangeEmail:_f,verifyEmail:"VERIFY_EMAIL"};function wx(s){try{return new ib(s)}catch{return null}}function Rp(s){var l=s[V3];if(typeof l=="undefined")throw new R("missing-continue-uri");if(typeof l!="string"||typeof l=="string"&&!l.length)throw new R("invalid-continue-uri");this.h=l,this.b=this.a=null,this.g=!1;var d=s[Ex];if(d&&typeof d=="object"){l=d[Ax];var v=d[Sx];if(d=d[Cx],typeof l=="string"&&l.length){if(this.a=l,typeof v!="undefined"&&typeof v!="boolean")throw new R("argument-error",Sx+" property must be a boolean when specified.");if(this.g=!!v,typeof d!="undefined"&&(typeof d!="string"||typeof d=="string"&&!d.length))throw new R("argument-error",Cx+" property must be a non empty string when specified.");this.b=d||null}else{if(typeof l!="undefined")throw new R("argument-error",Ax+" property must be a non empty string when specified.");if(typeof v!="undefined"||typeof d!="undefined")throw new R("missing-android-pkg-name")}}else if(typeof d!="undefined")throw new R("argument-error",Ex+" property must be a non null object when specified.");if(this.f=null,(l=s[Ix])&&typeof l=="object"){if(l=l[xx],typeof l=="string"&&l.length)this.f=l;else if(typeof l!="undefined")throw new R("argument-error",xx+" property must be a non empty string when specified.")}else if(typeof l!="undefined")throw new R("argument-error",Ix+" property must be a non null object when specified.");if(l=s[ob],typeof l!="undefined"&&typeof l!="boolean")throw new R("argument-error",ob+" property must be a boolean when specified.");if(this.c=!!l,s=s[Tx],typeof s!="undefined"&&(typeof s!="string"||typeof s=="string"&&!s.length))throw new R("argument-error",Tx+" property must be a non empty string when specified.");this.i=s||null}var Ex="android",Tx="dynamicLinkDomain",ob="handleCodeInApp",Ix="iOS",V3="url",Sx="installApp",Cx="minimumVersion",Ax="packageName",xx="bundleId";function Op(s){var l={};l.continueUrl=s.h,l.canHandleCodeInApp=s.c,(l.androidPackageName=s.a)&&(l.androidMinimumVersion=s.b,l.androidInstallApp=s.g),l.iOSBundleId=s.f,l.dynamicLinkDomain=s.i;for(var d in l)l[d]===null&&delete l[d];return l}function q3(s){return We(s,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}var bf=null;function H3(s){var l=[];return $3(s,function(d){l.push(d)}),l}function $3(s,l){function d(G){for(;v<s.length;){var ne=s.charAt(v++),qe=bf[ne];if(qe!=null)return qe;if(!/^[\s\xa0]*$/.test(ne))throw Error("Unknown base64 encoding at char: "+ne)}return G}W3();for(var v=0;;){var _=d(-1),E=d(0),I=d(64),O=d(64);if(O===64&&_===-1)break;l(_<<2|E>>4),I!=64&&(l(E<<4&240|I>>2),O!=64&&l(I<<6&192|O))}}function W3(){if(!bf){bf={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=["+/=","+/","-_=","-_.","-_"],d=0;5>d;d++)for(var v=s.concat(l[d].split("")),_=0;_<v.length;_++){var E=v[_];bf[E]===void 0&&(bf[E]=_)}}}function Np(s){var l=kx(s);if(!(l&&l.sub&&l.iss&&l.aud&&l.exp))throw Error("Invalid JWT");this.h=s,this.a=l.exp,this.i=l.sub,s=Date.now()/1e3,this.g=l.iat||(s>this.a?this.a:s),this.b=l.provider_id||l.firebase&&l.firebase.sign_in_provider||null,this.f=l.firebase&&l.firebase.tenant||null,this.c=!!l.is_anonymous||this.b=="anonymous"}Np.prototype.T=function(){return this.f},Np.prototype.l=function(){return this.c},Np.prototype.toString=function(){return this.h};function Pp(s){try{return new Np(s)}catch{return null}}function kx(s){if(!s||(s=s.split("."),s.length!=3))return null;s=s[1];for(var l=(4-s.length%4)%4,d=0;d<l;d++)s+=".";try{var v=H3(s);for(s=[],d=l=0;l<v.length;){var _=v[l++];if(128>_)s[d++]=String.fromCharCode(_);else if(191<_&&224>_){var E=v[l++];s[d++]=String.fromCharCode((_&31)<<6|E&63)}else if(239<_&&365>_){E=v[l++];var I=v[l++],O=v[l++],G=((_&7)<<18|(E&63)<<12|(I&63)<<6|O&63)-65536;s[d++]=String.fromCharCode(55296+(G>>10)),s[d++]=String.fromCharCode(56320+(G&1023))}else E=v[l++],I=v[l++],s[d++]=String.fromCharCode((_&15)<<12|(E&63)<<6|I&63)}return JSON.parse(s.join(""))}catch{}return null}var Rx="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Dp=["client_id","response_type","scope","redirect_uri","state"],sb={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Dp},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Dp},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Dp},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Rx},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ab(s){for(var l in sb)if(sb[l].fa==s)return sb[l];return null}function Ox(s){var l={};l["facebook.com"]=Px,l["google.com"]=Mx,l["github.com"]=Dx,l["twitter.com"]=Lx;var d=s&&s[Nx];try{if(d)return l[d]?new l[d](s):new oo(s);if(typeof s[ub]!="undefined")return new cb(s)}catch{}return null}var ub="idToken",Nx="providerId";function cb(s){var l=s[Nx];if(!l&&s[ub]){var d=Pp(s[ub]);d&&d.b&&(l=d.b)}if(!l)throw Error("Invalid additional user info!");(l=="anonymous"||l=="custom")&&(l=null),d=!1,typeof s.isNewUser!="undefined"?d=!!s.isNewUser:s.kind==="identitytoolkit#SignupNewUserResponse"&&(d=!0),xe(this,"providerId",l),xe(this,"isNewUser",d)}function oo(s){cb.call(this,s),s=uc(s.rawUserInfo||"{}"),xe(this,"profile",Q_(s||{}))}B(oo,cb);function Px(s){if(oo.call(this,s),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}B(Px,oo);function Dx(s){if(oo.call(this,s),this.providerId!="github.com")throw Error("Invalid provider ID!");xe(this,"username",this.profile&&this.profile.login||null)}B(Dx,oo);function Mx(s){if(oo.call(this,s),this.providerId!="google.com")throw Error("Invalid provider ID!")}B(Mx,oo);function Lx(s){if(oo.call(this,s),this.providerId!="twitter.com")throw Error("Invalid provider ID!");xe(this,"username",s.screenName||null)}B(Lx,oo);function Fx(s){var l=kr(s),d=oi(l,"link"),v=oi(kr(d),"link");return l=oi(l,"deep_link_id"),oi(kr(l),"link")||l||v||d||s}function Mp(s,l){if(!s&&!l)throw new R("internal-error","Internal assert: no raw session string available");if(s&&l)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=l||null,this.type=this.a?wf:Lp}var wf="enroll",Lp="signin";Mp.prototype.Ha=function(){return this.a?_e(this.a):_e(this.b)},Mp.prototype.w=function(){return this.type==wf?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function cc(){}cc.prototype.ka=function(){},cc.prototype.b=function(){},cc.prototype.c=function(){},cc.prototype.w=function(){};function lc(s,l){return s.then(function(d){if(d[Ni]){var v=Pp(d[Ni]);if(!v||l!=v.i)throw new R("user-mismatch");return d}throw new R("user-mismatch")}).o(function(d){throw d&&d.code&&d.code==we+"user-not-found"?new R("user-mismatch"):d})}function Ta(s,l){if(l)this.a=l;else throw new R("internal-error","failed to construct a credential");xe(this,"providerId",s),xe(this,"signInMethod",s)}Ta.prototype.ka=function(s){return Pb(s,lb(this))},Ta.prototype.b=function(s,l){var d=lb(this);return d.idToken=l,Db(s,d)},Ta.prototype.c=function(s,l){return lc(Mb(s,lb(this)),l)};function lb(s){return{pendingToken:s.a,requestUri:"http://localhost"}}Ta.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function z3(s){if(s&&s.providerId&&s.signInMethod&&s.providerId.indexOf("saml.")==0&&s.pendingToken)try{return new Ta(s.providerId,s.pendingToken)}catch{}return null}function Do(s,l,d){if(this.a=null,l.idToken||l.accessToken)l.idToken&&xe(this,"idToken",l.idToken),l.accessToken&&xe(this,"accessToken",l.accessToken),l.nonce&&!l.pendingToken&&xe(this,"nonce",l.nonce),l.pendingToken&&(this.a=l.pendingToken);else if(l.oauthToken&&l.oauthTokenSecret)xe(this,"accessToken",l.oauthToken),xe(this,"secret",l.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");xe(this,"providerId",s),xe(this,"signInMethod",d)}Do.prototype.ka=function(s){return Pb(s,fb(this))},Do.prototype.b=function(s,l){var d=fb(this);return d.idToken=l,Db(s,d)},Do.prototype.c=function(s,l){var d=fb(this);return lc(Mb(s,d),l)};function fb(s){var l={};return s.idToken&&(l.id_token=s.idToken),s.accessToken&&(l.access_token=s.accessToken),s.secret&&(l.oauth_token_secret=s.secret),l.providerId=s.providerId,s.nonce&&!s.a&&(l.nonce=s.nonce),l={postBody:XA(l).toString(),requestUri:"http://localhost"},s.a&&(delete l.postBody,l.pendingToken=s.a),l}Do.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s};function K3(s){if(s&&s.providerId&&s.signInMethod){var l={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new Do(s.providerId,l,s.signInMethod)}catch{}}return null}function Ia(s,l){this.Qc=l||[],gr(this,{providerId:s,isOAuthProvider:!0}),this.Jb={},this.qb=(ab(s)||{}).Ja||null,this.pb=null}Ia.prototype.Ka=function(s){return this.Jb=Vr(s),this};function Ux(s){if(typeof s!="string"||s.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');Ia.call(this,s,[])}B(Ux,Ia);function Hr(s){Ia.call(this,s,Dp),this.a=[]}B(Hr,Ia),Hr.prototype.Ca=function(s){return U(this.a,s)||this.a.push(s),this},Hr.prototype.Rb=function(){return se(this.a)},Hr.prototype.credential=function(s,l){var d;if(w(s)?d={idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:d={idToken:s||null,accessToken:l||null},!d.idToken&&!d.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new Do(this.providerId,d,this.providerId)};function Sa(){Hr.call(this,"facebook.com")}B(Sa,Hr),xe(Sa,"PROVIDER_ID","facebook.com"),xe(Sa,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function jx(s){if(!s)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=s;return w(s)&&(l=s.accessToken),new Sa().credential({accessToken:l})}function Ca(){Hr.call(this,"github.com")}B(Ca,Hr),xe(Ca,"PROVIDER_ID","github.com"),xe(Ca,"GITHUB_SIGN_IN_METHOD","github.com");function Bx(s){if(!s)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=s;return w(s)&&(l=s.accessToken),new Ca().credential({accessToken:l})}function Aa(){Hr.call(this,"google.com"),this.Ca("profile")}B(Aa,Hr),xe(Aa,"PROVIDER_ID","google.com"),xe(Aa,"GOOGLE_SIGN_IN_METHOD","google.com");function Vx(s,l){var d=s;return w(s)&&(d=s.idToken,l=s.accessToken),new Aa().credential({idToken:d,accessToken:l})}function fc(){Ia.call(this,"twitter.com",Rx)}B(fc,Ia),xe(fc,"PROVIDER_ID","twitter.com"),xe(fc,"TWITTER_SIGN_IN_METHOD","twitter.com");function qx(s,l){var d=s;if(w(d)||(d={oauthToken:s,oauthTokenSecret:l}),!d.oauthToken||!d.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Do("twitter.com",d,"twitter.com")}function ms(s,l,d){this.a=s,this.f=l,xe(this,"providerId","password"),xe(this,"signInMethod",d===si.EMAIL_LINK_SIGN_IN_METHOD?si.EMAIL_LINK_SIGN_IN_METHOD:si.EMAIL_PASSWORD_SIGN_IN_METHOD)}ms.prototype.ka=function(s){return this.signInMethod==si.EMAIL_LINK_SIGN_IN_METHOD?at(s,Oq,{email:this.a,oobCode:this.f}):at(s,vk,{email:this.a,password:this.f})},ms.prototype.b=function(s,l){return this.signInMethod==si.EMAIL_LINK_SIGN_IN_METHOD?at(s,Nq,{idToken:l,email:this.a,oobCode:this.f}):at(s,gk,{idToken:l,email:this.a,password:this.f})},ms.prototype.c=function(s,l){return lc(this.ka(s),l)},ms.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function G3(s){return s&&s.email&&s.password?new ms(s.email,s.password,s.signInMethod):null}function si(){gr(this,{providerId:"password",isOAuthProvider:!1})}function Hx(s,l){if(l=hb(l),!l)throw new R("argument-error","Invalid email link!");return new ms(s,l.code,si.EMAIL_LINK_SIGN_IN_METHOD)}function hb(s){return s=Fx(s),(s=wx(s))&&s.operation===kp?s:null}gr(si,{PROVIDER_ID:"password"}),gr(si,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),gr(si,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ys(s){if(!(s.fb&&s.eb||s.La&&s.ea))throw new R("internal-error");this.a=s,xe(this,"providerId","phone"),this.fa="phone",xe(this,"signInMethod","phone")}ys.prototype.ka=function(s){return s.gb(Ef(this))},ys.prototype.b=function(s,l){var d=Ef(this);return d.idToken=l,at(s,Jq,d)},ys.prototype.c=function(s,l){var d=Ef(this);return d.operation="REAUTH",s=at(s,Zq,d),lc(s,l)},ys.prototype.w=function(){var s={providerId:"phone"};return this.a.fb&&(s.verificationId=this.a.fb),this.a.eb&&(s.verificationCode=this.a.eb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s};function Y3(s){if(s&&s.providerId==="phone"&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var l={};return pe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(d){s[d]&&(l[d]=s[d])}),new ys(l)}return null}function Ef(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.fb,code:s.a.eb}}function Mo(s){try{this.a=s||ke.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}gr(this,{providerId:"phone",isOAuthProvider:!1})}Mo.prototype.gb=function(s,l){var d=this.a.a;return _e(l.verify()).then(function(v){if(typeof v!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(l.type){case"recaptcha":var _=w(s)?s.session:null,E=w(s)?s.phoneNumber:s,I;return _&&_.type==wf?I=_.Ha().then(function(O){return Eq(d,{idToken:O,phoneEnrollmentInfo:{phoneNumber:E,recaptchaToken:v}})}):_&&_.type==Lp?I=_.Ha().then(function(O){return Tq(d,{mfaPendingCredential:O,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:v}})}):I=wq(d,{phoneNumber:E,recaptchaToken:v}),I.then(function(O){return typeof l.reset=="function"&&l.reset(),O},function(O){throw typeof l.reset=="function"&&l.reset(),O});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function $x(s,l){if(!s)throw new R("missing-verification-id");if(!l)throw new R("missing-verification-code");return new ys({fb:s,eb:l})}gr(Mo,{PROVIDER_ID:"phone"}),gr(Mo,{PHONE_SIGN_IN_METHOD:"phone"});function db(s){if(s.temporaryProof&&s.phoneNumber)return new ys({La:s.temporaryProof,ea:s.phoneNumber});var l=s&&s.providerId;if(!l||l==="password")return null;var d=s&&s.oauthAccessToken,v=s&&s.oauthTokenSecret,_=s&&s.nonce,E=s&&s.oauthIdToken,I=s&&s.pendingToken;try{switch(l){case"google.com":return Vx(E,d);case"facebook.com":return jx(d);case"github.com":return Bx(d);case"twitter.com":return qx(d,v);default:return d||v||E||I?I?l.indexOf("saml.")==0?new Ta(l,I):new Do(l,{pendingToken:I,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},l):new Hr(l).credential({idToken:E,accessToken:d,rawNonce:_}):null}}catch{return null}}function pb(s){if(!s.isOAuthProvider)throw new R("invalid-oauth-provider")}function Ri(s,l,d,v,_,E,I){if(this.c=s,this.b=l||null,this.g=d||null,this.f=v||null,this.i=E||null,this.h=I||null,this.a=_||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}Ri.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},Ri.prototype.T=function(){return this.h},Ri.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Wx(s){return s=s||{},s.type?new Ri(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&de(s.error),s.postBody,s.tenantId):null}function X3(){this.b=null,this.a=[]}var gb=null;function Q3(s){var l=gb;l.a.push(s),l.b||(l.b=function(d){for(var v=0;v<l.a.length;v++)l.a[v](d)},s=Kt("universalLinks.subscribe",c),typeof s=="function"&&s(null,l.b))}function vb(s){var l="unauthorized-domain",d=void 0,v=kr(s);s=v.a,v=v.c,v=="chrome-extension"?d=dp("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):v=="http"||v=="https"?d=dp("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):l="operation-not-supported-in-this-environment",R.call(this,l,d)}B(vb,R);function Tf(s,l,d){R.call(this,s,d),s=l||{},s.Kb&&xe(this,"email",s.Kb),s.ea&&xe(this,"phoneNumber",s.ea),s.credential&&xe(this,"credential",s.credential),s.$b&&xe(this,"tenantId",s.$b)}B(Tf,R),Tf.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var l=this.credential&&this.credential.w();return l&&Lt(s,l),s},Tf.prototype.toJSON=function(){return this.w()};function Fp(s){if(s.code){var l=s.code||"";l.indexOf(we)==0&&(l=l.substring(we.length));var d={credential:db(s),$b:s.tenantId};if(s.email)d.Kb=s.email;else if(s.phoneNumber)d.ea=s.phoneNumber;else if(!d.credential)return new R(l,s.message||void 0);return new Tf(l,d,s.message)}return null}function If(){}If.prototype.c=null;function zx(s){return s.c||(s.c=s.b())}var mb;function Up(){}B(Up,If),Up.prototype.a=function(){var s=Kx(this);return s?new ActiveXObject(s):new XMLHttpRequest},Up.prototype.b=function(){var s={};return Kx(this)&&(s[0]=!0,s[1]=!0),s};function Kx(s){if(!s.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var l=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<l.length;d++){var v=l[d];try{return new ActiveXObject(v),s.f=v}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}mb=new Up;function jp(){}B(jp,If),jp.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if(typeof XDomainRequest!="undefined")return new Gx;throw Error("Unsupported browser")},jp.prototype.b=function(){return{}};function Gx(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=D(this.qc,this),this.a.onerror=D(this.Tb,this),this.a.onprogress=D(this.rc,this),this.a.ontimeout=D(this.vc,this)}t=Gx.prototype,t.open=function(s,l,d){if(d!=null&&!d)throw Error("Only async requests are supported.");this.a.open(s,l)},t.send=function(s){if(s)if(typeof s=="string")this.a.send(s);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(s){return s.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,yb(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",yb(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,yb(this,1)};function yb(s,l){s.readyState=l,s.onreadystatechange&&s.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function _b(s,l,d){this.reset(s,l,d,void 0,void 0)}_b.prototype.a=null,_b.prototype.reset=function(s,l,d,v,_){delete this.a};function bb(s){this.f=s,this.b=this.c=this.a=null}function Sf(s,l){this.name=s,this.value=l}Sf.prototype.toString=function(){return this.name};var Yx=new Sf("SEVERE",1e3),wb=new Sf("WARNING",900),J3=new Sf("CONFIG",700),Z3=new Sf("FINE",500);function Xx(s){return s.c?s.c:s.a?Xx(s.a):(Ne("Root logger has no level set."),null)}bb.prototype.log=function(s,l,d){if(s.value>=Xx(this).value)for(b(l)&&(l=l()),s=new _b(s,String(l),this.f),d&&(s.a=d),d=this;d;)d=d.a};var Eb={},Bp=null;function Tb(s){Bp||(Bp=new bb(""),Eb[""]=Bp,Bp.c=J3);var l;if(!(l=Eb[s])){l=new bb(s);var d=s.lastIndexOf("."),v=s.substr(d+1);d=Tb(s.substr(0,d)),d.b||(d.b={}),d.b[v]=l,l.a=d,Eb[s]=l}return l}function ai(s,l){s&&s.log(Z3,l,void 0)}function Vp(s){this.f=s}B(Vp,If),Vp.prototype.a=function(){return new qp(this.f)},Vp.prototype.b=function(s){return function(){return s}}({});function qp(s){pr.call(this),this.u=s,this.h=void 0,this.readyState=Ib,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Tb("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}B(qp,pr);var Ib=0;t=qp.prototype,t.open=function(s,l){if(this.readyState!=Ib)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=l,this.readyState=1,Af(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var l={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(l.body=s),this.u.fetch(new Request(this.f,l)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Cf(this)),this.readyState=Ib},t.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,Af(this)),this.a&&(this.readyState=3,Af(this),this.a&&(this.responseType==="arraybuffer"?s.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream!="undefined"&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,Qx(this)):s.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Qx(s){s.c.read().then(s.pc.bind(s)).catch(s.Va.bind(s))}t.pc=function(s){if(this.a){var l=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});l&&(this.response=this.responseText+=l),s.done?Cf(this):Af(this),this.readyState==3&&Qx(this)}},t.tc=function(s){this.a&&(this.response=this.responseText=s,Cf(this))},t.sc=function(s){this.a&&(this.response=s,Cf(this))},t.Va=function(s){var l=this.i;l&&l.log(wb,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&Cf(this)};function Cf(s){s.readyState=4,s.g=null,s.c=null,s.m=null,Af(s)}t.setRequestHeader=function(s,l){this.l.append(s,l)},t.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(wb,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(wb,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var l=this.b.entries(),d=l.next();!d.done;)d=d.value,s.push(d[0]+": "+d[1]),d=l.next();return s.join(`\r
`)};function Af(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(qp.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(s){this.h=s?"include":"same-origin"}});function xf(s){pr.call(this),this.headers=new rc,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Jx,this.u=this.S=!1}B(xf,pr);var Jx="";xf.prototype.b=Tb("goog.net.XhrIo");var eq=/^https?$/i,tq=["POST","PUT"];function nq(s,l,d,v,_){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+l);d=d?d.toUpperCase():"GET",s.l=l,s.h="",s.P=d,s.J=!1,s.c=!0,s.a=s.D?s.D.a():mb.a(),s.C=s.D?zx(s.D):zx(mb),s.a.onreadystatechange=D(s.Wb,s);try{ai(s.b,Lo(s,"Opening Xhr")),s.N=!0,s.a.open(d,String(l),!0),s.N=!1}catch(I){ai(s.b,Lo(s,"Error opening Xhr: "+I.message)),Zx(s,I);return}l=v||"";var E=new rc(s.headers);_&&u3(_,function(I,O){E.set(O,I)}),_=M(E.Y()),v=c.FormData&&l instanceof c.FormData,!U(tq,d)||_||v||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),E.forEach(function(I,O){this.a.setRequestHeader(O,I)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{nk(s),0<s.g&&(s.u=rq(s.a),ai(s.b,Lo(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=D(s.Ma,s)):s.s=F_(s.Ma,s.g,s)),ai(s.b,Lo(s,"Sending request")),s.i=!0,s.a.send(l),s.i=!1}catch(I){ai(s.b,Lo(s,"Send error: "+I.message)),Zx(s,I)}}function rq(s){return yn&&mp(9)&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function iq(s){return s.toLowerCase()=="content-type"}t=xf.prototype,t.Ma=function(){typeof u!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ai(this.b,Lo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Zx(s,l){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=l,ek(s),Hp(s)}function ek(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(ai(this.b,Lo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Hp(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Hp(this,!0)),xf.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?tk(this):this.Jc())},t.Jc=function(){tk(this)};function tk(s){if(s.c&&typeof u!="undefined"){if(s.C[1]&&kf(s)==4&&$p(s)==2)ai(s.b,Lo(s,"Local request error detected and ignored"));else if(s.i&&kf(s)==4)F_(s.Wb,0,s);else if(s.dispatchEvent("readystatechange"),kf(s)==4){ai(s.b,Lo(s,"Request complete")),s.c=!1;try{var l=$p(s);e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var v;if(!(v=d)){var _;if(_=l===0){var E=String(s.l).match(GA)[1]||null;if(!E&&c.self&&c.self.location){var I=c.self.location.protocol;E=I.substr(0,I.length-1)}_=!eq.test(E?E.toLowerCase():"")}v=_}if(v)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var O=2<kf(s)?s.a.statusText:""}catch(G){ai(s.b,"Can not get status: "+G.message),O=""}s.h=O+" ["+$p(s)+"]",ek(s)}}finally{Hp(s)}}}}function Hp(s,l){if(s.a){nk(s);var d=s.a,v=s.C[0]?g:null;s.a=null,s.C=null,l||s.dispatchEvent("ready");try{d.onreadystatechange=v}catch(_){(s=s.b)&&s.log(Yx,"Problem encountered resetting onreadystatechange: "+_.message,void 0)}}}function nk(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(c.clearTimeout(s.s),s.s=null)}function kf(s){return s.a?s.a.readyState:0}function $p(s){try{return 2<kf(s)?s.a.status:-1}catch{return-1}}function oq(s){try{return s.a?s.a.responseText:""}catch(l){return ai(s.b,"Can not get responseText: "+l.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Jx:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(Yx,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(l){return ai(this.b,"Can not get response: "+l.message),null}};function Lo(s,l){return l+" ["+s.P+" "+s.l+" "+$p(s)+"]"}function xa(s){var l=uq;this.g=[],this.u=l,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}xa.prototype.cancel=function(s){if(this.a)this.c instanceof xa&&this.c.cancel();else{if(this.b){var l=this.b;delete this.b,s?l.cancel(s):(l.l--,0>=l.l&&l.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new Of(this),Wp(this),Rf(this,!1,s))}},xa.prototype.m=function(s,l){this.i=!1,Rf(this,s,l)};function Rf(s,l,d){s.a=!0,s.c=d,s.f=!l,ik(s)}function Wp(s){if(s.a){if(!s.v)throw new zp(s);s.v=!1}}function sq(s,l){Sb(s,null,l,void 0)}function Sb(s,l,d,v){s.g.push([l,d,v]),s.a&&ik(s)}xa.prototype.then=function(s,l,d){var v,_,E=new ce(function(I,O){v=I,_=O});return Sb(this,v,function(I){I instanceof Of?E.cancel():_(I)}),E.then(s,l,d)},xa.prototype.$goog_Thenable=!0;function rk(s){return Ke(s.g,function(l){return b(l[1])})}function ik(s){if(s.h&&s.a&&rk(s)){var l=s.h,d=Kp[l];d&&(c.clearTimeout(d.a),delete Kp[l]),s.h=0}s.b&&(s.b.l--,delete s.b),l=s.c;for(var v=d=!1;s.g.length&&!s.i;){var _=s.g.shift(),E=_[0],I=_[1];if(_=_[2],E=s.f?I:E)try{var O=E.call(_||s.s,l);O!==void 0&&(s.f=s.f&&(O==l||O instanceof Error),s.c=l=O),(W(l)||typeof c.Promise=="function"&&l instanceof c.Promise)&&(v=!0,s.i=!0)}catch(G){l=G,s.f=!0,rk(s)||(d=!0)}}s.c=l,v&&(O=D(s.m,s,!0),v=D(s.m,s,!1),l instanceof xa?(Sb(l,O,v),l.C=!0):l.then(O,v)),d&&(l=new ok(l),Kp[l.a]=l,s.h=l.a)}function zp(){Q.call(this)}B(zp,Q),zp.prototype.message="Deferred has already fired",zp.prototype.name="AlreadyCalledError";function Of(){Q.call(this)}B(Of,Q),Of.prototype.message="Deferred was canceled",Of.prototype.name="CanceledError";function ok(s){this.a=c.setTimeout(D(this.c,this),0),this.b=s}ok.prototype.c=function(){throw delete Kp[this.a],this.b};var Kp={};function Cb(s){var l=document,d=la(s).toString(),v=ga(document,"SCRIPT"),_={Xb:v,Ma:void 0},E=new xa(_),I=null,O=5e3;return I=window.setTimeout(function(){Gp(v,!0);var G=new Ab(lq,"Timeout reached for loading script "+d);Wp(E),Rf(E,!1,G)},O),_.Ma=I,v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(Gp(v,!1,I),Wp(E),Rf(E,!0,null))},v.onerror=function(){Gp(v,!0,I);var G=new Ab(cq,"Error while loading script "+d);Wp(E),Rf(E,!1,G)},_={},Lt(_,{type:"text/javascript",charset:"UTF-8"}),sf(v,_),T_(v,s),aq(l).appendChild(v),E}function aq(s){var l;return(l=(s||document).getElementsByTagName("HEAD"))&&l.length!=0?l[0]:s.documentElement}function uq(){if(this&&this.Xb){var s=this.Xb;s&&s.tagName=="SCRIPT"&&Gp(s,!0,this.Ma)}}function Gp(s,l,d){d!=null&&c.clearTimeout(d),s.onload=g,s.onerror=g,s.onreadystatechange=g,l&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var cq=0,lq=1;function Ab(s,l){var d="Jsloader error (code #"+s+")";l&&(d+=": "+l),Q.call(this,d),this.code=s}B(Ab,Q);function Yp(s){this.f=s}B(Yp,If),Yp.prototype.a=function(){return new this.f},Yp.prototype.b=function(){return{}};function Oi(s,l,d){if(this.c=s,s=l||{},this.l=s.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||fq,this.g=Vr(s.secureTokenHeaders||hq),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||dq,this.a=Vr(s.firebaseHeaders||pq),d&&(this.a["X-Client-Version"]=d,this.g["X-Client-Version"]=d),d=ro()=="Node",d=c.XMLHttpRequest||d&&ke.INTERNAL.node&&ke.INTERNAL.node.XMLHttpRequest,!d&&!ki())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ki()?this.f=new Vp(self):sx()?this.f=new Yp(d):this.f=new jp,this.b=null}var xb,Ni="idToken",fq=new vs(3e4,6e4),hq={"Content-Type":"application/x-www-form-urlencoded"},dq=new vs(3e4,6e4),pq={"Content-Type":"application/json"};function sk(s,l){l?s.a["X-Firebase-Locale"]=l:delete s.a["X-Firebase-Locale"]}function Xp(s,l){l&&(s.l=kb("https://securetoken.googleapis.com/v1/token",l),s.h=kb("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",l),s.i=kb("https://identitytoolkit.googleapis.com/v2/",l))}function kb(s,l){return s=kr(s),l=kr(l.url),s.f=s.a+s.f,lf(s,l.c),s.a=l.a,ff(s,l.g),s.toString()}function ak(s,l){l?(s.a["X-Client-Version"]=l,s.g["X-Client-Version"]=l):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}Oi.prototype.T=function(){return this.b};function uk(s,l,d,v,_,E,I){y3()||ki()?s=D(s.u,s):(xb||(xb=new ce(function(O,G){vq(O,G)})),s=D(s.s,s)),s(l,d,v,_,E,I)}Oi.prototype.u=function(s,l,d,v,_,E){if(ki()&&(typeof c.fetch=="undefined"||typeof c.Headers=="undefined"||typeof c.Request=="undefined"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var I=new xf(this.f);if(E){I.g=Math.max(0,E);var O=setTimeout(function(){I.dispatchEvent("timeout")},E)}WA(I,"complete",function(){O&&clearTimeout(O);var G=null;try{G=JSON.parse(oq(this))||null}catch{G=null}l&&l(G)}),L_(I,"ready",function(){O&&clearTimeout(O),UA(this)}),L_(I,"timeout",function(){O&&clearTimeout(O),UA(this),l&&l(null)}),nq(I,s,d,v,_)};var gq=new ri(hs,"https://apis.google.com/js/client.js?onload=%{onload}"),ck="__fcb"+Math.floor(1e6*Math.random()).toString();function vq(s,l){if(((window.gapi||{}).client||{}).request)s();else{c[ck]=function(){((window.gapi||{}).client||{}).request?s():l(Error("CORS_UNSUPPORTED"))};var d=Ql(gq,{onload:ck});sq(Cb(d),function(){l(Error("CORS_UNSUPPORTED"))})}}Oi.prototype.s=function(s,l,d,v,_){var E=this;xb.then(function(){window.gapi.client.setApiKey(E.c);var I=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:d,body:v,headers:_,authType:"none",callback:function(O){window.gapi.auth.setToken(I),l&&l(O)}})}).o(function(I){l&&l({error:{message:I&&I.message||"CORS_UNSUPPORTED"}})})};function mq(s,l){return new ce(function(d,v){l.grant_type=="refresh_token"&&l.refresh_token||l.grant_type=="authorization_code"&&l.code?uk(s,s.l+"?key="+encodeURIComponent(s.c),function(_){_?_.error?v(Fb(_)):_.access_token&&_.refresh_token?d(_):v(new R("internal-error")):v(new R("network-request-failed"))},"POST",XA(l).toString(),s.g,s.m.get()):v(new R("internal-error"))})}function lk(s,l,d,v,_,E,I){var O=kr(l+d);on(O,"key",s.c),I&&on(O,"cb",Date.now().toString());var G=v=="GET";if(G)for(var ne in _)_.hasOwnProperty(ne)&&on(O,ne,_[ne]);return new ce(function(qe,xt){uk(s,O.toString(),function(mt){mt?mt.error?xt(Fb(mt,E||{})):qe(mt):xt(new R("network-request-failed"))},v,G?void 0:ZA(cx(_)),s.a,s.v.get())})}function ka(s){if(s=s.email,typeof s!="string"||!w3.test(s))throw new R("invalid-email")}function fk(s){"email"in s&&ka(s)}function yq(s,l){return at(s,xq,{identifier:l,continueUri:xp()?pf():"http://localhost"}).then(function(d){return d.signinMethods||[]})}function _q(s){return at(s,Bq,{}).then(function(l){return l.authorizedDomains||[]})}function Rr(s){if(!s[Ni])throw s.mfaPendingCredential?new R("multi-factor-auth-required",null,Vr(s)):new R("internal-error")}function Rb(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new R("internal-error")}else{if(!s.sessionInfo)throw new R("missing-verification-id");if(!s.code)throw new R("missing-verification-code")}}Oi.prototype.Ab=function(){return at(this,$q,{})},Oi.prototype.Cb=function(s,l){return at(this,pk,{idToken:s,email:l})},Oi.prototype.Db=function(s,l){return at(this,gk,{idToken:s,password:l})};var bq={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Oi.prototype,t.Eb=function(s,l){var d={idToken:s},v=[];return aa(bq,function(_,E){var I=l[E];I===null?v.push(_):E in l&&(d[E]=I)}),v.length&&(d.deleteAttribute=v),at(this,pk,d)},t.wb=function(s,l){return s={requestType:"PASSWORD_RESET",email:s},Lt(s,l),at(this,jq,s)},t.xb=function(s,l){return s={requestType:"EMAIL_SIGNIN",email:s},Lt(s,l),at(this,Lq,s)},t.vb=function(s,l){return s={requestType:"VERIFY_EMAIL",idToken:s},Lt(s,l),at(this,Fq,s)},t.Fb=function(s,l,d){return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:l},Lt(s,d),at(this,Uq,s)};function wq(s,l){return at(s,Hq,l)}t.gb=function(s){return at(this,Qq,s)};function Eq(s,l){return at(s,Wq,l).then(function(d){return d.phoneSessionInfo.sessionInfo})}function hk(s){if(!s.phoneVerificationInfo)throw new R("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new R("missing-verification-code")}function Tq(s,l){return at(s,zq,l).then(function(d){return d.phoneResponseInfo.sessionInfo})}function Iq(s,l,d){return at(s,Rq,{idToken:l,deleteProvider:d})}function Ob(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new R("internal-error")}function Nb(s,l){return l.oauthIdToken&&l.providerId&&l.providerId.indexOf("oidc.")==0&&!l.pendingToken&&(s.sessionId?l.nonce=s.sessionId:s.postBody&&(s=new _a(s.postBody),B_(s,"nonce")&&(l.nonce=s.get("nonce")))),l}function dk(s){var l=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",l=Fp(s)):s.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(s.code="credential-already-in-use",l=Fp(s)):s.errorMessage=="EMAIL_EXISTS"?(s.code="email-already-in-use",l=Fp(s)):s.errorMessage&&(l=mk(s.errorMessage)),l)throw l;Rr(s)}function Pb(s,l){return l.returnIdpCredential=!0,at(s,Kq,l)}function Db(s,l){return l.returnIdpCredential=!0,at(s,Yq,l)}function Mb(s,l){return l.returnIdpCredential=!0,l.autoCreate=!1,at(s,Gq,l)}function Lb(s){if(!s.oobCode)throw new R("invalid-action-code")}t.ob=function(s,l){return at(this,qq,{oobCode:s,newPassword:l})},t.Sa=function(s){return at(this,Cq,{oobCode:s})},t.kb=function(s){return at(this,Sq,{oobCode:s})};var Sq={endpoint:"setAccountInfo",A:Lb,Z:"email",B:!0},Cq={endpoint:"resetPassword",A:Lb,G:function(s){var l=s.requestType;if(!l||!s.email&&l!="EMAIL_SIGNIN"&&l!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},Aq={endpoint:"signupNewUser",A:function(s){if(ka(s),!s.password)throw new R("weak-password")},G:Rr,V:!0,B:!0},xq={endpoint:"createAuthUri",B:!0},kq={endpoint:"deleteAccount",O:["idToken"]},Rq={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new R("internal-error")}},Oq={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ka,G:Rr,V:!0,B:!0},Nq={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ka,G:Rr,V:!0},Pq={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:hk,G:Rr,B:!0,Na:!0},Dq={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:hk,G:Rr,B:!0,Na:!0},Mq={endpoint:"getAccountInfo"},Lq={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="EMAIL_SIGNIN")throw new R("internal-error");ka(s)},Z:"email",B:!0},Fq={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(s){if(s.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},Uq={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(s){if(s.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},jq={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="PASSWORD_RESET")throw new R("internal-error");ka(s)},Z:"email",B:!0},Bq={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Vq={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new R("internal-error")}},qq={endpoint:"resetPassword",A:Lb,Z:"email",B:!0},Hq={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},pk={endpoint:"setAccountInfo",O:["idToken"],A:fk,V:!0},gk={endpoint:"setAccountInfo",O:["idToken"],A:function(s){if(fk(s),!s.password)throw new R("weak-password")},G:Rr,V:!0},$q={endpoint:"signupNewUser",G:Rr,V:!0,B:!0},Wq={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new R("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},zq={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},Kq={endpoint:"verifyAssertion",A:Ob,Za:Nb,G:dk,V:!0,B:!0},Gq={endpoint:"verifyAssertion",A:Ob,Za:Nb,G:function(s){if(s.errorMessage&&s.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(s.errorMessage)throw mk(s.errorMessage);Rr(s)},V:!0,B:!0},Yq={endpoint:"verifyAssertion",A:function(s){if(Ob(s),!s.idToken)throw new R("internal-error")},Za:Nb,G:dk,V:!0},Xq={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new R("invalid-custom-token")},G:Rr,V:!0,B:!0},vk={endpoint:"verifyPassword",A:function(s){if(ka(s),!s.password)throw new R("wrong-password")},G:Rr,V:!0,B:!0},Qq={endpoint:"verifyPhoneNumber",A:Rb,G:Rr,B:!0},Jq={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new R("internal-error");Rb(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",Fp(s);Rr(s)}},Zq={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Rb,G:Rr,B:!0},eH={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[Ni]^!!s.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function at(s,l,d){if(!x3(d,l.O))return At(new R("internal-error"));var v=!!l.Na,_=l.Vb||"POST",E;return _e(d).then(l.A).then(function(){return l.V&&(d.returnSecureToken=!0),l.B&&s.b&&typeof d.tenantId=="undefined"&&(d.tenantId=s.b),v?lk(s,s.i,l.endpoint,_,d,l.Ib,l.mb||!1):lk(s,s.h,l.endpoint,_,d,l.Ib,l.mb||!1)}).then(function(I){return E=I,l.Za?l.Za(d,E):E}).then(l.G).then(function(){if(!l.Z)return E;if(!(l.Z in E))throw new R("internal-error");return E[l.Z]})}function mk(s){return Fb({error:{errors:[{message:s}],code:400,message:s}})}function Fb(s,l){var d=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",v={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(d=v[d]?new R(v[d]):null)return d;d=s.error&&s.error.message||"",v={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Lt(v,l||{}),l=(l=d.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<l.length?l[1]:void 0;for(var _ in v)if(d.indexOf(_)===0)return new R(v[_],l);return!l&&s&&(l=vf(s)),new R("internal-error",l)}function tH(s){this.b=s,this.a=null,this.sb=nH(this)}function nH(s){return uH().then(function(){return new ce(function(l,d){Kt("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:Kt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(v){function _(){clearTimeout(E),l()}s.a=v,s.a.restyle({setHideOnLeave:!1});var E=setTimeout(function(){d(Error("Network Error"))},aH.get());v.ping(_).then(_,function(){d(Error("Network Error"))})})})})}function rH(s,l){return s.sb.then(function(){return new ce(function(d){s.a.send(l.type,l,d,Kt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function iH(s,l){s.sb.then(function(){s.a.register("authEvent",l,Kt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var oH=new ri(hs,"https://apis.google.com/js/api.js?onload=%{onload}"),sH=new vs(3e4,6e4),aH=new vs(5e3,15e3),Qp=null;function uH(){return Qp||(Qp=new ce(function(s,l){function d(){fx(),Kt("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){fx(),l(Error("Network Error"))},timeout:sH.get()})}if(Kt("gapi.iframes.Iframe"))s();else if(Kt("gapi.load"))d();else{var v="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[v]=function(){Kt("gapi.load")?d():l(Error("Network Error"))},v=Ql(oH,{onload:v}),_e(Cb(v)).o(function(){l(Error("Network Error"))})}}).o(function(s){throw Qp=null,s}))}function yk(s,l,d,v){this.l=s,this.h=l,this.i=d,this.g=v,this.f=null,this.g?(s=kr(this.g.url),s=Cp(s.c,s.a,s.g,"/emulator/auth/iframe")):s=Cp("https",this.l,null,"/__/auth/iframe"),this.a=s,on(this.a,"apiKey",this.h),on(this.a,"appName",this.i),this.b=null,this.c=[]}yk.prototype.toString=function(){return this.f?on(this.a,"v",this.f):no(this.a.b,"v"),this.b?on(this.a,"eid",this.b):no(this.a.b,"eid"),this.c.length?on(this.a,"fw",this.c.join(",")):no(this.a.b,"fw"),this.a.toString()};function Ub(s,l,d,v,_,E){this.u=s,this.s=l,this.c=d,this.m=v,this.v=E,this.i=this.g=this.l=null,this.a=_,this.h=this.f=null}Ub.prototype.zb=function(s){return this.h=s,this},Ub.prototype.toString=function(){if(this.v){var s=kr(this.v.url);s=Cp(s.c,s.a,s.g,"/emulator/auth/handler")}else s=Cp("https",this.u,null,"/__/auth/handler");if(on(s,"apiKey",this.s),on(s,"appName",this.c),on(s,"authType",this.m),this.a.isOAuthProvider){var l=this.a;try{var d=ke.app(this.c).auth().la()}catch{d=null}l.pb=d,on(s,"providerId",this.a.providerId),d=this.a,l=cx(d.Jb);for(var v in l)l[v]=l[v].toString();v=d.Qc,l=Vr(l);for(var _=0;_<v.length;_++){var E=v[_];E in l&&delete l[E]}d.qb&&d.pb&&!l[d.qb]&&(l[d.qb]=d.pb),mn(l)||on(s,"customParameters",vf(l))}if(typeof this.a.Rb=="function"&&(d=this.a.Rb(),d.length&&on(s,"scopes",d.join(","))),this.l?on(s,"redirectUrl",this.l):no(s.b,"redirectUrl"),this.g?on(s,"eventId",this.g):no(s.b,"eventId"),this.i?on(s,"v",this.i):no(s.b,"v"),this.b)for(var I in this.b)this.b.hasOwnProperty(I)&&!oi(s,I)&&on(s,I,this.b[I]);return this.h?on(s,"tid",this.h):no(s.b,"tid"),this.f?on(s,"eid",this.f):no(s.b,"eid"),I=jb(this.c),I.length&&on(s,"fw",I.join(",")),s.toString()};function jb(s){try{return ke.app(s).auth().Ga()}catch{return[]}}function _k(s,l,d,v,_,E){this.s=s,this.g=l,this.b=d,this.f=E,this.c=v||null,this.i=_||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function bk(s){var l=pf();return _q(s).then(function(d){e:{var v=kr(l),_=v.c;v=v.a;for(var E=0;E<d.length;E++){var I=d[E],O=v,G=_;if(I.indexOf("chrome-extension://")==0?O=kr(I).a==O&&G=="chrome-extension":G!="http"&&G!="https"?O=!1:b3.test(I)?O=O==I:(I=I.split(".").join("\\."),O=new RegExp("^(.+\\."+I+"|"+I+")$","i").test(O)),O){d=!0;break e}}d=!1}if(!d)throw new vb(pf())})}function wk(s){return s.m||(s.m=Ap().then(function(){if(!s.u){var l=s.c,d=s.i,v=jb(s.b),_=new yk(s.s,s.g,s.b,s.f);_.f=l,_.b=d,_.c=se(v||[]),s.u=_.toString()}s.v=new tH(s.u),cH(s)})),s.m}t=_k.prototype,t.Pb=function(s,l,d){var v=new R("popup-closed-by-user"),_=new R("web-storage-unsupported"),E=this,I=!1;return this.ma().then(function(){lH(E).then(function(O){O||(s&&ba(s),l(_),I=!0)})}).o(function(){}).then(function(){if(!I)return _3(s)}).then(function(){if(!I)return nc(d).then(function(){l(v)})})},t.Yb=function(){var s=Vn();return!gf(s)&&!lx(s)},t.Ub=function(){return!1},t.Nb=function(s,l,d,v,_,E,I,O){if(!s)return At(new R("popup-blocked"));if(I&&!gf())return this.ma().o(function(ne){ba(s),_(ne)}),v(),_e();this.a||(this.a=bk(Ek(this)));var G=this;return this.a.then(function(){var ne=G.ma().o(function(qe){throw ba(s),_(qe),qe});return v(),ne}).then(function(){if(pb(d),!I){var ne=Nf(G.s,G.g,G.b,l,d,null,E,G.c,void 0,G.i,O,G.f);nx(ne,s)}}).o(function(ne){throw ne.code=="auth/network-request-failed"&&(G.a=null),ne})};function Ek(s){return s.l||(s.C=s.c?sc(s.c,jb(s.b)):null,s.l=new Oi(s.g,ve(s.i),s.C),s.f&&Xp(s.l,s.f)),s.l}t.Ob=function(s,l,d,v){this.a||(this.a=bk(Ek(this)));var _=this;return this.a.then(function(){pb(l);var E=Nf(_.s,_.g,_.b,s,l,pf(),d,_.c,void 0,_.i,v,_.f);nx(E)}).o(function(E){throw E.code=="auth/network-request-failed"&&(_.a=null),E})},t.ma=function(){var s=this;return wk(this).then(function(){return s.v.sb}).o(function(){throw s.a=null,new R("network-request-failed")})},t.ac=function(){return!0};function Nf(s,l,d,v,_,E,I,O,G,ne,qe,xt){return s=new Ub(s,l,d,v,_,xt),s.l=E,s.g=I,s.i=O,s.b=Vr(G||null),s.f=ne,s.zb(qe).toString()}function cH(s){if(!s.v)throw Error("IfcHandler must be initialized!");iH(s.v,function(l){var d={};if(l&&l.authEvent){var v=!1;for(l=Wx(l.authEvent),d=0;d<s.h.length;d++)v=s.h[d](l)||v;return d={},d.status=v?"ACK":"ERROR",_e(d)}return d.status="ERROR",_e(d)})}function lH(s){var l={type:"webStorageSupport"};return wk(s).then(function(){return rH(s.v,l)}).then(function(d){if(d&&d.length&&typeof d[0].webStorageSupport!="undefined")return d[0].webStorageSupport;throw Error()})}t.Ea=function(s){this.h.push(s)},t.Ta=function(s){Z(this.h,function(l){return l==s})};function Tk(s){if(this.a=s||ke.INTERNAL.reactNative&&ke.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=Tk.prototype,t.get=function(s){return _e(this.a.getItem(s)).then(function(l){return l&&uc(l)})},t.set=function(s,l){return _e(this.a.setItem(s,vf(l)))},t.U=function(s){return _e(this.a.removeItem(s))},t.ca=function(){},t.ia=function(){};function Ik(s){this.b=s,this.a={},this.f=D(this.c,this)}var Sk=[];function fH(){var s=ki()?self:null;if(pe(Sk,function(d){d.b==s&&(l=d)}),!l){var l=new Ik(s);Sk.push(l)}return l}Ik.prototype.c=function(s){var l=s.data.eventType,d=s.data.eventId,v=this.a[l];if(v&&0<v.length){s.ports[0].postMessage({status:"ack",eventId:d,eventType:l,response:null});var _=[];pe(v,function(E){_.push(_e().then(function(){return E(s.origin,s.data.data)}))}),kA(_).then(function(E){var I=[];pe(E,function(O){I.push({fulfilled:O.Qb,value:O.value,reason:O.reason?O.reason.message:void 0})}),pe(I,function(O){for(var G in O)typeof O[G]=="undefined"&&delete O[G]}),s.ports[0].postMessage({status:"done",eventId:d,eventType:l,response:I})})}};function Ck(s,l,d){mn(s.a)&&s.b.addEventListener("message",s.f),typeof s.a[l]=="undefined"&&(s.a[l]=[]),s.a[l].push(d)}function Ak(s){this.a=s}Ak.prototype.postMessage=function(s,l){this.a.postMessage(s,l)};function xk(s){this.c=s,this.b=!1,this.a=[]}function kk(s,l,d,v){var _,E=d||{},I,O,G,ne=null;if(s.b)return At(Error("connection_unavailable"));var qe=v?800:50,xt=typeof MessageChannel!="undefined"?new MessageChannel:null;return new ce(function(mt,On){xt?(_=Math.floor(Math.random()*Math.pow(10,20)).toString(),xt.port1.start(),O=setTimeout(function(){On(Error("unsupported_event"))},qe),I=function(Fo){Fo.data.eventId===_&&(Fo.data.status==="ack"?(clearTimeout(O),G=setTimeout(function(){On(Error("timeout"))},3e3)):Fo.data.status==="done"?(clearTimeout(G),typeof Fo.data.response!="undefined"?mt(Fo.data.response):On(Error("unknown_error"))):(clearTimeout(O),clearTimeout(G),On(Error("invalid_response"))))},ne={messageChannel:xt,onMessage:I},s.a.push(ne),xt.port1.addEventListener("message",I),s.c.postMessage({eventType:l,eventId:_,data:E},[xt.port2])):On(Error("connection_unavailable"))}).then(function(mt){return Bb(s,ne),mt}).o(function(mt){throw Bb(s,ne),mt})}function Bb(s,l){if(l){var d=l.messageChannel,v=l.onMessage;d&&(d.port1.removeEventListener("message",v),d.port1.close()),Z(s.a,function(_){return _==l})}}xk.prototype.close=function(){for(;0<this.a.length;)Bb(this,this.a[0]);this.b=!0};function Rk(){if(!Hb())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;ki()&&self?(this.v=fH(),Ck(this.v,"keyChanged",function(l,d){return Pk(s).then(function(v){return 0<v.length&&pe(s.a,function(_){_(v)}),{keyProcessed:U(v,d.key)}})}),Ck(this.v,"ping",function(){return _e(["keyChanged"])})):C3().then(function(l){(s.h=l)&&(s.g=new xk(new Ak(l)),kk(s.g,"ping",null,!0).then(function(d){d[0].fulfilled&&U(d[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}var Vb;function hH(s){return new ce(function(l,d){var v=s.m.deleteDatabase("firebaseLocalStorageDb");v.onsuccess=function(){l()},v.onerror=function(_){d(Error(_.target.error))}})}function Ok(s){return new ce(function(l,d){var v=s.m.open("firebaseLocalStorageDb",1);v.onerror=function(_){try{_.preventDefault()}catch{}d(Error(_.target.error))},v.onupgradeneeded=function(_){_=_.target.result;try{_.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(E){d(E)}},v.onsuccess=function(_){_=_.target.result,_.objectStoreNames.contains("firebaseLocalStorage")?l(_):hH(s).then(function(){return Ok(s)}).then(function(E){l(E)}).o(function(E){d(E)})}})}function qb(s){return s.i||(s.i=Ok(s)),s.i}function Jp(s,l){function d(_,E){qb(s).then(l).then(_).o(function(I){if(3<++v)E(I);else return qb(s).then(function(O){return O.close(),s.i=void 0,d(_,E)}).o(function(O){E(O)})})}var v=0;return new ce(d)}function Hb(){try{return!!c.indexedDB}catch{return!1}}function Pf(s){return s.objectStore("firebaseLocalStorage")}function Df(s,l){return s.transaction(["firebaseLocalStorage"],l?"readwrite":"readonly")}function hc(s){return new ce(function(l,d){s.onsuccess=function(v){v&&v.target?l(v.target.result):l()},s.onerror=function(v){d(v.target.error)}})}t=Rk.prototype,t.set=function(s,l){var d=this,v=!1;return Jp(this,function(_){return _=Pf(Df(_,!0)),hc(_.get(s))}).then(function(_){return Jp(d,function(E){if(E=Pf(Df(E,!0)),_)return _.value=l,hc(E.put(_));d.b++,v=!0;var I={};return I.fbase_key=s,I.value=l,hc(E.add(I))})}).then(function(){return d.c[s]=l,Nk(d,s)}).oa(function(){v&&d.b--})};function Nk(s,l){return s.g&&s.h&&S3()===s.h?kk(s.g,"keyChanged",{key:l},s.s).then(function(){}).o(function(){}):_e()}t.get=function(s){return Jp(this,function(l){return hc(Pf(Df(l,!1)).get(s))}).then(function(l){return l&&l.value})},t.U=function(s){var l=this,d=!1;return Jp(this,function(v){return d=!0,l.b++,hc(Pf(Df(v,!0)).delete(s))}).then(function(){return delete l.c[s],Nk(l,s)}).oa(function(){d&&l.b--})};function Pk(s){return qb(s).then(function(l){var d=Pf(Df(l,!1));return d.getAll?hc(d.getAll()):new ce(function(v,_){var E=[],I=d.openCursor();I.onsuccess=function(O){(O=O.target.result)?(E.push(O.value),O.continue()):v(E)},I.onerror=function(O){_(O.target.error)}})}).then(function(l){var d={},v=[];if(s.b==0){for(v=0;v<l.length;v++)d[l[v].fbase_key]=l[v].value;v=rx(s.c,d),s.c=d}return v})}t.ca=function(s){this.a.length==0&&dH(this),this.a.push(s)},t.ia=function(s){Z(this.a,function(l){return l==s}),this.a.length==0&&Dk(this)};function dH(s){function l(){s.f=setTimeout(function(){s.l=Pk(s).then(function(d){0<d.length&&pe(s.a,function(v){v(d)})}).then(function(){l()}).o(function(d){d.message!="STOP_EVENT"&&l()})},800)}Dk(s),l()}function Dk(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function Mk(s){var l=this,d=null;this.a=[],this.type="indexedDB",this.c=s,this.b=_e().then(function(){if(Hb()){var v=Ea(),_="__sak"+v;return Vb||(Vb=new Rk),d=Vb,d.set(_,v).then(function(){return d.get(_)}).then(function(E){if(E!==v)throw Error("indexedDB not supported!");return d.U(_)}).then(function(){return d}).o(function(){return l.c})}return l.c}).then(function(v){return l.type=v.type,v.ca(function(_){pe(l.a,function(E){E(_)})}),v})}t=Mk.prototype,t.get=function(s){return this.b.then(function(l){return l.get(s)})},t.set=function(s,l){return this.b.then(function(d){return d.set(s,l)})},t.U=function(s){return this.b.then(function(l){return l.U(s)})},t.ca=function(s){this.a.push(s)},t.ia=function(s){Z(this.a,function(l){return l==s})};function Mf(){this.a={},this.type="inMemory"}t=Mf.prototype,t.get=function(s){return _e(this.a[s])},t.set=function(s,l){return this.a[s]=l,_e()},t.U=function(s){return delete this.a[s],_e()},t.ca=function(){},t.ia=function(){};function Zp(){if(!pH())throw ro()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=Lk()||ke.INTERNAL.node.localStorage,this.type="localStorage"}function Lk(){try{var s=c.localStorage,l=Ea();return s&&(s.setItem(l,"1"),s.removeItem(l)),s}catch{return null}}function pH(){var s=ro()=="Node";if(s=Lk()||s&&ke.INTERNAL.node&&ke.INTERNAL.node.localStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=Zp.prototype,t.get=function(s){var l=this;return _e().then(function(){var d=l.a.getItem(s);return uc(d)})},t.set=function(s,l){var d=this;return _e().then(function(){var v=vf(l);v===null?d.U(s):d.a.setItem(s,v)})},t.U=function(s){var l=this;return _e().then(function(){l.a.removeItem(s)})},t.ca=function(s){c.window&&ii(c.window,"storage",s)},t.ia=function(s){c.window&&qr(c.window,"storage",s)};function $b(){this.type="nullStorage"}t=$b.prototype,t.get=function(){return _e(null)},t.set=function(){return _e()},t.U=function(){return _e()},t.ca=function(){},t.ia=function(){};function Wb(){if(!gH())throw ro()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=Fk()||ke.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fk(){try{var s=c.sessionStorage,l=Ea();return s&&(s.setItem(l,"1"),s.removeItem(l)),s}catch{return null}}function gH(){var s=ro()=="Node";if(s=Fk()||s&&ke.INTERNAL.node&&ke.INTERNAL.node.sessionStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=Wb.prototype,t.get=function(s){var l=this;return _e().then(function(){var d=l.a.getItem(s);return uc(d)})},t.set=function(s,l){var d=this;return _e().then(function(){var v=vf(l);v===null?d.U(s):d.a.setItem(s,v)})},t.U=function(s){var l=this;return _e().then(function(){l.a.removeItem(s)})},t.ca=function(){},t.ia=function(){};function vH(){var s={};s.Browser=mH,s.Node=yH,s.ReactNative=_H,s.Worker=bH,this.a=s[ro()]}var zb,mH={F:Zp,cb:Wb},yH={F:Zp,cb:Wb},_H={F:Tk,cb:$b},bH={F:Zp,cb:$b},dc={rd:"local",NONE:"none",td:"session"};function wH(s){var l=new R("invalid-persistence-type"),d=new R("unsupported-persistence-type");e:{for(v in dc)if(dc[v]==s){var v=!0;break e}v=!1}if(!v||typeof s!="string")throw l;switch(ro()){case"ReactNative":if(s==="session")throw d;break;case"Node":if(s!=="none")throw d;break;case"Worker":if(s==="session"||!Hb()&&s!=="none")throw d;break;default:if(!z_()&&s!=="none")throw d}}function Uk(){var s=!!(!lx(Vn())&&$_()),l=gf(),d=z_();this.m=s,this.h=l,this.l=d,this.a={},zb||(zb=new vH),s=zb;try{this.g=!q_()&&hx()||!c.indexedDB?new s.a.F:new Mk(ki()?new Mf:new s.a.F)}catch{this.g=new Mf,this.h=!0}try{this.i=new s.a.cb}catch{this.i=new Mf}this.v=new Mf,this.f=D(this.Zb,this),this.b={}}var Kb;function Lf(){return Kb||(Kb=new Uk),Kb}function Ra(s,l){switch(l){case"session":return s.i;case"none":return s.v;default:return s.g}}function pc(s,l){return"firebase:"+s.name+(l?":"+l:"")}function EH(s,l,d){var v=pc(l,d),_=Ra(s,l.F);return s.get(l,d).then(function(E){var I=null;try{I=uc(c.localStorage.getItem(v))}catch{}if(I&&!E)return c.localStorage.removeItem(v),s.set(l,I,d);I&&E&&_.type!="localStorage"&&c.localStorage.removeItem(v)})}t=Uk.prototype,t.get=function(s,l){return Ra(this,s.F).get(pc(s,l))};function gc(s,l,d){return d=pc(l,d),l.F=="local"&&(s.b[d]=null),Ra(s,l.F).U(d)}t.set=function(s,l,d){var v=pc(s,d),_=this,E=Ra(this,s.F);return E.set(v,l).then(function(){return E.get(v)}).then(function(I){s.F=="local"&&(_.b[v]=I)})},t.addListener=function(s,l,d){s=pc(s,l),this.l&&(this.b[s]=c.localStorage.getItem(s)),mn(this.a)&&(Ra(this,"local").ca(this.f),this.h||(q_()||!hx())&&c.indexedDB||!this.l||TH(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(d)},t.removeListener=function(s,l,d){s=pc(s,l),this.a[s]&&(Z(this.a[s],function(v){return v==d}),this.a[s].length==0&&delete this.a[s]),mn(this.a)&&(Ra(this,"local").ia(this.f),Gb(this))};function TH(s){Gb(s),s.c=setInterval(function(){for(var l in s.a){var d=c.localStorage.getItem(l),v=s.b[l];d!=v&&(s.b[l]=d,d=new ma({type:"storage",key:l,target:window,oldValue:v,newValue:d,a:!0}),s.Zb(d))}},1e3)}function Gb(s){s.c&&(clearInterval(s.c),s.c=null)}t.Zb=function(s){if(s&&s.g){var l=s.a.key;if(l==null)for(var d in this.a){var v=this.b[d];typeof v=="undefined"&&(v=null);var _=c.localStorage.getItem(d);_!==v&&(this.b[d]=_,this.nb(d))}else if(l.indexOf("firebase:")==0&&this.a[l]){if(typeof s.a.a!="undefined"?Ra(this,"local").ia(this.f):Gb(this),this.m){if(d=c.localStorage.getItem(l),v=s.a.newValue,v!==d)v!==null?c.localStorage.setItem(l,v):c.localStorage.removeItem(l);else if(this.b[l]===v&&typeof s.a.a=="undefined")return}var E=this;d=function(){(typeof s.a.a!="undefined"||E.b[l]!==c.localStorage.getItem(l))&&(E.b[l]=c.localStorage.getItem(l),E.nb(l))},yn&&to&&to==10&&c.localStorage.getItem(l)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(d,10):d()}}else pe(s,D(this.nb,this))},t.nb=function(s){this.a[s]&&pe(this.a[s],function(l){l()})};function IH(s){this.a=s,this.b=Lf()}var Yb={name:"authEvent",F:"local"};function SH(s){return s.b.get(Yb,s.a).then(function(l){return Wx(l)})}function CH(){this.a=Lf()}function AH(){this.b=-1}function eg(s,l){this.b=jk,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=l,this.l=c.Int32Array?new Int32Array(64):Array(64),tg===void 0&&(c.Int32Array?tg=new Int32Array(qk):tg=qk),this.reset()}var tg;B(eg,AH);for(var jk=64,xH=jk-1,Bk=[],Xb=0;Xb<xH;Xb++)Bk[Xb]=0;var Vk=ee(128,Bk);eg.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):se(this.h)};function Qb(s){for(var l=s.f,d=s.l,v=0,_=0;_<l.length;)d[v++]=l[_]<<24|l[_+1]<<16|l[_+2]<<8|l[_+3],_=4*v;for(l=16;64>l;l++){_=d[l-15]|0,v=d[l-2]|0;var E=(d[l-16]|0)+((_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3)|0,I=(d[l-7]|0)+((v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)|0;d[l]=E+I|0}v=s.a[0]|0,_=s.a[1]|0;var O=s.a[2]|0,G=s.a[3]|0,ne=s.a[4]|0,qe=s.a[5]|0,xt=s.a[6]|0;for(E=s.a[7]|0,l=0;64>l;l++){var mt=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&_^v&O^_&O)|0;I=ne&qe^~ne&xt,E=E+((ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7))|0,I=I+(tg[l]|0)|0,I=E+(I+(d[l]|0)|0)|0,E=xt,xt=qe,qe=ne,ne=G+I|0,G=O,O=_,_=v,v=I+mt|0}s.a[0]=s.a[0]+v|0,s.a[1]=s.a[1]+_|0,s.a[2]=s.a[2]+O|0,s.a[3]=s.a[3]+G|0,s.a[4]=s.a[4]+ne|0,s.a[5]=s.a[5]+qe|0,s.a[6]=s.a[6]+xt|0,s.a[7]=s.a[7]+E|0}function Jb(s,l,d){d===void 0&&(d=l.length);var v=0,_=s.c;if(typeof l=="string")for(;v<d;)s.f[_++]=l.charCodeAt(v++),_==s.b&&(Qb(s),_=0);else if(y(l))for(;v<d;){var E=l[v++];if(!(typeof E=="number"&&0<=E&&255>=E&&E==(E|0)))throw Error("message must be a byte array");s.f[_++]=E,_==s.b&&(Qb(s),_=0)}else throw Error("message must be string or array");s.c=_,s.g+=d}var qk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Hk(){eg.call(this,8,kH)}B(Hk,eg);var kH=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function $k(s,l,d,v,_,E){this.v=s,this.i=l,this.l=d,this.m=v||null,this.u=_||null,this.s=E,this.h=l+":"+d,this.C=new CH,this.g=new IH(this.h),this.f=null,this.b=[],this.a=this.c=null}function ng(s){return new R("invalid-cordova-configuration",s)}t=$k.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=E3().then(function(){if(typeof Kt("universalLinks.subscribe",c)!="function")throw ng("cordova-universal-links-plugin-fix is not installed");if(typeof Kt("BuildInfo.packageName",c)=="undefined")throw ng("cordova-plugin-buildinfo is not installed");if(typeof Kt("cordova.plugins.browsertab.openUrl",c)!="function")throw ng("cordova-plugin-browsertab is not installed");if(typeof Kt("cordova.InAppBrowser.open",c)!="function")throw ng("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function RH(){for(var s=20,l=[];0<s;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return l.join("")}function OH(s){var l=new Hk;Jb(l,s),s=[];var d=8*l.g;56>l.c?Jb(l,Vk,56-l.c):Jb(l,Vk,l.b-(l.c-56));for(var v=63;56<=v;v--)l.f[v]=d&255,d/=256;for(Qb(l),v=d=0;v<l.i;v++)for(var _=24;0<=_;_-=8)s[d++]=l.a[v]>>_&255;return q3(s)}t.Pb=function(s,l){return l(new R("operation-not-supported-in-this-environment")),_e()},t.Nb=function(){return At(new R("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(s,l,d,v){if(this.c)return At(new R("redirect-operation-pending"));var _=this,E=c.document,I=null,O=null,G=null,ne=null;return this.c=_e().then(function(){return pb(l),zk(_)}).then(function(){return NH(_,s,l,d,v)}).then(function(){return new ce(function(qe,xt){O=function(){var mt=Kt("cordova.plugins.browsertab.close",c);return qe(),typeof mt=="function"&&mt(),_.a&&typeof _.a.close=="function"&&(_.a.close(),_.a=null),!1},_.Ea(O),G=function(){I||(I=nc(2e3).then(function(){xt(new R("redirect-cancelled-by-user"))}))},ne=function(){K_()&&G()},E.addEventListener("resume",G,!1),Vn().toLowerCase().match(/android/)||E.addEventListener("visibilitychange",ne,!1)}).o(function(qe){return Zb(_).then(function(){throw qe})})}).oa(function(){G&&E.removeEventListener("resume",G,!1),ne&&E.removeEventListener("visibilitychange",ne,!1),I&&I.cancel(),O&&_.Ta(O),_.c=null})};function NH(s,l,d,v,_){var E=RH(),I=new Ri(l,v,null,E,new R("no-auth-event"),null,_),O=Kt("BuildInfo.packageName",c);if(typeof O!="string")throw new R("invalid-cordova-configuration");var G=Kt("BuildInfo.displayName",c),ne={};if(Vn().toLowerCase().match(/iphone|ipad|ipod/))ne.ibi=O;else if(Vn().toLowerCase().match(/android/))ne.apn=O;else return At(new R("operation-not-supported-in-this-environment"));G&&(ne.appDisplayName=G),E=OH(E),ne.sessionId=E;var qe=Nf(s.v,s.i,s.l,l,d,null,v,s.m,ne,s.u,_,s.s);return s.ma().then(function(){var xt=s.h;return s.C.a.set(Yb,I.w(),xt)}).then(function(){var xt=Kt("cordova.plugins.browsertab.isAvailable",c);if(typeof xt!="function")throw new R("invalid-cordova-configuration");var mt=null;xt(function(On){if(On){if(mt=Kt("cordova.plugins.browsertab.openUrl",c),typeof mt!="function")throw new R("invalid-cordova-configuration");mt(qe)}else{if(mt=Kt("cordova.InAppBrowser.open",c),typeof mt!="function")throw new R("invalid-cordova-configuration");On=Vn(),s.a=mt(qe,On.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||On.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Wk(s,l){for(var d=0;d<s.b.length;d++)try{s.b[d](l)}catch{}}function zk(s){return s.f||(s.f=s.ma().then(function(){return new ce(function(l){function d(v){return l(v),s.Ta(d),!1}s.Ea(d),PH(s)})})),s.f}function Zb(s){var l=null;return SH(s.g).then(function(d){return l=d,d=s.g,gc(d.b,Yb,d.a)}).then(function(){return l})}function PH(s){function l(I){v=!0,_&&_.cancel(),Zb(s).then(function(O){var G=d;if(O&&I&&I.url){var ne=null;G=Fx(I.url),G.indexOf("/__/auth/callback")!=-1&&(ne=kr(G),ne=uc(oi(ne,"firebaseError")||null),ne=(ne=typeof ne=="object"?de(ne):null)?new Ri(O.c,O.b,null,null,ne,null,O.T()):new Ri(O.c,O.b,G,O.f,null,null,O.T())),G=ne||d}Wk(s,G)})}var d=new Ri("unknown",null,null,null,new R("no-auth-event")),v=!1,_=nc(500).then(function(){return Zb(s).then(function(){v||Wk(s,d)})}),E=c.handleOpenURL;c.handleOpenURL=function(I){if(I.toLowerCase().indexOf(Kt("BuildInfo.packageName",c).toLowerCase()+"://")==0&&l({url:I}),typeof E=="function")try{E(I)}catch(O){console.error(O)}},gb||(gb=new X3),Q3(l)}t.Ea=function(s){this.b.push(s),zk(this).o(function(l){l.code==="auth/invalid-cordova-configuration"&&(l=new Ri("unknown",null,null,null,new R("no-auth-event")),s(l))})},t.Ta=function(s){Z(this.b,function(l){return l==s})};function DH(s){this.a=s,this.b=Lf()}var e0={name:"pendingRedirect",F:"session"};function MH(s){return s.b.set(e0,"pending",s.a)}function t0(s){return gc(s.b,e0,s.a)}function LH(s){return s.b.get(e0,s.a).then(function(l){return l=="pending"})}function rg(s,l,d,v){this.i={},this.u=0,this.D=s,this.v=l,this.m=d,this.J=v,this.h=[],this.f=!1,this.l=D(this.s,this),this.b=new og,this.C=new nR,this.g=new DH(Zk(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Kk(this.D,this.v,this.m,H,this.J)}function Kk(s,l,d,v,_){var E=ke.SDK_VERSION||null;return H_()?new $k(s,l,d,E,v,_):new _k(s,l,d,E,v,_)}rg.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Kk(this.D,this.v,this.m,null,this.J),this.i={}};function Gk(s){s.f||(s.f=!0,s.a.Ea(s.l));var l=s.a;return s.a.ma().o(function(d){throw s.a==l&&s.reset(),d})}function Yk(s){s.a.Yb()&&Gk(s).o(function(l){var d=new Ri("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));r0(l)&&s.s(d)}),s.a.Ub()||eR(s.b)}function ig(s,l){U(s.h,l)||s.h.push(l),s.f||LH(s.g).then(function(d){d?t0(s.g).then(function(){Gk(s).o(function(v){var _=new Ri("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));r0(v)&&s.s(_)})}):Yk(s)}).o(function(){Yk(s)})}function n0(s,l){Z(s.h,function(d){return d==l})}rg.prototype.s=function(s){if(!s)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var l=!1,d=0;d<this.h.length;d++){var v=this.h[d];if(v.Gb(s.c,s.b)){(l=this.c[s.c])&&(l.h(s,v),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),l=!0;break}}return eR(this.b),l};var FH=new vs(2e3,1e4),UH=new vs(3e4,6e4);rg.prototype.ra=function(){return this.b.ra()};function Xk(s,l,d,v,_,E,I){return s.a.Nb(l,d,v,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},_,E,I)}function r0(s){return!!(s&&s.code=="auth/cordova-not-ready")}function Qk(s,l,d,v,_){var E;return MH(s.g).then(function(){return s.a.Ob(l,d,v,_).o(function(I){if(r0(I))throw new R("operation-not-supported-in-this-environment");return E=I,t0(s.g).then(function(){throw E})}).then(function(){return s.a.ac()?new ce(function(){}):t0(s.g).then(function(){return s.ra()}).then(function(){}).o(function(){})})})}function Jk(s,l,d,v,_){return s.a.Pb(v,function(E){l.na(d,null,E,_)},FH.get())}var i0={};function Zk(s,l,d){return s=s+":"+l,d&&(s=s+":"+d.url),s}function o0(s,l,d,v){var _=Zk(l,d,v);return i0[_]||(i0[_]=new rg(s,l,d,v)),i0[_]}function og(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}og.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},og.prototype.h=function(s,l){if(s){this.reset(),this.g=!0;var d=s.c,v=s.b,_=s.a&&s.a.code=="auth/web-storage-unsupported",E=s.a&&s.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!_&&!E),d!="unknown"||_||E?s.a?(Oa(this,!0,null,s.a),_e()):l.Fa(d,v)?jH(this,s,l):At(new R("invalid-auth-event")):(Oa(this,!1,null,null),_e())}else At(new R("invalid-auth-event"))};function eR(s){s.g||(s.g=!0,Oa(s,!1,null,null))}function sg(s){s.g&&!s.i&&Oa(s,!1,null,null)}function jH(s,l,d){d=d.Fa(l.c,l.b);var v=l.g,_=l.f,E=l.i,I=l.T(),O=!!l.c.match(/Redirect$/);d(v,_,I,E).then(function(G){Oa(s,O,G,null)}).o(function(G){Oa(s,O,null,G)})}function BH(s,l){if(s.b=function(){return At(l)},s.c.length)for(var d=0;d<s.c.length;d++)s.c[d](l)}function tR(s,l){if(s.b=function(){return _e(l)},s.f.length)for(var d=0;d<s.f.length;d++)s.f[d](l)}function Oa(s,l,d,v){l?v?BH(s,v):tR(s,d):tR(s,{user:null}),s.f=[],s.c=[]}og.prototype.ra=function(){var s=this;return new ce(function(l,d){s.b?s.b().then(l,d):(s.f.push(l),s.c.push(d),VH(s))})};function VH(s){var l=new R("timeout");s.a&&s.a.cancel(),s.a=nc(UH.get()).then(function(){s.b||(s.g=!0,Oa(s,!0,null,l))})}function nR(){}nR.prototype.h=function(s,l){if(s){var d=s.c,v=s.b;s.a?(l.na(s.c,null,s.a,s.b),_e()):l.Fa(d,v)?qH(s,l):At(new R("invalid-auth-event"))}else At(new R("invalid-auth-event"))};function qH(s,l){var d=s.b,v=s.c;l.Fa(v,d)(s.g,s.f,s.T(),s.i).then(function(_){l.na(v,_,null,d)}).o(function(_){l.na(v,null,_,d)})}function rR(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(s){this.jb=s},enumerable:!1})}function s0(s,l){this.a=l,xe(this,"verificationId",s)}s0.prototype.confirm=function(s){return s=$x(this.verificationId,s),this.a(s)};function a0(s,l,d,v){return new Mo(s).gb(l,d).then(function(_){return new s0(_,v)})}function HH(s){var l=kx(s);if(!(l&&l.exp&&l.auth_time&&l.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");gr(this,{token:s,expirationTime:mf(1e3*l.exp),authTime:mf(1e3*l.auth_time),issuedAtTime:mf(1e3*l.iat),signInProvider:l.firebase&&l.firebase.sign_in_provider?l.firebase.sign_in_provider:null,signInSecondFactor:l.firebase&&l.firebase.sign_in_second_factor?l.firebase.sign_in_second_factor:null,claims:l})}function u0(s,l,d){var v=l&&l[oR];if(!v)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=Vr(l),this.g=d,this.c=new Mp(null,v),this.b=[];var _=this;pe(l[iR]||[],function(E){(E=Z_(E))&&_.b.push(E)}),xe(this,"auth",this.a),xe(this,"session",this.c),xe(this,"hints",this.b)}var iR="mfaInfo",oR="mfaPendingCredential";u0.prototype.Rc=function(s){var l=this;return s.tb(this.a.a,this.c).then(function(d){var v=Vr(l.f);return delete v[iR],delete v[oR],Lt(v,d),l.g(v)})};function c0(s,l,d,v){R.call(this,"multi-factor-auth-required",v,l),this.b=new u0(s,l,d),xe(this,"resolver",this.b)}B(c0,R);function sR(s,l,d){if(s&&w(s.serverResponse)&&s.code==="auth/multi-factor-auth-required")try{return new c0(l,s.serverResponse,d,s.message)}catch{}return null}function aR(){}aR.prototype.tb=function(s,l,d){return l.type==wf?$H(this,s,l,d):WH(this,s,l)};function $H(s,l,d,v){return d.Ha().then(function(_){return _={idToken:_},typeof v!="undefined"&&(_.displayName=v),Lt(_,{phoneVerificationInfo:Ef(s.a)}),at(l,Pq,_)})}function WH(s,l,d){return d.Ha().then(function(v){return v={mfaPendingCredential:v},Lt(v,{phoneVerificationInfo:Ef(s.a)}),at(l,Dq,v)})}function l0(s){xe(this,"factorId",s.fa),this.a=s}B(l0,aR);function uR(s){if(l0.call(this,s),this.a.fa!=Mo.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}B(uR,l0);function vc(s,l){xr.call(this,s);for(var d in l)this[d]=l[d]}B(vc,xr);function f0(s,l){this.a=s,this.b=[],this.c=D(this.yc,this),ii(this.a,"userReloaded",this.c);var d=[];l&&l.multiFactor&&l.multiFactor.enrolledFactors&&pe(l.multiFactor.enrolledFactors,function(v){var _=null,E={};if(v){v.uid&&(E[tb]=v.uid),v.displayName&&(E[px]=v.displayName),v.enrollmentTime&&(E[eb]=new Date(v.enrollmentTime).toISOString()),v.phoneNumber&&(E[nb]=v.phoneNumber);try{_=new yf(E)}catch{}v=_}else v=null;v&&d.push(v)}),ag(this,d)}function zH(s){var l=[];return pe(s.mfaInfo||[],function(d){(d=Z_(d))&&l.push(d)}),l}t=f0.prototype,t.yc=function(s){ag(this,zH(s.hd))};function ag(s,l){s.b=l,xe(s,"enrolledFactors",l)}t.Sb=function(){return this.a.I().then(function(s){return new Mp(s,null)})},t.fc=function(s,l){var d=this,v=this.a.a;return this.Sb().then(function(_){return s.tb(v,_,l)}).then(function(_){return so(d.a,_),d.a.reload()})},t.bd=function(s){var l=this,d=typeof s=="string"?s:s.uid,v=this.a.a;return this.a.I().then(function(_){return at(v,eH,{idToken:_,mfaEnrollmentId:d})}).then(function(_){var E=$e(l.b,function(I){return I.uid!=d});return ag(l,E),so(l.a,_),l.a.reload().o(function(I){if(I.code!="auth/user-token-expired")throw I})})},t.w=function(){return{multiFactor:{enrolledFactors:We(this.b,function(s){return s.w()})}}};function h0(s,l,d){if(this.h=s,this.i=l,this.g=d,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}h0.prototype.start=function(){this.a=this.c,d0(this,!0)};function KH(s,l){return l?(s.a=s.c,s.g()):(l=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),l)}function d0(s,l){s.stop(),s.b=nc(KH(s,l)).then(function(){return I3()}).then(function(){return s.h()}).then(function(){d0(s,!0)}).o(function(d){s.i(d)&&d0(s,!1)})}h0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function p0(s){this.f=s,this.b=this.a=null,this.c=Date.now()}p0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function cR(s,l){typeof l=="undefined"&&(s.b?(l=s.b,l=l.a-l.g):l=0),s.c=Date.now()+1e3*l}function lR(s,l){s.b=Pp(l[Ni]||""),s.a=l.refreshToken,l=l.expiresIn,cR(s,typeof l!="undefined"?Number(l):void 0)}function GH(s,l){s.b=l.b,s.a=l.a,s.c=l.c}function YH(s,l){return mq(s.f,l).then(function(d){return s.b=Pp(d.access_token),s.a=d.refresh_token,cR(s,d.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(d){throw d.code=="auth/user-token-expired"&&(s.a=null),d})}p0.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?At(new R("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?YH(this,{grant_type:"refresh_token",refresh_token:this.a}):_e(null):_e({accessToken:this.b.toString(),refreshToken:this.a})};function ug(s,l){this.a=s||null,this.b=l||null,gr(this,{lastSignInTime:mf(l||null),creationTime:mf(s||null)})}function XH(s){return new ug(s.a,s.b)}ug.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function QH(s,l,d,v,_,E){gr(this,{uid:s,displayName:v||null,photoURL:_||null,email:d||null,phoneNumber:E||null,providerId:l})}function $r(s,l,d){this.N=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var v=ke.SDK_VERSION?sc(ke.SDK_VERSION):null;this.a=new Oi(this.l,ve(H),v),(this.u=s.emulatorConfig||null)&&Xp(this.a,this.u),this.h=new p0(this.a),w0(this,l[Ni]),lR(this.h,l),xe(this,"refreshToken",this.h.a),hR(this,d||{}),pr.call(this),this.P=!1,this.s&&wa()&&(this.b=o0(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=JH(this),this.ba=D(this.ib,this);var _=this;this.za=null,this.Pa=function(E){_.xa(E.h)},this.qa=null,this.Ba=function(E){g0(_,E.c)},this.$=null,this.aa=[],this.Oa=function(E){Ff(_,E.f)},this.ja=null,this.S=new f0(this,d),xe(this,"multiFactor",this.S)}B($r,pr),$r.prototype.xa=function(s){this.za=s,sk(this.a,s)};function g0(s,l){s.u=l,Xp(s.a,l),s.b&&(l=s.b,s.b=o0(s.s,s.l,s.m,s.u),s.P&&(n0(l,s),ig(s.b,s)))}$r.prototype.la=function(){return this.za};function v0(s,l){s.qa&&qr(s.qa,"languageCodeChanged",s.Pa),(s.qa=l)&&ii(l,"languageCodeChanged",s.Pa)}function m0(s,l){s.$&&qr(s.$,"emulatorConfigChanged",s.Ba),(s.$=l)&&ii(l,"emulatorConfigChanged",s.Ba)}function Ff(s,l){s.aa=l,ak(s.a,ke.SDK_VERSION?sc(ke.SDK_VERSION,s.aa):null)}$r.prototype.Ga=function(){return se(this.aa)};function y0(s,l){s.ja&&qr(s.ja,"frameworkChanged",s.Oa),(s.ja=l)&&ii(l,"frameworkChanged",s.Oa)}$r.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function _0(s){try{return ke.app(s.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function JH(s){return new h0(function(){return s.I(!0)},function(l){return!!(l&&l.code=="auth/network-request-failed")},function(){var l=s.h.c-Date.now()-3e5;return 0<l?l:0})}function fR(s){s.J||s.D.b||(s.D.start(),qr(s,"tokenChanged",s.ba),ii(s,"tokenChanged",s.ba))}function b0(s){qr(s,"tokenChanged",s.ba),s.D.stop()}function w0(s,l){s.Aa=l,xe(s,"_lat",l)}function ZH(s,l){Z(s.W,function(d){return d==l})}function Na(s){for(var l=[],d=0;d<s.W.length;d++)l.push(s.W[d](s));return kA(l).then(function(){return s})}function Uf(s){s.b&&!s.P&&(s.P=!0,ig(s.b,s))}function hR(s,l){gr(s,{uid:l.uid,displayName:l.displayName||null,photoURL:l.photoURL||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,isAnonymous:l.isAnonymous||!1,tenantId:l.tenantId||null,metadata:new ug(l.createdAt,l.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}xe($r.prototype,"providerId","firebase");function dR(){}function E0(s){return _e().then(function(){if(s.J)throw new R("app-deleted")})}function T0(s){return We(s.providerData,function(l){return l.providerId})}function I0(s,l){l&&(pR(s,l.providerId),s.providerData.push(l))}function pR(s,l){Z(s.providerData,function(d){return d.providerId==l})}function _s(s,l,d){(l!="uid"||d)&&s.hasOwnProperty(l)&&xe(s,l,d)}function cg(s,l){s!=l&&(gr(s,{uid:l.uid,displayName:l.displayName,photoURL:l.photoURL,email:l.email,emailVerified:l.emailVerified,phoneNumber:l.phoneNumber,isAnonymous:l.isAnonymous,tenantId:l.tenantId,providerData:[]}),l.metadata?xe(s,"metadata",XH(l.metadata)):xe(s,"metadata",new ug),pe(l.providerData,function(d){I0(s,d)}),GH(s.h,l.h),xe(s,"refreshToken",s.h.a),ag(s.S,l.S.b))}t=$r.prototype,t.reload=function(){var s=this;return _n(this,E0(this).then(function(){return S0(s).then(function(){return Na(s)}).then(dR)}))};function S0(s){return s.I().then(function(l){var d=s.isAnonymous;return e$(s,l).then(function(){return d||_s(s,"isAnonymous",!1),l})})}t.oc=function(s){return this.I(s).then(function(l){return new HH(l)})},t.I=function(s){var l=this;return _n(this,E0(this).then(function(){return l.h.getToken(s)}).then(function(d){if(!d)throw new R("internal-error");return d.accessToken!=l.Aa&&(w0(l,d.accessToken),l.dispatchEvent(new vc("tokenChanged"))),_s(l,"refreshToken",d.refreshToken),d.accessToken}))};function so(s,l){l[Ni]&&s.Aa!=l[Ni]&&(lR(s.h,l),s.dispatchEvent(new vc("tokenChanged")),w0(s,l[Ni]),_s(s,"refreshToken",s.h.a))}function e$(s,l){return at(s.a,Mq,{idToken:l}).then(D(s.Kc,s))}t.Kc=function(s){if(s=s.users,!s||!s.length)throw new R("internal-error");s=s[0],hR(this,{uid:s.localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var l=t$(s),d=0;d<l.length;d++)I0(this,l[d]);_s(this,"isAnonymous",!(this.email&&s.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vc("userReloaded",{hd:s}))};function t$(s){return(s=s.providerUserInfo)&&s.length?We(s,function(l){return new QH(l.rawId,l.providerId,l.email,l.displayName,l.photoUrl,l.phoneNumber)}):[]}t.Lc=function(s){return G_("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(s)},t.ub=function(s){var l=this,d=null;return _n(this,s.c(this.a,this.uid).then(function(v){return so(l,v),d=jf(l,v,"reauthenticate"),l.i=null,l.reload()}).then(function(){return d}),!0)};function lg(s,l){return S0(s).then(function(){if(U(T0(s),l))return Na(s).then(function(){throw new R("provider-already-linked")})})}t.Cc=function(s){return G_("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(s)},t.rb=function(s){var l=this,d=null;return _n(this,lg(this,s.providerId).then(function(){return l.I()}).then(function(v){return s.b(l.a,v)}).then(function(v){return d=jf(l,v,"link"),gR(l,v)}).then(function(){return d}))},t.Dc=function(s,l){var d=this;return _n(this,lg(this,"phone").then(function(){return a0(_0(d),s,l,D(d.rb,d))}))},t.Mc=function(s,l){var d=this;return _n(this,_e().then(function(){return a0(_0(d),s,l,D(d.ub,d))}),!0)};function jf(s,l,d){var v=db(l);return l=Ox(l),io({user:s,credential:v,additionalUserInfo:l,operationType:d})}function gR(s,l){return so(s,l),s.reload().then(function(){return s})}t.Cb=function(s){var l=this;return _n(this,this.I().then(function(d){return l.a.Cb(d,s)}).then(function(d){return so(l,d),l.reload()}))},t.ed=function(s){var l=this;return _n(this,this.I().then(function(d){return s.b(l.a,d)}).then(function(d){return so(l,d),l.reload()}))},t.Db=function(s){var l=this;return _n(this,this.I().then(function(d){return l.a.Db(d,s)}).then(function(d){return so(l,d),l.reload()}))},t.Eb=function(s){if(s.displayName===void 0&&s.photoURL===void 0)return E0(this);var l=this;return _n(this,this.I().then(function(d){return l.a.Eb(d,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(d){return so(l,d),_s(l,"displayName",d.displayName||null),_s(l,"photoURL",d.photoUrl||null),pe(l.providerData,function(v){v.providerId==="password"&&(xe(v,"displayName",l.displayName),xe(v,"photoURL",l.photoURL))}),Na(l)}).then(dR))},t.cd=function(s){var l=this;return _n(this,S0(this).then(function(d){return U(T0(l),s)?Iq(l.a,d,[s]).then(function(v){var _={};return pe(v.providerUserInfo||[],function(E){_[E.providerId]=!0}),pe(T0(l),function(E){_[E]||pR(l,E)}),_[Mo.PROVIDER_ID]||xe(l,"phoneNumber",null),Na(l)}):Na(l).then(function(){throw new R("no-such-provider")})}))},t.delete=function(){var s=this;return _n(this,this.I().then(function(l){return at(s.a,kq,{idToken:l})}).then(function(){s.dispatchEvent(new vc("userDeleted"))})).then(function(){for(var l=0;l<s.N.length;l++)s.N[l].cancel("app-deleted");v0(s,null),m0(s,null),y0(s,null),s.N=[],s.J=!0,b0(s),xe(s,"refreshToken",null),s.b&&n0(s.b,s)})},t.Gb=function(s,l){return!!(s=="linkViaPopup"&&(this.g||null)==l&&this.f||s=="reauthViaPopup"&&(this.g||null)==l&&this.f||s=="linkViaRedirect"&&(this.ga||null)==l||s=="reauthViaRedirect"&&(this.ga||null)==l)},t.na=function(s,l,d,v){s!="linkViaPopup"&&s!="reauthViaPopup"||v!=(this.g||null)||(d&&this.C?this.C(d):l&&!d&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,l){return s=="linkViaPopup"&&l==(this.g||null)?D(this.Lb,this):s=="reauthViaPopup"&&l==(this.g||null)?D(this.Mb,this):s=="linkViaRedirect"&&(this.ga||null)==l?D(this.Lb,this):s=="reauthViaRedirect"&&(this.ga||null)==l?D(this.Mb,this):null},t.Ec=function(s){var l=this;return vR(this,"linkViaPopup",s,function(){return lg(l,s.providerId).then(function(){return Na(l)})},!1)},t.Nc=function(s){return vR(this,"reauthViaPopup",s,function(){return _e()},!0)};function vR(s,l,d,v,_){if(!wa())return At(new R("operation-not-supported-in-this-environment"));if(s.i&&!_)return At(s.i);var E=ab(d.providerId),I=Ea(s.uid+":::"),O=null;(!gf()||$_())&&s.s&&d.isOAuthProvider&&(O=Nf(s.s,s.l,s.m,l,d,null,I,ke.SDK_VERSION||null,null,null,s.tenantId,s.u));var G=ox(O,E&&E.va,E&&E.ua);return v=v().then(function(){if(yR(s),!_)return s.I().then(function(){})}).then(function(){return Xk(s.b,G,l,d,I,!!O,s.tenantId)}).then(function(){return new ce(function(ne,qe){s.na(l,null,new R("cancelled-popup-request"),s.g||null),s.f=ne,s.C=qe,s.g=I,s.c=Jk(s.b,s,l,G,I)})}).then(function(ne){return G&&ba(G),ne?io(ne):null}).o(function(ne){throw G&&ba(G),ne}),_n(s,v,_)}t.Fc=function(s){var l=this;return mR(this,"linkViaRedirect",s,function(){return lg(l,s.providerId)},!1)},t.Oc=function(s){return mR(this,"reauthViaRedirect",s,function(){return _e()},!0)};function mR(s,l,d,v,_){if(!wa())return At(new R("operation-not-supported-in-this-environment"));if(s.i&&!_)return At(s.i);var E=null,I=Ea(s.uid+":::");return v=v().then(function(){if(yR(s),!_)return s.I().then(function(){})}).then(function(){return s.ga=I,Na(s)}).then(function(O){return s.ha&&(O=s.ha,O=O.b.set(C0,s.w(),O.a)),O}).then(function(){return Qk(s.b,l,d,I,s.tenantId)}).o(function(O){if(E=O,s.ha)return bR(s.ha);throw E}).then(function(){if(E)throw E}),_n(s,v,_)}function yR(s){if(!s.b||!s.P)throw s.b&&!s.P?new R("internal-error"):new R("auth-domain-config-required")}t.Lb=function(s,l,d,v){var _=this;this.c&&(this.c.cancel(),this.c=null);var E=null;return d=this.I().then(function(I){return Db(_.a,{requestUri:s,postBody:v,sessionId:l,idToken:I})}).then(function(I){return E=jf(_,I,"link"),gR(_,I)}).then(function(){return E}),_n(this,d)},t.Mb=function(s,l,d,v){var _=this;this.c&&(this.c.cancel(),this.c=null);var E=null,I=_e().then(function(){return lc(Mb(_.a,{requestUri:s,sessionId:l,postBody:v,tenantId:d}),_.uid)}).then(function(O){return E=jf(_,O,"reauthenticate"),so(_,O),_.i=null,_.reload()}).then(function(){return E});return _n(this,I,!0)},t.vb=function(s){var l=this,d=null;return _n(this,this.I().then(function(v){return d=v,typeof s=="undefined"||mn(s)?{}:Op(new Rp(s))}).then(function(v){return l.a.vb(d,v)}).then(function(v){if(l.email!=v)return l.reload()}).then(function(){}))},t.Fb=function(s,l){var d=this,v=null;return _n(this,this.I().then(function(_){return v=_,typeof l=="undefined"||mn(l)?{}:Op(new Rp(l))}).then(function(_){return d.a.Fb(v,s,_)}).then(function(_){if(d.email!=_)return d.reload()}).then(function(){}))};function _n(s,l,d){var v=n$(s,l,d);return s.N.push(v),v.oa(function(){K(s.N,v)}),v.o(function(_){var E=null;throw _&&_.code==="auth/multi-factor-auth-required"&&(E=sR(_.w(),_0(s),D(s.jc,s))),E||_})}t.jc=function(s){var l=null,d=this;return s=lc(_e(s),d.uid).then(function(v){return l=jf(d,v,"reauthenticate"),so(d,v),d.i=null,d.reload()}).then(function(){return l}),_n(this,s,!0)};function n$(s,l,d){return s.i&&!d?(l.cancel(),At(s.i)):l.o(function(v){throw!v||v.code!="auth/user-disabled"&&v.code!="auth/user-token-expired"||(s.i||s.dispatchEvent(new vc("userInvalidated")),s.i=v),v})}t.toJSON=function(){return this.w()},t.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Lt(s,this.metadata.w()),pe(this.providerData,function(l){s.providerData.push(A3(l))}),Lt(s,this.S.w()),s};function _R(s){if(!s.apiKey)return null;var l={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},d={};if(s.stsTokenManager&&s.stsTokenManager.accessToken){d[Ni]=s.stsTokenManager.accessToken,d.refreshToken=s.stsTokenManager.refreshToken||null;var v=s.stsTokenManager.expirationTime;v&&(d.expiresIn=(v-Date.now())/1e3)}else return null;var _=new $r(l,d,s);return s.providerData&&pe(s.providerData,function(E){E&&I0(_,io(E))}),s.redirectEventId&&(_.ga=s.redirectEventId),_}function r$(s,l,d,v){var _=new $r(s,l);return d&&(_.ha=d),v&&Ff(_,v),_.reload().then(function(){return _})}function i$(s,l,d,v){var _=s.h,E={};return E[Ni]=_.b&&_.b.toString(),E.refreshToken=_.a,l=new $r(l||{apiKey:s.l,authDomain:s.s,appName:s.m},E),d&&(l.ha=d),v&&Ff(l,v),cg(l,s),l}function o$(s){this.a=s,this.b=Lf()}var C0={name:"redirectUser",F:"session"};function bR(s){return gc(s.b,C0,s.a)}function s$(s,l){return s.b.get(C0,s.a).then(function(d){return d&&l&&(d.authDomain=l),_R(d||{})})}function A0(s){this.a=s,this.b=Lf(),this.c=null,this.f=a$(this),this.b.addListener(ao("local"),this.a,D(this.g,this))}A0.prototype.g=function(){var s=this,l=ao("local");mc(this,function(){return _e().then(function(){return s.c&&s.c.F!="local"?s.b.get(l,s.a):null}).then(function(d){if(d)return x0(s,"local").then(function(){s.c=l})})})};function x0(s,l){var d=[],v;for(v in dc)dc[v]!==l&&d.push(gc(s.b,ao(dc[v]),s.a));return d.push(gc(s.b,k0,s.a)),Po(d)}function a$(s){var l=ao("local"),d=ao("session"),v=ao("none");return EH(s.b,l,s.a).then(function(){return s.b.get(d,s.a)}).then(function(_){return _?d:s.b.get(v,s.a).then(function(E){return E?v:s.b.get(l,s.a).then(function(I){return I?l:s.b.get(k0,s.a).then(function(O){return O?ao(O):l})})})}).then(function(_){return s.c=_,x0(s,_.F)}).o(function(){s.c||(s.c=l)})}var k0={name:"persistence",F:"session"};function ao(s){return{name:"authUser",F:s}}A0.prototype.yb=function(s){var l=null,d=this;return wH(s),mc(this,function(){return s!=d.c.F?d.b.get(d.c,d.a).then(function(v){return l=v,x0(d,s)}).then(function(){if(d.c=ao(s),l)return d.b.set(d.c,l,d.a)}):_e()})};function u$(s){return mc(s,function(){return s.b.set(k0,s.c.F,s.a)})}function wR(s,l){return mc(s,function(){return s.b.set(s.c,l.w(),s.a)})}function ER(s){return mc(s,function(){return gc(s.b,s.c,s.a)})}function TR(s,l,d){return mc(s,function(){return s.b.get(s.c,s.a).then(function(v){return v&&l&&(v.authDomain=l),v&&d&&(v.emulatorConfig=d),_R(v||{})})})}function mc(s,l){return s.f=s.f.then(l,l),s.f}function Pi(s){if(this.l=!1,xe(this,"settings",new rR),xe(this,"app",s),Mt(this).options&&Mt(this).options.apiKey)s=ke.SDK_VERSION?sc(ke.SDK_VERSION):null,this.a=new Oi(Mt(this).options&&Mt(this).options.apiKey,ve(H),s);else throw new R("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ke.INTERNAL.createSubscribe(D(this.zc,this)),this.W=void 0,this.ib=ke.INTERNAL.createSubscribe(D(this.Ac,this)),yc(this,null),this.i=new A0(Mt(this).options.apiKey+":"+Mt(this).name),this.D=new o$(Mt(this).options.apiKey+":"+Mt(this).name),this.$=en(this,p$(this)),this.h=en(this,g$(this)),this.ba=!1,this.ja=D(this.Zc,this),this.Ba=D(this.da,this),this.qa=D(this.mc,this),this.za=D(this.wc,this),this.Aa=D(this.xc,this),this.b=null,f$(this),this.INTERNAL={},this.INTERNAL.delete=D(this.delete,this),this.INTERNAL.logFramework=D(this.Gc,this),this.u=0,pr.call(this),l$(this),this.J=[],this.R=null}B(Pi,pr);function IR(s){xr.call(this,"languageCodeChanged"),this.h=s}B(IR,xr);function SR(s){xr.call(this,"emulatorConfigChanged"),this.c=s}B(SR,xr);function CR(s){xr.call(this,"frameworkChanged"),this.f=s}B(CR,xr),t=Pi.prototype,t.yb=function(s){return s=this.i.yb(s),en(this,s)},t.xa=function(s){this.aa===s||this.l||(this.aa=s,sk(this.a,this.aa),this.dispatchEvent(new IR(this.la())))},t.la=function(){return this.aa},t.fd=function(){var s=c.navigator;this.xa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},t.gd=function(s,l){if(!this.R){if(!/^https?:\/\//.test(s))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");l=l?!!l.disableWarnings:!1,c$(l),this.R={url:s,ec:l},this.settings.jb=!0,Xp(this.a,this.R),this.dispatchEvent(new SR(this.R))}};function c$(s){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!s&&Ap().then(function(){var l=c.document.createElement("div");l.innerText="Running in emulator mode. Do not use with production credentials.",l.style.position="fixed",l.style.width="100%",l.style.backgroundColor="#ffffff",l.style.border=".1em solid #000000",l.style.color="#b50000",l.style.bottom="0px",l.style.left="0px",l.style.margin="0px",l.style.zIndex=1e4,l.style.textAlign="center",l.classList.add("firebase-emulator-warning"),c.document.body.appendChild(l)})}t.Gc=function(s){this.J.push(s),ak(this.a,ke.SDK_VERSION?sc(ke.SDK_VERSION,this.J):null),this.dispatchEvent(new CR(this.J))},t.Ga=function(){return se(this.J)},t.zb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},t.T=function(){return this.S};function l$(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(l){this.xa(l)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(l){this.zb(l)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.R){var l=kr(this.R.url);l=io({protocol:l.c,host:l.a,port:l.g,options:io({disableWarnings:this.R.ec})})}else l=null;return l},enumerable:!1})}t.toJSON=function(){return{apiKey:Mt(this).options.apiKey,authDomain:Mt(this).options.authDomain,appName:Mt(this).name,currentUser:Xe(this)&&Xe(this).w()}};function R0(s){return s.Oa||At(new R("auth-domain-config-required"))}function f$(s){var l=Mt(s).options.authDomain,d=Mt(s).options.apiKey;l&&wa()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=o0(l,d,Mt(s).name,s.R),ig(s.b,s),Xe(s)&&Uf(Xe(s)),s.m){Uf(s.m);var v=s.m;v.xa(s.la()),v0(v,s),v=s.m,Ff(v,s.J),y0(v,s),v=s.m,g0(v,s.R),m0(v,s),s.m=null}return s.b}}))}t.Gb=function(s,l){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==l&&!!this.f;default:return!1}},t.na=function(s,l,d,v){s=="signInViaPopup"&&this.g==v&&(d&&this.C?this.C(d):l&&!d&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,l){return s=="signInViaRedirect"||s=="signInViaPopup"&&this.g==l&&this.f?D(this.ic,this):null},t.ic=function(s,l,d,v){var _=this,E={requestUri:s,postBody:v,sessionId:l,tenantId:d};return this.c&&(this.c.cancel(),this.c=null),_.$.then(function(){return Pa(_,Pb(_.a,E))})},t.Xc=function(s){if(!wa())return At(new R("operation-not-supported-in-this-environment"));var l=this,d=ab(s.providerId),v=Ea(),_=null;(!gf()||$_())&&Mt(this).options.authDomain&&s.isOAuthProvider&&(_=Nf(Mt(this).options.authDomain,Mt(this).options.apiKey,Mt(this).name,"signInViaPopup",s,null,v,ke.SDK_VERSION||null,null,null,this.T(),this.R));var E=ox(_,d&&d.va,d&&d.ua);return d=R0(this).then(function(I){return Xk(I,E,"signInViaPopup",s,v,!!_,l.T())}).then(function(){return new ce(function(I,O){l.na("signInViaPopup",null,new R("cancelled-popup-request"),l.g),l.f=I,l.C=O,l.g=v,l.c=Jk(l.b,l,"signInViaPopup",E,v)})}).then(function(I){return E&&ba(E),I?io(I):null}).o(function(I){throw E&&ba(E),I}),en(this,d)},t.Yc=function(s){if(!wa())return At(new R("operation-not-supported-in-this-environment"));var l=this,d=R0(this).then(function(){return u$(l.i)}).then(function(){return Qk(l.b,"signInViaRedirect",s,void 0,l.T())});return en(this,d)};function AR(s){if(!wa())return At(new R("operation-not-supported-in-this-environment"));var l=R0(s).then(function(){return s.b.ra()}).then(function(d){return d?io(d):null});return en(s,l)}t.ra=function(){var s=this;return AR(this).then(function(l){return s.b&&sg(s.b.b),l}).o(function(l){throw s.b&&sg(s.b.b),l})},t.dd=function(s){if(!s)return At(new R("null-user"));if(this.S!=s.tenantId)return At(new R("tenant-id-mismatch"));var l=this,d={};d.apiKey=Mt(this).options.apiKey,d.authDomain=Mt(this).options.authDomain,d.appName=Mt(this).name;var v=i$(s,d,l.D,l.Ga());return en(this,this.h.then(function(){if(Mt(l).options.apiKey!=s.l)return v.reload()}).then(function(){return Xe(l)&&s.uid==Xe(l).uid?(cg(Xe(l),s),l.da(s)):(yc(l,v),Uf(v),l.da(v))}).then(function(){Bf(l)}))};function h$(s,l){var d={};return d.apiKey=Mt(s).options.apiKey,d.authDomain=Mt(s).options.authDomain,d.appName=Mt(s).name,s.R&&(d.emulatorConfig=s.R),s.$.then(function(){return r$(d,l,s.D,s.Ga())}).then(function(v){return Xe(s)&&v.uid==Xe(s).uid?(cg(Xe(s),v),s.da(v)):(yc(s,v),Uf(v),s.da(v))}).then(function(){Bf(s)})}function yc(s,l){Xe(s)&&(ZH(Xe(s),s.Ba),qr(Xe(s),"tokenChanged",s.qa),qr(Xe(s),"userDeleted",s.za),qr(Xe(s),"userInvalidated",s.Aa),b0(Xe(s))),l&&(l.W.push(s.Ba),ii(l,"tokenChanged",s.qa),ii(l,"userDeleted",s.za),ii(l,"userInvalidated",s.Aa),0<s.u&&fR(l)),xe(s,"currentUser",l),l&&(l.xa(s.la()),v0(l,s),Ff(l,s.J),y0(l,s),g0(l,s.R),m0(l,s))}t.Bb=function(){var s=this,l=this.h.then(function(){return s.b&&sg(s.b.b),Xe(s)?(yc(s,null),ER(s.i).then(function(){Bf(s)})):_e()});return en(this,l)};function d$(s){var l=s$(s.D,Mt(s).options.authDomain).then(function(d){return(s.m=d)&&(d.ha=s.D),bR(s.D)});return en(s,l)}function p$(s){var l=Mt(s).options.authDomain,d=d$(s).then(function(){return TR(s.i,l,s.R)}).then(function(v){return v?(v.ha=s.D,s.m&&(s.m.ga||null)==(v.ga||null)?v:v.reload().then(function(){return wR(s.i,v).then(function(){return v})}).o(function(_){return _.code=="auth/network-request-failed"?v:ER(s.i)})):null}).then(function(v){yc(s,v||null)});return en(s,d)}function g$(s){return s.$.then(function(){return AR(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var l=s.i;l.b.addListener(ao("local"),l.a,s.ja)}})}t.Zc=function(){var s=this;return TR(this.i,Mt(this).options.authDomain).then(function(l){if(!s.l){var d;if(d=Xe(s)&&l){d=Xe(s).uid;var v=l.uid;d=d==null||d===""||v===void 0||v===null||v===""?!1:d==v}if(d)return cg(Xe(s),l),Xe(s).I();(Xe(s)||l)&&(yc(s,l),l&&(Uf(l),l.ha=s.D),s.b&&ig(s.b,s),Bf(s))}})},t.da=function(s){return wR(this.i,s)},t.mc=function(){Bf(this),this.da(Xe(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function Pa(s,l){var d=null,v=null;return en(s,l.then(function(_){return d=db(_),v=Ox(_),h$(s,_)},function(_){var E=null;throw _&&_.code==="auth/multi-factor-auth-required"&&(E=sR(_.w(),s,D(s.kc,s))),E||_}).then(function(){return io({user:Xe(s),credential:d,additionalUserInfo:v,operationType:"signIn"})}))}t.kc=function(s){var l=this;return this.h.then(function(){return Pa(l,_e(s))})},t.zc=function(s){var l=this;this.addAuthTokenListener(function(){s.next(Xe(l))})},t.Ac=function(s){var l=this;v$(this,function(){s.next(Xe(l))})},t.Ic=function(s,l,d){var v=this;return this.ba&&Promise.resolve().then(function(){typeof s=="function"?s(Xe(v)):typeof s.next=="function"&&s.next(Xe(v))}),this.Pa(s,l,d)},t.Hc=function(s,l,d){var v=this;return this.ba&&Promise.resolve().then(function(){v.W=v.getUid(),typeof s=="function"?s(Xe(v)):typeof s.next=="function"&&s.next(Xe(v))}),this.ib(s,l,d)},t.nc=function(s){var l=this,d=this.h.then(function(){return Xe(l)?Xe(l).I(s).then(function(v){return{accessToken:v}}):null});return en(this,d)},t.Tc=function(s){var l=this;return this.h.then(function(){return Pa(l,at(l.a,Xq,{token:s}))}).then(function(d){var v=d.user;return _s(v,"isAnonymous",!1),l.da(v),d})},t.Uc=function(s,l){var d=this;return this.h.then(function(){return Pa(d,at(d.a,vk,{email:s,password:l}))})},t.dc=function(s,l){var d=this;return this.h.then(function(){return Pa(d,at(d.a,Aq,{email:s,password:l}))})},t.ab=function(s){var l=this;return this.h.then(function(){return Pa(l,s.ka(l.a))})},t.Sc=function(s){return G_("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(s)},t.Ab=function(){var s=this;return this.h.then(function(){var l=Xe(s);if(l&&l.isAnonymous){var d=io({providerId:null,isNewUser:!1});return io({user:l,credential:null,additionalUserInfo:d,operationType:"signIn"})}return Pa(s,s.a.Ab()).then(function(v){var _=v.user;return _s(_,"isAnonymous",!0),s.da(_),v})})};function Mt(s){return s.app}function Xe(s){return s.currentUser}t.getUid=function(){return Xe(this)&&Xe(this).uid||null};function fg(s){return Xe(s)&&Xe(s)._lat||null}function Bf(s){if(s.ba){for(var l=0;l<s.s.length;l++)s.s[l]&&s.s[l](fg(s));if(s.W!==s.getUid()&&s.N.length)for(s.W=s.getUid(),l=0;l<s.N.length;l++)s.N[l]&&s.N[l](fg(s))}}t.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&Xe(this)&&fR(Xe(this))},t.Pc=function(s){var l=this;pe(this.s,function(d){d==s&&l.u--}),0>this.u&&(this.u=0),this.u==0&&Xe(this)&&b0(Xe(this)),this.removeAuthTokenListener(s)},t.addAuthTokenListener=function(s){var l=this;this.s.push(s),en(this,this.h.then(function(){l.l||U(l.s,s)&&s(fg(l))}))},t.removeAuthTokenListener=function(s){Z(this.s,function(l){return l==s})};function v$(s,l){s.N.push(l),en(s,s.h.then(function(){!s.l&&U(s.N,l)&&s.W!==s.getUid()&&(s.W=s.getUid(),l(fg(s)))}))}t.delete=function(){this.l=!0;for(var s=0;s<this.P.length;s++)this.P[s].cancel("app-deleted");return this.P=[],this.i&&(s=this.i,s.b.removeListener(ao("local"),s.a,this.ja)),this.b&&(n0(this.b,this),sg(this.b.b)),Promise.resolve()};function en(s,l){return s.P.push(l),l.oa(function(){K(s.P,l)}),l}t.hc=function(s){return en(this,yq(this.a,s))},t.Bc=function(s){return!!hb(s)},t.xb=function(s,l){var d=this;return en(this,_e().then(function(){var v=new Rp(l);if(!v.c)throw new R("argument-error",ob+" must be true when sending sign in link to email");return Op(v)}).then(function(v){return d.a.xb(s,v)}).then(function(){}))},t.jd=function(s){return this.Sa(s).then(function(l){return l.data.email})},t.ob=function(s,l){return en(this,this.a.ob(s,l).then(function(){}))},t.Sa=function(s){return en(this,this.a.Sa(s).then(function(l){return new k3(l)}))},t.kb=function(s){return en(this,this.a.kb(s).then(function(){}))},t.wb=function(s,l){var d=this;return en(this,_e().then(function(){return typeof l=="undefined"||mn(l)?{}:Op(new Rp(l))}).then(function(v){return d.a.wb(s,v)}).then(function(){}))},t.Wc=function(s,l){return en(this,a0(this,s,l,D(this.ab,this)))},t.Vc=function(s,l){var d=this;return en(this,_e().then(function(){var v=l||pf(),_=Hx(s,v);if(v=hb(v),!v)throw new R("argument-error","Invalid email link!");if(v.tenantId!==d.T())throw new R("tenant-id-mismatch");return d.ab(_)}))};function Vf(){}Vf.prototype.render=function(){},Vf.prototype.reset=function(){},Vf.prototype.getResponse=function(){},Vf.prototype.execute=function(){};function _c(){this.a={},this.b=1e12}var O0=null;_c.prototype.render=function(s,l){return this.a[this.b.toString()]=new hg(s,l),this.b++},_c.prototype.reset=function(s){var l=N0(this,s);s=xR(s),l&&s&&(l.delete(),delete this.a[s])},_c.prototype.getResponse=function(s){return(s=N0(this,s))?s.getResponse():null},_c.prototype.execute=function(s){(s=N0(this,s))&&s.execute()};function N0(s,l){return(l=xR(l))&&s.a[l]||null}function xR(s){return(s=typeof s=="undefined"?1e12:s)?s.toString():null}function hg(s,l){this.g=!1,this.c=l,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=pa(s);var d=this;this.i=function(){d.execute()},this.h?this.execute():ii(this.f,"click",this.i)}hg.prototype.getResponse=function(){return P0(this),this.b},hg.prototype.execute=function(){P0(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=T3();var l=s.c.callback,d=s.c["expired-callback"];if(l)try{l(s.b)}catch{}s.a=setTimeout(function(){if(s.a=null,s.b=null,d)try{d()}catch{}s.h&&s.execute()},6e4)},500))},hg.prototype.delete=function(){P0(this),this.g=!0,clearTimeout(this.a),this.a=null,qr(this.f,"click",this.i)};function P0(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function D0(){}xe(D0,"FACTOR_ID","phone");function M0(){}M0.prototype.g=function(){return O0||(O0=new _c),_e(O0)},M0.prototype.c=function(){};var L0=null;function F0(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var m$=new ri(hs,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),y$=new vs(3e4,6e4);F0.prototype.g=function(s){var l=this;return new ce(function(d,v){var _=setTimeout(function(){v(new R("network-request-failed"))},y$.get());if(!c.grecaptcha||s!==l.f&&!l.b){c[l.a]=function(){if(c.grecaptcha){l.f=s;var I=c.grecaptcha.render;c.grecaptcha.render=function(O,G){return O=I(O,G),l.b++,O},clearTimeout(_),d(c.grecaptcha)}else clearTimeout(_),v(new R("internal-error"));delete c[l.a]};var E=Ql(m$,{onload:l.a,hl:s||""});_e(Cb(E)).o(function(){clearTimeout(_),v(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(_),d(c.grecaptcha)})},F0.prototype.c=function(){this.b--};var U0=null;function j0(s,l,d,v,_,E,I){if(xe(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=l,this.g=null,I?(L0||(L0=new M0),I=L0):(U0||(U0=new F0),I=U0),this.m=I,this.a=d||{theme:"light",type:"image"},this.h=[],this.a[OR])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[_$]==="invisible",!c.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!pa(l)||!this.i&&pa(l).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Oi(s,E||null,_||null),this.u=v||function(){return null};var O=this;this.l=[];var G=this.a[kR];this.a[kR]=function(qe){if(NR(O,qe),typeof G=="function")G(qe);else if(typeof G=="string"){var xt=Kt(G,c);typeof xt=="function"&&xt(qe)}};var ne=this.a[RR];this.a[RR]=function(){if(NR(O,null),typeof ne=="function")ne();else if(typeof ne=="string"){var qe=Kt(ne,c);typeof qe=="function"&&qe()}}}var kR="callback",RR="expired-callback",OR="sitekey",_$="size";function NR(s,l){for(var d=0;d<s.l.length;d++)try{s.l[d](l)}catch{}}function b$(s,l){Z(s.l,function(d){return d==l})}function B0(s,l){return s.h.push(l),l.oa(function(){K(s.h,l)}),l}t=j0.prototype,t.Ia=function(){var s=this;return this.f?this.f:this.f=B0(this,_e().then(function(){if(xp()&&!ki())return Ap();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(l){return s.g=l,at(s.s,Vq,{})}).then(function(l){s.a[OR]=l.recaptchaSiteKey}).o(function(l){throw s.f=null,l}))},t.render=function(){dg(this);var s=this;return B0(this,this.Ia().then(function(){if(s.c===null){var l=s.v;if(!s.i){var d=pa(l);l=A_("DIV"),d.appendChild(l)}s.c=s.g.render(l,s.a)}return s.c}))},t.verify=function(){dg(this);var s=this;return B0(this,this.render().then(function(l){return new ce(function(d){var v=s.g.getResponse(l);if(v)d(v);else{var _=function(E){E&&(b$(s,_),d(E))};s.l.push(_),s.i&&s.g.execute(s.c)}})}))},t.reset=function(){dg(this),this.c!==null&&this.g.reset(this.c)};function dg(s){if(s.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){dg(this),this.J=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=pa(this.v);for(var l;l=s.firstChild;)s.removeChild(l)}};function V0(s,l,d){var v=!1;try{this.b=d||ke.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)d=this.b.options.apiKey;else throw new R("invalid-api-key");var _=this,E=null;try{E=this.b.auth().Ga()}catch{}try{v=this.b.auth().settings.appVerificationDisabledForTesting}catch{}E=ke.SDK_VERSION?sc(ke.SDK_VERSION,E):null,j0.call(this,d,s,l,function(){try{var I=_.b.auth().la()}catch{I=null}return I},E,ve(H),v)}B(V0,j0);function PR(s,l,d,v){e:{d=Array.prototype.slice.call(d);for(var _=0,E=!1,I=0;I<l.length;I++)if(l[I].optional)E=!0;else{if(E)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");_++}if(E=l.length,d.length<_||E<d.length)v="Expected "+(_==E?_==1?"1 argument":_+" arguments":_+"-"+E+" arguments")+" but got "+d.length+".";else{for(_=0;_<d.length;_++)if(E=l[_].optional&&d[_]===void 0,!l[_].M(d[_])&&!E){if(l=l[_],0>_||_>=DR.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");d=DR[_],v=(v?"":d+" argument ")+(l.name?'"'+l.name+'" ':"")+"must be "+l.K+".";break e}v=null}}if(v)throw new R("argument-error",s+" failed: "+v)}var DR="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ae(s,l){return{name:s||"",K:"a valid string",optional:!!l,M:function(d){return typeof d=="string"}}}function q0(s,l){return{name:s||"",K:"a boolean",optional:!!l,M:function(d){return typeof d=="boolean"}}}function fn(s,l){return{name:s||"",K:"a valid object",optional:!!l,M:w}}function bc(s,l){return{name:s||"",K:"a function",optional:!!l,M:function(d){return typeof d=="function"}}}function uo(s,l){return{name:s||"",K:"null",optional:!!l,M:function(d){return d===null}}}function w$(){return{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}}}function E$(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof Pi)}}}function T$(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof ke.app.App)}}}function bs(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(l){if(!l)return!1;var d=!s||l.providerId===s;return!(!l.ka||!d)}}}function MR(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return s?!!s.tb:!1}}}function wc(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}}function H0(s,l){return w(s)&&typeof s.type=="string"&&s.type===l&&typeof s.Ha=="function"}function LR(s){return w(s)&&typeof s.uid=="string"}function pg(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||typeof s.type!="string"||typeof s.verify!="function")}}}function sn(s,l,d,v){return{name:d||"",K:s.K+" or "+l.K,optional:!!v,M:function(_){return s.M(_)||l.M(_)}}}function Xt(s,l){for(var d in l){var v=l[d].name;s[v]=UR(v,s[d],l[d].j)}}function FR(s,l){for(var d in l){var v=l[d].name;v!==d&&Object.defineProperty(s,v,{get:$(function(_){return this[_]},d),set:$(function(_,E,I,O){PR(_,[I],[O],!0),this[E]=O},v,d,l[d].lb),enumerable:!0})}}function an(s,l,d,v){s[l]=UR(l,d,v)}function UR(s,l,d){function v(){var I=Array.prototype.slice.call(arguments);return PR(_,d,I),l.apply(this,I)}if(!d)return l;var _=I$(s),E;for(E in l)v[E]=l[E];for(E in l.prototype)v.prototype[E]=l.prototype[E];return v}function I$(s){return s=s.split("."),s[s.length-1]}Xt(Pi.prototype,{kb:{name:"applyActionCode",j:[Ae("code")]},Sa:{name:"checkActionCode",j:[Ae("code")]},ob:{name:"confirmPasswordReset",j:[Ae("code"),Ae("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ae("email"),Ae("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ae("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ae("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sn(fn(),bc(),"nextOrObserver"),bc("opt_error",!0),bc("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sn(fn(),bc(),"nextOrObserver"),bc("opt_error",!0),bc("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Ae("email"),sn(fn("opt_actionCodeSettings",!0),uo(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Ae("email"),fn("actionCodeSettings")]},yb:{name:"setPersistence",j:[Ae("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[bs()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[bs()]},Tc:{name:"signInWithCustomToken",j:[Ae("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ae("email"),Ae("password")]},Vc:{name:"signInWithEmailLink",j:[Ae("email"),Ae("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ae("phoneNumber"),pg()]},Xc:{name:"signInWithPopup",j:[wc()]},Yc:{name:"signInWithRedirect",j:[wc()]},dd:{name:"updateCurrentUser",j:[sn(function(s){return{name:"user",K:"an instance of Firebase User",optional:!!s,M:function(l){return!!(l&&l instanceof $r)}}}(),uo(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ae(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ae("url"),fn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ae("code")]}}),FR(Pi.prototype,{lc:{name:"languageCode",lb:sn(Ae(),uo(),"languageCode")},ti:{name:"tenantId",lb:sn(Ae(),uo(),"tenantId")}}),Pi.Persistence=dc,Pi.Persistence.LOCAL="local",Pi.Persistence.SESSION="session",Pi.Persistence.NONE="none",Xt($r.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[q0("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[q0("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[bs()]},rb:{name:"linkWithCredential",j:[bs()]},Dc:{name:"linkWithPhoneNumber",j:[Ae("phoneNumber"),pg()]},Ec:{name:"linkWithPopup",j:[wc()]},Fc:{name:"linkWithRedirect",j:[wc()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[bs()]},ub:{name:"reauthenticateWithCredential",j:[bs()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ae("phoneNumber"),pg()]},Nc:{name:"reauthenticateWithPopup",j:[wc()]},Oc:{name:"reauthenticateWithRedirect",j:[wc()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[sn(fn("opt_actionCodeSettings",!0),uo(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ae(null,!0)]},cd:{name:"unlink",j:[Ae("provider")]},Cb:{name:"updateEmail",j:[Ae("email")]},Db:{name:"updatePassword",j:[Ae("password")]},ed:{name:"updatePhoneNumber",j:[bs("phone")]},Eb:{name:"updateProfile",j:[fn("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Ae("email"),sn(fn("opt_actionCodeSettings",!0),uo(null,!0),"opt_actionCodeSettings",!0)]}}),Xt(_c.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Xt(Vf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Xt(ce.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),FR(rR.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:q0("appVerificationDisabledForTesting")}}),Xt(s0.prototype,{confirm:{name:"confirm",j:[Ae("verificationCode")]}}),an(cc,"fromJSON",function(s){s=typeof s=="string"?JSON.parse(s):s;for(var l,d=[K3,G3,Y3,z3],v=0;v<d.length;v++)if(l=d[v](s))return l;return null},[sn(Ae(),fn(),"json")]),an(si,"credential",function(s,l){return new ms(s,l)},[Ae("email"),Ae("password")]),Xt(ms.prototype,{w:{name:"toJSON",j:[Ae(null,!0)]}}),Xt(Sa.prototype,{Ca:{name:"addScope",j:[Ae("scope")]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),an(Sa,"credential",jx,[sn(Ae(),fn(),"token")]),an(si,"credentialWithLink",Hx,[Ae("email"),Ae("emailLink")]),Xt(Ca.prototype,{Ca:{name:"addScope",j:[Ae("scope")]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),an(Ca,"credential",Bx,[sn(Ae(),fn(),"token")]),Xt(Aa.prototype,{Ca:{name:"addScope",j:[Ae("scope")]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),an(Aa,"credential",Vx,[sn(Ae(),sn(fn(),uo()),"idToken"),sn(Ae(),uo(),"accessToken",!0)]),Xt(fc.prototype,{Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),an(fc,"credential",qx,[sn(Ae(),fn(),"token"),Ae("secret",!0)]),Xt(Hr.prototype,{Ca:{name:"addScope",j:[Ae("scope")]},credential:{name:"credential",j:[sn(Ae(),sn(fn(),uo()),"optionsOrIdToken"),sn(Ae(),uo(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),Xt(Do.prototype,{w:{name:"toJSON",j:[Ae(null,!0)]}}),Xt(Ta.prototype,{w:{name:"toJSON",j:[Ae(null,!0)]}}),an(Mo,"credential",$x,[Ae("verificationId"),Ae("verificationCode")]),Xt(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[sn(Ae(),function(s,l){return{name:s||"phoneInfoOptions",K:"valid phone info options",optional:!!l,M:function(d){return d?d.session&&d.phoneNumber?H0(d.session,wf)&&typeof d.phoneNumber=="string":d.session&&d.multiFactorHint?H0(d.session,Lp)&&LR(d.multiFactorHint):d.session&&d.multiFactorUid?H0(d.session,Lp)&&typeof d.multiFactorUid=="string":d.phoneNumber?typeof d.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),pg()]}}),Xt(ys.prototype,{w:{name:"toJSON",j:[Ae(null,!0)]}}),Xt(R.prototype,{toJSON:{name:"toJSON",j:[Ae(null,!0)]}}),Xt(Tf.prototype,{toJSON:{name:"toJSON",j:[Ae(null,!0)]}}),Xt(vb.prototype,{toJSON:{name:"toJSON",j:[Ae(null,!0)]}}),Xt(c0.prototype,{toJSON:{name:"toJSON",j:[Ae(null,!0)]}}),Xt(u0.prototype,{Rc:{name:"resolveSignIn",j:[MR()]}}),Xt(f0.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[MR(),Ae("displayName",!0)]},bd:{name:"unenroll",j:[sn({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:LR},Ae(),"multiFactorInfoIdentifier")]}}),Xt(V0.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),an(ib,"parseLink",wx,[Ae("link")]),an(D0,"assertion",function(s){return new uR(s)},[bs("phone")]),function(){if(typeof ke!="undefined"&&ke.INTERNAL&&ke.INTERNAL.registerComponent){var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:kp,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:rb,VERIFY_AND_CHANGE_EMAIL:_f,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Pi,AuthCredential:cc,Error:R};an(s,"EmailAuthProvider",si,[]),an(s,"FacebookAuthProvider",Sa,[]),an(s,"GithubAuthProvider",Ca,[]),an(s,"GoogleAuthProvider",Aa,[]),an(s,"TwitterAuthProvider",fc,[]),an(s,"OAuthProvider",Hr,[Ae("providerId")]),an(s,"SAMLAuthProvider",Ux,[Ae("providerId")]),an(s,"PhoneAuthProvider",Mo,[E$()]),an(s,"RecaptchaVerifier",V0,[sn(Ae(),w$(),"recaptchaContainer"),fn("recaptchaParameters",!0),T$()]),an(s,"ActionCodeURL",ib,[]),an(s,"PhoneMultiFactorGenerator",D0,[]),ke.INTERNAL.registerComponent({name:"auth",instanceFactory:function(l){return l=l.getProvider("app").getImmediate(),new Pi(l)},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(l){l.getProvider("auth-internal").initialize()}}),ke.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(l){return l=l.getProvider("auth").getImmediate(),{getUid:D(l.getUid,l),getToken:D(l.nc,l),addAuthTokenListener:D(l.cc,l),removeAuthTokenListener:D(l.Pc,l)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ke.registerVersion("@firebase/auth","0.16.8"),ke.INTERNAL.extendNamespace({User:$r})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var bee="@firebase/database",wee="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pU="";function gU(t){pU=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eee=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),In(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Nh(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tee=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return Kr(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vU=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Eee(e)}}catch{}return new Tee},Nu=vU("localStorage"),vS=vU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kl=new cu("@firebase/database"),mU=function(){var t=1;return function(){return t++}}(),yU=function(t){var e=B8(t),n=new L8;n.update(e);var r=n.digest();return Gv.encodeByteArray(r)},Sd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Sd.apply(null,i):typeof i=="object"?n+=In(i):n+=i,n+=" "}return n},Pu=null,_U=!0,bU=function(t,e){ue(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(kl.logLevel=rt.VERBOSE,Pu=kl.log.bind(kl),e&&vS.set("logging_enabled",!0)):typeof t=="function"?Pu=t:(Pu=null,vS.remove("logging_enabled"))},jn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(_U===!0&&(_U=!1,Pu===null&&vS.get("logging_enabled")===!0&&bU(!0)),Pu){var n=Sd.apply(null,t);Pu(n)}},Cd=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];jn.apply(void 0,Je([t],$n(e)))}},mS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Sd.apply(void 0,Je([],$n(t)));kl.error(n)},Io=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Sd.apply(void 0,Je([],$n(t)));throw kl.error(n),new Error(n)},Qn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Sd.apply(void 0,Je([],$n(t)));kl.warn(n)},Iee=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ly=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},See=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ns="[MIN_NAME]",So="[MAX_NAME]",Du=function(t,e){if(t===e)return 0;if(t===ns||e===So)return-1;if(e===ns||t===So)return 1;var n=fy(t),r=fy(e);return n!==null?r!==null?n-r==0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},Cee=function(t,e){return t===e?0:t<e?-1:1},Ad=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+In(e))},yS=function(t){if(typeof t!="object"||t===null)return In(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=In(e[i]),r+=":",r+=yS(t[e[i]]);return r+="}",r},wU=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Cn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var EU=function(t){ue(!ly(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,o,a,u,c;t===0?(o=0,a=0,i=1/t==-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=u+r,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));var f=[];for(c=n;c;c-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(i?1:0),f.reverse();var h=f.join(""),p="";for(c=0;c<64;c+=8){var g=parseInt(h.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},Aee=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xee=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kee(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var Ree=new RegExp("^-?(0*)\\d{1,10}$"),TU=-2147483648,_S=2147483647,fy=function(t){if(Ree.test(t)){var e=Number(t);if(e>=TU&&e<=_S)return e}return null},Rl=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw Qn("Exception was thrown by user callback.",n),e},Math.floor(0))}},Oee=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xd=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nee=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){Qn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pee=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(jn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qn(e)},t}(),kd=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bS="5",IU="v",SU="s",CU="r",AU="f",xU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kU="ls",Dee="p",wS="ac",RU="websocket",OU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ES=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=!1),a===void 0&&(a=""),u===void 0&&(u=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nu.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Nu.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function Mee(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function NU(t,e,n){ue(typeof e=="string","typeof type must == string"),ue(typeof n=="object","typeof params must == object");var r;if(e===RU)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===OU)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Mee(t)&&(n.ns=t.namespace);var i=[];return Cn(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lee=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),Kr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return qD(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TS={},IS={};function SS(t){var e=t.toString();return TS[e]||(TS[e]=new Lee),TS[e]}function Fee(t,e){var n=t.toString();return IS[n]||(IS[n]=e()),IS[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uee=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var u=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var c=function(h){u[h]&&Rl(function(){r.onMessage_(u[h])})},f=0;f<u.length;++f)c(f);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PU="start",jee="close",Bee="pLPCommand",Vee="pRTLPCB",DU="id",MU="pw",LU="ser",qee="cb",Hee="seg",$ee="ts",Wee="d",zee="dframe",FU=1870,UU=30,Kee=FU-UU,Gee=25e3,Yee=3e4,CS=function(){function t(e,n,r,i,o,a,u){var c=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cd(e),this.stats_=SS(n),this.urlFn=function(f){return c.appCheckToken&&(f[wS]=c.appCheckToken),NU(n,OU,f)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Uee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(Yee)),See(function(){if(!r.isClosed_){r.scriptTagHolder=new Xee(function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=$n(a,5),f=c[0],h=c[1],p=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,f===PU)r.id=h,r.password=p;else if(f===jee)h?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(h,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+f)},function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=$n(a,2),f=c[0],h=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(f,h)},function(){r.onClosed_()},r.urlFn);var i={};i[PU]="t",i[LU]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[qee]=r.scriptTagHolder.uniqueCallbackIdentifier),i[IU]=bS,r.transportSessionId&&(i[SU]=r.transportSessionId),r.lastSessionId&&(i[kU]=r.lastSessionId),r.applicationId&&(i[Dee]=r.applicationId),r.appCheckToken&&(i[wS]=r.appCheckToken),typeof location!="undefined"&&location.hostname&&xU.test(location.hostname)&&(i[CU]=AU);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!Aee()&&!xee()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=jD(n),i=wU(r,Kee),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[zee]="t",r[DU]=e,r[MU]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=In(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),Xee=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=mU(),window[Bee+this.uniqueCallbackIdentifier]=e,window[Vee+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,"javascript:".length)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";<\/script>'}var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){jn("frame writing exception"),c.stack&&jn(c.stack),jn(c)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||jn("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[DU]=this.myID,e[MU]=this.myPW,e[LU]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+UU+r.length<=FU){var a=this.pendingSegs.shift();r=r+"&"+Hee+i+"="+a.seg+"&"+$ee+i+"="+a.ts+"&"+Wee+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(Gee)),a=function(){clearTimeout(o),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){jn("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qee=16384,Jee=45e3,hy=null;typeof MozWebSocket!="undefined"?hy=MozWebSocket:typeof WebSocket!="undefined"&&(hy=WebSocket);var Mu=function(){function t(e,n,r,i,o,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cd(this.connId),this.stats_=SS(n),this.connURL=t.connectionURL_(n,a,u,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var o={};return o[IU]=bS,typeof location!="undefined"&&location.hostname&&xU.test(location.hostname)&&(o[CU]=AU),n&&(o[SU]=n),r&&(o[kU]=r),i&&(o[wS]=i),NU(e,RU,o)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nu.set("previous_websocket_failure",!0);try{var i,o,a,u;if(!WD()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new hy(this.connURL,[],o)}}catch(f){this.log_("Error instantiating WebSocket.");var c=f.message||f.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(f){r.handleIncomingFrame(f)},this.mySock.onerror=function(f){r.log_("WebSocket error.  Closing connection.");var h=f.message||f.data;h&&r.log_(h),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&hy!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return Nu.isInMemoryStorage||Nu.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){Nu.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Nh(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(ue(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=wU(n,Qee);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(Jee))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zee=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[CS,Mu]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Mu&&Mu.isAvailable(),o=i&&!Mu.previouslyFailed();if(e.webSocketOnly&&(i||Qn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Mu];else{var a=this.transports_=[];try{for(var u=Nn(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var f=c.value;f&&f.isAvailable()&&a.push(f)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ete=6e4,tte=5e3,nte=10*1024,rte=100*1024,AS="t",jU="d",ite="s",BU="r",ote="e",VU="o",qU="a",HU="n",$U="p",ste="h",WU=function(){function t(e,n,r,i,o,a,u,c,f,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cd("c:"+this.id+":"),this.transportManager_=new Zee(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=xd(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>rte?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>nte?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(AS in e){var n=e[AS];n===qU?this.upgradeIfSecondaryHealthy_():n===BU?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===VU&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Ad("t",e),r=Ad("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$U,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qU,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:HU,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Ad("t",e),r=Ad("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Ad(AS,e);if(jU in e){var r=e[jU];if(n===ste)this.onHandshake_(r);else if(n===HU){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ite?this.onConnectionShutdown_(r):n===BU?this.onReset_(r):n===ote?mS("Server Error: "+r):n===VU?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mS("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),bS!==r&&Qn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),xd(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(ete))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xd(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(tte))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$U,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zU=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KU=function(){function t(e){this.allowedEvents_=e,this.listeners_={},ue(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=Je([],$n(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},t.prototype.validateEventType_=function(e){ue(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GU=function(t){be(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!sT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return ue(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(KU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YU=32,XU=768,St=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function bt(){return new St("")}function tt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xs(t){return t.pieces_.length-t.pieceNum_}function Ut(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new St(t.pieces_,e)}function xS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ate(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Rd(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function QU(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new St(e,0)}function Yt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof St)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new St(n,0)}function nt(t){return t.pieceNum_>=t.pieces_.length}function Tr(t,e){var n=tt(t),r=tt(e);if(n===null)return e;if(n===r)return Tr(Ut(t),Ut(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ute(t,e){for(var n=Rd(t,0),r=Rd(e,0),i=0;i<n.length&&i<r.length;i++){var o=Du(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function kS(t,e){if(Xs(t)!==Xs(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function bi(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(Xs(t)>Xs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var cte=function(){function t(e,n){this.errorPrefix_=n,this.parts_=Rd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Xv(this.parts_[r]);JU(this)}return t}();function lte(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xv(e),JU(t)}function fte(t){var e=t.parts_.pop();t.byteLength_-=Xv(e),t.parts_.length>0&&(t.byteLength_-=1)}function JU(t){if(t.byteLength_>XU)throw new Error(t.errorPrefix_+"has a key path longer than "+XU+" bytes ("+t.byteLength_+").");if(t.parts_.length>YU)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+YU+") or object contains a cycle "+Lu(t))}function Lu(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hte=function(t){be(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(i="visibilitychange",r="hidden"):typeof document.mozHidden!="undefined"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden!="undefined"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden!="undefined"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return ue(n==="visible","Unknown event type: "+n),[this.visible_]},e}(KU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Od=1e3,dte=60*5*1e3,pte=3*1e3,ZU=30*1e3,gte=1.3,vte=3e4,mte="server_kill",ej=3,Fu=function(t){be(e,t);function e(n,r,i,o,a,u,c,f){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=o,h.onServerInfoUpdate_=a,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=f,h.id=e.nextPersistentConnectionId_++,h.log_=Cd("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Od,h.maxReconnectDelay_=dte,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,f&&!WD())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return hte.getInstance().on("visible",h.onVisible_,h),n.host.indexOf("fblocal")===-1&&GU.getInstance().on("online",h.onOnline_,h),h}return e.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(In(a)),ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new Pn,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(c){var f=c.d;c.s==="ok"?(r.onDataUpdate_(o.p,f,!1,null),i.resolve(f)):i.reject(f)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var u=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[u];c===void 0||a!==c||(delete r.outstandingGets_[u],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},pte),this.connected_&&this.sendGet_(u),i.promise},e.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,u=n._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),ue(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ue(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");var c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(u).set(a,c),this.connected_&&this.sendListen_(c)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var u={p:o},c="q";n.tag&&(u.q=i._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest(c,u,function(f){var h=f.d,p=f.s;e.warnOnListenWarnings_(h,i);var g=r.listens.get(o)&&r.listens.get(o).get(a);g===n&&(r.log_("listen response",f),p!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(p,h))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Kr(n,"w")){var i=su(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Qn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||D8(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ZU)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=P8(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var u=a.s,c=a.d||"error";n.authToken_===r&&(u==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(u,c))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),ue(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},u="n";o&&(a.q=i,a.t=o),this.sendRequest(u,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(u){o&&setTimeout(function(){o(u.s,u.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},e.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},e.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var u={p:r,d:i};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:n,request:u,onComplete:o}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(u){r.log_(i+" response",u),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(u.s,u.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var u=o.d;r.log_("reportStats","Error sending stats: "+u)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+In(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):mS("Unrecognized action received from server: "+In(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Od,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Od,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>vte&&(this.reconnectDelay_=Od),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gte)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return F(this,void 0,void 0,function(){var n,r,i,o,a,u,c,f,h,p,g,m,y,b,w=this;return L(this,function(T){switch(T.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,f=function(){c?c.close():(u=!0,i())},h=function(A){ue(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(A)},this.realtime_={close:f,sendRequest:h},p=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,T.label=1;case 1:return T.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)])];case 2:return g=$n.apply(void 0,[T.sent(),2]),m=g[0],y=g[1],u?jn("getToken() completed but was canceled"):(jn("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,c=new WU(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(A){Qn(A+" ("+w.repoInfo_.toString()+")"),w.interrupt(mte)},a)),[3,4];case 3:return b=T.sent(),this.log_("Failed to get token: "+b),u||(this.repoInfo_.nodeAdmin&&Qn(b),f()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){jn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){jn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],lT(this.interruptReasons_)&&(this.reconnectDelay_=Od,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return yS(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new St(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(n,r){jn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ej&&(this.reconnectDelay_=ZU,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){jn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ej&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=Nn(this.listens.values()),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var f=(i=void 0,Nn(c.values())),h=f.next();!h.done;h=f.next()){var p=h.value;this.sendListen_(p)}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}catch(y){n={error:y}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var m=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(m.action,m.pathString,m.data,m.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+pU.replace(/\./g,"-")]=1,sT()?n["framework.cordova"]=1:$D()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=GU.getInstance().currentlyOnline();return lT(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(zU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dy=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new ct(ns,e),i=new ct(ns,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return ct.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var py,tj=function(t){be(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return py},set:function(n){py=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Du(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw Wc("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return ct.MIN},e.prototype.maxPost=function(){return new ct(So,py)},e.prototype.makePost=function(n,r){return ue(typeof n=="string","KeyIndex indexValue must always be a string."),new ct(n,py)},e.prototype.toString=function(){return".key"},e}(dy),Co=new tj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gy=function(){function t(e,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),Gi=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:t.RED,this.left=i!=null?i:rs.EMPTY_NODE,this.right=o!=null?o:rs.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return rs.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return rs.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),yte=function(){function t(){}return t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new Gi(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),rs=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Gi.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gi.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new gy(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new gy(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new gy(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new gy(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new yte,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(t,e){return Du(t.name,e.name)}function RS(t,e){return Du(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OS;function bte(t){OS=t}var nj=function(t){return typeof t=="number"?"number:"+EU(t):"string:"+t},rj=function(t){if(t.isLeafNode()){var e=t.val();ue(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kr(e,".sv"),"Priority must be a string or number.")}else ue(t===OS||t.isEmpty(),"priority of unexpected type.");ue(t===OS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ij,Ol=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),rj(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return ij},set:function(e){ij=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return nt(e)?this:tt(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=tt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ue(r!==".priority"||Xs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ut(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nj(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=EU(this.value_):e+=this.value_,this.lazyHash_=yU(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(ue(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return ue(i>=0,"Unknown leaf type: "+n),ue(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj,sj;function wte(t){oj=t}function Ete(t){sj=t}var Tte=function(t){be(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?Du(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return ct.MIN},e.prototype.maxPost=function(){return new ct(So,new Ol("[PRIORITY-POST]",sj))},e.prototype.makePost=function(n,r){var i=oj(n);return new ct(r,new Ol("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(dy),Vt=new Tte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ite=Math.log(2),Ste=function(){function t(e){var n=function(o){return parseInt(Math.log(o)/Ite,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),vy=function(t,e,n,r){t.sort(e);var i=function(c,f){var h=f-c,p,g;if(h===0)return null;if(h===1)return p=t[c],g=n?n(p):p,new Gi(g,p.node,Gi.BLACK,null,null);var m=parseInt(h/2,10)+c,y=i(c,m),b=i(m+1,f);return p=t[m],g=n?n(p):p,new Gi(g,p.node,Gi.BLACK,y,b)},o=function(c){for(var f=null,h=null,p=t.length,g=function(T,A){var k=p-T,N=p;p-=T;var P=i(k+1,N),D=t[k],$=n?n(D):D;m(new Gi($,D.node,A,null,P))},m=function(T){f?(f.left=T,f=T):(h=T,f=T)},y=0;y<c.count;++y){var b=c.nextBitIsOne(),w=Math.pow(2,c.count-(y+1));b?g(w,Gi.BLACK):(g(w,Gi.BLACK),g(w,Gi.RED))}return h},a=new Ste(t.length),u=o(a);return new rs(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NS,Nl={},my=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return ue(Nl&&Vt,"ChildrenNode.ts has not been loaded"),NS=NS||new t({".priority":Nl},{".priority":Vt}),NS},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=su(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof rs?n:null},t.prototype.hasIndex=function(e){return Kr(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){ue(e!==Co,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(ct.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var u;i?u=vy(r,e.getCompare()):u=Nl;var c=e.toString(),f=Le({},this.indexSet_);f[c]=e;var h=Le({},this.indexes_);return h[c]=u,new t(h,f)},t.prototype.addToIndexes=function(e,n){var r=this,i=Yv(this.indexes_,function(o,a){var u=su(r.indexSet_,a);if(ue(u,"Missing index implementation for "+a),o===Nl)if(u.isDefinedOn(e.node)){for(var c=[],f=n.getIterator(ct.Wrap),h=f.getNext();h;)h.name!==e.name&&c.push(h),h=f.getNext();return c.push(e),vy(c,u.getCompare())}else return Nl;else{var p=n.get(e.name),g=o;return p&&(g=g.remove(new ct(e.name,p))),g.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=Yv(this.indexes_,function(i){if(i===Nl)return i;var o=n.get(e.name);return o?i.remove(new ct(e.name,o)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nd,Ge=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rj(this.priorityNode_),this.children_.isEmpty()&&ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Nd||(Nd=new t(new rs(RS),null,my.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Nd},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?Nd:n},t.prototype.getChild=function(e){var n=tt(e);return n===null?this:this.getImmediateChild(n).getChild(Ut(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(ue(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new ct(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Nd:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(e,n){var r=tt(e);if(r===null)return n;ue(tt(e)!==".priority"||Xs(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Ut(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Vt,function(c,f){n[c]=f.val(e),r++,o&&t.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):o=!1}),!e&&o&&i<2*r){var a=[];for(var u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+nj(this.getPriority().val())+":"),this.forEachChild(Vt,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":yU(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new ct(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new ct(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new ct(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,ct.Wrap),o=i.peek();o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,ct.Wrap),o=i.peek();o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pd?-1:0},t.prototype.withIndex=function(e){if(e===Co||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===Co||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Vt),i=n.getIterator(Vt),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===Co?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Cte=function(t){be(e,t);function e(){return t.call(this,new rs(RS),Ge.EMPTY_NODE,my.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return Ge.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ge),Pd=new Cte;Object.defineProperties(ct,{MIN:{value:new ct(ns,Ge.EMPTY_NODE)},MAX:{value:new ct(So,Pd)}});tj.__EMPTY_NODE=Ge.EMPTY_NODE;Ol.__childrenNodeConstructor=Ge;bte(Pd);Ete(Pd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ate=!0;function Zt(t,e){if(e===void 0&&(e=null),t===null)return Ge.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ue(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new Ol(n,Zt(e))}if(!(t instanceof Array)&&Ate){var r=[],i=!1,o=t;if(Cn(o,function(f,h){if(f.substring(0,1)!=="."){var p=Zt(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),r.push(new ct(f,p)))}}),r.length===0)return Ge.EMPTY_NODE;var a=vy(r,_te,function(f){return f.name},RS);if(i){var u=vy(r,Vt.getCompare());return new Ge(a,Zt(e),new my({".priority":u},{".priority":Vt}))}else return new Ge(a,Zt(e),my.Default)}else{var c=Ge.EMPTY_NODE;return Cn(t,function(f,h){if(Kr(t,f)&&f.substring(0,1)!=="."){var p=Zt(h);(p.isLeafNode()||!p.isEmpty())&&(c=c.updateImmediateChild(f,p))}}),c.updatePriority(Zt(e))}}wte(Zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PS=function(t){be(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,ue(!nt(n)&&tt(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?Du(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=Zt(n),o=Ge.EMPTY_NODE.updateChild(this.indexPath_,i);return new ct(r,o)},e.prototype.maxPost=function(){var n=Ge.EMPTY_NODE.updateChild(this.indexPath_,Pd);return new ct(So,n)},e.prototype.toString=function(){return Rd(this.indexPath_,0).join("/")},e}(dy);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xte=function(t){be(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Du(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return ct.MIN},e.prototype.maxPost=function(){return ct.MAX},e.prototype.makePost=function(n,r){var i=Zt(n);return new ct(r,i)},e.prototype.toString=function(){return".value"},e}(dy),DS=new xte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",MS="-",aj="z",uj=786,kte=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=Pl.charAt(n%64),n=Math.floor(n/64);ue(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Pl.charAt(e[i]);return ue(a.length===20,"nextPushId: Length should be 20."),a}}(),cj=function(t){if(t===""+_S)return MS;var e=fy(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<uj)return n.push(MS),n.join("");for(var i=n.length-1;i>=0&&n[i]===aj;)i--;if(i===-1)return So;var o=n[i],a=Pl.charAt(Pl.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},lj=function(t){if(t===""+TU)return ns;var e=fy(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===MS?n.length===1?""+_S:(delete n[n.length-1],n.join("")):(n[n.length-1]=Pl.charAt(Pl.indexOf(n[n.length-1])-1),n.join("")+aj.repeat(uj-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){return{type:"value",snapshotNode:t}}function Dl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Dd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Md(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Rte(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LS=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,o,a){ue(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Dd(n,u)):ue(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Dl(n,r)):a.trackChildChange(Md(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Vt,function(i,o){n.hasChild(i)||r.trackChildChange(Dd(i,o))}),n.isLeafNode()||n.forEachChild(Vt,function(i,o){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(Md(i,o,a))}else r.trackChildChange(Dl(i,o))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?Ge.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hj=function(){function t(e){this.indexedFilter_=new LS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,o,a){return this.matches(new ct(n,r))||(r=Ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=Ge.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Ge.EMPTY_NODE);var o=this;return n.forEachChild(Vt,function(a,u){o.matches(new ct(a,u))||(i=i.updateImmediateChild(a,Ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ote=function(){function t(e){this.rangedFilter_=new hj(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,o,a){return this.rangedFilter_.matches(new ct(n,r))||(r=Ge.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ge.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var u=o.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:c=this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(u.name,u.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ge.EMPTY_NODE);var f=void 0,h=void 0,p=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),f=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();p=function(w,T){return g(T,w)}}else o=i.getIterator(this.index_),f=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();for(var a=0,m=!1;o.hasNext();){var u=o.getNext();!m&&p(f,u)<=0&&(m=!0);var c=m&&a<this.limit_&&p(u,h)<=0;c?a++:i=i.updateImmediateChild(u.name,Ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,o){var a;if(this.reverse_){var u=this.index_.getCompare();a=function(A,k){return u(k,A)}}else a=this.index_.getCompare();var c=e;ue(c.numChildren()===this.limit_,"");var f=new ct(n,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(c.hasChild(n)){for(var g=c.getImmediateChild(n),m=i.getChildAfterChild(this.index_,h,this.reverse_);m!=null&&(m.name===n||c.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);var y=m==null?1:a(m,f),b=p&&!r.isEmpty()&&y>=0;if(b)return o!=null&&o.trackChildChange(Md(n,r,g)),c.updateImmediateChild(n,r);o!=null&&o.trackChildChange(Dd(n,g));var w=c.updateImmediateChild(n,Ge.EMPTY_NODE),T=m!=null&&this.rangedFilter_.matches(m);return T?(o!=null&&o.trackChildChange(Dl(m.name,m.node)),w.updateImmediateChild(m.name,m.node)):w}else return r.isEmpty()?e:p&&a(h,f)>=0?(o!=null&&(o.trackChildChange(Dd(h.name,h.node)),o.trackChildChange(Dl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(h.name,Ge.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dj=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ns},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:So},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return ue(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Vt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Nte(t){return t.loadsAllData()?new LS(t.getIndex()):t.hasLimit()?new Ote(t):new hj(t)}function Pte(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Dte(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function FS(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Mte(t,e,n){var r;if(t.index_===Co)typeof e=="string"&&(e=cj(e)),r=FS(t,e,n);else{var i=void 0;n==null?i=So:i=cj(n),r=FS(t,e,i)}return r.startAfterSet_=!0,r}function US(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Lte(t,e,n){var r,i;return t.index_===Co?(typeof e=="string"&&(e=lj(e)),i=US(t,e,n)):(n==null?r=ns:r=lj(n),i=US(t,e,r)),i.endBeforeSet_=!0,i}function yy(t,e){var n=t.copy();return n.index_=e,n}function pj(t){var e={};if(t.isDefault())return e;var n;return t.index_===Vt?n="$priority":t.index_===DS?n="$value":t.index_===Co?n="$key":(ue(t.index_ instanceof PS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=In(n),t.startSet_&&(e.startAt=In(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+In(t.indexStartName_))),t.endSet_&&(e.endAt=In(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+In(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gj(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Vt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fte=function(t){be(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=Cd("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(ue(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,o){var a=this,u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);var c=e.getListenId_(n,i),f={};this.listens_[c]=f;var h=pj(n._queryParams);this.restRequest_(u+".json",h,function(p,g){var m=g;if(p===404&&(m=null,p=null),p===null&&a.onDataUpdate_(u,m,!1,i),su(a.listens_,c)===f){var y;p?p===401?y="permission_denied":y="rest_error:"+p:y="ok",o(y,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=pj(n._queryParams),o=n._path.toString(),a=new Pn;return this.restRequest_(o+".json",i,function(u,c){var f=c;u===404&&(f=null,u=null),u===null?(r.onDataUpdate_(o,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var u=$n(a,2),c=u[0],f=u[1];c&&c.accessToken&&(r.auth=c.accessToken),f&&f.token&&(r.ac=f.token);var h=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+M8(r);o.log_("Sending REST request for "+h);var p=new XMLHttpRequest;p.onreadystatechange=function(){if(i&&p.readyState===4){o.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);var g=null;if(p.status>=200&&p.status<300){try{g=Nh(p.responseText)}catch{Qn("Failed to parse JSON response for "+h+": "+p.responseText)}i(null,g)}else p.status!==401&&p.status!==404&&Qn("Got unsuccessful REST response for "+h+" Status: "+p.status),i(p.status);i=null}},p.open("GET",h,!0),p.send()})},e}(zU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ute=function(){function t(){this.rootNode_=Ge.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(){return{value:null,children:new Map}}function Ml(t,e,n){if(nt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=tt(e);t.children.has(r)||t.children.set(r,_y());var i=t.children.get(r);e=Ut(e),Ml(i,e,n)}}function jS(t,e){if(nt(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Vt,function(o,a){Ml(t,new St(o),a)}),jS(t,e)}else if(t.children.size>0){var r=tt(e);if(e=Ut(e),t.children.has(r)){var i=jS(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function BS(t,e,n){t.value!==null?n(e,t.value):jte(t,function(r,i){var o=new St(e.toString()+"/"+r);BS(i,o,n)})}function jte(t,e){t.children.forEach(function(n,r){e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vj=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=Le({},e);return this.last_&&Cn(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mj=10*1e3,Bte=30*1e3,Vte=5*60*1e3,qte=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vj(e);var r=mj+(Bte-mj)*Math.random();xd(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;Cn(n,function(o,a){a>0&&Kr(e.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),xd(this.reportStats_.bind(this),Math.floor(Math.random()*2*Vte))},t}();function Hte(t,e){t.statsToReport_[e]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yi||(Yi={}));function VS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function HS(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $te=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Yi.ACK_USER_WRITE,this.source=VS()}return t.prototype.operationForChild=function(e){if(nt(this.path)){if(this.affectedTree.value!=null)return ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new St(e));return new t(bt(),n,this.revert)}else return ue(tt(this.path)===e,"operationForChild called for unrelated child."),new t(Ut(this.path),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yj=function(){function t(e,n){this.source=e,this.path=n,this.type=Yi.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return nt(this.path)?new t(this.source,bt()):new t(this.source,Ut(this.path))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var by=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Yi.OVERWRITE}return t.prototype.operationForChild=function(e){return nt(this.path)?new t(this.source,bt(),this.snap.getImmediateChild(e)):new t(this.source,Ut(this.path),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $S=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Yi.MERGE}return t.prototype.operationForChild=function(e){if(nt(this.path)){var n=this.children.subtree(new St(e));return n.isEmpty()?null:n.value?new by(this.source,bt(),n.value):new t(this.source,bt(),n)}else return ue(tt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ut(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(nt(e))return this.isFullyInitialized()&&!this.filtered_;var n=tt(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wte=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function zte(t,e,n,r){var i=[],o=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(Rte(a.childName,a.snapshotNode))}),Ld(t,i,"child_removed",e,r,n),Ld(t,i,"child_added",e,r,n),Ld(t,i,"child_moved",o,r,n),Ld(t,i,"child_changed",e,r,n),Ld(t,i,"value",e,r,n),i}function Ld(t,e,n,r,i,o){var a=r.filter(function(u){return u.type===n});a.sort(function(u,c){return Gte(t,u,c)}),a.forEach(function(u){var c=Kte(t,u,o);i.forEach(function(f){f.respondsTo(u.type)&&e.push(f.createEvent(c,t.query_))})})}function Kte(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Gte(t,e,n){if(e.childName==null||n.childName==null)throw Wc("Should only compare child_ events.");var r=new ct(e.childName,e.snapshotNode),i=new ct(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t,e){return{eventCache:t,serverCache:e}}function Fd(t,e,n,r){return wy(new Qs(e,n,r),t.serverCache)}function _j(t,e,n,r){return wy(t.eventCache,new Qs(e,n,r))}function Ey(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Uu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WS,Yte=function(){return WS||(WS=new rs(Cee)),WS},ei=function(){function t(e,n){n===void 0&&(n=Yte()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return Cn(e,function(r,i){n=n.set(new St(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:bt(),value:this.value};if(nt(e))return null;var r=tt(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(Ut(e),n);if(o!=null){var a=Yt(new St(r),o.path);return{path:a,value:o.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(nt(e))return this;var n=tt(e),r=this.children.get(n);return r!==null?r.subtree(Ut(e)):new t(null)},t.prototype.set=function(e,n){if(nt(e))return new t(n,this.children);var r=tt(e),i=this.children.get(r)||new t(null),o=i.set(Ut(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(nt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=tt(e),r=this.children.get(n);if(r){var i=r.remove(Ut(e)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this},t.prototype.get=function(e){if(nt(e))return this.value;var n=tt(e),r=this.children.get(n);return r?r.get(Ut(e)):null},t.prototype.setTree=function(e,n){if(nt(e))return n;var r=tt(e),i=this.children.get(r)||new t(null),o=i.setTree(Ut(e),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(bt(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(Yt(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,bt(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(nt(e))return null;var o=tt(e),a=this.children.get(o);return a?a.findOnPath_(Ut(e),Yt(n,o),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,bt(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(nt(e))return this;this.value&&r(n,this.value);var i=tt(e),o=this.children.get(i);return o?o.foreachOnPath_(Ut(e),Yt(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(bt(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(Yt(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new ei(null))},t}();function Ud(t,e,n){if(nt(e))return new is(new ei(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,a=Tr(i,e);return o=o.updateChild(a,n),new is(t.writeTree_.set(i,o))}else{var u=new ei(n),c=t.writeTree_.setTree(e,u);return new is(c)}}function zS(t,e,n){var r=t;return Cn(n,function(i,o){r=Ud(r,Yt(e,i),o)}),r}function bj(t,e){if(nt(e))return is.empty();var n=t.writeTree_.setTree(e,new ei(null));return new is(n)}function KS(t,e){return ju(t,e)!=null}function ju(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Tr(n.path,e)):null}function wj(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Vt,function(r,i){e.push(new ct(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new ct(r,i.value))}),e}function Js(t,e){if(nt(e))return t;var n=ju(t,e);return n!=null?new is(new ei(n)):new is(t.writeTree_.subtree(e))}function GS(t){return t.writeTree_.isEmpty()}function Ll(t,e){return Ej(bt(),t.writeTree_,e)}function Ej(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(ue(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Ej(Yt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Yt(t,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t,e){return Aj(e,t)}function Xte(t,e,n,r,i){ue(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ud(t.visibleWrites,e,n)),t.lastWriteId=r}function Qte(t,e,n,r){ue(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=zS(t.visibleWrites,e,n),t.lastWriteId=r}function Jte(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function Zte(t,e){var n=t.allWrites.findIndex(function(f){return f.writeId===e});ue(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&ene(u,r.path)?i=!1:bi(r.path,u.path)&&(o=!0)),a--}if(i){if(o)return tne(t),!0;if(r.snap)t.visibleWrites=bj(t.visibleWrites,r.path);else{var c=r.children;Cn(c,function(f){t.visibleWrites=bj(t.visibleWrites,Yt(r.path,f))})}return!0}else return!1}function ene(t,e){if(t.snap)return bi(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&bi(Yt(t.path,n),e))return!0;return!1}function tne(t){t.visibleWrites=Tj(t.allWrites,nne,bt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function nne(t){return t.visible}function Tj(t,e,n){for(var r=is.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)bi(n,a)?(u=Tr(n,a),r=Ud(r,u,o.snap)):bi(a,n)&&(u=Tr(a,n),r=Ud(r,bt(),o.snap.getChild(u)));else if(o.children){if(bi(n,a))u=Tr(n,a),r=zS(r,u,o.children);else if(bi(a,n))if(u=Tr(a,n),nt(u))r=zS(r,bt(),o.children);else{var c=su(o.children,tt(u));if(c){var f=c.getChild(Ut(u));r=Ud(r,bt(),f)}}}else throw Wc("WriteRecord should have .snap or .children")}}return r}function Ij(t,e,n,r,i){if(!r&&!i){var o=ju(t.visibleWrites,e);if(o!=null)return o;var a=Js(t.visibleWrites,e);if(GS(a))return n;if(n==null&&!KS(a,bt()))return null;var u=n||Ge.EMPTY_NODE;return Ll(a,u)}else{var c=Js(t.visibleWrites,e);if(!i&&GS(c))return n;if(!i&&n==null&&!KS(c,bt()))return null;var f=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(bi(g.path,e)||bi(e,g.path))},h=Tj(t.allWrites,f,e),u=n||Ge.EMPTY_NODE;return Ll(h,u)}}function rne(t,e,n){var r=Ge.EMPTY_NODE,i=ju(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Vt,function(u,c){r=r.updateImmediateChild(u,c)}),r;if(n){var o=Js(t.visibleWrites,e);return n.forEachChild(Vt,function(u,c){var f=Ll(Js(o,new St(u)),c);r=r.updateImmediateChild(u,f)}),wj(o).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}else{var a=Js(t.visibleWrites,e);return wj(a).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}}function ine(t,e,n,r,i){ue(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Yt(e,n);if(KS(t.visibleWrites,o))return null;var a=Js(t.visibleWrites,o);return GS(a)?i.getChild(n):Ll(a,i.getChild(n))}function one(t,e,n,r){var i=Yt(e,n),o=ju(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=Js(t.visibleWrites,i);return Ll(a,r.getNode().getImmediateChild(n))}else return null}function sne(t,e){return ju(t.visibleWrites,e)}function ane(t,e,n,r,i,o,a){var u,c=Js(t.visibleWrites,e),f=ju(c,bt());if(f!=null)u=f;else if(n!=null)u=Ll(c,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){for(var h=[],p=a.getCompare(),g=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a),m=g.getNext();m&&h.length<i;)p(m,r)!==0&&h.push(m),m=g.getNext();return h}else return[]}function une(){return{visibleWrites:is.empty(),allWrites:[],lastWriteId:-1}}function Iy(t,e,n,r){return Ij(t.writeTree,t.treePath,e,n,r)}function YS(t,e){return rne(t.writeTree,t.treePath,e)}function Sj(t,e,n,r){return ine(t.writeTree,t.treePath,e,n,r)}function Sy(t,e){return sne(t.writeTree,Yt(t.treePath,e))}function cne(t,e,n,r,i,o){return ane(t.writeTree,t.treePath,e,n,r,i,o)}function XS(t,e,n){return one(t.writeTree,t.treePath,e,n)}function Cj(t,e){return Aj(Yt(t.treePath,e),t.writeTree)}function Aj(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lne=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;ue(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ue(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Md(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Dd(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Dl(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Md(r,e.snapshotNode,i.oldSnap));else throw Wc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fne=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),xj=new fne,QS=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new Qs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return XS(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Uu(this.viewCache_),o=cne(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hne(t){return{filter:t}}function dne(t,e){ue(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ue(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function pne(t,e,n,r,i){var o=new lne,a,u;if(n.type===Yi.OVERWRITE){var c=n;c.source.fromUser?a=JS(t,e,c.path,c.snap,r,i,o):(ue(c.source.fromServer,"Unknown source."),u=c.source.tagged||e.serverCache.isFiltered()&&!nt(c.path),a=Cy(t,e,c.path,c.snap,r,i,u,o))}else if(n.type===Yi.MERGE){var f=n;f.source.fromUser?a=vne(t,e,f.path,f.children,r,i,o):(ue(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),a=ZS(t,e,f.path,f.children,r,i,u,o))}else if(n.type===Yi.ACK_USER_WRITE){var h=n;h.revert?a=_ne(t,e,h.path,r,i,o):a=mne(t,e,h.path,h.affectedTree,r,i,o)}else if(n.type===Yi.LISTEN_COMPLETE)a=yne(t,e,n.path,r,o);else throw Wc("Unknown operation type: "+n.type);var p=o.getChanges();return gne(e,a,p),{viewCache:a,changes:p}}function gne(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ey(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(fj(Ey(e)))}}function kj(t,e,n,r,i,o){var a=e.eventCache;if(Sy(r,n)!=null)return e;var u=void 0,c=void 0;if(nt(n))if(ue(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var f=Uu(e),h=f instanceof Ge?f:Ge.EMPTY_NODE,p=YS(r,h);u=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{var g=Iy(r,Uu(e));u=t.filter.updateFullNode(e.eventCache.getNode(),g,o)}else{var m=tt(n);if(m===".priority"){ue(Xs(n)===1,"Can't have a priority with additional path components");var y=a.getNode();c=e.serverCache.getNode();var b=Sj(r,n,y,c);b!=null?u=t.filter.updatePriority(y,b):u=a.getNode()}else{var w=Ut(n),T=void 0;if(a.isCompleteForChild(m)){c=e.serverCache.getNode();var A=Sj(r,n,a.getNode(),c);A!=null?T=a.getNode().getImmediateChild(m).updateChild(w,A):T=a.getNode().getImmediateChild(m)}else T=XS(r,m,e.serverCache);T!=null?u=t.filter.updateChild(a.getNode(),m,T,w,i,o):u=a.getNode()}}return Fd(e,u,a.isFullyInitialized()||nt(n),t.filter.filtersNodes())}function Cy(t,e,n,r,i,o,a,u){var c=e.serverCache,f,h=a?t.filter:t.filter.getIndexedFilter();if(nt(n))f=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){var p=c.getNode().updateChild(n,r);f=h.updateFullNode(c.getNode(),p,null)}else{var g=tt(n);if(!c.isCompleteForPath(n)&&Xs(n)>1)return e;var m=Ut(n),y=c.getNode().getImmediateChild(g),b=y.updateChild(m,r);g===".priority"?f=h.updatePriority(c.getNode(),b):f=h.updateChild(c.getNode(),g,b,m,xj,null)}var w=_j(e,f,c.isFullyInitialized()||nt(n),h.filtersNodes()),T=new QS(i,w,o);return kj(t,w,n,i,T,u)}function JS(t,e,n,r,i,o,a){var u=e.eventCache,c,f,h=new QS(i,e,o);if(nt(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Fd(e,f,!0,t.filter.filtersNodes());else{var p=tt(n);if(p===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),c=Fd(e,f,u.isFullyInitialized(),u.isFiltered());else{var g=Ut(n),m=u.getNode().getImmediateChild(p),y=void 0;if(nt(g))y=r;else{var b=h.getCompleteChild(p);b!=null?xS(g)===".priority"&&b.getChild(QU(g)).isEmpty()?y=b:y=b.updateChild(g,r):y=Ge.EMPTY_NODE}if(m.equals(y))c=e;else{var w=t.filter.updateChild(u.getNode(),p,y,g,h,a);c=Fd(e,w,u.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Rj(t,e){return t.eventCache.isCompleteForChild(e)}function vne(t,e,n,r,i,o,a){var u=e;return r.foreach(function(c,f){var h=Yt(n,c);Rj(e,tt(h))&&(u=JS(t,u,h,f,i,o,a))}),r.foreach(function(c,f){var h=Yt(n,c);Rj(e,tt(h))||(u=JS(t,u,h,f,i,o,a))}),u}function Oj(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function ZS(t,e,n,r,i,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c=e,f;nt(n)?f=r:f=new ei(null).setTree(n,r);var h=e.serverCache.getNode();return f.children.inorderTraversal(function(p,g){if(h.hasChild(p)){var m=e.serverCache.getNode().getImmediateChild(p),y=Oj(t,m,g);c=Cy(t,c,new St(p),y,i,o,a,u)}}),f.children.inorderTraversal(function(p,g){var m=!e.serverCache.isCompleteForChild(p)&&g.value===void 0;if(!h.hasChild(p)&&!m){var y=e.serverCache.getNode().getImmediateChild(p),b=Oj(t,y,g);c=Cy(t,c,new St(p),b,i,o,a,u)}}),c}function mne(t,e,n,r,i,o,a){if(Sy(i,n)!=null)return e;var u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(nt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Cy(t,e,n,c.getNode().getChild(n),i,o,u,a);if(nt(n)){var f=new ei(null);return c.getNode().forEachChild(Co,function(p,g){f=f.set(new St(p),g)}),ZS(t,e,n,f,i,o,u,a)}else return e}else{var h=new ei(null);return r.foreach(function(p,g){var m=Yt(n,p);c.isCompleteForPath(m)&&(h=h.set(p,c.getNode().getChild(m)))}),ZS(t,e,n,h,i,o,u,a)}}function yne(t,e,n,r,i){var o=e.serverCache,a=_j(e,o.getNode(),o.isFullyInitialized()||nt(n),o.isFiltered());return kj(t,a,n,r,xj,i)}function _ne(t,e,n,r,i,o){var a;if(Sy(r,n)!=null)return e;var u=new QS(r,e,i),c=e.eventCache.getNode(),f=void 0;if(nt(n)||tt(n)===".priority"){var h=void 0;if(e.serverCache.isFullyInitialized())h=Iy(r,Uu(e));else{var p=e.serverCache.getNode();ue(p instanceof Ge,"serverChildren would be complete if leaf node"),h=YS(r,p)}h=h,f=t.filter.updateFullNode(c,h,o)}else{var g=tt(n),m=XS(r,g,e.serverCache);m==null&&e.serverCache.isCompleteForChild(g)&&(m=c.getImmediateChild(g)),m!=null?f=t.filter.updateChild(c,g,m,Ut(n),u,o):e.eventCache.getNode().hasChild(g)?f=t.filter.updateChild(c,g,Ge.EMPTY_NODE,Ut(n),u,o):f=c,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Iy(r,Uu(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,o)))}return a=e.serverCache.isFullyInitialized()||Sy(r,bt())!=null,Fd(e,f,a,t.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bne=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new LS(r.getIndex()),o=Nte(r);this.processor_=hne(o);var a=n.serverCache,u=n.eventCache,c=i.updateFullNode(Ge.EMPTY_NODE,a.getNode(),null),f=o.updateFullNode(Ge.EMPTY_NODE,u.getNode(),null),h=new Qs(c,a.isFullyInitialized(),i.filtersNodes()),p=new Qs(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=wy(p,h),this.eventGenerator_=new Wte(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function wne(t){return t.viewCache_.serverCache.getNode()}function Ene(t){return Ey(t.viewCache_)}function Tne(t,e){var n=Uu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!nt(e)&&!n.getImmediateChild(tt(e)).isEmpty())?n.getChild(e):null}function Nj(t){return t.eventRegistrations_.length===0}function Ine(t,e){t.eventRegistrations_.push(e)}function Pj(t,e,n){var r=[];if(n){ue(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(c){var f=c.createCancelEvent(n,i);f&&r.push(f)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function Dj(t,e,n,r){e.type===Yi.MERGE&&e.source.queryId!==null&&(ue(Uu(t.viewCache_),"We should always have a full cache before handling merges"),ue(Ey(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=pne(t.processor_,i,e,n,r);return dne(t.processor_,o.viewCache),ue(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Mj(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Sne(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Vt,function(o,a){r.push(Dl(o,a))})}return n.isFullyInitialized()&&r.push(fj(n.getNode())),Mj(t,r,n.getNode(),e)}function Mj(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return zte(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ay,Lj=function(){function t(){this.views=new Map}return t}();function Cne(t){ue(!Ay,"__referenceConstructor has already been defined"),Ay=t}function Ane(){return ue(Ay,"Reference.ts has not been loaded"),Ay}function xne(t){return t.views.size===0}function eC(t,e,n,r){var i,o,a=e.source.queryId;if(a!==null){var u=t.views.get(a);return ue(u!=null,"SyncTree gave us an op for an invalid query."),Dj(u,e,n,r)}else{var c=[];try{for(var f=Nn(t.views.values()),h=f.next();!h.done;h=f.next()){var u=h.value;c=c.concat(Dj(u,e,n,r))}}catch(p){i={error:p}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return c}}function Fj(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var u=Iy(n,i?r:null),c=!1;u?c=!0:r instanceof Ge?(u=YS(n,r),c=!1):(u=Ge.EMPTY_NODE,c=!1);var f=wy(new Qs(u,c,!1),new Qs(r,i,!1));return new bne(e,f)}return a}function kne(t,e,n,r,i,o){var a=Fj(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),Ine(a,n),Sne(a,n)}function Rne(t,e,n,r){var i,o,a=e._queryIdentifier,u=[],c=[],f=ea(t);if(a==="default")try{for(var h=Nn(t.views.entries()),p=h.next();!p.done;p=h.next()){var g=$n(p.value,2),m=g[0],y=g[1];c=c.concat(Pj(y,n,r)),Nj(y)&&(t.views.delete(m),y.query._queryParams.loadsAllData()||u.push(y.query))}}catch(b){i={error:b}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else{var y=t.views.get(a);y&&(c=c.concat(Pj(y,n,r)),Nj(y)&&(t.views.delete(a),y.query._queryParams.loadsAllData()||u.push(y.query)))}return f&&!ea(t)&&u.push(new(Ane())(e._repo,e._path)),{removed:u,events:c}}function Uj(t){var e,n,r=[];try{for(var i=Nn(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Zs(t,e){var n,r,i=null;try{for(var o=Nn(t.views.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i||Tne(u,e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function jj(t,e){var n=e._queryParams;if(n.loadsAllData())return xy(t);var r=e._queryIdentifier;return t.views.get(r)}function Bj(t,e){return jj(t,e)!=null}function ea(t){return xy(t)!=null}function xy(t){var e,n;try{for(var r=Nn(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ky;function One(t){ue(!ky,"__referenceConstructor has already been defined"),ky=t}function Nne(){return ue(ky,"Reference.ts has not been loaded"),ky}var Pne=1,Vj=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new ei(null),this.pendingWriteTree_=une(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function tC(t,e,n,r,i){return Xte(t.pendingWriteTree_,e,n,r,i),i?Fl(t,new by(VS(),e,n)):[]}function Dne(t,e,n,r){Qte(t.pendingWriteTree_,e,n,r);var i=ei.fromObject(n);return Fl(t,new $S(VS(),e,i))}function ta(t,e,n){n===void 0&&(n=!1);var r=Jte(t.pendingWriteTree_,e),i=Zte(t.pendingWriteTree_,e);if(i){var o=new ei(null);return r.snap!=null?o=o.set(bt(),!0):Cn(r.children,function(a){o=o.set(new St(a),!0)}),Fl(t,new $te(r.path,o,n))}else return[]}function jd(t,e,n){return Fl(t,new by(qS(),e,n))}function Mne(t,e,n){var r=ei.fromObject(n);return Fl(t,new $S(qS(),e,r))}function Lne(t,e){return Fl(t,new yj(qS(),e))}function Fne(t,e,n){var r=rC(t,n);if(r){var i=iC(r),o=i.path,a=i.queryId,u=Tr(o,e),c=new yj(HS(a),u);return oC(t,o,c)}else return[]}function nC(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&(e._queryIdentifier==="default"||Bj(o,e))){var u=Rne(o,e,n,r);xne(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var c=u.removed;a=u.events;var f=c.findIndex(function(A){return A._queryParams.loadsAllData()})!==-1,h=t.syncPointTree_.findOnPath(i,function(A,k){return ea(k)});if(f&&!h){var p=t.syncPointTree_.subtree(i);if(!p.isEmpty())for(var g=Vne(p),m=0;m<g.length;++m){var y=g[m],b=y.query,w=Wj(t,y);t.listenProvider_.startListening(Bd(b),Oy(t,b),w.hashFn,w.onComplete)}}if(!h&&c.length>0&&!r)if(f){var T=null;t.listenProvider_.stopListening(Bd(e),T)}else c.forEach(function(A){var k=t.queryToTagMap.get(Ny(A));t.listenProvider_.stopListening(Bd(A),k)});qne(t,c)}return a}function Une(t,e,n,r){var i=rC(t,r);if(i!=null){var o=iC(i),a=o.path,u=o.queryId,c=Tr(a,e),f=new by(HS(u),c,n);return oC(t,a,f)}else return[]}function jne(t,e,n,r){var i=rC(t,r);if(i){var o=iC(i),a=o.path,u=o.queryId,c=Tr(a,e),f=ei.fromObject(n),h=new $S(HS(u),c,f);return oC(t,a,h)}else return[]}function qj(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(b,w){var T=Tr(b,r);i=i||Zs(w,T),o=o||ea(w)});var a=t.syncPointTree_.get(r);a?(o=o||ea(a),i=i||Zs(a,bt())):(a=new Lj,t.syncPointTree_=t.syncPointTree_.set(r,a));var u;if(i!=null)u=!0;else{u=!1,i=Ge.EMPTY_NODE;var c=t.syncPointTree_.subtree(r);c.foreachChild(function(b,w){var T=Zs(w,bt());T&&(i=i.updateImmediateChild(b,T))})}var f=Bj(a,e);if(!f&&!e._queryParams.loadsAllData()){var h=Ny(e);ue(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");var p=Hne();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}var g=Ty(t.pendingWriteTree_,r),m=kne(a,e,n,g,i,u);if(!f&&!o){var y=jj(a,e);m=m.concat($ne(t,e,y))}return m}function Ry(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,function(a,u){var c=Tr(a,e),f=Zs(u,c);if(f)return f});return Ij(i,e,o,n,r)}function Bne(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(f,h){var p=Tr(f,n);r=r||Zs(h,p)});var i=t.syncPointTree_.get(n);i?r=r||Zs(i,bt()):(i=new Lj,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=r!=null,a=o?new Qs(r,!0,!1):null,u=Ty(t.pendingWriteTree_,e._path),c=Fj(i,e,u,o?a.getNode():Ge.EMPTY_NODE,o);return Ene(c)}function Fl(t,e){return Hj(e,t.syncPointTree_,null,Ty(t.pendingWriteTree_,bt()))}function Hj(t,e,n,r){if(nt(t.path))return $j(t,e,n,r);var i=e.get(bt());n==null&&i!=null&&(n=Zs(i,bt()));var o=[],a=tt(t.path),u=t.operationForChild(a),c=e.children.get(a);if(c&&u){var f=n?n.getImmediateChild(a):null,h=Cj(r,a);o=o.concat(Hj(u,c,f,h))}return i&&(o=o.concat(eC(i,t,r,n))),o}function $j(t,e,n,r){var i=e.get(bt());n==null&&i!=null&&(n=Zs(i,bt()));var o=[];return e.children.inorderTraversal(function(a,u){var c=n?n.getImmediateChild(a):null,f=Cj(r,a),h=t.operationForChild(a);h&&(o=o.concat($j(h,u,c,f)))}),i&&(o=o.concat(eC(i,t,r,n))),o}function Wj(t,e){var n=e.query,r=Oy(t,n);return{hashFn:function(){var i=wne(e)||Ge.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?Fne(t,n._path,r):Lne(t,n._path);var o=kee(i,n);return nC(t,n,null,o)}}}function Oy(t,e){var n=Ny(e);return t.queryToTagMap.get(n)}function Ny(t){return t._path.toString()+"$"+t._queryIdentifier}function rC(t,e){return t.tagToQueryMap.get(e)}function iC(t){var e=t.indexOf("$");return ue(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new St(t.substr(0,e))}}function oC(t,e,n){var r=t.syncPointTree_.get(e);ue(r,"Missing sync point for query tag that we're tracking");var i=Ty(t.pendingWriteTree_,e);return eC(r,n,i,null)}function Vne(t){return t.fold(function(e,n,r){if(n&&ea(n)){var i=xy(n);return[i]}else{var o=[];return n&&(o=Uj(n)),Cn(r,function(a,u){o=o.concat(u)}),o}})}function Bd(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Nne())(t._repo,t._path):t}function qne(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Ny(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Hne(){return Pne++}function $ne(t,e,n){var r=e._path,i=Oy(t,e),o=Wj(t,n),a=t.listenProvider_.startListening(Bd(e),i,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(i)ue(!ea(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(p,g,m){if(!nt(p)&&g&&ea(g))return[xy(g).query];var y=[];return g&&(y=y.concat(Uj(g).map(function(b){return b.query}))),Cn(m,function(b,w){y=y.concat(w)}),y}),f=0;f<c.length;++f){var h=c[f];t.listenProvider_.stopListening(Bd(h),Oy(t,h))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wne=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),zne=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=Yt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Ry(this.syncTree_,this.path_)},t}(),Kne=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},zj=function(t,e,n){if(!t||typeof t!="object")return t;if(ue(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Gne(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Yne(t[".sv"],e);ue(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Gne=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ue(!1,"Unexpected server value: "+t)}},Yne=function(t,e,n){t.hasOwnProperty("increment")||ue(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&ue(!1,"Unexpected increment value: "+r);var i=e.node();if(ue(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},Kj=function(t,e,n,r){return aC(e,new zne(n,t),r)},sC=function(t,e,n){return aC(t,new Wne(e),n)};function aC(t,e,n){var r=t.getPriority().val(),i=zj(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){var a=t,u=zj(a.getValue(),e,n);return u!==a.getValue()||i!==a.getPriority().val()?new Ol(u,Zt(i)):t}else{var c=t;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new Ol(i))),c.forEachChild(Vt,function(f,h){var p=aC(h,e.getImmediateChild(f),n);p!==h&&(o=o.updateImmediateChild(f,p))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uC=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function Py(t,e){for(var n=e instanceof St?e:new St(e),r=t,i=tt(n);i!==null;){var o=su(r.node.children,i)||{children:{},childCount:0};r=new uC(i,r,o),n=Ut(n),i=tt(n)}return r}function Bu(t){return t.node.value}function cC(t,e){t.node.value=e,lC(t)}function Gj(t){return t.node.childCount>0}function Xne(t){return Bu(t)===void 0&&!Gj(t)}function Dy(t,e){Cn(t.node.children,function(n,r){e(new uC(n,t,r))})}function Yj(t,e,n,r){n&&!r&&e(t),Dy(t,function(i){Yj(i,e,!0,r)}),n&&r&&e(t)}function Qne(t,e,n){for(var r=n?t:t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vd(t){return new St(t.parent===null?t.name:Vd(t.parent)+"/"+t.name)}function lC(t){t.parent!==null&&Jne(t.parent,t.name,t)}function Jne(t,e,n){var r=Xne(n),i=Kr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,lC(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,lC(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zne=/[\[\].#$\/\u0000-\u001F\u007F]/,ere=/[\[\].#$\u0000-\u001F\u007F]/,fC=10*1024*1024,My=function(t){return typeof t=="string"&&t.length!==0&&!Zne.test(t)},Xj=function(t){return typeof t=="string"&&t.length!==0&&!ere.test(t)},tre=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xj(t)},qd=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!ly(t)||t&&typeof t=="object"&&Kr(t,".sv")},Ao=function(t,e,n,r){r&&e===void 0||Hd(Lr(t,"value"),e,n)},Hd=function(t,e,n){var r=n instanceof St?new cte(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Lu(r));if(typeof e=="function")throw new Error(t+"contains a function "+Lu(r)+" with contents = "+e.toString());if(ly(e))throw new Error(t+"contains "+e.toString()+" "+Lu(r));if(typeof e=="string"&&e.length>fC/3&&Xv(e)>fC)throw new Error(t+"contains a string greater than "+fC+" utf8 bytes "+Lu(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(Cn(e,function(a,u){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!My(a)))throw new Error(t+" contains an invalid key ("+a+") "+Lu(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lte(r,a),Hd(t,u,r),fte(r)}),i&&o)throw new Error(t+' contains ".value" child '+Lu(r)+" in addition to actual children.")}},nre=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=Rd(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!My(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(ute);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&bi(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},Qj=function(t,e,n,r){if(!(r&&e===void 0)){var i=Lr(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];Cn(e,function(a,u){var c=new St(a);if(Hd(i,u,Yt(n,c)),xS(c)===".priority"&&!qd(u))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),nre(i,o)}},hC=function(t,e,n){if(!(n&&e===void 0)){if(ly(e))throw new Error(Lr(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qd(e))throw new Error(Lr(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},rre=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Lr(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},$d=function(t,e,n,r){if(!(r&&n===void 0)&&!My(n))throw new Error(Lr(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Wd=function(t,e,n,r){if(!(r&&n===void 0)&&!Xj(n))throw new Error(Lr(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ire=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Wd(t,e,n,r)},wi=function(t,e){if(tt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Jj=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!My(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tre(n))throw new Error(Lr(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},ore=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Lr(t,e)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sre=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function Ly(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();n!==null&&!kS(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function dC(t,e,n){Ly(t,n),Zj(t,function(r){return kS(r,e)})}function Ei(t,e,n){Ly(t,n),Zj(t,function(r){return bi(r,e)||bi(e,r)})}function Zj(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(are(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function are(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();Pu&&jn("event: "+n.toString()),Rl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eB="repo_interrupt",ure=25,cre=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_y(),this.transactionQueueTree_=new uC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function lre(t,e,n){if(t.stats_=SS(t.repoInfo_),t.forceRestClient_||Oee())t.server_=new Fte(t.repoInfo_,function(r,i,o,a){nB(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return rB(t,!0)},0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{In(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Fu(t.repoInfo_,e,function(r,i,o,a){nB(t,r,i,o,a)},function(r){rB(t,r)},function(r){hre(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Fee(t.repoInfo_,function(){return new qte(t.stats_,t.server_)}),t.infoData_=new Ute,t.infoSyncTree_=new Vj({startListening:function(r,i,o,a){var u=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(u=jd(t.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),u},stopListening:function(){}}),pC(t,"connected",!1),t.serverSyncTree_=new Vj({startListening:function(r,i,o,a){return t.server_.listen(r,o,i,function(u,c){var f=a(u,c);Ei(t.eventQueue_,r._path,f)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function tB(t){var e=t.infoData_.getNode(new St(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function zd(t){return Kne({timestamp:tB(t)})}function nB(t,e,n,r,i){t.dataUpdateCount++;var o=new St(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=Yv(n,function(g){return Zt(g)});a=jne(t.serverSyncTree_,o,u,i)}else{var c=Zt(n);a=Une(t.serverSyncTree_,o,c,i)}else if(r){var f=Yv(n,function(g){return Zt(g)});a=Mne(t.serverSyncTree_,o,f)}else{var h=Zt(n);a=jd(t.serverSyncTree_,o,h)}var p=o;a.length>0&&(p=jl(t,o)),Ei(t.eventQueue_,p,a)}function fre(t,e){t.interceptServerDataCallback_=e}function rB(t,e){pC(t,"connected",e),e===!1&&gre(t)}function hre(t,e){Cn(e,function(n,r){pC(t,n,r)})}function pC(t,e,n){var r=new St("/.info/"+e),i=Zt(n);t.infoData_.updateSnapshot(r,i);var o=jd(t.infoSyncTree_,r,i);Ei(t.eventQueue_,r,o)}function Fy(t){return t.nextWriteId_++}function dre(t,e){var n=Bne(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=Zt(r).withIndex(e._queryParams.getIndex()),o=jd(t.serverSyncTree_,e._path,i);return dC(t.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return Ul(t,"get for query "+In(e)+" failed: "+r),Promise.reject(new Error(r))})}function gC(t,e,n,r,i){Ul(t,"set",{path:e.toString(),value:n,priority:r});var o=zd(t),a=Zt(n,r),u=Ry(t.serverSyncTree_,e),c=sC(a,u,o),f=Fy(t),h=tC(t.serverSyncTree_,e,c,f,!0);Ly(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),function(g,m){var y=g==="ok";y||Qn("set at "+e+" failed: "+g);var b=ta(t.serverSyncTree_,f,!y);Ei(t.eventQueue_,e,b),na(t,i,g,m)});var p=yC(t,e);jl(t,p),Ei(t.eventQueue_,p,[])}function pre(t,e,n,r){Ul(t,"update",{path:e.toString(),value:n});var i=!0,o=zd(t),a={};if(Cn(n,function(f,h){i=!1,a[f]=Kj(Yt(e,f),Zt(h),t.serverSyncTree_,o)}),i)jn("update() called with empty data.  Don't do anything."),na(t,r,"ok",void 0);else{var u=Fy(t),c=Dne(t.serverSyncTree_,e,a,u);Ly(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(f,h){var p=f==="ok";p||Qn("update at "+e+" failed: "+f);var g=ta(t.serverSyncTree_,u,!p),m=g.length>0?jl(t,e):e;Ei(t.eventQueue_,m,g),na(t,r,f,h)}),Cn(n,function(f){var h=yC(t,Yt(e,f));jl(t,h)}),Ei(t.eventQueue_,e,[])}}function gre(t){Ul(t,"onDisconnectEvents");var e=zd(t),n=_y();BS(t.onDisconnect_,bt(),function(i,o){var a=Kj(i,o,t.serverSyncTree_,e);Ml(n,i,a)});var r=[];BS(n,bt(),function(i,o){r=r.concat(jd(t.serverSyncTree_,i,o));var a=yC(t,i);jl(t,a)}),t.onDisconnect_=_y(),Ei(t.eventQueue_,bt(),r)}function vre(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&jS(t.onDisconnect_,e),na(t,n,r,i)})}function iB(t,e,n,r){var i=Zt(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,a){o==="ok"&&Ml(t.onDisconnect_,e,i),na(t,r,o,a)})}function mre(t,e,n,r,i){var o=Zt(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(a,u){a==="ok"&&Ml(t.onDisconnect_,e,o),na(t,i,a,u)})}function yre(t,e,n,r){if(lT(n)){jn("onDisconnect().update() called with empty data.  Don't do anything."),na(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,o){i==="ok"&&Cn(n,function(a,u){var c=Zt(u);Ml(t.onDisconnect_,Yt(e,a),c)}),na(t,r,i,o)})}function _re(t,e,n){var r;tt(e._path)===".info"?r=qj(t.infoSyncTree_,e,n):r=qj(t.serverSyncTree_,e,n),dC(t.eventQueue_,e._path,r)}function vC(t,e,n){var r;tt(e._path)===".info"?r=nC(t.infoSyncTree_,e,n):r=nC(t.serverSyncTree_,e,n),dC(t.eventQueue_,e._path,r)}function oB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(eB)}function bre(t){t.persistentConnection_&&t.persistentConnection_.resume(eB)}function wre(t,e){if(e===void 0&&(e=!1),typeof console!="undefined"){var n;e?(t.statsListener_||(t.statsListener_=new vj(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);Cn(n,function(i,o){for(var a=i,u=i.length;u<r+2;u++)a+=" ";console.log(a+o)})}}function Ere(t,e){t.stats_.incrementCounter(e),Hte(t.statsReporter_,e)}function Ul(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),jn.apply(void 0,Je([r],$n(e)))}function na(t,e,n,r){e&&Rl(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,e(a)}})}function Tre(t,e,n,r,i,o){Ul(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:mU(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=mC(t,e,void 0);a.currentInputSnapshot=u;var c=a.update(u.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Hd("transaction failed: Data returned ",c,a.path),a.status=0;var f=Py(t.transactionQueueTree_,e),h=Bu(f)||[];h.push(a),cC(f,h);var p=void 0;if(typeof c=="object"&&c!==null&&Kr(c,".priority"))p=su(c,".priority"),ue(qd(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=Ry(t.serverSyncTree_,e)||Ge.EMPTY_NODE;p=g.getPriority().val()}var m=zd(t),y=Zt(c,p),b=sC(y,u,m);a.currentOutputSnapshotRaw=y,a.currentOutputSnapshotResolved=b,a.currentWriteId=Fy(t);var w=tC(t.serverSyncTree_,e,b,a.currentWriteId,a.applyLocally);Ei(t.eventQueue_,e,w),Uy(t,t.transactionQueueTree_)}}function mC(t,e,n){return Ry(t.serverSyncTree_,e,n)||Ge.EMPTY_NODE}function Uy(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||jy(t,e),Bu(e)){var n=aB(t,e);ue(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&Ire(t,Vd(e),n)}else Gj(e)&&Dy(e,function(i){Uy(t,i)})}function Ire(t,e,n){for(var r=n.map(function(g){return g.currentWriteId}),i=mC(t,e,r),o=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];ue(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var f=Tr(e,c.path);o=o.updateChild(f,c.currentOutputSnapshotRaw)}var h=o.val(!0),p=e;t.server_.put(p.toString(),h,function(g){Ul(t,"transaction put response",{path:p.toString(),status:g});var m=[];if(g==="ok"){for(var y=[],b=function(T){n[T].status=2,m=m.concat(ta(t.serverSyncTree_,n[T].currentWriteId)),n[T].onComplete&&y.push(function(){return n[T].onComplete(null,!0,n[T].currentOutputSnapshotResolved)}),n[T].unwatcher()},w=0;w<n.length;w++)b(w);jy(t,Py(t.transactionQueueTree_,e)),Uy(t,t.transactionQueueTree_),Ei(t.eventQueue_,e,m);for(var w=0;w<y.length;w++)Rl(y[w])}else{if(g==="datastale")for(var w=0;w<n.length;w++)n[w].status===3?n[w].status=4:n[w].status=0;else{Qn("transaction at "+p.toString()+" failed: "+g);for(var w=0;w<n.length;w++)n[w].status=4,n[w].abortReason=g}jl(t,e)}},a)}function jl(t,e){var n=sB(t,e),r=Vd(n),i=aB(t,n);return Sre(t,i,r),r}function Sre(t,e,n){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(f){return f.status===0}),a=o.map(function(f){return f.currentWriteId}),u=function(f){var h=e[f],p=Tr(n,h.path),g=!1,m;if(ue(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,m=h.abortReason,i=i.concat(ta(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=ure)g=!0,m="maxretry",i=i.concat(ta(t.serverSyncTree_,h.currentWriteId,!0));else{var y=mC(t,h.path,a);h.currentInputSnapshot=y;var b=e[f].update(y.val());if(b!==void 0){Hd("transaction failed: Data returned ",b,h.path);var w=Zt(b),T=typeof b=="object"&&b!=null&&Kr(b,".priority");T||(w=w.updatePriority(y.getPriority()));var A=h.currentWriteId,k=zd(t),N=sC(w,y,k);h.currentOutputSnapshotRaw=w,h.currentOutputSnapshotResolved=N,h.currentWriteId=Fy(t),a.splice(a.indexOf(A),1),i=i.concat(tC(t.serverSyncTree_,h.path,N,h.currentWriteId,h.applyLocally)),i=i.concat(ta(t.serverSyncTree_,A,!0))}else g=!0,m="nodata",i=i.concat(ta(t.serverSyncTree_,h.currentWriteId,!0))}Ei(t.eventQueue_,n,i),i=[],g&&(e[f].status=2,function(P){setTimeout(P,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(m==="nodata"?r.push(function(){return e[f].onComplete(null,!1,e[f].currentInputSnapshot)}):r.push(function(){return e[f].onComplete(new Error(m),!1,null)})))},c=0;c<e.length;c++)u(c);jy(t,t.transactionQueueTree_);for(var c=0;c<r.length;c++)Rl(r[c]);Uy(t,t.transactionQueueTree_)}}function sB(t,e){var n,r=t.transactionQueueTree_;for(n=tt(e);n!==null&&Bu(r)===void 0;)r=Py(r,n),e=Ut(e),n=tt(e);return r}function aB(t,e){var n=[];return uB(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function uB(t,e,n){var r=Bu(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Dy(e,function(o){uB(t,o,n)})}function jy(t,e){var n=Bu(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,cC(e,n.length>0?n:void 0)}Dy(e,function(o){jy(t,o)})}function yC(t,e){var n=Vd(sB(t,e)),r=Py(t.transactionQueueTree_,e);return Qne(r,function(i){_C(t,i)}),_C(t,r),Yj(r,function(i){_C(t,i)}),n}function _C(t,e){var n=Bu(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ue(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(ue(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(ta(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?cC(e,void 0):n.length=o+1,Ei(t.eventQueue_,Vd(e),i);for(var a=0;a<r.length;a++)Rl(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cre(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Are(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Nn(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var u=a.split("=");u.length===2?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Qn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var bC=function(t,e){var n=xre(t),r=n.namespace;n.domain==="firebase.com"&&Io(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Io("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Iee();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ES(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new St(n.pathString)}},xre=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",c=443;if(typeof t=="string"){var f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));var h=t.indexOf("/");h===-1&&(h=t.length);var p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=Cre(t.substring(h,p)));var g=Are(t.substring(Math.min(t.length,p)));f=e.indexOf(":"),f>=0?(a=u==="https"||u==="wss",c=parseInt(e.substring(f+1),10)):f=e.length;var m=e.slice(0,f);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{var y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),o=r}"ns"in g&&(o=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cB=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+In(this.snapshot.exportVal())},t}(),lB=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fB=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return ue(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kre=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new Pn;return vre(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){wi("OnDisconnect.remove",this._path);var e=new Pn;return iB(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){wi("OnDisconnect.set",this._path),Ao("OnDisconnect.set",e,this._path,!1);var n=new Pn;return iB(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){wi("OnDisconnect.setWithPriority",this._path),Ao("OnDisconnect.setWithPriority",e,this._path,!1),hC("OnDisconnect.setWithPriority",n,!1);var r=new Pn;return mre(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){wi("OnDisconnect.update",this._path),Qj("OnDisconnect.update",e,this._path,!1);var n=new Pn;return yre(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ti=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return nt(this._path)?null:xS(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xo(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=gj(this._queryParams),n=yS(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return gj(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=Qe(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=kS(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+ate(this._path)},t}();function By(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function ra(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Co){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!==ns)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==So)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Vt){if(e!=null&&!qd(e)||n!=null&&!qd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ue(t.getIndex()instanceof PS||t.getIndex()===DS,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vy(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var xo=function(t){be(e,t);function e(n,r){return t.call(this,n,r,new dj,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=QU(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(Ti),qy=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new St(e),r=Vu(this.ref,e);return new t(this._node.getChild(n),r,Vt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new t(o,Vu(n.ref,i),Vt))})},t.prototype.hasChild=function(e){var n=new St(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function hB(t,e){return t=Qe(t),t._checkNotDeleted("ref"),e!==void 0?Vu(t._root,e):t._root}function dB(t,e){t=Qe(t),t._checkNotDeleted("refFromURL");var n=bC(e,t._repo.repoInfo_.nodeAdmin);Jj("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Io("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),hB(t,n.path.toString())}function Vu(t,e){return t=Qe(t),tt(t._path)===null?ire("child","path",e,!1):Wd("child","path",e,!1),new xo(t._repo,Yt(t._path,e))}function Rre(t,e){t=Qe(t),wi("push",t._path),Ao("push",e,t._path,!0);var n=tB(t._repo),r=kte(n),i=Vu(t,r),o=Vu(t,r),a;return e!=null?a=wC(o,e).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function Ore(t){return wi("remove",t._path),wC(t,null)}function wC(t,e){t=Qe(t),wi("set",t._path),Ao("set",e,t._path,!1);var n=new Pn;return gC(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Nre(t,e){t=Qe(t),wi("setPriority",t._path),hC("setPriority",e,!1);var n=new Pn;return gC(t._repo,Yt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Pre(t,e,n){if(wi("setWithPriority",t._path),Ao("setWithPriority",e,t._path,!1),hC("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new Pn;return gC(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Dre(t,e){Qj("update",e,t._path,!1);var n=new Pn;return pre(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function Mre(t){return t=Qe(t),dre(t._repo,t).then(function(e){return new qy(e,new xo(t._repo,t._path),t._queryParams.getIndex())})}var pB=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new cB("value",this,new qy(e.snapshotNode,new xo(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new lB(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),gB=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new lB(this,e,n):null},t.prototype.createEvent=function(e,n){ue(e.childName!=null,"Child events should have a childName.");var r=Vu(new xo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new cB(e.type,this,new qy(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Kd(t,e,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,u=function(h,p){vC(t._repo,t,f),a(h,p)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new fB(n,o||void 0),f=e==="value"?new pB(c):new gB(e,c);return _re(t._repo,t,f),function(){return vC(t._repo,t,f)}}function EC(t,e,n,r){return Kd(t,"value",e,n,r)}function vB(t,e,n,r){return Kd(t,"child_added",e,n,r)}function mB(t,e,n,r){return Kd(t,"child_changed",e,n,r)}function yB(t,e,n,r){return Kd(t,"child_moved",e,n,r)}function _B(t,e,n,r){return Kd(t,"child_removed",e,n,r)}function bB(t,e,n){var r=null,i=n?new fB(n):null;e==="value"?r=new pB(i):e&&(r=new gB(e,i)),vC(t._repo,t,r)}var Xi=function(){function t(){}return t}(),wB=function(t){be(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ao("endAt",this._value,n._path,!0);var r=US(n._queryParams,this._value,this._key);if(Vy(r),ra(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ti(n._repo,n._path,r,n._orderByCalled)},e}(Xi);function Lre(t,e){return $d("endAt","key",e,!0),new wB(t,e)}var Fre=function(t){be(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ao("endBefore",this._value,n._path,!1);var r=Lte(n._queryParams,this._value,this._key);if(Vy(r),ra(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ti(n._repo,n._path,r,n._orderByCalled)},e}(Xi);function Ure(t,e){return $d("endBefore","key",e,!0),new Fre(t,e)}var EB=function(t){be(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ao("startAt",this._value,n._path,!0);var r=FS(n._queryParams,this._value,this._key);if(Vy(r),ra(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ti(n._repo,n._path,r,n._orderByCalled)},e}(Xi);function jre(t,e){return t===void 0&&(t=null),$d("startAt","key",e,!0),new EB(t,e)}var Bre=function(t){be(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ao("startAfter",this._value,n._path,!1);var r=Mte(n._queryParams,this._value,this._key);if(Vy(r),ra(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ti(n._repo,n._path,r,n._orderByCalled)},e}(Xi);function Vre(t,e){return $d("startAfter","key",e,!0),new Bre(t,e)}var qre=function(t){be(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ti(n._repo,n._path,Pte(n._queryParams,this._limit),n._orderByCalled)},e}(Xi);function Hre(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new qre(t)}var $re=function(t){be(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ti(n._repo,n._path,Dte(n._queryParams,this._limit),n._orderByCalled)},e}(Xi);function Wre(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $re(t)}var zre=function(t){be(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){By(n,"orderByChild");var r=new St(this._path);if(nt(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new PS(r),o=yy(n._queryParams,i);return ra(o),new Ti(n._repo,n._path,o,!0)},e}(Xi);function Kre(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Wd("orderByChild","path",t,!1),new zre(t)}var Gre=function(t){be(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){By(n,"orderByKey");var r=yy(n._queryParams,Co);return ra(r),new Ti(n._repo,n._path,r,!0)},e}(Xi);function Yre(){return new Gre}var Xre=function(t){be(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){By(n,"orderByPriority");var r=yy(n._queryParams,Vt);return ra(r),new Ti(n._repo,n._path,r,!0)},e}(Xi);function Qre(){return new Xre}var Jre=function(t){be(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){By(n,"orderByValue");var r=yy(n._queryParams,DS);return ra(r),new Ti(n._repo,n._path,r,!0)},e}(Xi);function Zre(){return new Jre}var eie=function(t){be(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if(Ao("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new wB(this._value,this._key)._apply(new EB(this._value,this._key)._apply(n))},e}(Xi);function tie(t,e){return $d("equalTo","key",e,!0),new eie(t,e)}function Qi(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Qe(t);try{for(var a=Nn(r),u=a.next();!u.done;u=a.next()){var c=u.value;o=c._apply(o)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}Cne(xo);One(xo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nie="FIREBASE_DATABASE_EMULATOR_HOST",TC={},TB=!1;function rie(t,e,n,r){t.repoInfo_=new ES(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function IB(t,e,n,r,i){var o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Io("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jn("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a=bC(o,i),u=a.repoInfo,c,f=void 0;typeof process!="undefined"&&(f={}[nie]),f?(c=!0,o="http://"+f+"?ns="+u.namespace,a=bC(o,i),u=a.repoInfo):c=!a.repoInfo.secure;var h=i&&c?new kd(kd.OWNER):new Pee(t.name,t.options,e);Jj("Invalid Firebase Database URL",a),nt(a.path)||Io("Database URL must point to the root of a Firebase Database (not including a child path).");var p=oie(u,t,h,new Nee(t.name,n));return new aie(p,t)}function iie(t,e){var n=TC[e];(!n||n[t.key]!==t)&&Io("Database "+e+"("+t.repoInfo_+") has already been deleted."),oB(t),delete n[t.key]}function oie(t,e,n,r){var i=TC[e.name];i||(i={},TC[e.name]=i);var o=i[t.toURLString()];return o&&Io("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new cre(t,TB,n,r),i[t.toURLString()]=o,o}function sie(t){TB=t}var aie=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(lre(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new xo(this._repo,bt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._rootInternal!==null&&(iie(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&Io("Cannot call "+e+" on a deleted database.")},t}();function uie(t,e,n,r){r===void 0&&(r={}),t=Qe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Io("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Io('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new kd(kd.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:oT(r.mockUserToken,t.app.options.projectId);o=new kd(a)}rie(i,e,n,o)}function cie(t){t=Qe(t),t._checkNotDeleted("goOffline"),oB(t._repo)}function lie(t){t=Qe(t),t._checkNotDeleted("goOnline"),bre(t._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fie={".sv":"timestamp"};function hie(){return fie}function die(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pie=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function gie(t,e,n){var r;if(t=Qe(t),wi("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new Pn,a=function(c,f,h){var p=null;c?o.reject(c):(p=new qy(h,new xo(t._repo,t._path),Vt),o.resolve(new pie(f,p)))},u=EC(t,function(){});return Tre(t._repo,t._path,e,a,u,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vie=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){Ue("OnDisconnect.cancel",0,1,arguments.length),Dn("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){Ue("OnDisconnect.remove",0,1,arguments.length),Dn("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){Ue("OnDisconnect.set",1,2,arguments.length),Dn("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){Ue("OnDisconnect.setWithPriority",2,3,arguments.length),Dn("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(e,n){if(Ue("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Qn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Dn("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(e);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mie=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return Ue("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gd=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return Ue("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Ue("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Ue("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Ue("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Ue("DataSnapshot.child",0,1,arguments.length),e=String(e),Wd("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return Ue("DataSnapshot.hasChild",1,1,arguments.length),Wd("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return Ue("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Ue("DataSnapshot.forEach",1,1,arguments.length),Dn("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return Ue("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Ue("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Ue("DataSnapshot.ref",0,0,arguments.length),new qu(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),SB=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var o=this,a;Ue("Query.on",2,4,arguments.length),Dn("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(h,p){n.call(u.context,new Gd(o.database,h),p)};c.userCallback=n,c.context=u.context;var f=(a=u.cancel)===null||a===void 0?void 0:a.bind(u.context);switch(e){case"value":return EC(this._delegate,c,f),n;case"child_added":return vB(this._delegate,c,f),n;case"child_removed":return _B(this._delegate,c,f),n;case"child_changed":return mB(this._delegate,c,f),n;case"child_moved":return yB(this._delegate,c,f),n;default:throw new Error(Lr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(Ue("Query.off",0,3,arguments.length),rre("Query.off",e,!0),Dn("Query.off","callback",n,!0),KD("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,bB(this._delegate,e,i)}else bB(this._delegate,e)},t.prototype.get=function(){var e=this;return Mre(this._delegate).then(function(n){return new Gd(e.database,n)})},t.prototype.once=function(e,n,r,i){var o=this;Ue("Query.once",1,4,arguments.length),Dn("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=new Pn,c=function(h,p){var g=new Gd(o.database,h);n&&n.call(a.context,g,p),u.resolve(g)};c.userCallback=n,c.context=a.context;var f=function(h){a.cancel&&a.cancel.call(a.context,h),u.reject(h)};switch(e){case"value":EC(this._delegate,c,f,{onlyOnce:!0});break;case"child_added":vB(this._delegate,c,f,{onlyOnce:!0});break;case"child_removed":_B(this._delegate,c,f,{onlyOnce:!0});break;case"child_changed":mB(this._delegate,c,f,{onlyOnce:!0});break;case"child_moved":yB(this._delegate,c,f,{onlyOnce:!0});break;default:throw new Error(Lr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return Ue("Query.limitToFirst",1,1,arguments.length),new t(this.database,Qi(this._delegate,Hre(e)))},t.prototype.limitToLast=function(e){return Ue("Query.limitToLast",1,1,arguments.length),new t(this.database,Qi(this._delegate,Wre(e)))},t.prototype.orderByChild=function(e){return Ue("Query.orderByChild",1,1,arguments.length),new t(this.database,Qi(this._delegate,Kre(e)))},t.prototype.orderByKey=function(){return Ue("Query.orderByKey",0,0,arguments.length),new t(this.database,Qi(this._delegate,Yre()))},t.prototype.orderByPriority=function(){return Ue("Query.orderByPriority",0,0,arguments.length),new t(this.database,Qi(this._delegate,Qre()))},t.prototype.orderByValue=function(){return Ue("Query.orderByValue",0,0,arguments.length),new t(this.database,Qi(this._delegate,Zre()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),Ue("Query.startAt",0,2,arguments.length),new t(this.database,Qi(this._delegate,jre(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),Ue("Query.startAfter",0,2,arguments.length),new t(this.database,Qi(this._delegate,Vre(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),Ue("Query.endAt",0,2,arguments.length),new t(this.database,Qi(this._delegate,Lre(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),Ue("Query.endBefore",0,2,arguments.length),new t(this.database,Qi(this._delegate,Ure(e,n)))},t.prototype.equalTo=function(e,n){return Ue("Query.equalTo",1,2,arguments.length),new t(this.database,Qi(this._delegate,tie(e,n)))},t.prototype.toString=function(){return Ue("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Ue("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Ue("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Dn(e,"cancel",i.cancel,!0),i.context=r,KD(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Lr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new qu(this.database,new xo(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),qu=function(t){be(e,t);function e(n,r){var i=t.call(this,n,new Ti(r._repo,r._path,new dj,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return Ue("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return Ue("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,Vu(this._delegate,n))},e.prototype.getParent=function(){Ue("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return Ue("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){Ue("Reference.set",1,2,arguments.length),Dn("Reference.set","onComplete",r,!0);var i=wC(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(n,r){if(Ue("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,Qn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wi("Reference.update",this._delegate._path),Dn("Reference.update","onComplete",r,!0);var a=Dre(this._delegate,n);return r&&a.then(function(){return r(null)},function(u){return r(u)}),a},e.prototype.setWithPriority=function(n,r,i){Ue("Reference.setWithPriority",2,3,arguments.length),Dn("Reference.setWithPriority","onComplete",i,!0);var o=Pre(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},e.prototype.remove=function(n){Ue("Reference.remove",0,1,arguments.length),Dn("Reference.remove","onComplete",n,!0);var r=Ore(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var o=this;Ue("Reference.transaction",1,3,arguments.length),Dn("Reference.transaction","transactionUpdate",n,!1),Dn("Reference.transaction","onComplete",r,!0),ore("Reference.transaction","applyLocally",i,!0);var a=gie(this._delegate,n,{applyLocally:i}).then(function(u){return new mie(u.committed,new Gd(o.database,u.snapshot))});return r&&a.then(function(u){return r(null,u.committed,u.snapshot)},function(u){return r(u,!1,null)}),a},e.prototype.setPriority=function(n,r){Ue("Reference.setPriority",1,2,arguments.length),Dn("Reference.setPriority","onComplete",r,!0);var i=Nre(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(n,r){var i=this;Ue("Reference.push",0,2,arguments.length),Dn("Reference.push","onComplete",r,!0);var o=Rre(this._delegate,n),a=o.then(function(c){return new e(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var u=new e(this.database,o);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u},e.prototype.onDisconnect=function(){return wi("Reference.onDisconnect",this._delegate._path),new vie(new kre(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(SB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hy=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),uie(this._delegate,e,n,r)},t.prototype.ref=function(e){if(Ue("database.ref",0,1,arguments.length),e instanceof qu){var n=dB(this._delegate,e.toString());return new qu(this,n)}else{var n=hB(this._delegate,e);return new qu(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";Ue(n,1,1,arguments.length);var r=dB(this._delegate,e);return new qu(this,r)},t.prototype.goOffline=function(){return Ue("database.goOffline",0,0,arguments.length),cie(this._delegate)},t.prototype.goOnline=function(){return Ue("database.goOnline",0,0,arguments.length),lie(this._delegate)},t.ServerValue={TIMESTAMP:hie(),increment:function(e){return die(e)}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yie=function(){Mu.forceDisallow(),CS.forceAllow()},_ie=function(){CS.forceDisallow()},bie=function(){return Mu.isAvailable()},wie=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},Eie=function(t,e){wre(t._delegate._repo,e)},Tie=function(t,e){Ere(t._delegate._repo,e)},Iie=function(t){return t._delegate._repo.dataUpdateCount},Sie=function(t,e){return fre(t._delegate._repo,e)};function Cie(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,u=a===void 0?!1:a;gU(r);var c=new GD("auth-internal",new YD("database-standalone"));return c.setComponent(new ir("auth-internal",function(){return i},"PRIVATE")),{instance:new Hy(IB(e,c,void 0,n,u),e),namespace:o}}var Aie=Object.freeze({__proto__:null,forceLongPolling:yie,forceWebSockets:_ie,isWebSocketsAvailable:bie,setSecurityDebugCallback:wie,stats:Eie,statsIncrementCounter:Tie,dataUpdateCount:Iie,interceptServerData:Sie,initStandalone:Cie});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xie=Fu;Fu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Fu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var kie=WU,Rie=function(t){var e=Fu.prototype.put;return Fu.prototype.put=function(n,r,i,o){o!==void 0&&(o=t()),e.call(this,n,r,i,o)},function(){Fu.prototype.put=e}},Oie=ES,Nie=function(t){return t._delegate._queryIdentifier},Pie=function(t){sie(t)},Die=Object.freeze({__proto__:null,DataConnection:xie,RealTimeConnection:kie,hijackHash:Rie,ConnectionTarget:Oie,queryIdentifier:Nie,forceRestClient:Pie});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mie=Hy.ServerValue;function Lie(t){gU(t.SDK_VERSION),t.INTERNAL.registerComponent(new ir("database",function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Hy(IB(i,o,a,r),i)},"PUBLIC").setServiceProps({Reference:qu,Query:SB,Database:Hy,DataSnapshot:Gd,enableLogging:bU,INTERNAL:Aie,ServerValue:Mie,TEST_ACCESS:Die}).setMultipleInstances(!0)),t.registerVersion(bee,wee)}Lie(ke);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fie(t){t.prototype.loadBundle=vee,t.prototype.namedQuery=mee}Fie(pS);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CB={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Bl=function(t){be(e,t);function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return e}(Error);function Uie(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function jie(t,e,n){var r=Uie(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var u=a.status;if(typeof u=="string"){if(!CB[u])return new Bl("internal","internal");r=CB[u],i=u}var c=a.message;typeof c=="string"&&(i=c),o=a.details,o!==void 0&&(o=n.decode(o))}}catch{}return r==="ok"?null:new Bl(r,i,o)}var Bie=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return F(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return F(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vie="type.googleapis.com/google.protobuf.Int64Value",qie="type.googleapis.com/google.protobuf.UInt64Value";function AB(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var Hie=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return AB(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case Vie:case qie:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?AB(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ie(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new Bl("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var xB=function(){function t(e,n,r,i,o,a){var u=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new Hie,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(u.deleteService())}},this.contextProvider=new Bie(n,r),this.cancelAllRequests=new Promise(function(f){u.deleteService=function(){return f()}});try{var c=new URL(o);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return F(this,void 0,void 0,function(){var i,o,a;return L(this,function(u){switch(u.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=u.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return o=u.sent(),[3,5];case 4:return u.sent(),[2,{status:0,json:null}];case 5:a=null,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,o.json()];case 7:return a=u.sent(),[3,9];case 8:return u.sent(),[3,9];case 9:return[2,{status:o.status,json:a}]}})})},t.prototype.getAppCheckToken=function(){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return F(this,void 0,void 0,function(){var i,o,a,u,c,f,h,p,g,m,y,b;return L(this,function(w){switch(w.label){case 0:return i=this._url(e),n=this.serializer.encode(n),o={data:n},a={},[4,this.contextProvider.getContext()];case 1:return u=w.sent(),u.authToken&&(a.Authorization="Bearer "+u.authToken),u.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=u.instanceIdToken),c=r.timeout||7e4,f=$ie(c),h=f.timer,p=f.promise,[4,Promise.race([kB(h,this.postJSON(i,o,a)),p,kB(h,this.cancelAllRequests)])];case 2:if(g=w.sent(),!g)throw new Bl("cancelled","Firebase Functions instance was deleted.");if(m=jie(g.status,g.json,this.serializer),m)throw m;if(!g.json)throw new Bl("internal","Response is not valid JSON object.");if(y=g.json.data,typeof y=="undefined"&&(y=g.json.result),typeof y=="undefined")throw new Bl("internal","Response is missing data field.");return b=this.serializer.decode(y),[2,{data:b}]}})})},t}();function kB(t,e){return F(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wie="functions";function zie(t,e){var n={Functions:xB};function r(i,o){var a=o.instanceIdentifier,u=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),f=i.getProvider("app-check-internal"),h=i.getProvider("messaging");return new xB(u,c,h,f,a,e)}t.INTERNAL.registerComponent(new ir(Wie,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var Kie="@firebase/functions",Gie="0.6.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zie(ke,fetch.bind(self));ke.registerVersion(Kie,Gie);function Yie(t){return Array.prototype.slice.call(t)}function RB(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function $y(t,e,n){var r,i=new Promise(function(o,a){r=t[e].apply(t,n),RB(r).then(o,a)});return i.request=r,i}function Xie(t,e,n){var r=$y(t,e,n);return r.then(function(i){if(!!i)return new Yd(i,r.request)})}function Vl(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function IC(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return $y(this[e],i,arguments)})})}function Wy(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function OB(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return Xie(this[e],i,arguments)})})}function Hu(t){this._index=t}Vl(Hu,"_index",["name","keyPath","multiEntry","unique"]);IC(Hu,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);OB(Hu,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Yd(t,e){this._cursor=t,this._request=e}Vl(Yd,"_cursor",["direction","key","primaryKey","value"]);IC(Yd,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(Yd.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),RB(e._request).then(function(r){if(!!r)return new Yd(r,e._request)})})})});function ko(t){this._store=t}ko.prototype.createIndex=function(){return new Hu(this._store.createIndex.apply(this._store,arguments))};ko.prototype.index=function(){return new Hu(this._store.index.apply(this._store,arguments))};Vl(ko,"_store",["name","keyPath","indexNames","autoIncrement"]);IC(ko,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);OB(ko,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Wy(ko,"_store",IDBObjectStore,["deleteIndex"]);function Xd(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}Xd.prototype.objectStore=function(){return new ko(this._tx.objectStore.apply(this._tx,arguments))};Vl(Xd,"_tx",["objectStoreNames","mode"]);Wy(Xd,"_tx",IDBTransaction,["abort"]);function zy(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Xd(n)}zy.prototype.createObjectStore=function(){return new ko(this._db.createObjectStore.apply(this._db,arguments))};Vl(zy,"_db",["name","version","objectStoreNames"]);Wy(zy,"_db",IDBDatabase,["deleteObjectStore","close"]);function Ky(t){this._db=t}Ky.prototype.transaction=function(){return new Xd(this._db.transaction.apply(this._db,arguments))};Vl(Ky,"_db",["name","version","objectStoreNames"]);Wy(Ky,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[ko,Hu].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=Yie(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[Hu,ko].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(o){r.iterateCursor(e,function(a){if(!a){o(i);return}if(i.push(a.value),n!==void 0&&i.length==n){o(i);return}a.continue()})})})});function SC(t,e,n){var r=$y(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(o){n&&n(new zy(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new Ky(o)})}function CC(t){return $y(indexedDB,"deleteDatabase",[t])}var Qie="@firebase/installations",NB="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PB=1e4,DB="w:"+NB,MB="FIS_v2",Jie="https://firebaseinstallations.googleapis.com/v1",Zie=60*60*1e3,eoe="installations",toe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia,noe=(ia={},ia["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ia["not-registered"]="Firebase Installation is not registered.",ia["installation-not-found"]="Firebase Installation not found.",ia["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ia["app-offline"]="Could not process request. Application offline.",ia["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ia),os=new Go(eoe,toe,noe);function LB(t){return t instanceof zc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t){var e=t.projectId;return Jie+"/projects/"+e+"/installations"}function FB(t){return{token:t.token,requestStatus:2,expiresIn:roe(t.expiresIn),creationTime:Date.now()}}function xC(t,e){return F(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,os.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function UB(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function jB(t,e){var n=e.refreshToken,r=UB(t);return r.append("Authorization",ioe(n)),r}function kC(t){return F(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function roe(t){return Number(t.replace("s","000"))}function ioe(t){return MB+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(t,e){var n=e.fid;return F(this,void 0,void 0,function(){var r,i,o,a,u,c,f;return L(this,function(h){switch(h.label){case 0:return r=AC(t),i=UB(t),o={fid:n,authVersion:MB,appId:t.appId,sdkVersion:DB},a={method:"POST",headers:i,body:JSON.stringify(o)},[4,kC(function(){return fetch(r,a)})];case 1:return u=h.sent(),u.ok?[4,u.json()]:[3,3];case 2:return c=h.sent(),f={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:FB(c.authToken)},[2,f];case 3:return[4,xC("Create Installation",u)];case 4:throw h.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(t){var e=btoa(String.fromCharCode.apply(String,Je([],$n(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aoe=/^[cdef][\w-]{21}$/,RC="";function uoe(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=coe(t);return aoe.test(n)?n:RC}catch{return RC}}function coe(t){var e=soe(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hl=new Map;function VB(t,e){var n=ql(t);qB(n,e),hoe(n,e)}function loe(t,e){HB();var n=ql(t),r=Hl.get(n);r||(r=new Set,Hl.set(n,r)),r.add(e)}function foe(t,e){var n=ql(t),r=Hl.get(n);!r||(r.delete(e),r.size===0&&Hl.delete(n),$B())}function qB(t,e){var n,r,i=Hl.get(t);if(!!i)try{for(var o=Nn(i),a=o.next();!a.done;a=o.next()){var u=a.value;u(e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function hoe(t,e){var n=HB();n&&n.postMessage({key:t,fid:e}),$B()}var $u=null;function HB(){return!$u&&"BroadcastChannel"in self&&($u=new BroadcastChannel("[Firebase] FID Change"),$u.onmessage=function(t){qB(t.data.key,t.data.fid)}),$u}function $B(){Hl.size===0&&$u&&($u.close(),$u=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var doe="firebase-installations-database",poe=1,Wu="firebase-installations-store",OC=null;function NC(){return OC||(OC=SC(doe,poe,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Wu)}})),OC}function Gy(t,e){return F(this,void 0,void 0,function(){var n,r,i,o,a;return L(this,function(u){switch(u.label){case 0:return n=ql(t),[4,NC()];case 1:return r=u.sent(),i=r.transaction(Wu,"readwrite"),o=i.objectStore(Wu),[4,o.get(n)];case 2:return a=u.sent(),[4,o.put(e,n)];case 3:return u.sent(),[4,i.complete];case 4:return u.sent(),(!a||a.fid!==e.fid)&&VB(t,e.fid),[2,e]}})})}function PC(t){return F(this,void 0,void 0,function(){var e,n,r;return L(this,function(i){switch(i.label){case 0:return e=ql(t),[4,NC()];case 1:return n=i.sent(),r=n.transaction(Wu,"readwrite"),[4,r.objectStore(Wu).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Qd(t,e){return F(this,void 0,void 0,function(){var n,r,i,o,a,u;return L(this,function(c){switch(c.label){case 0:return n=ql(t),[4,NC()];case 1:return r=c.sent(),i=r.transaction(Wu,"readwrite"),o=i.objectStore(Wu),[4,o.get(n)];case 2:return a=c.sent(),u=e(a),u!==void 0?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),u&&(!a||a.fid!==u.fid)&&VB(t,u.fid),[2,u]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){return F(this,void 0,void 0,function(){var e,n,r;return L(this,function(i){switch(i.label){case 0:return[4,Qd(t,function(o){var a=goe(o),u=voe(t,a);return e=u.registrationPromise,u.installationEntry})];case 1:return n=i.sent(),n.fid!==RC?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function goe(t){var e=t||{fid:uoe(),registrationStatus:0};return zB(e)}function voe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(os.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=moe(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yoe(t)}:{installationEntry:e}}function moe(t,e){return F(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,ooe(t,e)];case 1:return n=i.sent(),[2,Gy(t,n)];case 2:return r=i.sent(),LB(r)&&r.customData.serverCode===409?[4,PC(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Gy(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function yoe(t){return F(this,void 0,void 0,function(){var e,n,r,i;return L(this,function(o){switch(o.label){case 0:return[4,WB(t)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,BB(100)];case 3:return o.sent(),[4,WB(t)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,DC(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function WB(t){return Qd(t,function(e){if(!e)throw os.create("installation-not-found");return zB(e)})}function zB(t){return _oe(t)?{fid:t.fid,registrationStatus:0}:t}function _oe(t){return t.registrationStatus===1&&t.registrationTime+PB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function boe(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return F(this,void 0,void 0,function(){var i,o,a,u,c,f,h,p;return L(this,function(g){switch(g.label){case 0:return i=woe(n,e),o=jB(n,e),a=r.getImmediate({optional:!0}),a&&o.append("x-firebase-client",a.getPlatformInfoString()),u={installation:{sdkVersion:DB}},c={method:"POST",headers:o,body:JSON.stringify(u)},[4,kC(function(){return fetch(i,c)})];case 1:return f=g.sent(),f.ok?[4,f.json()]:[3,3];case 2:return h=g.sent(),p=FB(h),[2,p];case 3:return[4,xC("Generate Auth Token",f)];case 4:throw g.sent()}})})}function woe(t,e){var n=e.fid;return AC(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t,e){return e===void 0&&(e=!1),F(this,void 0,void 0,function(){var n,r,i,o;return L(this,function(a){switch(a.label){case 0:return[4,Qd(t.appConfig,function(u){if(!GB(u))throw os.create("not-registered");var c=u.authToken;if(!e&&Ioe(c))return u;if(c.requestStatus===1)return n=Eoe(t,e),u;if(!navigator.onLine)throw os.create("app-offline");var f=Coe(u);return n=Toe(t,f),f})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function Eoe(t,e){return F(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return[4,KB(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,BB(100)];case 3:return i.sent(),[4,KB(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,MC(t,e)]:[2,r]}})})}function KB(t){return Qd(t,function(e){if(!GB(e))throw os.create("not-registered");var n=e.authToken;return Aoe(n)?Le(Le({},e),{authToken:{requestStatus:0}}):e})}function Toe(t,e){return F(this,void 0,void 0,function(){var n,r,i,r;return L(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,boe(t,e)];case 1:return n=o.sent(),r=Le(Le({},e),{authToken:n}),[4,Gy(t.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return i=o.sent(),LB(i)&&(i.customData.serverCode===401||i.customData.serverCode===404)?[4,PC(t.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return r=Le(Le({},e),{authToken:{requestStatus:0}}),[4,Gy(t.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}function GB(t){return t!==void 0&&t.registrationStatus===2}function Ioe(t){return t.requestStatus===2&&!Soe(t)}function Soe(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Zie}function Coe(t){var e={requestStatus:1,requestTime:Date.now()};return Le(Le({},t),{authToken:e})}function Aoe(t){return t.requestStatus===1&&t.requestTime+PB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xoe(t){return F(this,void 0,void 0,function(){var e,n,r;return L(this,function(i){switch(i.label){case 0:return[4,DC(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):MC(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function koe(t,e){return e===void 0&&(e=!1),F(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return[4,Roe(t.appConfig)];case 1:return r.sent(),[4,MC(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function Roe(t){return F(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:return[4,DC(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ooe(t,e){return F(this,void 0,void 0,function(){var n,r,i,o;return L(this,function(a){switch(a.label){case 0:return n=Noe(t,e),r=jB(t,e),i={method:"DELETE",headers:r},[4,kC(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,xC("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function Noe(t,e){var n=e.fid;return AC(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Poe(t){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,Qd(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw os.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw os.create("app-offline");case 3:return[4,Ooe(e,n)];case 4:return r.sent(),[4,PC(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Doe(t,e){var n=t.appConfig;return loe(n,e),function(){foe(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Moe(t){var e,n;if(!t||!t.options)throw LC("App Configuration");if(!t.name)throw LC("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Nn(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw LC(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function LC(t){return os.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Loe(t){var e="installations";t.INTERNAL.registerComponent(new ir(e,function(n){var r=n.getProvider("app").getImmediate(),i=Moe(r),o=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:o},u={app:r,getId:function(){return xoe(a)},getToken:function(c){return koe(a,c)},delete:function(){return Poe(a)},onIdChange:function(c){return Doe(a,c)}};return u},"PUBLIC")),t.registerVersion(Qie,NB)}Loe(ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,Foe=(An={},An["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',An["only-available-in-window"]="This method is available in a Window context.",An["only-available-in-sw"]="This method is available in a service worker context.",An["permission-default"]="The notification permission was not granted and dismissed instead.",An["permission-blocked"]="The notification permission was not granted and blocked instead.",An["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",An["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",An["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",An["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",An["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",An["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",An["token-update-no-token"]="FCM returned no token when updating the user to push.",An["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",An["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",An["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",An["invalid-vapid-key"]="The public VAPID key must be a string.",An["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",An),Nt=new Go("messaging","Messaging",Foe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uoe="/firebase-messaging-sw.js",joe="/firebase-cloud-messaging-push-scope",Yy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Boe="https://fcmregistrations.googleapis.com/v1",YB="FCM_MSG",Voe="FirebaseMessaging: ",qoe="google.c.a.e",XB="google.c.a.c_id",Hoe="google.c.a.ts",$oe="google.c.a.c_l",Woe=1e3,zoe=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var zu;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(zu||(zu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,Je([],$n(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Koe(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FC="fcm_token_details_db",Goe=5,QB="fcm_token_object_Store";function Yoe(t){return F(this,void 0,void 0,function(){var e,n,r,i,o=this;return L(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(u){return u.name}),!n.includes(FC))return[2,null];a.label=2;case 2:return r=null,[4,SC(FC,Goe,function(u){return F(o,void 0,void 0,function(){var c,f,h,h,h,p;return L(this,function(g){switch(g.label){case 0:return u.oldVersion<2?[2]:u.objectStoreNames.contains(QB)?(c=u.transaction.objectStore(QB),[4,c.index("fcmSenderId").get(t)]):[2];case 1:return f=g.sent(),[4,c.clear()];case 2:if(g.sent(),!f)return[2];if(u.oldVersion===2){if(h=f,!h.auth||!h.p256dh||!h.endpoint)return[2];r={token:h.fcmToken,createTime:(p=h.createTime)!==null&&p!==void 0?p:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:ss(h.vapidKey)}}}else u.oldVersion===3?(h=f,r={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:ss(h.auth),p256dh:ss(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:ss(h.vapidKey)}}):u.oldVersion===4&&(h=f,r={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:ss(h.auth),p256dh:ss(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:ss(h.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,CC(FC)];case 4:return a.sent(),[4,CC("fcm_vapid_details_db")];case 5:return a.sent(),[4,CC("undefined")];case 6:return a.sent(),[2,Xoe(r)?r:null]}})})}function Xoe(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qoe="firebase-messaging-database",Joe=1,Ku="firebase-messaging-store",UC=null;function jC(){return UC||(UC=SC(Qoe,Joe,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Ku)}})),UC}function Xy(t){return F(this,void 0,void 0,function(){var e,n,r,i;return L(this,function(o){switch(o.label){case 0:return e=VC(t),[4,jC()];case 1:return n=o.sent(),[4,n.transaction(Ku).objectStore(Ku).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,Yoe(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,BC(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function BC(t,e){return F(this,void 0,void 0,function(){var n,r,i;return L(this,function(o){switch(o.label){case 0:return n=VC(t),[4,jC()];case 1:return r=o.sent(),i=r.transaction(Ku,"readwrite"),[4,i.objectStore(Ku).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function Zoe(t){return F(this,void 0,void 0,function(){var e,n,r;return L(this,function(i){switch(i.label){case 0:return e=VC(t),[4,jC()];case 1:return n=i.sent(),r=n.transaction(Ku,"readwrite"),[4,r.objectStore(Ku).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function VC(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ese(t,e){return F(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return L(this,function(f){switch(f.label){case 0:return[4,HC(t)];case 1:n=f.sent(),r=ZB(e),i={method:"POST",headers:n,body:JSON.stringify(r)},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(qC(t.appConfig),i)];case 3:return a=f.sent(),[4,a.json()];case 4:return o=f.sent(),[3,6];case 5:throw u=f.sent(),Nt.create("token-subscribe-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,Nt.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw Nt.create("token-subscribe-no-token");return[2,o.token]}})})}function tse(t,e){return F(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return L(this,function(f){switch(f.label){case 0:return[4,HC(t)];case 1:n=f.sent(),r=ZB(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(qC(t.appConfig)+"/"+e.token,i)];case 3:return a=f.sent(),[4,a.json()];case 4:return o=f.sent(),[3,6];case 5:throw u=f.sent(),Nt.create("token-update-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,Nt.create("token-update-failed",{errorInfo:c});if(!o.token)throw Nt.create("token-update-no-token");return[2,o.token]}})})}function JB(t,e){return F(this,void 0,void 0,function(){var n,r,i,o,a,u;return L(this,function(c){switch(c.label){case 0:return[4,HC(t)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(qC(t.appConfig)+"/"+e,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(o=c.sent(),o.error)throw a=o.error.message,Nt.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw u=c.sent(),Nt.create("token-unsubscribe-failed",{errorInfo:u});case 6:return[2]}})})}function qC(t){var e=t.projectId;return Boe+"/projects/"+e+"/registrations"}function HC(t){var e=t.appConfig,n=t.installations;return F(this,void 0,void 0,function(){var r;return L(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function ZB(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==Yy&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nse=7*24*60*60*1e3;function $C(t,e,n){return F(this,void 0,void 0,function(){var r,i,o,a;return L(this,function(u){switch(u.label){case 0:if(Notification.permission!=="granted")throw Nt.create("permission-blocked");return[4,ise(e,n)];case 1:return r=u.sent(),[4,Xy(t)];case 2:return i=u.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:ss(r.getKey("auth")),p256dh:ss(r.getKey("p256dh"))},i?[3,3]:[2,eV(t,o)];case 3:if(ose(i.subscriptionOptions,o))return[3,8];u.label=4;case 4:return u.trys.push([4,6,,7]),[4,JB(t,i.token)];case 5:return u.sent(),[3,7];case 6:return a=u.sent(),console.warn(a),[3,7];case 7:return[2,eV(t,o)];case 8:return Date.now()>=i.createTime+nse?[2,rse({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function Jd(t,e){return F(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return[4,Xy(t)];case 1:return n=i.sent(),n?[4,JB(t,n.token)]:[3,4];case 2:return i.sent(),[4,Zoe(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function rse(t,e,n){return F(this,void 0,void 0,function(){var r,i,o;return L(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,tse(e,t)];case 1:return r=a.sent(),i=Le(Le({},t),{token:r,createTime:Date.now()}),[4,BC(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Jd(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function eV(t,e){return F(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return[4,ese(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,BC(t,r)];case 2:return i.sent(),[2,r.token]}})})}function ise(t,e){return F(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Koe(e)})]}})})}function ose(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sse(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return ase(e,t),use(e,t),cse(e,t),e}function ase(t,e){if(!!e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function use(t,e){!e.data||(t.data=e.data)}function cse(t,e){if(!!e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){return typeof t=="object"&&!!t&&XB in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lse=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw Nt.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return F(this,void 0,void 0,function(){var r;return L(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Xy(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:Yy,i.label=2;case 2:return[2,$C(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Jd(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Nt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Nt.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Nt.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw Nt.create("only-available-in-window")},t.prototype.onMessage=function(){throw Nt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Nt.create("only-available-in-window")},t.prototype.onPush=function(e){return F(this,void 0,void 0,function(){var n,r,i,o;return L(this,function(a){switch(a.label){case 0:return n=hse(e),n?[4,rV()]:(console.debug(Voe+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),pse(r)?[2,gse(r,n)]:(i=!1,n.notification?[4,vse(fse(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=sse(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,nV(Woe)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return F(this,void 0,void 0,function(){var i,o;return L(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,Jd(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Xy(this.firebaseDependencies)];case 3:return o=a.sent(),[4,Jd(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,$C(this.firebaseDependencies,self.registration,(r=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Yy)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return F(this,void 0,void 0,function(){var i,o,a,u,c;return L(this,function(f){switch(f.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[YB],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=mse(i),o?(a=new URL(o,self.location.href),u=new URL(self.location.origin),a.host!==u.host?[2]:[4,dse(a)]):[2];case 1:return c=f.sent(),c?[3,4]:[4,self.clients.openWindow(o)];case 2:return c=f.sent(),[4,nV(zoe)];case 3:return f.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=f.sent(),f.label=6;case 6:return c?(i.messageType=zu.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},t}();function fse(t){var e,n=Le({},t.notification);return n.data=(e={},e[YB]=t,e),n}function hse(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function dse(t){return F(this,void 0,void 0,function(){var e,n,r,i,o,a,u;return L(this,function(c){switch(c.label){case 0:return[4,rV()];case 1:e=c.sent();try{for(n=Nn(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(f){a={error:f}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function pse(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function gse(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=zu.PUSH_RECEIVED;try{for(var i=Nn(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function rV(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function vse(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function mse(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(tV(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yse=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return F(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===zu.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(bse(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,tV(r)&&r[qoe]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return F(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Nt.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,$C(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return F(this,void 0,void 0,function(){return L(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Yy),[2]})})},t.prototype.updateSwReg=function(e){return F(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&!!this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(Uoe,{scope:joe})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Nt.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return F(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Jd(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return F(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?Nt.create("permission-blocked"):Nt.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Nt.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Nt.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");if(this.swRegistration)throw Nt.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Nt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Nt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return F(this,void 0,void 0,function(){var r,i;return L(this,function(o){switch(o.label){case 0:return r=_se(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:n[XB],message_name:n[$oe],message_time:n[Hoe],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function _se(t){switch(t){case zu.NOTIFICATION_CLICKED:return"notification_open";case zu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function bse(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wse(t){var e,n;if(!t||!t.options)throw WC("App Configuration Object");if(!t.name)throw WC("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=Nn(r),a=o.next();!a.done;a=o.next()){var u=a.value;if(!i[u])throw WC(u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function WC(t){return Nt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ese="messaging";function Tse(t){var e=t.getProvider("app").getImmediate(),n=wse(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!iV())throw Nt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new lse(o):new yse(o)}var Ise={isSupported:iV};ke.INTERNAL.registerComponent(new ir(Ese,Tse,"PUBLIC").setServiceProps(Ise));function iV(){return self&&"ServiceWorkerGlobalScope"in self?Cse():Sse()}function Sse(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Cse(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oV="firebasestorage.googleapis.com",sV="storageBucket",Ase=2*60*1e3,xse=10*60*1e3,vn=function(t){be(e,t);function e(n,r){var i=t.call(this,zC(n),"Firebase Storage: "+r+" ("+zC(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(n){return zC(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(zc);function zC(t){return"storage/"+t}function KC(){var t="An unknown error occurred, please check the error payload for server response.";return new vn("unknown",t)}function kse(t){return new vn("object-not-found","Object '"+t+"' does not exist.")}function Rse(t){return new vn("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ose(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vn("unauthenticated",t)}function Nse(){return new vn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Pse(t){return new vn("unauthorized","User does not have permission to access '"+t+"'.")}function Dse(){return new vn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function aV(){return new vn("canceled","User canceled the upload/download.")}function Mse(t){return new vn("invalid-url","Invalid URL '"+t+"'.")}function Lse(t){return new vn("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Fse(){return new vn("no-default-bucket","No default bucket found. Did you set the '"+sV+"' property when initializing the app?")}function uV(){return new vn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Use(){return new vn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function jse(){return new vn("no-download-url","The given file does not have any download URLs.")}function $l(t){return new vn("invalid-argument",t)}function cV(){return new vn("app-deleted","The Firebase app was deleted.")}function lV(t){return new vn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zd(t,e){return new vn("invalid-format","String does not match format '"+t+"': "+e)}function Qy(t){throw new vn("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bse(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},GC=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function fV(t,e){switch(t){case Ii.RAW:return new GC(hV(e));case Ii.BASE64:case Ii.BASE64URL:return new GC(dV(t,e));case Ii.DATA_URL:return new GC(qse(e),Hse(e))}throw KC()}function hV(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)==55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)==56320;if(!i)e.push(239,191,189);else{var o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)==56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Vse(t){var e;try{e=decodeURIComponent(t)}catch{throw Zd(Ii.DATA_URL,"Malformed data URL.")}return hV(e)}function dV(t,e){switch(t){case Ii.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Zd(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Ii.BASE64URL:{var o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw Zd(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var u;try{u=Bse(e)}catch{throw Zd(t,"Invalid character found")}for(var c=new Uint8Array(u.length),f=0;f<u.length;f++)c[f]=u.charCodeAt(f);return c}var pV=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw Zd(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=$se(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function qse(t){var e=new pV(t);return e.base64?dV(Ii.BASE64,e.rest):Vse(e.rest)}function Hse(t){var e=new pV(t);return e.contentType}function $se(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wse={STATE_CHANGED:"state_changed"},Ir={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function YC(t){switch(t){case"running":case"pausing":case"canceling":return Ir.RUNNING;case"paused":return Ir.PAUSED;case"success":return Ir.SUCCESS;case"canceled":return Ir.CANCELED;case"error":return Ir.ERROR;default:return Ir.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gu||(Gu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zse=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Gu.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=Gu.ABORT,n()}),e.xhr_.addEventListener("error",function(){e.errorCode_=Gu.NETWORK_ERROR,n()}),e.xhr_.addEventListener("load",function(){n()})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw Qy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Qy("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Qy("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Qy("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();function Kse(){return new zse}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gse=function(){function t(){}return t.prototype.createConnection=function(){return Kse()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Lse(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}var a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(Y){Y.path_=decodeURIComponent(Y.path)}for(var h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp("^https?://"+p+"/"+h+"/b/"+i+"/o"+g,"i"),y={bucket:1,path:3},b=n===oV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",T=new RegExp("^https?://"+b+"/"+i+"/"+w,"i"),A={bucket:1,path:2},k=[{regex:u,indices:c,postModify:o},{regex:m,indices:y,postModify:f},{regex:T,indices:A,postModify:f}],N=0;N<k.length;N++){var P=k[N],D=P.regex.exec(e);if(D){var $=D[P.indices.bucket],B=D[P.indices.path];B||(B=""),r=new t($,B),P.postModify(r);break}}if(r==null)throw Mse(e);return r},t}(),Yse=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xse(t,e,n){var r=1,i=null,o=!1,a=0;function u(){return a===2}var c=!1;function f(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];c||(c=!0,e.apply(null,y))}function h(y){i=setTimeout(function(){i=null,t(p,u())},y)}function p(y){for(var b=[],w=1;w<arguments.length;w++)b[w-1]=arguments[w];if(!c){if(y){f.call.apply(f,Je([null,y],b));return}var T=u()||o;if(T){f.call.apply(f,Je([null,y],b));return}r<64&&(r*=2);var A;a===1?(a=2,A=0):A=(r+Math.random())*1e3,h(A)}}var g=!1;function m(y){g||(g=!0,!c&&(i!==null?(y||(a=2),clearTimeout(i),h(0)):y||(a=1)))}return h(0),setTimeout(function(){o=!0,m(!0)},n),m}function Qse(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jse(t){return t!==void 0}function Zse(t){return typeof t=="function"}function eae(t){return typeof t=="object"&&!Array.isArray(t)}function Jy(t){return typeof t=="string"||t instanceof String}function gV(t){return XC()&&t instanceof Blob}function XC(){return typeof Blob!="undefined"}function QC(t,e,n,r){if(r<e)throw $l("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw $l("Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e){var n=e.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+t}function vV(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tae=function(){function t(e,n,r,i,o,a,u,c,f,h,p){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=u,this.errorCallback_=c,this.progressCallback_=h,this.timeout_=f,this.pool_=p,this.promise_=new Promise(function(m,y){g.resolve_=m,g.reject_=y,g.start_()})}return t.prototype.start_=function(){var e=this;function n(i,o){if(o){i(!1,new Zy(!1,null,!0));return}var a=e.pool_.createConnection();e.pendingConnection_=a;function u(c){var f=c.loaded,h=c.lengthComputable?c.total:-1;e.progressCallback_!==null&&e.progressCallback_(f,h)}e.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(){e.progressCallback_!==null&&a.removeUploadProgressListener(u),e.pendingConnection_=null;var c=a.getErrorCode()===Gu.NO_ERROR,f=a.getStatus();if(!c||e.isRetryStatusCode_(f)){var h=a.getErrorCode()===Gu.ABORT;i(!1,new Zy(!1,null,h));return}var p=e.successCodes_.indexOf(f)!==-1;i(!0,new Zy(p,a))})}function r(i,o){var a=e.resolve_,u=e.reject_,c=o.connection;if(o.wasSuccessCode)try{var f=e.callback_(c,c.getResponseText());Jse(f)?a(f):a()}catch(p){u(p)}else if(c!==null){var h=KC();h.serverResponse=c.getResponseText(),e.errorCallback_?u(e.errorCallback_(c,h)):u(h)}else if(o.canceled){var h=e.appDelete_?cV():aV();u(h)}else{var h=Dse();u(h)}}this.canceled_?r(!1,new Zy(!1,null,!0)):this.backoffId_=Xse(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Qse(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||o},t}(),Zy=function(){function t(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}return t}();function nae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function iae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sae(t,e,n,r,i,o){var a=vV(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return iae(c,e),nae(c,n),rae(c,o),oae(c,r),new tae(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aae(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function uae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=aae();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(XC())return new Blob(t);throw new vn("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function cae(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JC=function(){function t(e,n){var r=0,i="";gV(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(gV(this.data_)){var r=this.data_,i=cae(r,e,n);return i===null?null:new t(i)}else{var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(XC()){var r=e.map(function(c){return c instanceof t?c.data_:c});return new t(uae.apply(null,r))}else{var i=e.map(function(c){return Jy(c)?fV(Ii.RAW,c).data:c.data_}),o=0;i.forEach(function(c){o+=c.byteLength});var a=new Uint8Array(o),u=0;return i.forEach(function(c){for(var f=0;f<c.length;f++)a[u++]=c[f]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t){var e;try{e=JSON.parse(t)}catch{return null}return eae(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lae(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function fae(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function mV(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hae(t,e){return e}var Sr=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||hae}return t}(),e_=null;function dae(t){return!Jy(t)||t.length<2?t:mV(t)}function t_(){if(e_)return e_;var t=[];t.push(new Sr("bucket")),t.push(new Sr("generation")),t.push(new Sr("metageneration")),t.push(new Sr("name","fullPath",!0));function e(o,a){return dae(a)}var n=new Sr("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}var i=new Sr("size");return i.xform=r,t.push(i),t.push(new Sr("timeCreated")),t.push(new Sr("updated")),t.push(new Sr("md5Hash",null,!0)),t.push(new Sr("cacheControl",null,!0)),t.push(new Sr("contentDisposition",null,!0)),t.push(new Sr("contentEncoding",null,!0)),t.push(new Sr("contentLanguage",null,!0)),t.push(new Sr("contentType",null,!0)),t.push(new Sr("metadata","customMetadata",!0)),e_=t,e_}function pae(t,e){function n(){var r=t.bucket,i=t.fullPath,o=new Si(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function gae(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return pae(r,t),r}function yV(t,e,n){var r=ZC(e);if(r===null)return null;var i=r;return gae(t,i,n)}function vae(t,e,n){var r=ZC(e);if(r===null||!Jy(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,a=i.split(","),u=a.map(function(c){var f=t.bucket,h=t.fullPath,p="/b/"+o(f)+"/o/"+o(h),g=oa(p,n),m=vV({alt:"media",token:c});return g+m});return u[0]}function eA(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _V="prefixes",bV="items";function mae(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_V])for(var i=0,o=n[_V];i<o.length;i++){var a=o[i],u=a.replace(/\/$/,""),c=t._makeStorageReference(new Si(e,u));r.prefixes.push(c)}if(n[bV])for(var f=0,h=n[bV];f<h.length;f++){var p=h[f],c=t._makeStorageReference(new Si(e,p.name));r.items.push(c)}return r}function yae(t,e,n){var r=ZC(n);if(r===null)return null;var i=r;return mae(t,e,i)}var as=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){if(!t)throw KC()}function n_(t,e){function n(r,i){var o=yV(t,i,e);return Ro(o!==null),o}return n}function _ae(t,e){function n(r,i){var o=yae(t,e,i);return Ro(o!==null),o}return n}function bae(t,e){function n(r,i){var o=yV(t,i,e);return Ro(o!==null),vae(o,i,t.host)}return n}function Wl(t){function e(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=Nse():i=Ose():n.getStatus()===402?i=Rse(t.bucket):n.getStatus()===403?i=Pse(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function r_(t){var e=Wl(t);function n(r,i){var o=e(r,i);return r.getStatus()===404&&(o=kse(t.path)),o.serverResponse=i.serverResponse,o}return n}function wV(t,e,n){var r=e.fullServerUrl(),i=oa(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new as(i,o,n_(t,n),a);return u.errorHandler=r_(e),u}function wae(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=e.bucketOnlyServerUrl(),u=oa(a,t.host),c="GET",f=t.maxOperationRetryTime,h=new as(u,c,_ae(t,e.bucket),f);return h.urlParams=o,h.errorHandler=Wl(e),h}function Eae(t,e,n){var r=e.fullServerUrl(),i=oa(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new as(i,o,bae(t,n),a);return u.errorHandler=r_(e),u}function Tae(t,e,n,r){var i=e.fullServerUrl(),o=oa(i,t.host),a="PATCH",u=eA(n,r),c={"Content-Type":"application/json; charset=utf-8"},f=t.maxOperationRetryTime,h=new as(o,a,n_(t,r),f);return h.headers=c,h.body=u,h.errorHandler=r_(e),h}function Iae(t,e){var n=e.fullServerUrl(),r=oa(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(c,f){}var u=new as(r,i,a,o);return u.successCodes=[200,204],u.errorHandler=r_(e),u}function Sae(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function EV(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Sae(null,e)),r}function Cae(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){for(var k="",N=0;N<2;N++)k=k+Math.random().toString().slice(2);return k}var c=u();a["Content-Type"]="multipart/related; boundary="+c;var f=EV(e,r,i),h=eA(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,g=`\r
--`+c+"--",m=JC.getBlob(p,r,g);if(m===null)throw uV();var y={name:f.fullPath},b=oa(o,t.host),w="POST",T=t.maxUploadRetryTime,A=new as(b,w,n_(t,n),T);return A.urlParams=y,A.headers=a,A.body=m.uploadData(),A.errorHandler=Wl(e),A}var i_=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function tA(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ro(!1)}var r=e||["active"];return Ro(!!n&&r.indexOf(n)!==-1),n}function Aae(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=EV(e,r,i),u={name:a.fullPath},c=oa(o,t.host),f="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},p=eA(a,n),g=t.maxUploadRetryTime;function m(b){tA(b);var w;try{w=b.getResponseHeader("X-Goog-Upload-URL")}catch{Ro(!1)}return Ro(Jy(w)),w}var y=new as(c,f,m,g);return y.urlParams=u,y.headers=h,y.body=p,y.errorHandler=Wl(e),y}function xae(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(f){var h=tA(f,["active","final"]),p=null;try{p=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ro(!1)}p||Ro(!1);var g=Number(p);return Ro(!isNaN(g)),new i_(g,r.size(),h==="final")}var a="POST",u=t.maxUploadRetryTime,c=new as(n,a,o,u);return c.headers=i,c.errorHandler=Wl(e),c}var TV=256*1024;function kae(t,e,n,r,i,o,a,u){var c=new i_(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Use();var f=c.total-c.current,h=f;i>0&&(h=Math.min(h,i));var p=c.current,g=p+h,m=h===f?"upload, finalize":"upload",y={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":""+c.current},b=r.slice(p,g);if(b===null)throw uV();function w(N,P){var D=tA(N,["active","final"]),$=c.current+h,B=r.size(),Y;return D==="final"?Y=n_(e,o)(N,P):Y=null,new i_($,B,D==="final",Y)}var T="POST",A=e.maxUploadRetryTime,k=new as(n,T,w,A);return k.headers=y,k.body=b.uploadData(),k.progressCallback=u||null,k.errorHandler=Wl(t),k}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rae=function(){function t(e,n,r){var i=Zse(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IV=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=t_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":e(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var i=Aae(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=xae(e._ref.storage,e._ref._location,n,e._blob),a=e._ref.storage._makeRequest(o,r,i);e._request=a,a.getPromise().then(function(u){u=u,e._request=void 0,e._updateProgress(u.current),e._needToFetchStatus=!1,u.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=TV*this._chunkMultiplier,r=new i_(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var u;try{u=kae(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(f){e._error=f,e._transition("error");return}var c=e._ref.storage._makeRequest(u,o,a);e._request=c,c.getPromise().then(function(f){e._increaseMultiplier(),e._request=void 0,e._updateProgress(f.current),f.finalized?(e._metadata=f.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=TV*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var i=wV(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var i=Cae(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=aV(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=YC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var o=this,a=new Rae(n,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(YC(this._state)){case Ir.SUCCESS:zl(this._resolve.bind(null,this.snapshot))();break;case Ir.CANCELED:case Ir.ERROR:var n=this._reject;zl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=YC(this._state);switch(n){case Ir.RUNNING:case Ir.PAUSED:e.next&&zl(e.next.bind(e,this.snapshot))();break;case Ir.SUCCESS:e.complete&&zl(e.complete.bind(e))();break;case Ir.CANCELED:case Ir.ERROR:e.error&&zl(e.error.bind(e,this._error))();break;default:e.error&&zl(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},t.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o_=function(){function t(e,n){this._service=e,n instanceof Si?this._location=n:this._location=Si.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new Si(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return mV(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=lae(this._location.path);if(e===null)return null;var n=new Si(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw lV(e)},t}();function Oae(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new IV(t,new JC(e),n)}function Nae(t){var e={prefixes:[],items:[]};return SV(t,e).then(function(){return e})}function SV(t,e,n){return F(this,void 0,void 0,function(){var r,i,o,a;return L(this,function(u){switch(u.label){case 0:return r={pageToken:n},[4,CV(t,r)];case 1:return i=u.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,SV(t,e,i.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function CV(t,e){return F(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&QC("options.maxResults",1,1e3,e.maxResults),n=e||{},r=wae(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function Pae(t){return F(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=wV(t.storage,t._location,t_()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function Dae(t,e){return F(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=Tae(t.storage,t._location,e,t_()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function Mae(t){return F(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=Eae(t.storage,t._location,t_()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw jse();return r})]}})})}function Lae(t){return F(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=Iae(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function AV(t,e){var n=fae(t._location.path,e),r=new Si(t._location.bucket,n);return new o_(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){return/^[A-Za-z]+:\/\//.test(t)}function Fae(t,e){return new o_(t,e)}function xV(t,e){if(t instanceof s_){var n=t;if(n._bucket==null)throw Fse();var r=new o_(n,n._bucket);return e!=null?xV(r,e):r}else return e!==void 0?AV(t,e):t}function Uae(t,e){if(e&&nA(e)){if(t instanceof s_)return Fae(t,e);throw $l("To use ref(service, url), the first argument must be a Storage instance.")}else return xV(t,e)}function kV(t,e){var n=e==null?void 0:e[sV];return n==null?null:Si.makeFromBucketSpec(n,t)}function jae(t,e,n,r){r===void 0&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken=typeof i=="string"?i:oT(i,t.app.options.projectId))}var s_=function(){function t(e,n,r,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=oV,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ase,this._maxUploadRetryTime=xse,this._requests=new Set,o!=null?this._bucket=Si.makeFromBucketSpec(o,this._host):this._bucket=kV(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=Si.makeFromBucketSpec(this._url,e):this._bucket=kV(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){QC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){QC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new o_(this,e)},t.prototype._makeRequest=function(e,n,r){var i=this;if(this._deleted)return new Yse(cV());var o=sae(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},t.prototype.makeRequestWithTokens=function(e){return F(this,void 0,void 0,function(){var n,r,i;return L(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(e,r,i)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bae(t,e,n){return t=Qe(t),Oae(t,e,n)}function Vae(t){return t=Qe(t),Pae(t)}function qae(t,e){return t=Qe(t),Dae(t,e)}function Hae(t,e){return t=Qe(t),CV(t,e)}function $ae(t){return t=Qe(t),Nae(t)}function Wae(t){return t=Qe(t),Mae(t)}function zae(t){return t=Qe(t),Lae(t)}function RV(t,e){return t=Qe(t),Uae(t,e)}function Kae(t,e){return AV(t,e)}function Gae(t,e,n,r){r===void 0&&(r={}),jae(t,e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a_=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OV=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new a_(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new a_(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var o=this,a=void 0;return n&&(typeof n=="function"?a=function(u){return n(new a_(u,o,o._ref))}:a={next:n.next?function(u){return n.next(new a_(u,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}(),NV=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new ep(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new ep(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ep=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=Kae(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new OV(Bae(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){n===void 0&&(n=Ii.RAW),this._throwIfRoot("putString");var i=fV(n,e),o=Le({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new OV(new IV(this._delegate,new JC(i.data,!0),o),this)},t.prototype.listAll=function(){var e=this;return $ae(this._delegate).then(function(n){return new NV(n,e.storage)})},t.prototype.list=function(e){var n=this;return Hae(this._delegate,e||void 0).then(function(r){return new NV(r,n.storage)})},t.prototype.getMetadata=function(){return Vae(this._delegate)},t.prototype.updateMetadata=function(e){return qae(this._delegate,e)},t.prototype.getDownloadURL=function(){return Wae(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),zae(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw lV(e)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yae=function(){function t(e,n){this.app=e,this._delegate=n}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(nA(e))throw $l("ref() expected a child path but got a URL, use refFromURL instead.");return new ep(RV(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!nA(e))throw $l("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Si.makeFromUrl(e,this._delegate.host)}catch{throw $l("refFromUrl() expected a valid full URL but got an invalid one.")}return new ep(RV(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),Gae(this._delegate,e,n,r)},t}(),Xae="@firebase/storage",Qae="0.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jae="storage";function Zae(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=new Yae(r,new s_(r,i,o,new Gse,n,ke.SDK_VERSION));return a}function eue(t){var e={TaskState:Ir,TaskEvent:Wse,StringFormat:Ii,Storage:s_,Reference:ep};t.INTERNAL.registerComponent(new ir(Jae,Zae,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Xae,Qae)}eue(ke);var tue="@firebase/performance",PV="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DV=PV,nue="FB-PERF-TRACE-START",rue="FB-PERF-TRACE-STOP",rA="FB-PERF-TRACE-MEASURE",MV="_wt_",LV="_fp",FV="_fcp",UV="_fid",jV="@firebase/performance/config",BV="@firebase/performance/configexpire",iue="performance",VV="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn,oue=(Jn={},Jn["trace started"]="Trace {$traceName} was started before.",Jn["trace stopped"]="Trace {$traceName} is not running.",Jn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Jn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Jn["no window"]="Window is not available.",Jn["no app id"]="App id is not available.",Jn["no project id"]="Project id is not available.",Jn["no api key"]="Api key is not available.",Jn["invalid cc log"]="Attempted to queue invalid cc event",Jn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Jn["RC response not ok"]="RC response is not ok",Jn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Jn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Jn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Jn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Jn),fr=new Go(iue,VV,oue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us=new cu(VV);us.logLevel=rt.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iA,qV,hr=function(){function t(e){if(this.window=e,!e)throw fr.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(us.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Oh()?!0:(us.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(!!this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++){var u=a[o];n(u)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return iA===void 0&&(iA=new t(qV)),iA},t}();function sue(t){qV=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t,e){var n=t.length-e.length;if(n<0||n>1)throw fr.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oA,xn=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=HV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=HV("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw fr.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw fr.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw fr.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return oA===void 0&&(oA=new t),oA},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $V;function aue(){var t=xn.getInstance().installationsService.getId();return t.then(function(e){$V=e}),t}function sA(){return $V}function uue(){var t=xn.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kl;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(Kl||(Kl={}));var cue=["firebase_","google_","ga_"],lue=new RegExp("^[a-zA-Z]\\w*$"),fue=40,hue=100;function due(){var t=hr.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function WV(){var t=hr.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Kl.VISIBLE;case"hidden":return Kl.HIDDEN;default:return Kl.UNKNOWN}}function pue(){var t=hr.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function gue(t){if(t.length===0||t.length>fue)return!1;var e=cue.some(function(n){return t.startsWith(n)});return!e&&!!t.match(lue)}function vue(t){return t.length!==0&&t.length<=hue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mue="0.0.1",yue={loggingEnabled:!0},_ue="FIREBASE_INSTALLATIONS_AUTH";function bue(t){var e=wue();return e?(zV(e),Promise.resolve()):Iue(t).then(zV).then(function(n){return Eue(n)},function(){})}function wue(){var t=hr.getInstance().localStorage;if(!!t){var e=t.getItem(BV);if(!(!e||!Sue(e))){var n=t.getItem(jV);if(!!n)try{var r=JSON.parse(n);return r}catch{return}}}}function Eue(t){var e=hr.getInstance().localStorage;!t||!e||(e.setItem(jV,JSON.stringify(t)),e.setItem(BV,String(Date.now()+xn.getInstance().configTimeToLive*60*60*1e3)))}var Tue="Could not fetch config, will use default configs";function Iue(t){return uue().then(function(e){var n=xn.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+xn.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:_ue+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:xn.getInstance().getAppId(),app_version:DV,sdk_version:mue})});return fetch(i).then(function(o){if(o.ok)return o.json();throw fr.create("RC response not ok")})}).catch(function(){us.info(Tue)})}function zV(t){if(!t)return t;var e=xn.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=yue.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=KV(e.tracesSamplingRate),e.logNetworkAfterSampling=KV(e.networkRequestsSamplingRate),t}function Sue(t){return Number(t)>Date.now()}function KV(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aA=1,uA;function GV(){return aA=2,uA=uA||Aue(),uA}function Cue(){return aA===3}function Aue(){return xue().then(function(){return aue()}).then(function(t){return bue(t)}).then(function(){return YV()},function(){return YV()})}function xue(){var t=hr.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function YV(){aA=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cA=10*1e3,kue=5.5*1e3,XV=3,Rue=1e3,u_=XV,sa=[],QV=!1;function Oue(){QV||(c_(kue),QV=!0)}function c_(t){setTimeout(function(){if(u_!==0){if(!sa.length)return c_(cA);Nue()}},t)}function Nue(){var t=sa.splice(0,Rue),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:xn.getInstance().logSource,log_event:e};Pue(n,t).catch(function(){sa=Je(Je([],t),sa),u_--,us.info("Tries left: "+u_+"."),c_(cA)})}function Pue(t,e){return Due(t).then(function(n){return n.ok||us.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=cA;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(sa=Je(Je([],e),sa),us.info("Retry transport request later.")),u_=XV,c_(i)})}function Due(t){var e=xn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function Mue(t){if(!t.eventTime||!t.message)throw fr.create("invalid cc log");sa=Je(Je([],sa),[t])}function Lue(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);Mue({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lA;function JV(t,e){lA||(lA=Lue(Uue)),lA(t,e)}function l_(t){var e=xn.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!hr.getInstance().requiredApisAvailable()||t.isAuto&&WV()!==Kl.VISIBLE||(Cue()?fA(t):GV().then(function(){return fA(t)},function(){return fA(t)}))}function fA(t){if(!!sA()){var e=xn.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return JV(t,1)},0)}}function Fue(t){var e=xn.getInstance();if(!!e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return JV(t,0)},0)}}function Uue(t,e){return e===0?jue(t):Bue(t)}function jue(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:ZV(),network_request_metric:e};return JSON.stringify(n)}function Bue(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:ZV(),trace_metric:e};return JSON.stringify(r)}function ZV(){return{google_app_id:xn.getInstance().getAppId(),app_instance_id:sA(),web_app_info:{sdk_version:DV,page_url:hr.getInstance().getUrl(),service_worker_status:due(),visibility_state:WV(),effective_connection_type:pue()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var que=100,Hue="_",$ue=[LV,FV,UV];function Wue(t,e){return t.length===0||t.length>que?!1:e&&e.startsWith(MV)&&$ue.indexOf(t)>-1||!t.startsWith(Hue)}function zue(t){var e=Math.floor(t);return e<t&&us.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tp=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=hr.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=nue+"-"+this.randomId+"-"+this.name,this.traceStopMark=rue+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||rA+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw fr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw fr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),l_(this)},t.prototype.record=function(e,n,r){if(e<=0)throw fr.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw fr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=Le({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}l_(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(Wue(e,this.name))this.counters[e]=zue(n);else throw fr.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=gue(e),i=vue(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw fr.create("invalid attribute name",{attributeName:e});if(!i)throw fr.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return Le({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=hr.getInstance().getUrl();if(!!i){var o=new t(MV+i,!0),a=Math.floor(hr.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var u="first-paint",c="first-contentful-paint";if(n){var f=n.find(function(p){return p.name===u});f&&f.startTime&&o.putMetric(LV,Math.floor(f.startTime*1e3));var h=n.find(function(p){return p.name===c});h&&h.startTime&&o.putMetric(FV,Math.floor(h.startTime*1e3)),r&&o.putMetric(UV,Math.floor(r*1e3))}l_(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);l_(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=hr.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],u={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};Fue(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kue=5e3;function t4(){!sA()||(setTimeout(function(){return Yue()},0),setTimeout(function(){return Gue()},0),setTimeout(function(){return Xue()},0))}function Gue(){for(var t=hr.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];e4(i)}t.setupObserver("resource",e4)}function Yue(){var t=hr.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){tp.createOobTrace(e,n),r=void 0},Kue);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),tp.createOobTrace(e,n,i))})}else tp.createOobTrace(e,n)}function Xue(){for(var t=hr.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];n4(i)}t.setupObserver("measure",n4)}function n4(t){var e=t.name;e.substring(0,rA.length)!==rA&&tp.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Que=function(){function t(e){this.app=e,hr.getInstance().requiredApisAvailable()&&uT().then(function(n){n&&(Oue(),GV().then(t4,t4))}).catch(function(n){us.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new tp(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return xn.getInstance().instrumentationEnabled},set:function(e){xn.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return xn.getInstance().dataCollectionEnabled},set:function(e){xn.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jue="[DEFAULT]";function Zue(t){var e=function(n,r){if(n.name!==Jue)throw fr.create("FB not default");if(typeof window=="undefined")throw fr.create("no window");return sue(window),xn.getInstance().firebaseAppInstance=n,xn.getInstance().installationsService=r,new Que(n)};t.INTERNAL.registerComponent(new ir("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(tue,PV)}Zue(ke);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ece="firebase_id",tce="origin",nce=60*1e3,rce="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",r4="https://www.googletagmanager.com/gtag/js",dr;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(dr||(dr={}));var hA;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(hA||(hA={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ice(t,e,n,r,i){return F(this,void 0,void 0,function(){var o,a;return L(this,function(u){switch(u.label){case 0:return i&&i.global?(t(dr.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=u.sent(),a=Le(Le({},r),{send_to:o}),t(dr.EVENT,n,a),u.label=3;case 3:return[2]}})})}function oce(t,e,n,r){return F(this,void 0,void 0,function(){var i;return L(this,function(o){switch(o.label){case 0:return r&&r.global?(t(dr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(dr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function sce(t,e,n,r){return F(this,void 0,void 0,function(){var i;return L(this,function(o){switch(o.label){case 0:return r&&r.global?(t(dr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(dr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function ace(t,e,n,r){return F(this,void 0,void 0,function(){var i,o,a,u,c;return L(this,function(f){switch(f.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)u=a[o],i["user_properties."+u]=n[u];return t(dr.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=f.sent(),t(dr.CONFIG,c,{update:!0,user_properties:n}),f.label=3;case 3:return[2]}})})}function uce(t,e){return F(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn=new cu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cce(t,e){var n=document.createElement("script");n.src=r4+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function lce(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function fce(t,e,n,r,i,o){return F(this,void 0,void 0,function(){var a,u,c,f;return L(this,function(h){switch(h.label){case 0:a=r[i],h.label=1;case 1:return h.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return h.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=h.sent(),c=u.find(function(p){return p.measurementId===i}),c?[4,e[c.appId]]:[3,6];case 5:h.sent(),h.label=6;case 6:return[3,8];case 7:return f=h.sent(),Zn.error(f),[3,8];case 8:return t(dr.CONFIG,i,o),[2]}})})}function hce(t,e,n,r,i){return F(this,void 0,void 0,function(){var o,a,u,c,f,h,p,g,m;return L(this,function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=y.sent(),c=function(b){var w=u.find(function(A){return A.measurementId===b}),T=w&&e[w.appId];if(T)o.push(T);else return o=[],"break"},f=0,h=a;f<h.length&&(p=h[f],g=c(p),g!=="break");f++);y.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return y.sent(),t(dr.EVENT,r,i||{}),[3,5];case 4:return m=y.sent(),Zn.error(m),[3,5];case 5:return[2]}})})}function dce(t,e,n,r){function i(o,a,u){return F(this,void 0,void 0,function(){var c;return L(this,function(f){switch(f.label){case 0:return f.trys.push([0,6,,7]),o!==dr.EVENT?[3,2]:[4,hce(t,e,n,a,u)];case 1:return f.sent(),[3,5];case 2:return o!==dr.CONFIG?[3,4]:[4,fce(t,e,n,r,a,u)];case 3:return f.sent(),[3,5];case 4:t(dr.SET,a),f.label=5;case 5:return[3,7];case 6:return c=f.sent(),Zn.error(c),[3,7];case 7:return[2]}})})}return i}function pce(t,e,n,r,i){var o=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=dce(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function gce(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(r4))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ji,vce=(Ji={},Ji["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Ji["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Ji["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Ji["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ji["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ji["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Ji["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Ji["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Ji["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Ji),Ci=new Go("analytics","Analytics",vce);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mce=30,yce=1e3,_ce=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=yce),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),i4=new _ce;function bce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function wce(t){var e;return F(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return L(this,function(f){switch(f.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:bce(r)},o=rce.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=f.sent(),!(a.status!==200&&a.status!==304))return[3,6];u="",f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.json()];case 3:return c=f.sent(),((e=c.error)===null||e===void 0?void 0:e.message)&&(u=c.error.message),[3,5];case 4:return f.sent(),[3,5];case 5:throw Ci.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u});case 6:return[2,a.json()]}})})}function Ece(t,e,n){return e===void 0&&(e=i4),F(this,void 0,void 0,function(){var r,i,o,a,u,c,f=this;return L(this,function(h){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Ci.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Ci.create("no-api-key")}return u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Sce,setTimeout(function(){return F(f,void 0,void 0,function(){return L(this,function(p){return c.abort(),[2]})})},n!==void 0?n:nce),[2,o4({appId:i,apiKey:o,measurementId:a},u,c,e)]})})}function o4(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=i4),F(this,void 0,void 0,function(){var a,u,c,f,h,p,g;return L(this,function(m){switch(m.label){case 0:a=t.appId,u=t.measurementId,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Tce(n,i)];case 2:return m.sent(),[3,4];case 3:if(c=m.sent(),u)return Zn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:u}];throw c;case 4:return m.trys.push([4,6,,7]),[4,wce(t)];case 5:return f=m.sent(),r.deleteThrottleMetadata(a),[2,f];case 6:if(h=m.sent(),!Ice(h)){if(r.deleteThrottleMetadata(a),u)return Zn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]")),[2,{appId:a,measurementId:u}];throw h}return p=Number(h.customData.httpStatus)===503?hT(o,r.intervalMillis,mce):hT(o,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:o+1},r.setThrottleMetadata(a,g),Zn.debug("Calling attemptFetch again in "+p+" millis"),[2,o4(t,g,n,r)];case 7:return[2]}})})}function Tce(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Ci.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ice(t){if(!(t instanceof zc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Sce=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cce(){return F(this,void 0,void 0,function(){var t;return L(this,function(e){switch(e.label){case 0:return Oh()?[3,1]:(Zn.warn(Ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,uT()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Zn.warn(Ci.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function Ace(t,e,n,r,i,o){return F(this,void 0,void 0,function(){var a,u,c,f,h,p,g;return L(this,function(m){switch(m.label){case 0:return a=Ece(t),a.then(function(y){n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Zn.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return Zn.error(y)}),e.push(a),u=Cce().then(function(y){if(y)return r.getId()}),[4,Promise.all([a,u])];case 1:return c=m.sent(),f=c[0],h=c[1],gce()||cce(o,f.measurementId),i("js",new Date),p=(g={},g[tce]="firebase",g.update=!0,g),h!=null&&(p[ece]=h),i(dr.CONFIG,f.measurementId,p),[2,f.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cs={},s4=[],a4={},f_="dataLayer",u4="gtag",c4,np,dA=!1;function xce(t){if(dA)throw Ci.create("already-initialized");t.dataLayerName&&(f_=t.dataLayerName),t.gtagName&&(u4=t.gtagName)}function kce(){var t=[];if(aT()&&t.push("This is a browser extension environment."),zD()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Ci.create("invalid-analytics-context",{errorInfo:e});Zn.warn(n.message)}}function Rce(t,e){kce();var n=t.options.appId;if(!n)throw Ci.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Ci.create("no-api-key");if(cs[n]!=null)throw Ci.create("already-exists",{id:n});if(!dA){lce(f_);var r=pce(cs,s4,a4,f_,u4),i=r.wrappedGtag,o=r.gtagCore;np=i,c4=o,dA=!0}cs[n]=Ace(t,s4,a4,e,c4,f_);var a={app:t,logEvent:function(u,c,f){ice(np,cs[n],u,c,f).catch(function(h){return Zn.error(h)})},setCurrentScreen:function(u,c){oce(np,cs[n],u,c).catch(function(f){return Zn.error(f)})},setUserId:function(u,c){sce(np,cs[n],u,c).catch(function(f){return Zn.error(f)})},setUserProperties:function(u,c){ace(np,cs[n],u,c).catch(function(f){return Zn.error(f)})},setAnalyticsCollectionEnabled:function(u){uce(cs[n],u).catch(function(c){return Zn.error(c)})},INTERNAL:{delete:function(){return delete cs[n],Promise.resolve()}}};return a}var Oce="@firebase/analytics",Nce="0.6.18",l4="analytics";function Pce(t){t.INTERNAL.registerComponent(new ir(l4,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return Rce(r,i)},"PUBLIC").setServiceProps({settings:xce,EventName:hA,isSupported:Dce})),t.INTERNAL.registerComponent(new ir("analytics-internal",e,"PRIVATE")),t.registerVersion(Oce,Nce);function e(n){try{var r=n.getProvider(l4).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Ci.create("interop-component-reg-failed",{reason:i})}}}Pce(ke);function Dce(){return F(this,void 0,void 0,function(){var t;return L(this,function(e){switch(e.label){case 0:if(aT())return[2,!1];if(!zD())return[2,!1];if(!Oh())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,uT()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mce=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return F(this,void 0,void 0,function(){var n,r,i,o,a;return L(this,function(u){switch(u.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=u.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=u.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return u.sent(),[2,o]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr,Lce=(Cr={},Cr["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Cr["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Cr["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Cr["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Cr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Cr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Cr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Cr["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Cr["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Cr["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Cr["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Cr["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Cr["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Cr),Ai=new Go("remoteconfig","Remote Config",Lce);function Fce(t,e){return t instanceof zc&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uce(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jce=function(){function t(e,n,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return t.prototype.fetch=function(e){return F(this,void 0,void 0,function(){var n,r,i,o,a,u,c,f,h,p,g,m,y,b,w,T,A,k,N;return L(this,function(P){switch(P.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=P.sent(),r=n[0],i=n[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Uce()},f={method:"POST",headers:u,body:JSON.stringify(c)},h=fetch(a,f),p=new Promise(function(D,$){e.signal.addEventListener(function(){var B=new Error("The operation was aborted.");B.name="AbortError",$(B)})}),P.label=2;case 2:return P.trys.push([2,5,,6]),[4,Promise.race([h,p])];case 3:return P.sent(),[4,h];case 4:return g=P.sent(),[3,6];case 5:throw m=P.sent(),y="fetch-client-network",m.name==="AbortError"&&(y="fetch-timeout"),Ai.create(y,{originalErrorMessage:m.message});case 6:if(b=g.status,w=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];k=void 0,P.label=7;case 7:return P.trys.push([7,9,,10]),[4,g.json()];case 8:return k=P.sent(),[3,10];case 9:throw N=P.sent(),Ai.create("fetch-client-parse",{originalErrorMessage:N.message});case 10:T=k.entries,A=k.state,P.label=11;case 11:if(A==="INSTANCE_STATE_UNSPECIFIED"?b=500:A==="NO_CHANGE"?b=304:(A==="NO_TEMPLATE"||A==="EMPTY_CONFIG")&&(T={}),b!==304&&b!==200)throw Ai.create("fetch-status",{httpStatus:b});return[2,{status:b,eTag:w,config:T}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bce=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vce=!1,qce="",f4=0,Hce=["1","true","t","yes","y","on"],pA=function(){function t(e,n){n===void 0&&(n=qce),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?Vce:Hce.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return f4;var e=Number(this._value);return isNaN(e)&&(e=f4),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $ce=60*1e3,Wce=12*60*60*1e3,zce=function(){function t(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:$ce,minimumFetchIntervalMillis:Wce},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=rt.DEBUG;break;case"silent":this._logger.logLevel=rt.SILENT;break;default:this._logger.logLevel=rt.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return F(this,void 0,void 0,function(){var e,n,r;return L(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return F(this,void 0,void 0,function(){var e,n,r,i=this;return L(this,function(o){switch(o.label){case 0:e=new Bce,setTimeout(function(){return F(i,void 0,void 0,function(){return L(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return n=o.sent(),r=Fce(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return F(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return Kce(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new pA("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new pA("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new pA("static"))},t}();function Kce(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(Le(Le({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){var n=t.target.error||void 0;return Ai.create(e,{originalErrorMessage:n&&n.message})}var Yu="app_namespace_store",Gce="firebase_remote_config",Yce=1;function Xce(){return new Promise(function(t,e){var n=indexedDB.open(Gce,Yce);n.onerror=function(r){e(h_(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Yu,{keyPath:"compositeKey"})}}})}var Qce=function(){function t(e,n,r,i){i===void 0&&(i=Xce()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return F(this,void 0,void 0,function(){var n,r=this;return L(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([Yu],"readonly"),c=u.objectStore(Yu),f=r.createCompositeKey(e);try{var h=c.get(f);h.onerror=function(p){a(h_(p,"storage-get"))},h.onsuccess=function(p){var g=p.target.result;o(g?g.value:void 0)}}catch(p){a(Ai.create("storage-get",{originalErrorMessage:p&&p.message}))}})]}})})},t.prototype.set=function(e,n){return F(this,void 0,void 0,function(){var r,i=this;return L(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,u){var c=r.transaction([Yu],"readwrite"),f=c.objectStore(Yu),h=i.createCompositeKey(e);try{var p=f.put({compositeKey:h,value:n});p.onerror=function(g){u(h_(g,"storage-set"))},p.onsuccess=function(){a()}}catch(g){u(Ai.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},t.prototype.delete=function(e){return F(this,void 0,void 0,function(){var n,r=this;return L(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([Yu],"readwrite"),c=u.objectStore(Yu),f=r.createCompositeKey(e);try{var h=c.delete(f);h.onerror=function(p){a(h_(p,"storage-delete"))},h.onsuccess=function(){o()}}catch(p){a(Ai.create("storage-delete",{originalErrorMessage:p&&p.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jce=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return F(this,void 0,void 0,function(){var e,n,r,i,o,a;return L(this,function(u){switch(u.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=u.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return o=u.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return a=u.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zce(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Ai.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ele(t){if(!(t instanceof zc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var tle=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return F(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return F(this,void 0,void 0,function(){var o,a,u;return L(this,function(c){switch(c.label){case 0:return[4,Zce(e.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,o];case 5:if(a=c.sent(),!ele(a))throw a;return u={throttleEndTimeMillis:Date.now()+hT(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(u)];case 6:return c.sent(),[2,this.attemptFetch(e,u)];case 7:return[2]}})})},t}(),h4="@firebase/remote-config",nle="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rle(t){t.INTERNAL.registerComponent(new ir("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(h4,nle);function e(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window=="undefined")throw Ai.create("registration-window");var u=o.options,c=u.projectId,f=u.apiKey,h=u.appId;if(!c)throw Ai.create("registration-project-id");if(!f)throw Ai.create("registration-api-key");if(!h)throw Ai.create("registration-app-id");i=i||"firebase";var p=new Qce(h,o.name,i),g=new Jce(p),m=new cu(h4);m.logLevel=rt.ERROR;var y=new jce(a,t.SDK_VERSION,i,c,f,h),b=new tle(y,p),w=new Mce(b,p,g,m),T=new zce(o,w,g,p,m);return T.ensureInitialized(),T}}rle(ke);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi,ile=(Zi={},Zi["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Zi["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Zi["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Zi["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Zi["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Zi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Zi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Zi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Zi["recaptcha-error"]="ReCAPTCHA error.",Zi),ti=new Go("appCheck","AppCheck",ile);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d4=new Map,ole={activated:!1,tokenObservers:[]},sle={enabled:!1};function Ar(t){return d4.get(t)||ole}function Oo(t,e){d4.set(t,e)}function gA(){return sle}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p4="https://content-firebaseappcheck.googleapis.com/v1beta",ale="exchangeRecaptchaToken",ule="exchangeDebugToken",g4={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cle=function(){function t(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(e){return F(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Pn,[4,lle(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Pn,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},t.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},t}();function lle(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(){return self.grecaptcha}function m4(t){if(!Ar(t).activated)throw ti.create("use-before-activation",{appName:t.name})}function fle(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}function hle(t){return Gv.encodeString(JSON.stringify(t),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t,e){var n=t.url,r=t.body;return F(this,void 0,void 0,function(){var i,o,a,u,c,f,h,p,g,m;return L(this,function(y){switch(y.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},y.label=1;case 1:return y.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return u=y.sent(),[3,4];case 3:throw c=y.sent(),ti.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(u.status!==200)throw ti.create("fetch-status-error",{httpStatus:u.status});y.label=5;case 5:return y.trys.push([5,7,,8]),[4,u.json()];case 6:return f=y.sent(),[3,8];case 7:throw h=y.sent(),ti.create("fetch-parse-error",{originalErrorMessage:h.message});case 8:if(p=f.ttl.match(/^([\d.]+)(s)$/),!p||!p[2]||isNaN(Number(p[1])))throw ti.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+f.ttl)});return g=Number(p[1])*1e3,m=Date.now(),[2,{token:f.attestationToken,expireTimeMillis:m+g,issuedAtTimeMillis:m}]}})})}function dle(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:p4+"/projects/"+r+"/apps/"+i+":"+ale+"?key="+o,body:{recaptcha_token:e}}}function ple(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:p4+"/projects/"+r+"/apps/"+i+":"+ule+"?key="+o,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gle="firebase-app-check-database",vle=1,rp="firebase-app-check-store",_4="debug-token",d_=null;function b4(){return d_||(d_=new Promise(function(t,e){try{var n=indexedDB.open(gle,vle);n.onsuccess=function(r){t(r.target.result)},n.onerror=function(r){var i;e(ti.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(rp,{keyPath:"compositeKey"})}}}catch(r){e(ti.create("storage-open",{originalErrorMessage:r.message}))}}),d_)}function mle(t){return E4(T4(t))}function yle(t,e){return w4(T4(t),e)}function _le(t){return w4(_4,t)}function ble(){return E4(_4)}function w4(t,e){return F(this,void 0,void 0,function(){var n,r,i,o;return L(this,function(a){switch(a.label){case 0:return[4,b4()];case 1:return n=a.sent(),r=n.transaction(rp,"readwrite"),i=r.objectStore(rp),o=i.put({compositeKey:t,value:e}),[2,new Promise(function(u,c){o.onsuccess=function(f){u()},r.onerror=function(f){var h;c(ti.create("storage-set",{originalErrorMessage:(h=f.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function E4(t){return F(this,void 0,void 0,function(){var e,n,r,i;return L(this,function(o){switch(o.label){case 0:return[4,b4()];case 1:return e=o.sent(),n=e.transaction(rp,"readonly"),r=n.objectStore(rp),i=r.get(t),[2,new Promise(function(a,u){i.onsuccess=function(c){var f=c.target.result;a(f?f.value:void 0)},n.onerror=function(c){var f;u(ti.create("storage-get",{originalErrorMessage:(f=c.target.error)===null||f===void 0?void 0:f.message}))}})]}})})}function T4(t){return t.options.appId+"-"+t.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p_=new cu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wle(t){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:if(!Oh())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,mle(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),p_.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function I4(t,e){return Oh()?yle(t,e).catch(function(n){p_.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Ele(){return F(this,void 0,void 0,function(){var t,e;return L(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,ble()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e=fle(),_le(e).catch(function(r){return p_.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tle(){var t=gA();return t.enabled}function Ile(){return F(this,void 0,void 0,function(){var t;return L(this,function(e){if(t=gA(),t.enabled&&t.token)return[2,t.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function Sle(){var t=x8();if(!(typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=gA();e.enabled=!0;var n=new Pn;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Ele())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cle={error:"UNKNOWN_ERROR"};function g_(t,e,n){return n===void 0&&(n=!1),F(this,void 0,void 0,function(){var r,i,o,a,u,c,f,h,p,g;return L(this,function(m){switch(m.label){case 0:return m4(t),r=Ar(t),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=m.sent(),a&&ip(a)&&(i=a,Oo(t,Le(Le({},r),{token:i})),C4(t,{token:i.token})),m.label=2;case 2:return!n&&i&&ip(i)?[2,{token:i.token}]:Tle()?(c=y4,f=ple,h=[t],[4,Ile()]):[3,6];case 3:return[4,c.apply(void 0,[f.apply(void 0,h.concat([m.sent()])),e])];case 4:return u=m.sent(),[4,I4(t,u)];case 5:return m.sent(),Oo(t,Le(Le({},r),{token:u})),[2,{token:u.token}];case 6:return m.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=m.sent(),[3,9];case 8:return p=m.sent(),p_.error(p),o=p,[3,9];case 9:return i?[3,10]:(g=xle(o),[3,12]);case 10:return g={token:i.token},Oo(t,Le(Le({},r),{token:i})),[4,I4(t,i)];case 11:m.sent(),m.label=12;case 12:return C4(t,g),[2,g]}})})}function S4(t,e,n,r,i){var o=Ar(t),a={next:r,error:i,type:n},u=Le(Le({},o),{tokenObservers:Je(Je([],o.tokenObservers),[a])});if(!u.tokenRefresher){var c=Ale(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),o.token&&ip(o.token)){var f=o.token;Promise.resolve().then(function(){return r({token:f.token})}).catch(function(){})}else o.token==null&&o.cachedTokenPromise.then(function(h){h&&ip(h)&&r({token:h.token})}).catch(function(){});Oo(t,u)}function vA(t,e){var n=Ar(t),r=n.tokenObservers.filter(function(i){return i.next!==e});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Oo(t,Le(Le({},n),{tokenObservers:r}))}function Ale(t,e){var n=this;return new cle(function(){return F(n,void 0,void 0,function(){var r,i;return L(this,function(o){switch(o.label){case 0:return r=Ar(t),r.token?[3,2]:[4,g_(t,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,g_(t,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Ar(t);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+5*60*1e3,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},g4.RETRIAL_MIN_WAIT,g4.RETRIAL_MAX_WAIT)}function C4(t,e){for(var n=Ar(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];try{o.type==="EXTERNAL"&&e.error!=null?o.error(e.error):o.next(e)}catch{}}}function ip(t){return t.expireTimeMillis-Date.now()>0}function xle(t){return{token:hle(Cle),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kle="https://www.google.com/recaptcha/api.js";function Rle(t,e){var n=Ar(t),r=new Pn;Oo(t,Le(Le({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=v4();return a?a.ready(function(){A4(t,e,a,i),r.resolve(a)}):Nle(function(){var u=v4();if(!u)throw new Error("no recaptcha");u.ready(function(){A4(t,e,u,i),r.resolve(u)})}),r.promise}function Ole(t){return F(this,void 0,void 0,function(){var e,n;return L(this,function(r){switch(r.label){case 0:return m4(t),e=Ar(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,o){var a=Ar(t).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function A4(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=Ar(t);Oo(t,Le(Le({},o),{reCAPTCHAState:Le(Le({},o.reCAPTCHAState),{widgetId:i})}))}function Nle(t){var e=document.createElement("script");e.src=""+kle,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mA=function(){function t(e){this._siteKey=e}return t.prototype.getToken=function(){return F(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw ti.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Ole(this._app)];case 2:return e=n.sent(),[3,4];case 3:throw n.sent(),ti.create("recaptcha-error");case 4:return[2,y4(dle(this._app,e),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(e,n){this._app=e,this._platformLoggerProvider=n,Rle(e,this._siteKey).catch(function(){})},t}(),yA=function(){function t(e){this._customProviderOptions=e}return t.prototype.getToken=function(){return F(this,void 0,void 0,function(){var e,n,r;return L(this,function(i){switch(i.label){case 0:if(!this._app)throw ti.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=i.sent(),n=N8(e.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,Le(Le({},e),{issuedAtTimeMillis:r})]}})})},t.prototype.initialize=function(e){this._app=e},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ple(t,e,n,r){var i=Ar(t);if(i.activated)throw ti.create("already-activated",{appName:t.name});var o=Le(Le({},i),{activated:!0});o.cachedTokenPromise=wle(t).then(function(a){return a&&ip(a)&&Oo(t,Le(Le({},Ar(t)),{token:a})),a}),typeof e=="string"?o.provider=new mA(e):e instanceof mA||e instanceof yA?o.provider=e:o.provider=new yA({getToken:e.getToken}),o.isTokenAutoRefreshEnabled=r===void 0?t.automaticDataCollectionEnabled:r,Oo(t,o),o.provider.initialize(t,n)}function Dle(t,e){var n=Ar(t);n.tokenRefresher&&(e===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Oo(t,Le(Le({},n),{isTokenAutoRefreshEnabled:e}))}function Mle(t,e,n){return F(this,void 0,void 0,function(){var r;return L(this,function(i){switch(i.label){case 0:return[4,g_(t,e,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function Lle(t,e,n,r,i){var o=function(){},a=function(){};return n.next!=null?o=n.next.bind(n):o=n,n.error!=null?a=n.error.bind(n):r&&(a=r),S4(t,e,"EXTERNAL",o,a),function(){return vA(t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fle(t,e){return{app:t,activate:function(n,r){return Ple(t,n,e,r)},setTokenAutoRefreshEnabled:function(n){return Dle(t,n)},getToken:function(n){return Mle(t,e,n)},onTokenChanged:function(n,r,i){return Lle(t,e,n,r)},INTERNAL:{delete:function(){for(var n=Ar(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];vA(t,o.next)}return Promise.resolve()}}}}function Ule(t,e){return{getToken:function(n){return g_(t,e,n)},addTokenListener:function(n){return S4(t,e,"INTERNAL",n)},removeTokenListener:function(n){return vA(t,n)}}}var jle="@firebase/app-check",Ble="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vle="appCheck",x4="app-check-internal";function qle(t){t.INTERNAL.registerComponent(new ir(Vle,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return Fle(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:mA,CustomProvider:yA}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider(x4);i.initialize()})),t.INTERNAL.registerComponent(new ir(x4,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return Ule(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(jle,Ble)}qle(ke);Sle();var Hle="firebase",k4="8.10.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ke.registerVersion(Hle,k4,"app");ke.SDK_VERSION=k4;var $le="firebase",Wle="8.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ke.registerVersion($le,Wle);/**
  * vee-validate v4.3.0
  * (c) 2021 Abdelrahman Awad
  * @license MIT
  */function Xu(t){return typeof t=="function"}const Gl=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function R4(t){return Number(t)>=0}function zle(t){const e=parseFloat(t);return isNaN(e)?t:e}const O4={};function ahe(t,e){Gle(t,e),O4[t]=e}function Kle(t){return O4[t]}function Gle(t,e){if(!Xu(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}const _A=(t,e)=>t.slots.default?t.slots.default(e):t.slots.default;function N4(t){if(P4(t))return t._value}function P4(t){return"_value"in t}const bA=t=>t?!!(typeof Event!="undefined"&&Xu(Event)&&t instanceof Event||t&&t.srcElement):!1;function D4(t){if(!bA(t))return t;const e=t.target;return sp(e.type)&&P4(e)?N4(e):e.type==="file"&&e.files?Array.from(e.files):Zle(e)?Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(N4):e.value}function wA(t){return Xu(t)&&!!t.__locatorRef}function Yle(t){return["input","textarea","select"].includes(t)}function Xle(t,e){return Yle(t)&&e.type==="file"}function op(t){return!!t&&Xu(t.validate)}function sp(t){return t==="checkbox"||t==="radio"}function Qle(t){return Gl(t)||Array.isArray(t)}function Jle(t){return Array.isArray(t)?t.length===0:Gl(t)&&Object.keys(t).length===0}function v_(t){return/^\[.+\]$/i.test(t)}function Zle(t){return t.tagName==="SELECT"&&t.multiple}function efe(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function tfe(t,e){return efe(t,e)||Xle(t,e)}function nfe(t){return bA(t)&&t.target&&"submit"in t.target}function EA(t){return v_(t)?t.replace(/\[|\]/gi,""):t}function No(t,e){return t?v_(e)?t[EA(e)]:e.split(/\.|\[(\d+)\]/).filter(Boolean).reduce((r,i)=>{if(Qle(r)&&i in r)return r[i]},t):void 0}function Yl(t,e,n){if(v_(e)){t[EA(e)]=n;return}const r=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let o=0;o<r.length;o++){if(o===r.length-1){i[r[o]]=n;return}r[o]in i||(i[r[o]]=R4(r[o+1])?[]:{}),i=i[r[o]]}}function TA(t,e){if(Array.isArray(t)&&R4(e)){t.splice(Number(e),1);return}Gl(t)&&delete t[e]}function Xl(t,e){if(v_(e)){delete t[EA(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let r=t;for(let o=0;o<n.length;o++){if(o===n.length-1){TA(r,n[o]);break}if(!(n[o]in r))break;r=r[n[o]]}const i=n.map((o,a)=>No(t,n.slice(0,a).join(".")));for(let o=i.length-1;o>=0;o--)if(!!Jle(i[o])){if(o===0){TA(t,n[0]);continue}TA(i[o-1],n[o-1])}}function ls(t){return Object.keys(t)}function M4(t,e=void 0){const n=Z1();return ho(t,(n==null?void 0:n.provides[t])||e)}function IA(t,e,n=!1){if(!Array.isArray(t)){e(t);return}if(n){e(t[0]);return}t.forEach(e)}function SA(t,e,n){if(Array.isArray(t)){const r=[...t],i=r.indexOf(e);return i>=0?r.splice(i,1):r.push(e),r}return t===e?n:e}function L4(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Gl(t)&&t._$$isNormalized?t:Gl(t)?Object.keys(t).reduce((n,r)=>{const i=rfe(t[r]);return t[r]!==!1&&(n[r]=F4(i)),n},e):typeof t!="string"?e:t.split("|").reduce((n,r)=>{const i=ife(r);return i.name&&(n[i.name]=F4(i.params)),n},e):e}function rfe(t){return t===!0?[]:Array.isArray(t)||Gl(t)?t:[t]}function F4(t){const e=n=>typeof n=="string"&&n[0]==="@"?ofe(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{})}const ife=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function ofe(t){const e=n=>No(n,t)||n[t];return e.__locatorRef=t,e}function sfe(t){return Array.isArray(t)?t.filter(wA):ls(t).filter(e=>wA(t[e])).map(e=>t[e])}const afe={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let CA=Object.assign({},afe);const AA=()=>CA,ufe=t=>{CA=Object.assign(Object.assign({},CA),t)},uhe=ufe;async function U4(t,e,n={}){const r=n==null?void 0:n.bails,i={name:(n==null?void 0:n.name)||"{field}",rules:e,bails:r!=null?r:!0,formData:(n==null?void 0:n.values)||{}},a=(await cfe(i,t)).errors;return{errors:a,valid:!a.length}}async function cfe(t,e){if(op(t.rules))return lfe(e,t.rules,{bails:t.bails});if(Xu(t.rules)){const a={field:t.name,form:t.formData,value:e},u=await t.rules(e,a),c=typeof u!="string"&&u,f=typeof u=="string"?u:j4(a);return{errors:c?[]:[f]}}const n=Object.assign(Object.assign({},t),{rules:L4(t.rules)}),r=[],i=Object.keys(n.rules),o=i.length;for(let a=0;a<o;a++){const u=i[a],c=await ffe(n,e,{name:u,params:n.rules[u]});if(c.error&&(r.push(c.error),t.bails))return{errors:r}}return{errors:r}}async function lfe(t,e,n){var r;return{errors:await e.validate(t,{abortEarly:(r=n.bails)!==null&&r!==void 0?r:!0}).then(()=>[]).catch(o=>{if(o.name==="ValidationError")return o.errors;throw o})}}async function ffe(t,e,n){const r=Kle(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=hfe(n.params,t.formData),o={field:t.name,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:i})},a=await r(e,i,o);return typeof a=="string"?{error:a}:{error:a?void 0:j4(o)}}function j4(t){const e=AA().generateMessage;return e?e(t):"Field is invalid"}function hfe(t,e){const n=r=>wA(r)?r(e):r;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((r,i)=>(r[i]=n(t[i]),r),{})}var m_=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!=0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!=0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!=0;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const B4=Symbol("vee-validate-form"),V4=Symbol("vee-validate-form-errors"),q4=Symbol("vee-validate-form-initial-values"),dfe=Symbol("vee-validate-field-instance");let H4=0;function pfe(t,e,n){const r=H4>=Number.MAX_SAFE_INTEGER?0:++H4,{initialValue:i,validateOnMount:o,bails:a,type:u,valueProp:c,label:f,validateOnValueUpdate:h,uncheckedValue:p}=gfe(Me(t),n),g=M4(B4),{meta:m,errors:y,errorMessage:b,handleBlur:w,handleInput:T,resetValidationState:A,setValidationState:k,setErrors:N,value:P,checked:D}=vfe({name:t,initValue:i,form:g,type:u,valueProp:c}),$=Et(()=>{let W=Me(e);const Q=Me(g==null?void 0:g.schema);return Q&&!op(Q)&&(W=yfe(Q,Me(t))||W),op(W)||Xu(W)?W:L4(W)});async function B(){var W,Q;m.pending=!0;let oe;return m.validated=!0,!g||!g.validateSchema?oe=await U4(P.value,$.value,{name:Me(f)||Me(t),values:(W=g==null?void 0:g.values)!==null&&W!==void 0?W:{},bails:a}):oe=(Q=(await g.validateSchema("validated-only"))[Me(t)])!==null&&Q!==void 0?Q:{valid:!0,errors:[]},m.pending=!1,k(oe)}async function Y(){var W,Q,oe;let Ne;!g||!g.validateSchema?Ne=await U4(P.value,$.value,{name:Me(f)||Me(t),values:(W=g==null?void 0:g.values)!==null&&W!==void 0?W:{},bails:a}):Ne=(oe=(Q=await g.validateSchema("silent"))===null||Q===void 0?void 0:Q[Me(t)])!==null&&oe!==void 0?oe:{valid:!0,errors:[]},m.valid=Ne.valid}const R=W=>{var Q,oe;if(D&&D.value===((oe=(Q=W)===null||Q===void 0?void 0:Q.target)===null||oe===void 0?void 0:oe.checked))return;let Ne=D4(W);if(D&&u==="checkbox"&&!g&&(Ne=SA(P.value,Me(c),Me(p))),P.value=Ne,!h)return B()};Bg(()=>{if(o)return B();(!g||!g.validateSchema)&&Y()});function de(W){m.touched=W}let we;function J(){we=ci(P,h?B:Y,{deep:!0})}J();function Te(W){we==null||we(),A(W),J()}const ve={idx:-1,fid:r,name:t,value:P,meta:m,errors:y,errorMessage:b,type:u,valueProp:c,uncheckedValue:p,checked:D,resetField:Te,handleReset:()=>Te(),validate:B,handleChange:R,handleBlur:w,handleInput:T,setValidationState:k,setTouched:de,setErrors:N};if(Ss(dfe,ve),wn(e)&&typeof Me(e)!="function"&&ci(e,(W,Q)=>{if(!m_(W,Q))return B()},{deep:!0}),!g)return ve;g.register(ve),yw(()=>{g.unregister(ve)});const H=Et(()=>{const W=$.value;return!W||Xu(W)||op(W)?{}:Object.keys(W).reduce((Q,oe)=>{const Ne=sfe(W[oe]).map(ze=>ze.__locatorRef).reduce((ze,Fe)=>{const ot=No(g.values,Fe)||g.values[Fe];return ot!==void 0&&(ze[Fe]=ot),ze},{});return Object.assign(Q,Ne),Q},{})});return ci(H,(W,Q)=>{if(!Object.keys(W).length)return;!m_(W,Q)&&(m.dirty?B():Y())}),ve}function gfe(t,e){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",label:t,validateOnValueUpdate:!0});return e?Object.assign(Object.assign({},n()),e||{}):n()}function vfe({name:t,initValue:e,form:n,type:r,valueProp:i}){const{errors:o,errorMessage:a,setErrors:u}=bfe(t,n),c=M4(q4,void 0),f=Et(()=>{var T;return(T=No(Me(c),Me(t)))!==null&&T!==void 0?T:Me(e)}),h=_fe(f,t,n),p=mfe(f,h,o),g=sp(r)?Et(()=>Array.isArray(h.value)?h.value.includes(Me(i)):Me(i)===h.value):void 0,m=()=>{p.touched=!0},y=T=>{sp(r)||(h.value=D4(T))};function b(T){return u(T.errors),T}function w(T){var A,k;const N=Me(t),P=T&&"value"in T?T.value:(A=No(Me(c),N))!==null&&A!==void 0?A:e;n?n.setFieldValue(N,P,{force:!0}):h.value=P,u((T==null?void 0:T.errors)||[]),p.touched=(k=T==null?void 0:T.touched)!==null&&k!==void 0?k:!1,p.pending=!1,p.validated=!1}return{meta:p,errors:o,errorMessage:a,setErrors:u,setValidationState:b,resetValidationState:w,handleBlur:m,handleInput:y,value:h,checked:g}}function mfe(t,e,n){const r=Es({touched:!1,pending:!1,valid:!0,validated:!1,initialValue:Et(()=>Me(t)),dirty:Et(()=>!m_(e.value,Me(t)))});return ci(n,i=>{r.valid=!i.length},{immediate:!0,flush:"sync"}),r}function yfe(t,e){if(!!t)return t[e]}function _fe(t,e,n){return n?(n.stageInitialValue(Me(e),Me(t)),Et({get(){return No(n.values,Me(e))},set(i){n.setFieldValue(Me(e),i)}})):Uo(Me(t))}function bfe(t,e){if(!e){const r=Uo([]);return{errors:Et(()=>r.value),errorMessage:Et(()=>r.value[0]),setErrors:i=>{r.value=Array.isArray(i)?i:[i]}}}const n=Et(()=>e.errorBag.value[Me(t)]||[]);return{errors:n,errorMessage:Et(()=>n.value[0]),setErrors:r=>{e.setFieldErrorBag(Me(t),r)}}}const che=Gf({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>AA().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null},modelModifiers:{type:null,default:()=>({})}},emits:["update:modelValue"],setup(t,e){const n=lo(t,"rules"),r=lo(t,"name"),i=lo(t,"label"),o=lo(t,"uncheckedValue"),{errors:a,value:u,errorMessage:c,validate:f,handleChange:h,handleBlur:p,handleInput:g,setTouched:m,resetField:y,handleReset:b,meta:w,checked:T,setErrors:A}=pfe(r,n,{validateOnMount:t.validateOnMount,bails:t.bails,type:e.attrs.type,initialValue:sp(e.attrs.type)||"modelValue"in t?t.modelValue:e.attrs.value,valueProp:e.attrs.value,uncheckedValue:o,label:i,validateOnValueUpdate:!1}),k="modelValue"in t?function(B){h(B),e.emit("update:modelValue",u.value)}:h,N="modelValue"in t?function(B){g(B),e.emit("update:modelValue",u.value)}:g,P=Et(()=>{const{validateOnInput:$,validateOnChange:B,validateOnBlur:Y,validateOnModelUpdate:R}=wfe(t),de=[p,e.attrs.onBlur,Y?f:void 0].filter(Boolean),we=[N,$?k:void 0,e.attrs.onInput].filter(Boolean),J=[N,B?k:void 0,e.attrs.onChange].filter(Boolean),Te={name:t.name,onBlur:de,onInput:we,onChange:J};R&&(Te["onUpdate:modelValue"]=[k]),sp(e.attrs.type)&&T?Te.checked=T.value:Te.value=u.value;const ve=$4(t,e);return tfe(ve,e.attrs)&&delete Te.value,Te}),D=Et(()=>({field:P.value,value:u.value,meta:w,errors:a.value,errorMessage:c.value,validate:f,resetField:y,handleChange:k,handleInput:N,handleReset:b,handleBlur:p,setTouched:m,setErrors:A}));if("modelValue"in t){const $=lo(t,"modelValue");ci($,B=>{B!==Efe(u.value,t.modelModifiers)&&(u.value=B,f())})}return()=>{const $=Sw($4(t,e)),B=_A(e,D.value);return $?$a($,Object.assign(Object.assign({},e.attrs),P.value),B):B}}});function $4(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function wfe(t){var e,n,r,i;const{validateOnInput:o,validateOnChange:a,validateOnBlur:u,validateOnModelUpdate:c}=AA();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:o,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(r=t.validateOnBlur)!==null&&r!==void 0?r:u,validateOnModelUpdate:(i=t.validateOnModelUpdate)!==null&&i!==void 0?i:c}}function Efe(t,e){return e.number?zle(t):t}function Tfe(t){const e=Uo([]),n=Uo(!1),r=Et(()=>e.value.reduce((H,W)=>{const Q=Me(W.name);if(!H[Q])return H[Q]=W,W.idx=-1,H;const oe=H[Q];Array.isArray(oe)||(oe.idx=0,H[Q]=[oe]);const Ne=H[Q];return W.idx=Ne.length,Ne.push(W),H},{})),i=Uo(0),o=Es({}),a={},{errorBag:u,setErrorBag:c,setFieldErrorBag:f}=Afe(t==null?void 0:t.initialErrors),h=Et(()=>ls(u.value).reduce((H,W)=>{const Q=u.value[W];return Q&&Q.length&&(H[W]=Q[0]),H},{})),{readonlyInitialValues:p,initialValues:g,setInitialValues:m}=Cfe(r,o,t==null?void 0:t.initialValues),y=Ife(e,o,p);function b(H,W){f(H,W)}function w(H){c(H)}function T(H,W,{force:Q}={force:!1}){var oe;const Ne=r.value[H];if(Array.isArray(Ne)&&((oe=Ne[0])===null||oe===void 0?void 0:oe.type)==="checkbox"&&!Array.isArray(W)){const Fe=SA(No(o,H)||[],W,void 0);Yl(o,H,Fe),Ne.forEach(ot=>{a[ot.fid]=Fe});return}let ze=W;if(!Array.isArray(Ne)&&(Ne==null?void 0:Ne.type)==="checkbox"&&!Q&&(ze=SA(No(o,H),W,Me(Ne.uncheckedValue))),Yl(o,H,ze),Ne&&Array.isArray(Ne)){Ne.forEach(Fe=>{a[Fe.fid]=ze});return}Ne&&(a[Ne.fid]=ze)}function A(H){ls(H).forEach(W=>{T(W,H[W])})}function k(H,W){const Q=r.value[H];!Q||IA(Q,oe=>oe.setTouched(W))}function N(H){ls(H).forEach(W=>{k(W,!!H[W])})}const P=H=>{(H==null?void 0:H.values)&&m(H.values),e.value.forEach(W=>W.resetField()),(H==null?void 0:H.touched)&&N(H.touched),(H==null?void 0:H.errors)&&w(H.errors),i.value=(H==null?void 0:H.submitCount)||0};function D(H){e.value.push(H),wn(H.name)&&(a[H.fid]=H.value.value,ci(H.name,W=>{T(W,a[H.fid])},{flush:"post"}))}function $(H){var W,Q;const oe=e.value.indexOf(H);if(oe===-1)return;e.value.splice(oe,1);const Ne=H.fid;hw(()=>{delete a[Ne]});const ze=Me(H.name);if(H.idx===-1){if(e.value.find(Wt=>Me(Wt.name)===ze))return;Xl(o,ze),Xl(g.value,ze);return}const Fe=(Q=(W=No(o,ze))===null||W===void 0?void 0:W.indexOf)===null||Q===void 0?void 0:Q.call(W,Me(H.valueProp));if(Fe===void 0){Xl(o,ze);return}if(Fe!==-1){if(Array.isArray(o[ze])){Xl(o,`${ze}.${Fe}`);return}Xl(o,ze),Xl(g.value,ze)}}async function B(){function H(Q,oe){return oe.errors.length&&(Q.valid=!1,Q.errors[oe.key]=oe.errors[0]),Q}return J.validateSchema?J.validateSchema("force").then(Q=>ls(Q).map(oe=>({key:oe,errors:Q[oe].errors})).reduce(H,{errors:{},valid:!0})):(await Promise.all(e.value.map(Q=>Q.validate().then(oe=>({key:Me(Q.name),errors:oe.errors}))))).reduce(H,{errors:{},valid:!0})}async function Y(H){const W=r.value[H];return W?Array.isArray(W)?W.map(Q=>Q.validate())[0]:W.validate():(vW(`field with name ${H} was not found`),Promise.resolve({errors:[],valid:!0}))}const R=H=>function(Q){return Q instanceof Event&&(Q.preventDefault(),Q.stopPropagation()),n.value=!0,i.value++,B().then(oe=>{if(oe.valid&&typeof H=="function")return H(Te.value,{evt:Q,setErrors:w,setFieldError:b,setTouched:N,setFieldTouched:k,setValues:A,setFieldValue:T,resetForm:P})}).then(()=>{n.value=!1},oe=>{throw n.value=!1,oe})};function de(H,W){Yl(o,H,W),Yl(g.value,H,W)}const we=t==null?void 0:t.validationSchema,J={register:D,unregister:$,fieldsById:r,values:o,setFieldErrorBag:f,errorBag:u,schema:we,submitCount:i,validateSchema:op(Me(we))?H=>Sfe(J,H):void 0,validate:B,validateField:Y,setFieldValue:T,setValues:A,setErrors:w,setFieldError:b,setFieldTouched:k,setTouched:N,resetForm:P,meta:y,isSubmitting:n,handleSubmit:R,stageInitialValue:de},Te=Et(()=>e.value.reduce((H,W)=>(Yl(H,Me(W.name),Me(W.value)),H),{})),ve=R((H,{evt:W})=>{nfe(W)&&W.target.submit()});return Bg(()=>{if((t==null?void 0:t.initialErrors)&&w(t.initialErrors),(t==null?void 0:t.initialTouched)&&N(t.initialTouched),t==null?void 0:t.validateOnMount){B();return}J.validateSchema&&J.validateSchema("silent")}),wn(we)&&ci(we,()=>{var H;(H=J.validateSchema)===null||H===void 0||H.call(J,"validated-only")}),Ss(B4,J),Ss(V4,h),{errors:h,meta:y,values:o,isSubmitting:n,submitCount:i,validate:B,validateField:Y,handleReset:()=>P(),resetForm:P,handleSubmit:R,submitForm:ve,setFieldError:b,setErrors:w,setFieldValue:T,setValues:A,setFieldTouched:k,setTouched:N}}function Ife(t,e,n){const r={touched:"some",pending:"some",valid:"every"},i=Et(()=>!m_(e,Me(n)));return Et(()=>{const o=ls(r).reduce((a,u)=>{const c=r[u];return a[u]=t.value[c](f=>f.meta[u]),a},{});return Object.assign(Object.assign({initialValues:Me(n)},o),{dirty:i.value})})}async function Sfe(t,e){const n=await Me(t.schema).validate(t.values,{abortEarly:!1}).then(()=>[]).catch(a=>{if(a.name!=="ValidationError")throw a;return a.inner||[]}),r=t.fieldsById.value||{},i=n.reduce((a,u)=>(a[u.path]=u,a),{});return ls(r).reduce((a,u)=>{const c=r[u],f=(i[u]||{errors:[]}).errors,h={errors:f,valid:!f.length};if(a[u]=h,e==="silent")return IA(c,g=>g.meta.valid=h.valid),a;const p=Array.isArray(c)?c.some(g=>g.meta.validated):c.meta.validated;return e==="validated-only"&&!p||IA(c,g=>g.setValidationState(h),!0),a},{})}function Cfe(t,e,n){const r=Uo(Me(n)||{}),i=Et(()=>r.value);function o(a,u=!1){if(r.value=Object.assign(Object.assign({},r.value),a),!u)return;const c=f=>f.meta.touched;ls(t.value).forEach(f=>{const h=t.value[f];if(Array.isArray(h)?h.some(c):c(h))return;const g=No(r.value,f);Yl(e,f,g)})}return wn(n)&&ci(n,a=>{o(a,!0)},{deep:!0}),Ss(q4,i),{readonlyInitialValues:i,initialValues:r,setInitialValues:o}}function Afe(t){const e=Uo({});function n(i,o){e.value[i]=Array.isArray(o)?o:o?[o]:[]}function r(i){ls(i).forEach(o=>{n(o,i[o])})}return t&&r(t),{errorBag:e,setErrorBag:r,setFieldErrorBag:n}}const lhe=Gf({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0}},setup(t,e){const n=lo(t,"initialValues"),r=lo(t,"validationSchema"),{errors:i,values:o,meta:a,isSubmitting:u,submitCount:c,validate:f,validateField:h,handleReset:p,resetForm:g,handleSubmit:m,submitForm:y,setErrors:b,setFieldError:w,setFieldValue:T,setValues:A,setFieldTouched:k,setTouched:N}=Tfe({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount}),P=t.onSubmit?m(t.onSubmit):y;function D(Y){bA(Y)&&Y.preventDefault(),p(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function $(Y,R){return m(typeof Y=="function"&&!R?Y:R)(Y)}const B=Et(()=>({meta:a.value,errors:i.value,values:o,isSubmitting:u.value,submitCount:c.value,validate:f,validateField:h,handleSubmit:$,handleReset:p,submitForm:y,setErrors:b,setFieldError:w,setFieldValue:T,setValues:A,setFieldTouched:k,setTouched:N,resetForm:g}));return function(){"setErrors"in this||(this.setFieldError=w,this.setErrors=b,this.setFieldValue=T,this.setValues=A,this.setFieldTouched=k,this.setTouched=N,this.resetForm=g,this.validate=f,this.validateField=h);const R=_A(e,B.value);if(!t.as)return R;const de=t.as==="form"?{novalidate:!0}:{};return $a(t.as==="form"?t.as:Sw(t.as),Object.assign(Object.assign(Object.assign({},de),e.attrs),{onSubmit:P,onReset:D}),R)}}}),fhe=Gf({props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=ho(V4,void 0),r=Et(()=>n==null?void 0:n.value[t.name]);return()=>{if(!r.value)return;const i=_A(e,{message:r.value}),o=t.as?Sw(t.as):t.as,a=Object.assign({role:"alert"},e.attrs);return!o&&(i==null?void 0:i.length)?i:(i==null?void 0:i.length)?$a(o,a,i):$a(o||"span",a,r.value)}}});var xfe=function(){return Boolean(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},xA;typeof window!="undefined"&&(typeof Promise!="undefined"?xA=new Promise(function(t){return window.addEventListener("load",t)}):xA={then:function(t){return window.addEventListener("load",t)}});function hhe(t,e){e===void 0&&(e={});var n=e.registrationOptions;n===void 0&&(n={}),delete e.registrationOptions;var r=function(i){for(var o=[],a=arguments.length-1;a-- >0;)o[a]=arguments[a+1];e&&e[i]&&e[i].apply(e,o)};"serviceWorker"in navigator&&xA.then(function(){xfe()?(kfe(t,r,n),navigator.serviceWorker.ready.then(function(i){r("ready",i)}).catch(function(i){return ap(r,i)})):(W4(t,r,n),navigator.serviceWorker.ready.then(function(i){r("ready",i)}).catch(function(i){return ap(r,i)}))})}function ap(t,e){navigator.onLine||t("offline"),t("error",e)}function W4(t,e,n){navigator.serviceWorker.register(t,n).then(function(r){if(e("registered",r),r.waiting){e("updated",r);return}r.onupdatefound=function(){e("updatefound",r);var i=r.installing;i.onstatechange=function(){i.state==="installed"&&(navigator.serviceWorker.controller?e("updated",r):e("cached",r))}}}).catch(function(r){return ap(e,r)})}function kfe(t,e,n){fetch(t).then(function(r){r.status===404?(e("error",new Error("Service worker not found at "+t)),z4()):r.headers.get("content-type").indexOf("javascript")===-1?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+r.headers.get("content-type"))),z4()):W4(t,e,n)}).catch(function(r){return ap(e,r)})}function z4(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()}).catch(function(t){return ap(emit,t)})}/**
  * vee-validate v4.1.20
  * (c) 2021 Abdelrahman Awad
  * @license MIT
  */function Rfe(t){return typeof t=="function"}const Ofe=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function K4(t,e){return Object.keys(e).forEach(n=>{if(Ofe(e[n])){t[n]||(t[n]={}),K4(t[n],e[n]);return}t[n]=e[n]}),t}function Nfe(t,e){return t.replace(/(\d:)?{([^}]+)}/g,function(n,r,i){if(!r||!e.params)return i in e?e[i]:e.params&&i in e.params?e.params[i]:`{${i}}`;if(!Array.isArray(e.params))return i in e.params?e.params[i]:`{${i}}`;const o=Number(r.replace(":",""));return o in e.params?e.params[o]:`${r}{${i}}`})}class Pfe{constructor(e,n){this.container={},this.locale=e,this.merge(n)}resolve(e){return this.format(this.locale,e)}format(e,n){var r,i,o,a,u,c,f,h;let p;const{field:g,rule:m,form:y}=n;if(!m)return`${g} is not valid`;p=((o=(i=(r=this.container[e])===null||r===void 0?void 0:r.fields)===null||i===void 0?void 0:i[g])===null||o===void 0?void 0:o[m.name])||((u=(a=this.container[e])===null||a===void 0?void 0:a.messages)===null||u===void 0?void 0:u[m.name]),p||(p=`${g} is not valid`);const b=(h=(f=(c=this.container[e])===null||c===void 0?void 0:c.names)===null||f===void 0?void 0:f[g])!==null&&h!==void 0?h:g;return Rfe(p)?p(n):Nfe(p,Object.assign(Object.assign({},y),{field:b,params:m.params}))}merge(e){K4(this.container,e)}}let Qu;function dhe(t,e){Qu||(Qu=new Pfe("en",{}));const n=r=>Qu.resolve(r);return typeof t=="string"?(Qu.locale=t,e&&Qu.merge({[t]:e}),n):(Qu.merge(t),n)}function phe(t){Qu.locale=t}const Dfe="es",Mfe={alpha:"El campo {field} solo debe contener letras",alpha_dash:"El campo {field} solo debe contener letras, n\xFAmeros y guiones",alpha_num:"El campo {field} solo debe contener letras y n\xFAmeros",alpha_spaces:"El campo {field} solo debe contener letras y espacios",between:"El campo {field} debe estar entre 0:{min} y 1:{max}",confirmed:"El campo {field} no coincide",digits:"El campo {field} debe ser num\xE9rico y contener exactamente 0:{length} d\xEDgitos",dimensions:"El campo {field} debe ser de 0:{width} p\xEDxeles por 1:{height} p\xEDxeles",email:"El campo {field} debe ser un correo electr\xF3nico v\xE1lido",excluded:"El campo {field} debe ser un valor v\xE1lido",ext:"El campo {field} debe ser un archivo v\xE1lido",image:"El campo {field} debe ser una imagen",one_of:"El campo {field} debe ser un valor v\xE1lido",integer:"El campo {field} debe ser un entero",length:"El largo del campo {field} debe ser 0:{length}",max:"El campo {field} no debe ser mayor a 0:{length} caracteres",max_value:"El campo {field} debe de ser 0:{max} o menor",mimes:"El campo {field} debe ser un tipo de archivo v\xE1lido",min:"El campo {field} debe tener al menos 0:{length} caracteres",min_value:"El campo {field} debe ser 0:{min} o superior",numeric:"El campo {field} debe contener solo caracteres num\xE9ricos",regex:"El formato del campo {field} no es v\xE1lido",required:"El campo {field} es obligatorio",required_if:"El campo {field} es obligatorio",size:"El campo {field} debe ser menor a 0:{size}KB"};var ghe={code:Dfe,messages:Mfe};/**
  * vee-validate v4.1.20
  * (c) 2021 Abdelrahman Awad
  * @license MIT
  */function G4(t,e){return Array.isArray(t)?t[0]:t[e]}const vhe=(t,e)=>{const n=G4(e,"target");return String(t)===String(n)},mhe=t=>{const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(n=>e.test(String(n))):e.test(String(t))};function Y4(t){return t==null}function Lfe(t){return Array.isArray(t)&&t.length===0}const Ffe=(t,e)=>{const n=G4(e,"length");return Y4(t)?!1:Array.isArray(t)?t.every(r=>Ffe(r,{length:n})):String(t).length>=Number(n)},yhe=t=>Y4(t)||Lfe(t)||t===!1?!1:!!String(t).trim().length;export{Ffe as $,Vfe as A,kE as B,KP as C,Hfe as D,fhe as E,che as F,Yfe as G,qfe as H,Et as I,Gfe as J,Xfe as K,cD as L,Vo as M,Kfe as N,zfe as O,HE as P,nhe as Q,the as R,hhe as S,vO as T,jfe as U,uhe as V,dhe as W,phe as X,ahe as Y,mhe as Z,yhe as _,Qfe as a,vhe as a0,ghe as a1,Jfe as a2,Zfe as a3,GE as b,sz as c,Gf as d,zE as e,Mv as f,Av as g,rhe as h,ihe as i,Bg as j,Wfe as k,Nr as l,Uo as m,hw as n,W1 as o,ohe as p,uz as q,$fe as r,she as s,Es as t,ke as u,ehe as v,b1 as w,lhe as x,Ufe as y,Bfe as z};
