function wg(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const F$="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",U$=wg(F$),j$="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",B$=wg(j$);function Z0(t){if(Xe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Z0(Hn(r)?H$(r):r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Jt(t))return t}const V$=/;(?![^(]*\))/g,q$=/:(.+)/;function H$(t){const e={};return t.split(V$).forEach(n=>{if(n){const r=n.split(q$);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ew(t){let e="";if(Hn(t))e=t;else if(Xe(t))for(let n=0;n<t.length;n++){const r=ew(t[n]);r&&(e+=r+" ")}else if(Jt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function $$(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Eg(t[r],e[r]);return n}function Eg(t,e){if(t===e)return!0;let n=Jk(t),r=Jk(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Xe(t),r=Xe(e),n||r)return n&&r?$$(t,e):!1;if(n=Jt(t),r=Jt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const a in t){const u=t.hasOwnProperty(a),c=e.hasOwnProperty(a);if(u&&!c||!u&&c||!Eg(t[a],e[a]))return!1}}return String(t)===String(e)}function Yk(t,e){return t.findIndex(n=>Eg(n,e))}const whe=t=>t==null?"":Jt(t)?JSON.stringify(t,W$,2):String(t),W$=(t,e)=>Cc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Ig(e)?{[`Set(${e.size})`]:[...e.values()]}:Jt(e)&&!Xe(e)&&!X$(e)?String(e):e,It={},zf=[],Ua=()=>{},Xk=()=>!1,z$=/^on[^a-z]/,Tg=t=>z$.test(t),tw=t=>t.startsWith("onUpdate:"),wn=Object.assign,Qk=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},K$=Object.prototype.hasOwnProperty,mt=(t,e)=>K$.call(t,e),Xe=Array.isArray,Cc=t=>Sg(t)==="[object Map]",Ig=t=>Sg(t)==="[object Set]",Jk=t=>t instanceof Date,et=t=>typeof t=="function",Hn=t=>typeof t=="string",nw=t=>typeof t=="symbol",Jt=t=>t!==null&&typeof t=="object",Zk=t=>Jt(t)&&et(t.then)&&et(t.catch),G$=Object.prototype.toString,Sg=t=>G$.call(t),Y$=t=>Sg(t).slice(8,-1),X$=t=>Sg(t)==="[object Object]",rw=t=>Hn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Cg=wg(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ag=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Q$=/-(\w)/g,fo=Ag(t=>t.replace(Q$,(e,n)=>n?n.toUpperCase():"")),J$=/\B([A-Z])/g,ja=Ag(t=>t.replace(J$,"-$1").toLowerCase()),xg=Ag(t=>t.charAt(0).toUpperCase()+t.slice(1)),iw=Ag(t=>t?`on${xg(t)}`:""),Rg=(t,e)=>t!==e&&(t===t||e===e),kg=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ow=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Og=t=>{const e=parseFloat(t);return isNaN(e)?t:e},sw=new WeakMap,Kf=[];let Ba;const Va=Symbol(""),aw=Symbol("");function Z$(t){return t&&t._isEffect===!0}function uw(t,e=It){Z$(t)&&(t=t.raw);const n=tW(t,e);return e.lazy||n(),n}function cw(t){t.active&&(e1(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let eW=0;function tW(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!Kf.includes(n)){e1(n);try{return nW(),Kf.push(n),Ba=n,t()}finally{Kf.pop(),qa(),Ba=Kf[Kf.length-1]}}};return n.id=eW++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}function e1(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ac=!0;const lw=[];function xc(){lw.push(Ac),Ac=!1}function nW(){lw.push(Ac),Ac=!0}function qa(){const t=lw.pop();Ac=t===void 0?!0:t}function Nr(t,e,n){if(!Ac||Ba===void 0)return;let r=sw.get(t);r||sw.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(Ba)||(i.add(Ba),Ba.deps.push(i))}function Li(t,e,n,r,i,o){const a=sw.get(t);if(!a)return;const u=new Set,c=h=>{h&&h.forEach(p=>{(p!==Ba||p.allowRecurse)&&u.add(p)})};if(e==="clear")a.forEach(c);else if(n==="length"&&Xe(t))a.forEach((h,p)=>{(p==="length"||p>=r)&&c(h)});else switch(n!==void 0&&c(a.get(n)),e){case"add":Xe(t)?rw(n)&&c(a.get("length")):(c(a.get(Va)),Cc(t)&&c(a.get(aw)));break;case"delete":Xe(t)||(c(a.get(Va)),Cc(t)&&c(a.get(aw)));break;case"set":Cc(t)&&c(a.get(Va));break}const f=h=>{h.options.scheduler?h.options.scheduler(h):h()};u.forEach(f)}const rW=wg("__proto__,__v_isRef,__isVue"),t1=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(nw)),iW=Pg(),oW=Pg(!1,!0),sW=Pg(!0),aW=Pg(!0,!0),Ng={};["includes","indexOf","lastIndexOf"].forEach(t=>{const e=Array.prototype[t];Ng[t]=function(...n){const r=Et(this);for(let o=0,a=this.length;o<a;o++)Nr(r,"get",o+"");const i=e.apply(r,n);return i===-1||i===!1?e.apply(r,n.map(Et)):i}});["push","pop","shift","unshift","splice"].forEach(t=>{const e=Array.prototype[t];Ng[t]=function(...n){xc();const r=e.apply(this,n);return qa(),r}});function Pg(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&o===(t?e?yW:g1:e?p1:d1).get(r))return r;const a=Xe(r);if(!t&&a&&mt(Ng,i))return Reflect.get(Ng,i,o);const u=Reflect.get(r,i,o);return(nw(i)?t1.has(i):rW(i))||(t||Nr(r,"get",i),e)?u:En(u)?!a||!rw(i)?u.value:u:Jt(u)?t?m1(u):Ss(u):u}}const uW=n1(),cW=n1(!0);function n1(t=!1){return function(n,r,i,o){let a=n[r];if(!t&&(i=Et(i),a=Et(a),!Xe(n)&&En(a)&&!En(i)))return a.value=i,!0;const u=Xe(n)&&rw(r)?Number(r)<n.length:mt(n,r),c=Reflect.set(n,r,i,o);return n===Et(o)&&(u?Rg(i,a)&&Li(n,"set",r,i):Li(n,"add",r,i)),c}}function lW(t,e){const n=mt(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Li(t,"delete",e,void 0),r}function fW(t,e){const n=Reflect.has(t,e);return(!nw(e)||!t1.has(e))&&Nr(t,"has",e),n}function hW(t){return Nr(t,"iterate",Xe(t)?"length":Va),Reflect.ownKeys(t)}const r1={get:iW,set:uW,deleteProperty:lW,has:fW,ownKeys:hW},i1={get:sW,set(t,e){return!0},deleteProperty(t,e){return!0}},dW=wn({},r1,{get:oW,set:cW});wn({},i1,{get:aW});const fw=t=>Jt(t)?Ss(t):t,hw=t=>Jt(t)?m1(t):t,dw=t=>t,Dg=t=>Reflect.getPrototypeOf(t);function Mg(t,e,n=!1,r=!1){t=t.__v_raw;const i=Et(t),o=Et(e);e!==o&&!n&&Nr(i,"get",e),!n&&Nr(i,"get",o);const{has:a}=Dg(i),u=r?dw:n?hw:fw;if(a.call(i,e))return u(t.get(e));if(a.call(i,o))return u(t.get(o))}function Lg(t,e=!1){const n=this.__v_raw,r=Et(n),i=Et(t);return t!==i&&!e&&Nr(r,"has",t),!e&&Nr(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function Fg(t,e=!1){return t=t.__v_raw,!e&&Nr(Et(t),"iterate",Va),Reflect.get(t,"size",t)}function o1(t){t=Et(t);const e=Et(this);return Dg(e).has.call(e,t)||(e.add(t),Li(e,"add",t,t)),this}function s1(t,e){e=Et(e);const n=Et(this),{has:r,get:i}=Dg(n);let o=r.call(n,t);o||(t=Et(t),o=r.call(n,t));const a=i.call(n,t);return n.set(t,e),o?Rg(e,a)&&Li(n,"set",t,e):Li(n,"add",t,e),this}function a1(t){const e=Et(this),{has:n,get:r}=Dg(e);let i=n.call(e,t);i||(t=Et(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Li(e,"delete",t,void 0),o}function u1(){const t=Et(this),e=t.size!==0,n=t.clear();return e&&Li(t,"clear",void 0,void 0),n}function Ug(t,e){return function(r,i){const o=this,a=o.__v_raw,u=Et(a),c=e?dw:t?hw:fw;return!t&&Nr(u,"iterate",Va),a.forEach((f,h)=>r.call(i,c(f),c(h),o))}}function jg(t,e,n){return function(...r){const i=this.__v_raw,o=Et(i),a=Cc(o),u=t==="entries"||t===Symbol.iterator&&a,c=t==="keys"&&a,f=i[t](...r),h=n?dw:e?hw:fw;return!e&&Nr(o,"iterate",c?aw:Va),{next(){const{value:p,done:g}=f.next();return g?{value:p,done:g}:{value:u?[h(p[0]),h(p[1])]:h(p),done:g}},[Symbol.iterator](){return this}}}}function Is(t){return function(...e){return t==="delete"?!1:this}}const c1={get(t){return Mg(this,t)},get size(){return Fg(this)},has:Lg,add:o1,set:s1,delete:a1,clear:u1,forEach:Ug(!1,!1)},l1={get(t){return Mg(this,t,!1,!0)},get size(){return Fg(this)},has:Lg,add:o1,set:s1,delete:a1,clear:u1,forEach:Ug(!1,!0)},f1={get(t){return Mg(this,t,!0)},get size(){return Fg(this,!0)},has(t){return Lg.call(this,t,!0)},add:Is("add"),set:Is("set"),delete:Is("delete"),clear:Is("clear"),forEach:Ug(!0,!1)},h1={get(t){return Mg(this,t,!0,!0)},get size(){return Fg(this,!0)},has(t){return Lg.call(this,t,!0)},add:Is("add"),set:Is("set"),delete:Is("delete"),clear:Is("clear"),forEach:Ug(!0,!0)},pW=["keys","values","entries",Symbol.iterator];pW.forEach(t=>{c1[t]=jg(t,!1,!1),f1[t]=jg(t,!0,!1),l1[t]=jg(t,!1,!0),h1[t]=jg(t,!0,!0)});function pw(t,e){const n=e?t?h1:l1:t?f1:c1;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(mt(n,i)&&i in r?n:r,i,o)}const gW={get:pw(!1,!1)},mW={get:pw(!1,!0)},vW={get:pw(!0,!1)},d1=new WeakMap,p1=new WeakMap,g1=new WeakMap,yW=new WeakMap;function _W(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bW(t){return t.__v_skip||!Object.isExtensible(t)?0:_W(Y$(t))}function Ss(t){return t&&t.__v_isReadonly?t:gw(t,!1,r1,gW,d1)}function wW(t){return gw(t,!1,dW,mW,p1)}function m1(t){return gw(t,!0,i1,vW,g1)}function gw(t,e,n,r,i){if(!Jt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const a=bW(t);if(a===0)return t;const u=new Proxy(t,a===2?r:n);return i.set(t,u),u}function Gf(t){return v1(t)?Gf(t.__v_raw):!!(t&&t.__v_isReactive)}function v1(t){return!!(t&&t.__v_isReadonly)}function y1(t){return Gf(t)||v1(t)}function Et(t){return t&&Et(t.__v_raw)||t}const _1=t=>Jt(t)?Ss(t):t;function En(t){return Boolean(t&&t.__v_isRef===!0)}function Bo(t){return b1(t)}function EW(t){return b1(t,!0)}class TW{constructor(e,n=!1){this._rawValue=e,this._shallow=n,this.__v_isRef=!0,this._value=n?e:_1(e)}get value(){return Nr(Et(this),"get","value"),this._value}set value(e){Rg(Et(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:_1(e),Li(Et(this),"set","value",e))}}function b1(t,e=!1){return En(t)?t:new TW(t,e)}function Le(t){return En(t)?t.value:t}const IW={get:(t,e,n)=>Le(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return En(i)&&!En(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function mw(t){return Gf(t)?t:new Proxy(t,IW)}function Ehe(t){const e=Xe(t)?new Array(t.length):{};for(const n in t)e[n]=ho(t,n);return e}class SW{constructor(e,n){this._object=e,this._key=n,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function ho(t,e){return En(t[e])?t[e]:new SW(t,e)}class CW{constructor(e,n,r){this._setter=n,this._dirty=!0,this.__v_isRef=!0,this.effect=uw(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,Li(Et(this),"set","value"))}}),this.__v_isReadonly=r}get value(){const e=Et(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),Nr(e,"get","value"),e._value}set value(e){this._setter(e)}}function AW(t){let e,n;return et(t)?(e=t,n=Ua):(e=t.get,n=t.set),new CW(e,n,et(t)||!t.set)}const Yf=[];function xW(t,...e){xc();const n=Yf.length?Yf[Yf.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=RW();if(r)Vo(r,n,11,[t+e.join(""),n&&n.proxy,i.map(({vnode:o})=>`at <${gO(n,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${t}`,...e];i.length&&o.push(`
`,...kW(i)),console.warn(...o)}qa()}function RW(){let t=Yf[Yf.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function kW(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...OW(n))}),e}function OW({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${gO(t.component,t.type,r)}`,o=">"+n;return t.props?[i,...NW(t.props),o]:[i+o]}function NW(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...w1(r,t[r]))}),n.length>3&&e.push(" ..."),e}function w1(t,e,n){return Hn(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:En(e)?(e=w1(t,Et(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):et(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Et(e),n?e:[`${t}=`,e])}function Vo(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Bg(o,e,n)}return i}function Fi(t,e,n,r){if(et(t)){const o=Vo(t,e,n,r);return o&&Zk(o)&&o.catch(a=>{Bg(a,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Fi(t[o],e,n,r));return i}function Bg(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const a=e.proxy,u=n;for(;o;){const f=o.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,a,u)===!1)return}o=o.parent}const c=e.appContext.config.errorHandler;if(c){Vo(c,null,10,[t,a,u]);return}}PW(t,n,i,r)}function PW(t,e,n,r=!0){console.error(t)}let Vg=!1,vw=!1;const Kr=[];let qo=0;const qg=[];let Xf=null,Rc=0;const Qf=[];let Cs=null,kc=0;const E1=Promise.resolve();let yw=null,_w=null;function bw(t){const e=yw||E1;return t?e.then(this?t.bind(this):t):e}function DW(t){let e=qo+1,n=Kr.length;const r=Oc(t);for(;e<n;){const i=e+n>>>1;Oc(Kr[i])<r?e=i+1:n=i}return e}function T1(t){if((!Kr.length||!Kr.includes(t,Vg&&t.allowRecurse?qo+1:qo))&&t!==_w){const e=DW(t);e>-1?Kr.splice(e,0,t):Kr.push(t),I1()}}function I1(){!Vg&&!vw&&(vw=!0,yw=E1.then(A1))}function MW(t){const e=Kr.indexOf(t);e>qo&&Kr.splice(e,1)}function S1(t,e,n,r){Xe(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?r+1:r))&&n.push(t),I1()}function LW(t){S1(t,Xf,qg,Rc)}function FW(t){S1(t,Cs,Qf,kc)}function ww(t,e=null){if(qg.length){for(_w=e,Xf=[...new Set(qg)],qg.length=0,Rc=0;Rc<Xf.length;Rc++)Xf[Rc]();Xf=null,Rc=0,_w=null,ww(t,e)}}function C1(t){if(Qf.length){const e=[...new Set(Qf)];if(Qf.length=0,Cs){Cs.push(...e);return}for(Cs=e,Cs.sort((n,r)=>Oc(n)-Oc(r)),kc=0;kc<Cs.length;kc++)Cs[kc]();Cs=null,kc=0}}const Oc=t=>t.id==null?1/0:t.id;function A1(t){vw=!1,Vg=!0,ww(t),Kr.sort((e,n)=>Oc(e)-Oc(n));try{for(qo=0;qo<Kr.length;qo++){const e=Kr[qo];e&&Vo(e,null,14)}}finally{qo=0,Kr.length=0,C1(),Vg=!1,yw=null,(Kr.length||Qf.length)&&A1(t)}}function UW(t,e,...n){const r=t.vnode.props||It;let i=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in r){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:g}=r[h]||It;g?i=n.map(v=>v.trim()):p&&(i=n.map(Og))}let u,c=r[u=iw(e)]||r[u=iw(fo(e))];!c&&o&&(c=r[u=iw(ja(e))]),c&&Fi(c,t,6,i);const f=r[u+"Once"];if(f){if(!t.emitted)(t.emitted={})[u]=!0;else if(t.emitted[u])return;Fi(f,t,6,i)}}function x1(t,e,n=!1){if(!e.deopt&&t.__emits!==void 0)return t.__emits;const r=t.emits;let i={},o=!1;if(!et(t)){const a=u=>{const c=x1(u,e,!0);c&&(o=!0,wn(i,c))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!o?t.__emits=null:(Xe(r)?r.forEach(a=>i[a]=null):wn(i,r),t.__emits=i)}function Ew(t,e){return!t||!Tg(e)?!1:(e=e.slice(2).replace(/Once$/,""),mt(t,e[0].toLowerCase()+e.slice(1))||mt(t,ja(e))||mt(t,e))}let Tw=0;const R1=t=>Tw+=t;let li=null,Hg=null;function $g(t){const e=li;return li=t,Hg=t&&t.type.__scopeId||null,e}function The(t){Hg=t}function Ihe(){Hg=null}const She=t=>k1;function k1(t,e=li){if(!e)return t;const n=(...r)=>{Tw||tO(!0);const i=$g(e),o=t(...r);return $g(i),Tw||nO(),o};return n._c=!0,n}function O1(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[a],slots:u,attrs:c,emit:f,render:h,renderCache:p,data:g,setupState:v,ctx:y}=t;let w;const E=$g(t);try{let I;if(n.shapeFlag&4){const P=i||r;w=di(h.call(P,P,p,o,v,g,y)),I=c}else{const P=e;w=di(P.length>1?P(o,{attrs:c,slots:u,emit:f}):P(o,null)),I=e.props?c:BW(c)}let x=w,k;if(e.inheritAttrs!==!1&&I){const P=Object.keys(I),{shapeFlag:D}=x;P.length&&(D&1||D&6)&&(a&&P.some(tw)&&(I=VW(I,a)),x=za(x,I))}n.dirs&&(x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),w=x}catch(I){Zf.length=0,Bg(I,t,1),w=Pr(Ui)}return $g(E),w}function jW(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(Yg(r)){if(r.type!==Ui||r.children==="v-if"){if(e)return;e=r}}else return}return e}const BW=t=>{let e;for(const n in t)(n==="class"||n==="style"||Tg(n))&&((e||(e={}))[n]=t[n]);return e},VW=(t,e)=>{const n={};for(const r in t)(!tw(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function qW(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:u,patchFlag:c}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?N1(r,a,f):!!a;if(c&8){const h=e.dynamicProps;for(let p=0;p<h.length;p++){const g=h[p];if(a[g]!==r[g]&&!Ew(f,g))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:r===a?!1:r?a?N1(r,a,f):!0:!!a;return!1}function N1(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Ew(n,o))return!0}return!1}function HW({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const $W=t=>t.__isSuspense;function WW(t){const{shapeFlag:e,children:n}=t;let r,i;return e&32?(r=Iw(n.default),i=Iw(n.fallback)):(r=Iw(n),i=di(null)),{content:r,fallback:i}}function Iw(t){return et(t)&&(t=t()),Xe(t)&&(t=jW(t)),di(t)}function zW(t,e){e&&e.pendingBranch?Xe(t)?e.effects.push(...t):e.effects.push(t):FW(t)}function KW(t,e,n,r=!1){const i={},o={};ow(o,Xg,1),t.propsDefaults=Object.create(null),P1(t,e,i,o),n?t.props=r?i:wW(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function GW(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=t,u=Et(i),[c]=t.propsOptions;if((r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let h=0;h<f.length;h++){const p=f[h],g=e[p];if(c)if(mt(o,p))o[p]=g;else{const v=fo(p);i[v]=Sw(c,u,v,g,t)}else o[p]=g}}}else{P1(t,e,i,o);let f;for(const h in u)(!e||!mt(e,h)&&((f=ja(h))===h||!mt(e,f)))&&(c?n&&(n[h]!==void 0||n[f]!==void 0)&&(i[h]=Sw(c,e||It,h,void 0,t)):delete i[h]);if(o!==u)for(const h in o)(!e||!mt(e,h))&&delete o[h]}Li(t,"set","$attrs")}function P1(t,e,n,r){const[i,o]=t.propsOptions;if(e)for(const a in e){const u=e[a];if(Cg(a))continue;let c;i&&mt(i,c=fo(a))?n[c]=u:Ew(t.emitsOptions,a)||(r[a]=u)}if(o){const a=Et(n);for(let u=0;u<o.length;u++){const c=o[u];n[c]=Sw(i,a,c,a[c],t)}}}function Sw(t,e,n,r,i){const o=t[n];if(o!=null){const a=mt(o,"default");if(a&&r===void 0){const u=o.default;if(o.type!==Function&&et(u)){const{propsDefaults:c}=i;n in c?r=c[n]:(em(i),r=c[n]=u(e),em(null))}else r=u}o[0]&&(!mt(e,n)&&!a?r=!1:o[1]&&(r===""||r===ja(n))&&(r=!0))}return r}function D1(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const r=t.props,i={},o=[];let a=!1;if(!et(t)){const u=c=>{a=!0;const[f,h]=D1(c,e,!0);wn(i,f),h&&o.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!a)return t.__props=zf;if(Xe(r))for(let u=0;u<r.length;u++){const c=fo(r[u]);M1(c)&&(i[c]=It)}else if(r)for(const u in r){const c=fo(u);if(M1(c)){const f=r[u],h=i[c]=Xe(f)||et(f)?{type:f}:f;if(h){const p=U1(Boolean,h.type),g=U1(String,h.type);h[0]=p>-1,h[1]=g<0||p<g,(p>-1||mt(h,"default"))&&o.push(c)}}}return t.__props=[i,o]}function M1(t){return t[0]!=="$"}function L1(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function F1(t,e){return L1(t)===L1(e)}function U1(t,e){return Xe(e)?e.findIndex(n=>F1(n,t)):et(e)&&F1(e,t)?0:-1}function Wg(t,e,n=Tn,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;xc(),em(n);const u=Fi(e,n,t,a);return em(null),qa(),u});return r?i.unshift(o):i.push(o),o}}const As=t=>(e,n=Tn)=>!jw&&Wg(t,e,n),YW=As("bm"),zg=As("m"),XW=As("bu"),QW=As("u"),Cw=As("bum"),j1=As("um"),JW=As("rtg"),ZW=As("rtc"),ez=(t,e=Tn)=>{Wg("ec",t,e)},B1={};function fi(t,e,n){return V1(t,e,n)}function V1(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:a}=It,u=Tn){let c,f=!1;if(En(t)?(c=()=>t.value,f=!!t._shallow):Gf(t)?(c=()=>t,r=!0):Xe(t)?c=()=>t.map(E=>{if(En(E))return E.value;if(Gf(E))return Nc(E);if(et(E))return Vo(E,u,2,[u&&u.proxy])}):et(t)?e?c=()=>Vo(t,u,2,[u&&u.proxy]):c=()=>{if(!(u&&u.isUnmounted))return h&&h(),Fi(t,u,3,[p])}:c=Ua,e&&r){const E=c;c=()=>Nc(E())}let h,p=E=>{h=w.options.onStop=()=>{Vo(E,u,4)}},g=Xe(t)?[]:B1;const v=()=>{if(!!w.active)if(e){const E=w();(r||f||Rg(E,g))&&(h&&h(),Fi(e,u,3,[E,g===B1?void 0:g,p]),g=E)}else w()};v.allowRecurse=!!e;let y;i==="sync"?y=v:i==="post"?y=()=>vr(v,u&&u.suspense):y=()=>{!u||u.isMounted?LW(v):v()};const w=uw(c,{lazy:!0,onTrack:o,onTrigger:a,scheduler:y});return dO(w,u),e?n?v():g=w():i==="post"?vr(w,u&&u.suspense):w(),()=>{cw(w),u&&Qk(u.effects,w)}}function tz(t,e,n){const r=this.proxy,i=Hn(t)?()=>r[t]:t.bind(r);return V1(i,e.bind(r),n,this)}function Nc(t,e=new Set){if(!Jt(t)||e.has(t))return t;if(e.add(t),En(t))Nc(t.value,e);else if(Xe(t))for(let n=0;n<t.length;n++)Nc(t[n],e);else if(Ig(t)||Cc(t))t.forEach(n=>{Nc(n,e)});else for(const n in t)Nc(t[n],e);return t}function nz(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zg(()=>{t.isMounted=!0}),Cw(()=>{t.isUnmounting=!0}),t}const hi=[Function,Array],rz={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:hi,onEnter:hi,onAfterEnter:hi,onEnterCancelled:hi,onBeforeLeave:hi,onLeave:hi,onAfterLeave:hi,onLeaveCancelled:hi,onBeforeAppear:hi,onAppear:hi,onAfterAppear:hi,onAppearCancelled:hi},setup(t,{slots:e}){const n=cO(),r=nz();let i;return()=>{const o=e.default&&W1(e.default(),!0);if(!o||!o.length)return;const a=Et(t),{mode:u}=a,c=o[0];if(r.isLeaving)return xw(c);const f=$1(c);if(!f)return xw(c);const h=Aw(f,a,r,n);Rw(f,h);const p=n.subTree,g=p&&$1(p);let v=!1;const{getTransitionKey:y}=f.type;if(y){const w=y();i===void 0?i=w:w!==i&&(i=w,v=!0)}if(g&&g.type!==Ui&&(!Wa(f,g)||v)){const w=Aw(g,a,r,n);if(Rw(g,w),u==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,n.update()},xw(c);u==="in-out"&&f.type!==Ui&&(w.delayLeave=(E,I,x)=>{const k=H1(r,g);k[String(g.key)]=g,E._leaveCb=()=>{I(),E._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=x})}return c}}},q1=rz;function H1(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Aw(t,e,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:p,onLeave:g,onAfterLeave:v,onLeaveCancelled:y,onBeforeAppear:w,onAppear:E,onAfterAppear:I,onAppearCancelled:x}=e,k=String(t.key),P=H1(n,t),D=(W,V)=>{W&&Fi(W,r,9,V)},M={mode:o,persisted:a,beforeEnter(W){let V=u;if(!n.isMounted)if(i)V=w||u;else return;W._leaveCb&&W._leaveCb(!0);const X=P[k];X&&Wa(t,X)&&X.el._leaveCb&&X.el._leaveCb(),D(V,[W])},enter(W){let V=c,X=f,O=h;if(!n.isMounted)if(i)V=E||c,X=I||f,O=x||h;else return;let pe=!1;const Ee=W._enterCb=Z=>{pe||(pe=!0,Z?D(O,[W]):D(X,[W]),M.delayedLeave&&M.delayedLeave(),W._enterCb=void 0)};V?(V(W,Ee),V.length<=1&&Ee()):Ee()},leave(W,V){const X=String(t.key);if(W._enterCb&&W._enterCb(!0),n.isUnmounting)return V();D(p,[W]);let O=!1;const pe=W._leaveCb=Ee=>{O||(O=!0,V(),Ee?D(y,[W]):D(v,[W]),W._leaveCb=void 0,P[X]===t&&delete P[X])};P[X]=t,g?(g(W,pe),g.length<=1&&pe()):pe()},clone(W){return Aw(W,e,n,r)}};return M}function xw(t){if(Kg(t))return t=za(t),t.children=null,t}function $1(t){return Kg(t)?t.children?t.children[0]:void 0:t}function Rw(t,e){t.shapeFlag&6&&t.component?Rw(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function W1(t,e=!1){let n=[],r=0;for(let i=0;i<t.length;i++){const o=t[i];o.type===Ho?(o.patchFlag&128&&r++,n=n.concat(W1(o.children,e))):(e||o.type!==Ui)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}const Kg=t=>t.type.__isKeepAlive;function iz(t,e){z1(t,"a",e)}function oz(t,e){z1(t,"da",e)}function z1(t,e,n=Tn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}t()});if(Wg(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Kg(i.parent.vnode)&&sz(r,e,n,i),i=i.parent}}function sz(t,e,n,r){const i=Wg(e,t,r,!0);j1(()=>{Qk(r[e],i)},n)}const K1=t=>t[0]==="_"||t==="$stable",kw=t=>Xe(t)?t.map(di):[di(t)],az=(t,e,n)=>k1(r=>kw(e(r)),n),G1=(t,e)=>{const n=t._ctx;for(const r in t){if(K1(r))continue;const i=t[r];if(et(i))e[r]=az(r,i,n);else if(i!=null){const o=kw(i);e[r]=()=>o}}},Y1=(t,e)=>{const n=kw(e);t.slots.default=()=>n},uz=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=e,ow(e,"_",n)):G1(e,t.slots={})}else t.slots={},e&&Y1(t,e);ow(t.slots,Xg,1)},cz=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,a=It;if(r.shapeFlag&32){const u=e._;u?n&&u===1?o=!1:(wn(i,e),!n&&u===1&&delete i._):(o=!e.$stable,G1(e,i)),a=e}else e&&(Y1(t,e),a={default:1});if(o)for(const u in i)!K1(u)&&!(u in a)&&delete i[u]};function Che(t,e){const n=li;if(n===null)return t;const r=n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[a,u,c,f=It]=e[o];et(a)&&(a={mounted:a,updated:a}),i.push({dir:a,instance:r,value:u,oldValue:void 0,arg:c,modifiers:f})}return t}function Ha(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const u=i[a];o&&(u.oldValue=o[a].value);const c=u.dir[r];c&&Fi(c,n,8,[t.el,u,t,e])}}function X1(){return{app:null,config:{isNativeTag:Xk,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:Xk,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let lz=0;function fz(t,e){return function(r,i=null){i!=null&&!Jt(i)&&(i=null);const o=X1(),a=new Set;let u=!1;const c=o.app={_uid:lz++,_component:r,_props:i,_container:null,_context:o,version:Dz,get config(){return o.config},set config(f){},use(f,...h){return a.has(f)||(f&&et(f.install)?(a.add(f),f.install(c,...h)):et(f)&&(a.add(f),f(c,...h))),c},mixin(f){return o.mixins.includes(f)||(o.mixins.push(f),(f.props||f.emits)&&(o.deopt=!0)),c},component(f,h){return h?(o.components[f]=h,c):o.components[f]},directive(f,h){return h?(o.directives[f]=h,c):o.directives[f]},mount(f,h,p){if(!u){const g=Pr(r,i);return g.appContext=o,h&&e?e(g,f):t(g,f,p),u=!0,c._container=f,f.__vue_app__=c,g.component.proxy}},unmount(){u&&(t(null,c._container),delete c._container.__vue_app__)},provide(f,h){return o.provides[f]=h,c}};return c}}function Jf(t){return et(t)?{setup:t,name:t.name}:t}const hz=t=>!!t.type.__asyncLoader,dz={scheduler:T1,allowRecurse:!0},vr=zW,Ow=(t,e,n,r)=>{if(Xe(t)){t.forEach((h,p)=>Ow(h,e&&(Xe(e)?e[p]:e),n,r));return}let i;if(!r)i=null;else{if(hz(r))return;r.shapeFlag&4?i=r.component.exposed||r.component.proxy:i=r.el}const{i:o,r:a}=t,u=e&&e.r,c=o.refs===It?o.refs={}:o.refs,f=o.setupState;if(u!=null&&u!==a&&(Hn(u)?(c[u]=null,mt(f,u)&&(f[u]=null)):En(u)&&(u.value=null)),Hn(a)){const h=()=>{c[a]=i,mt(f,a)&&(f[a]=i)};i?(h.id=-1,vr(h,n)):h()}else if(En(a)){const h=()=>{a.value=i};i?(h.id=-1,vr(h,n)):h()}else et(a)&&Vo(a,o,12,[i,c])};function pz(t){return gz(t)}function gz(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:a,createText:u,createComment:c,setText:f,setElementText:h,parentNode:p,nextSibling:g,setScopeId:v=Ua,cloneNode:y,insertStaticContent:w}=t,E=(L,j,G,ee=null,te=null,ae=null,ye=!1,fe=null,ne=!1)=>{L&&!Wa(L,j)&&(ee=ge(L),st(L,te,ae,!0),L=null),j.patchFlag===-2&&(ne=!1,j.dynamicChildren=null);const{type:oe,ref:Ve,shapeFlag:Ae}=j;switch(oe){case Dw:I(L,j,G,ee);break;case Ui:x(L,j,G,ee);break;case Gg:L==null&&k(j,G,ee,ye);break;case Ho:Z(L,j,G,ee,te,ae,ye,fe,ne);break;default:Ae&1?M(L,j,G,ee,te,ae,ye,fe,ne):Ae&6?Ie(L,j,G,ee,te,ae,ye,fe,ne):(Ae&64||Ae&128)&&oe.process(L,j,G,ee,te,ae,ye,fe,ne,We)}Ve!=null&&te&&Ow(Ve,L&&L.ref,ae,j)},I=(L,j,G,ee)=>{if(L==null)n(j.el=u(j.children),G,ee);else{const te=j.el=L.el;j.children!==L.children&&f(te,j.children)}},x=(L,j,G,ee)=>{L==null?n(j.el=c(j.children||""),G,ee):j.el=L.el},k=(L,j,G,ee)=>{[L.el,L.anchor]=w(L.children,j,G,ee)},P=({el:L,anchor:j},G,ee)=>{let te;for(;L&&L!==j;)te=g(L),n(L,G,ee),L=te;n(j,G,ee)},D=({el:L,anchor:j})=>{let G;for(;L&&L!==j;)G=g(L),r(L),L=G;r(j)},M=(L,j,G,ee,te,ae,ye,fe,ne)=>{ye=ye||j.type==="svg",L==null?W(j,G,ee,te,ae,ye,fe,ne):O(L,j,te,ae,ye,fe,ne)},W=(L,j,G,ee,te,ae,ye,fe)=>{let ne,oe;const{type:Ve,props:Ae,shapeFlag:Ne,transition:qe,patchFlag:Se,dirs:At}=L;if(L.el&&y!==void 0&&Se===-1)ne=L.el=y(L.el);else{if(ne=L.el=a(L.type,ae,Ae&&Ae.is,Ae),Ne&8?h(ne,L.children):Ne&16&&X(L.children,ne,null,ee,te,ae&&Ve!=="foreignObject",ye,fe||!!L.dynamicChildren),At&&Ha(L,null,ee,"created"),Ae){for(const tr in Ae)Cg(tr)||i(ne,tr,null,Ae[tr],ae,L.children,ee,te,me);(oe=Ae.onVnodeBeforeMount)&&po(oe,ee,L)}V(ne,L,L.scopeId,ye,ee)}At&&Ha(L,null,ee,"beforeMount");const pt=(!te||te&&!te.pendingBranch)&&qe&&!qe.persisted;pt&&qe.beforeEnter(ne),n(ne,j,G),((oe=Ae&&Ae.onVnodeMounted)||pt||At)&&vr(()=>{oe&&po(oe,ee,L),pt&&qe.enter(ne),At&&Ha(L,null,ee,"mounted")},te)},V=(L,j,G,ee,te)=>{if(G&&v(L,G),ee)for(let ae=0;ae<ee.length;ae++)v(L,ee[ae]);if(te){let ae=te.subTree;if(j===ae){const ye=te.vnode;V(L,ye,ye.scopeId,ye.slotScopeIds,te.parent)}}},X=(L,j,G,ee,te,ae,ye,fe,ne=0)=>{for(let oe=ne;oe<L.length;oe++){const Ve=L[oe]=ye?Ka(L[oe]):di(L[oe]);E(null,Ve,j,G,ee,te,ae,ye,fe)}},O=(L,j,G,ee,te,ae,ye)=>{const fe=j.el=L.el;let{patchFlag:ne,dynamicChildren:oe,dirs:Ve}=j;ne|=L.patchFlag&16;const Ae=L.props||It,Ne=j.props||It;let qe;if((qe=Ne.onVnodeBeforeUpdate)&&po(qe,G,j,L),Ve&&Ha(j,L,G,"beforeUpdate"),ne>0){if(ne&16)Ee(fe,j,Ae,Ne,G,ee,te);else if(ne&2&&Ae.class!==Ne.class&&i(fe,"class",null,Ne.class,te),ne&4&&i(fe,"style",Ae.style,Ne.style,te),ne&8){const At=j.dynamicProps;for(let pt=0;pt<At.length;pt++){const tr=At[pt],ii=Ae[tr],Dt=Ne[tr];(Dt!==ii||o&&o(fe,tr))&&i(fe,tr,ii,Dt,te,L.children,G,ee,me)}}ne&1&&L.children!==j.children&&h(fe,j.children)}else!ye&&oe==null&&Ee(fe,j,Ae,Ne,G,ee,te);const Se=te&&j.type!=="foreignObject";oe?pe(L.dynamicChildren,oe,fe,G,ee,Se,ae):ye||se(L,j,fe,null,G,ee,Se,ae,!1),((qe=Ne.onVnodeUpdated)||Ve)&&vr(()=>{qe&&po(qe,G,j,L),Ve&&Ha(j,L,G,"updated")},ee)},pe=(L,j,G,ee,te,ae,ye)=>{for(let fe=0;fe<j.length;fe++){const ne=L[fe],oe=j[fe],Ve=ne.type===Ho||!Wa(ne,oe)||ne.shapeFlag&6||ne.shapeFlag&64?p(ne.el):G;E(ne,oe,Ve,null,ee,te,ae,ye,!0)}},Ee=(L,j,G,ee,te,ae,ye)=>{if(G!==ee){for(const fe in ee){if(Cg(fe))continue;const ne=ee[fe],oe=G[fe];(ne!==oe||o&&o(L,fe))&&i(L,fe,oe,ne,ye,j.children,te,ae,me)}if(G!==It)for(const fe in G)!Cg(fe)&&!(fe in ee)&&i(L,fe,G[fe],null,ye,j.children,te,ae,me)}},Z=(L,j,G,ee,te,ae,ye,fe,ne)=>{const oe=j.el=L?L.el:u(""),Ve=j.anchor=L?L.anchor:u("");let{patchFlag:Ae,dynamicChildren:Ne,slotScopeIds:qe}=j;Ae>0&&(ne=!0),qe&&(fe=fe?fe.concat(qe):qe),L==null?(n(oe,G,ee),n(Ve,G,ee),X(j.children,G,Ve,te,ae,ye,fe,ne)):Ae>0&&Ae&64&&Ne&&L.dynamicChildren?(pe(L.dynamicChildren,Ne,G,te,ae,ye,fe),(j.key!=null||te&&j===te.subTree)&&Q1(L,j,!0)):se(L,j,G,Ve,te,ae,ye,fe,ne)},Ie=(L,j,G,ee,te,ae,ye,fe,ne)=>{j.slotScopeIds=fe,L==null?j.shapeFlag&512?te.ctx.activate(j,G,ee,ye,ne):ve(j,G,ee,te,ae,ye,ne):$(L,j,ne)},ve=(L,j,G,ee,te,ae,ye)=>{const fe=L.component=Az(L,ee,te);if(Kg(L)&&(fe.ctx.renderer=We),xz(fe),fe.asyncDep){if(te&&te.registerDep(fe,z),!L.el){const ne=fe.subTree=Pr(Ui);x(null,ne,j,G)}return}z(fe,L,j,G,te,ae,ye)},$=(L,j,G)=>{const ee=j.component=L.component;if(qW(L,j,G))if(ee.asyncDep&&!ee.asyncResolved){J(ee,j,G);return}else ee.next=j,MW(ee.update),ee.update();else j.component=L.component,j.el=L.el,ee.vnode=j},z=(L,j,G,ee,te,ae,ye)=>{L.update=uw(function(){if(L.isMounted){let{next:ne,bu:oe,u:Ve,parent:Ae,vnode:Ne}=L,qe=ne,Se;ne?(ne.el=Ne.el,J(L,ne,ye)):ne=Ne,oe&&kg(oe),(Se=ne.props&&ne.props.onVnodeBeforeUpdate)&&po(Se,Ae,ne,Ne);const At=O1(L),pt=L.subTree;L.subTree=At,E(pt,At,p(pt.el),ge(pt),L,te,ae),ne.el=At.el,qe===null&&HW(L,At.el),Ve&&vr(Ve,te),(Se=ne.props&&ne.props.onVnodeUpdated)&&vr(()=>{po(Se,Ae,ne,Ne)},te)}else{let ne;const{el:oe,props:Ve}=j,{bm:Ae,m:Ne,parent:qe}=L;Ae&&kg(Ae),(ne=Ve&&Ve.onVnodeBeforeMount)&&po(ne,qe,j);const Se=L.subTree=O1(L);if(oe&&Ge?Ge(j.el,Se,L,te,null):(E(null,Se,G,ee,L,te,ae),j.el=Se.el),Ne&&vr(Ne,te),ne=Ve&&Ve.onVnodeMounted){const pt=j;vr(()=>{po(ne,qe,pt)},te)}const{a:At}=L;At&&j.shapeFlag&256&&vr(At,te),L.isMounted=!0,j=G=ee=null}},dz)},J=(L,j,G)=>{j.component=L;const ee=L.vnode.props;L.vnode=j,L.next=null,GW(L,j.props,ee,G),cz(L,j.children,G),xc(),ww(void 0,L.update),qa()},se=(L,j,G,ee,te,ae,ye,fe,ne=!1)=>{const oe=L&&L.children,Ve=L?L.shapeFlag:0,Ae=j.children,{patchFlag:Ne,shapeFlag:qe}=j;if(Ne>0){if(Ne&128){Ke(oe,Ae,G,ee,te,ae,ye,fe,ne);return}else if(Ne&256){Pe(oe,Ae,G,ee,te,ae,ye,fe,ne);return}}qe&8?(Ve&16&&me(oe,te,ae),Ae!==oe&&h(G,Ae)):Ve&16?qe&16?Ke(oe,Ae,G,ee,te,ae,ye,fe,ne):me(oe,te,ae,!0):(Ve&8&&h(G,""),qe&16&&X(Ae,G,ee,te,ae,ye,fe,ne))},Pe=(L,j,G,ee,te,ae,ye,fe,ne)=>{L=L||zf,j=j||zf;const oe=L.length,Ve=j.length,Ae=Math.min(oe,Ve);let Ne;for(Ne=0;Ne<Ae;Ne++){const qe=j[Ne]=ne?Ka(j[Ne]):di(j[Ne]);E(L[Ne],qe,G,null,te,ae,ye,fe,ne)}oe>Ve?me(L,te,ae,!0,!1,Ae):X(j,G,ee,te,ae,ye,fe,ne,Ae)},Ke=(L,j,G,ee,te,ae,ye,fe,ne)=>{let oe=0;const Ve=j.length;let Ae=L.length-1,Ne=Ve-1;for(;oe<=Ae&&oe<=Ne;){const qe=L[oe],Se=j[oe]=ne?Ka(j[oe]):di(j[oe]);if(Wa(qe,Se))E(qe,Se,G,null,te,ae,ye,fe,ne);else break;oe++}for(;oe<=Ae&&oe<=Ne;){const qe=L[Ae],Se=j[Ne]=ne?Ka(j[Ne]):di(j[Ne]);if(Wa(qe,Se))E(qe,Se,G,null,te,ae,ye,fe,ne);else break;Ae--,Ne--}if(oe>Ae){if(oe<=Ne){const qe=Ne+1,Se=qe<Ve?j[qe].el:ee;for(;oe<=Ne;)E(null,j[oe]=ne?Ka(j[oe]):di(j[oe]),G,Se,te,ae,ye,fe,ne),oe++}}else if(oe>Ne)for(;oe<=Ae;)st(L[oe],te,ae,!0),oe++;else{const qe=oe,Se=oe,At=new Map;for(oe=Se;oe<=Ne;oe++){const on=j[oe]=ne?Ka(j[oe]):di(j[oe]);on.key!=null&&At.set(on.key,oe)}let pt,tr=0;const ii=Ne-Se+1;let Dt=!1,fa=0;const yn=new Array(ii);for(oe=0;oe<ii;oe++)yn[oe]=0;for(oe=qe;oe<=Ae;oe++){const on=L[oe];if(tr>=ii){st(on,te,ae,!0);continue}let Ft;if(on.key!=null)Ft=At.get(on.key);else for(pt=Se;pt<=Ne;pt++)if(yn[pt-Se]===0&&Wa(on,j[pt])){Ft=pt;break}Ft===void 0?st(on,te,ae,!0):(yn[Ft-Se]=oe+1,Ft>=fa?fa=Ft:Dt=!0,E(on,j[Ft],G,null,te,ae,ye,fe,ne),tr++)}const Hr=Dt?mz(yn):zf;for(pt=Hr.length-1,oe=ii-1;oe>=0;oe--){const on=Se+oe,Ft=j[on],ps=on+1<Ve?j[on+1].el:ee;yn[oe]===0?E(null,Ft,G,ps,te,ae,ye,fe,ne):Dt&&(pt<0||oe!==Hr[pt]?Ue(Ft,G,ps,2):pt--)}}},Ue=(L,j,G,ee,te=null)=>{const{el:ae,type:ye,transition:fe,children:ne,shapeFlag:oe}=L;if(oe&6){Ue(L.component.subTree,j,G,ee);return}if(oe&128){L.suspense.move(j,G,ee);return}if(oe&64){ye.move(L,j,G,We);return}if(ye===Ho){n(ae,j,G);for(let Ae=0;Ae<ne.length;Ae++)Ue(ne[Ae],j,G,ee);n(L.anchor,j,G);return}if(ye===Gg){P(L,j,G);return}if(ee!==2&&oe&1&&fe)if(ee===0)fe.beforeEnter(ae),n(ae,j,G),vr(()=>fe.enter(ae),te);else{const{leave:Ae,delayLeave:Ne,afterLeave:qe}=fe,Se=()=>n(ae,j,G),At=()=>{Ae(ae,()=>{Se(),qe&&qe()})};Ne?Ne(ae,Se,At):At()}else n(ae,j,G)},st=(L,j,G,ee=!1,te=!1)=>{const{type:ae,props:ye,ref:fe,children:ne,dynamicChildren:oe,shapeFlag:Ve,patchFlag:Ae,dirs:Ne}=L;if(fe!=null&&Ow(fe,null,G,null),Ve&256){j.ctx.deactivate(L);return}const qe=Ve&1&&Ne;let Se;if((Se=ye&&ye.onVnodeBeforeUnmount)&&po(Se,j,L),Ve&6)Te(L.component,G,ee);else{if(Ve&128){L.suspense.unmount(G,ee);return}qe&&Ha(L,null,j,"beforeUnmount"),Ve&64?L.type.remove(L,j,G,te,We,ee):oe&&(ae!==Ho||Ae>0&&Ae&64)?me(oe,j,G,!1,!0):(ae===Ho&&(Ae&128||Ae&256)||!te&&Ve&16)&&me(ne,j,G),ee&&zt(L)}((Se=ye&&ye.onVnodeUnmounted)||qe)&&vr(()=>{Se&&po(Se,j,L),qe&&Ha(L,null,j,"unmounted")},G)},zt=L=>{const{type:j,el:G,anchor:ee,transition:te}=L;if(j===Ho){Q(G,ee);return}if(j===Gg){D(L);return}const ae=()=>{r(G),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(L.shapeFlag&1&&te&&!te.persisted){const{leave:ye,delayLeave:fe}=te,ne=()=>ye(G,ae);fe?fe(L.el,ae,ne):ne()}else ae()},Q=(L,j)=>{let G;for(;L!==j;)G=g(L),r(L),L=G;r(j)},Te=(L,j,G)=>{const{bum:ee,effects:te,update:ae,subTree:ye,um:fe}=L;if(ee&&kg(ee),te)for(let ne=0;ne<te.length;ne++)cw(te[ne]);ae&&(cw(ae),st(ye,L,j,G)),fe&&vr(fe,j),vr(()=>{L.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},me=(L,j,G,ee=!1,te=!1,ae=0)=>{for(let ye=ae;ye<L.length;ye++)st(L[ye],j,G,ee,te)},ge=L=>L.shapeFlag&6?ge(L.component.subTree):L.shapeFlag&128?L.suspense.next():g(L.anchor||L.el),dt=(L,j,G)=>{L==null?j._vnode&&st(j._vnode,null,null,!0):E(j._vnode||null,L,j,null,null,null,G),C1(),j._vnode=L},We={p:E,um:st,m:Ue,r:zt,mt:ve,mc:X,pc:se,pbc:pe,n:ge,o:t};let ze,Ge;return e&&([ze,Ge]=e(We)),{render:dt,hydrate:ze,createApp:fz(dt,ze)}}function po(t,e,n,r=null){Fi(t,e,7,[n,r])}function Q1(t,e,n=!1){const r=t.children,i=e.children;if(Xe(r)&&Xe(i))for(let o=0;o<r.length;o++){const a=r[o];let u=i[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[o]=Ka(i[o]),u.el=a.el),n||Q1(a,u))}}function mz(t){const e=t.slice(),n=[0];let r,i,o,a,u;const c=t.length;for(r=0;r<c;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)u=(o+a)/2|0,t[n[u]]<f?o=u+1:a=u;f<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}const vz=t=>t.__isTeleport,Nw="components";function Ahe(t,e){return Z1(Nw,t,!0,e)||t}const J1=Symbol();function Pw(t){return Hn(t)?Z1(Nw,t,!1)||t:t||J1}function Z1(t,e,n=!0,r=!1){const i=li||Tn;if(i){const o=i.type;if(t===Nw){const u=pO(o);if(u&&(u===e||u===fo(e)||u===xg(fo(e))))return o}const a=eO(i[t]||o[t],e)||eO(i.appContext[t],e);return!a&&r?o:a}}function eO(t,e){return t&&(t[e]||t[fo(e)]||t[xg(fo(e))])}const Ho=Symbol(void 0),Dw=Symbol(void 0),Ui=Symbol(void 0),Gg=Symbol(void 0),Zf=[];let $a=null;function tO(t=!1){Zf.push($a=t?null:[])}function nO(){Zf.pop(),$a=Zf[Zf.length-1]||null}function yz(t,e,n,r,i){const o=Pr(t,e,n,r,i,!0);return o.dynamicChildren=$a||zf,nO(),$a&&$a.push(o),o}function Yg(t){return t?t.__v_isVNode===!0:!1}function Wa(t,e){return t.type===e.type&&t.key===e.key}const Xg="__vInternal",rO=({key:t})=>t!=null?t:null,Qg=({ref:t})=>t!=null?Hn(t)||En(t)||et(t)?{i:li,r:t}:t:null,Pr=_z;function _z(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===J1)&&(t=Ui),Yg(t)){const c=za(t,e,!0);return n&&Mw(c,n),c}if(Pz(t)&&(t=t.__vccOpts),e){(y1(e)||Xg in e)&&(e=wn({},e));let{class:c,style:f}=e;c&&!Hn(c)&&(e.class=ew(c)),Jt(f)&&(y1(f)&&!Xe(f)&&(f=wn({},f)),e.style=Z0(f))}const a=Hn(t)?1:$W(t)?128:vz(t)?64:Jt(t)?4:et(t)?2:0,u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&rO(e),ref:e&&Qg(e),scopeId:Hg,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};if(Mw(u,n),a&128){const{content:c,fallback:f}=WW(u);u.ssContent=c,u.ssFallback=f}return!o&&$a&&(r>0||a&6)&&r!==32&&$a.push(u),u}function za(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:a}=t,u=e?wz(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&rO(u),ref:e&&e.ref?n&&i?Xe(i)?i.concat(Qg(e)):[i,Qg(e)]:Qg(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ho?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&za(t.ssContent),ssFallback:t.ssFallback&&za(t.ssFallback),el:t.el,anchor:t.anchor}}function bz(t=" ",e=0){return Pr(Dw,null,t,e)}function xhe(t,e){const n=Pr(Gg,null,t);return n.staticCount=e,n}function Rhe(t="",e=!1){return e?(tO(),yz(Ui,null,t)):Pr(Ui,null,t)}function di(t){return t==null||typeof t=="boolean"?Pr(Ui):Xe(t)?Pr(Ho,null,t):typeof t=="object"?t.el===null?t:za(t):Pr(Dw,null,String(t))}function Ka(t){return t.el===null?t:za(t)}function Mw(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Xe(e))n=16;else if(typeof e=="object")if(r&1||r&64){const i=e.default;i&&(i._c&&R1(1),Mw(t,i()),i._c&&R1(-1));return}else{n=32;const i=e._;!i&&!(Xg in e)?e._ctx=li:i===3&&li&&(li.vnode.patchFlag&1024?(e._=2,t.patchFlag|=1024):e._=1)}else et(e)?(e={default:e,_ctx:li},n=32):(e=String(e),r&64?(n=16,e=[bz(e)]):n=8);t.children=e,t.shapeFlag|=n}function wz(...t){const e=wn({},t[0]);for(let n=1;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ew([e.class,r.class]));else if(i==="style")e.style=Z0([e.style,r.style]);else if(Tg(i)){const o=e[i],a=r[i];o!==a&&(e[i]=o?[].concat(o,r[i]):a)}else i!==""&&(e[i]=r[i])}return e}function xs(t,e){if(Tn){let n=Tn.provides;const r=Tn.parent&&Tn.parent.provides;r===n&&(n=Tn.provides=Object.create(r)),n[t]=e}}function go(t,e,n=!1){const r=Tn||li;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&et(e)?e():e}}let eh=!0;function Lw(t,e,n=[],r=[],i=[],o=!1){const{mixins:a,extends:u,data:c,computed:f,methods:h,watch:p,provide:g,inject:v,components:y,directives:w,beforeMount:E,mounted:I,beforeUpdate:x,updated:k,activated:P,deactivated:D,beforeDestroy:M,beforeUnmount:W,destroyed:V,unmounted:X,render:O,renderTracked:pe,renderTriggered:Ee,errorCaptured:Z,expose:Ie}=e,ve=t.proxy,$=t.ctx,z=t.appContext.mixins;if(o&&O&&t.render===Ua&&(t.render=O),o||(eh=!1,iO("beforeCreate","bc",e,t,z),eh=!0,oO(t,z,n,r,i)),u&&Lw(t,u,n,r,i,!0),a&&oO(t,a,n,r,i),v)if(Xe(v))for(let J=0;J<v.length;J++){const se=v[J];$[se]=go(se)}else for(const J in v){const se=v[J];Jt(se)?$[J]=go(se.from||J,se.default,!0):$[J]=go(se)}if(h)for(const J in h){const se=h[J];et(se)&&($[J]=se.bind(ve))}if(o?c&&n.push(c):(n.length&&n.forEach(J=>sO(t,J,ve)),c&&sO(t,c,ve)),f)for(const J in f){const se=f[J],Pe=et(se)?se.bind(ve,ve):et(se.get)?se.get.bind(ve,ve):Ua,Ke=!et(se)&&et(se.set)?se.set.bind(ve):Ua,Ue=Tt({get:Pe,set:Ke});Object.defineProperty($,J,{enumerable:!0,configurable:!0,get:()=>Ue.value,set:st=>Ue.value=st})}if(p&&r.push(p),!o&&r.length&&r.forEach(J=>{for(const se in J)aO(J[se],$,ve,se)}),g&&i.push(g),!o&&i.length&&i.forEach(J=>{const se=et(J)?J.call(ve):J;Reflect.ownKeys(se).forEach(Pe=>{xs(Pe,se[Pe])})}),o&&(y&&wn(t.components||(t.components=wn({},t.type.components)),y),w&&wn(t.directives||(t.directives=wn({},t.type.directives)),w)),o||iO("created","c",e,t,z),E&&YW(E.bind(ve)),I&&zg(I.bind(ve)),x&&XW(x.bind(ve)),k&&QW(k.bind(ve)),P&&iz(P.bind(ve)),D&&oz(D.bind(ve)),Z&&ez(Z.bind(ve)),pe&&ZW(pe.bind(ve)),Ee&&JW(Ee.bind(ve)),W&&Cw(W.bind(ve)),X&&j1(X.bind(ve)),Xe(Ie)&&!o)if(Ie.length){const J=t.exposed||(t.exposed=mw({}));Ie.forEach(se=>{J[se]=ho(ve,se)})}else t.exposed||(t.exposed=It)}function iO(t,e,n,r,i){for(let o=0;o<i.length;o++)Jg(t,e,i[o],r);Jg(t,e,n,r)}function Jg(t,e,n,r){const{extends:i,mixins:o}=n,a=n[t];if(i&&Jg(t,e,i,r),o)for(let u=0;u<o.length;u++)Jg(t,e,o[u],r);a&&Fi(a.bind(r.proxy),r,e)}function oO(t,e,n,r,i){for(let o=0;o<e.length;o++)Lw(t,e[o],n,r,i,!0)}function sO(t,e,n){eh=!1;const r=e.call(n,n);eh=!0,Jt(r)&&(t.data===It?t.data=Ss(r):wn(t.data,r))}function aO(t,e,n,r){const i=r.includes(".")?Ez(n,r):()=>n[r];if(Hn(t)){const o=e[t];et(o)&&fi(i,o)}else if(et(t))fi(i,t.bind(n));else if(Jt(t))if(Xe(t))t.forEach(o=>aO(o,e,n,r));else{const o=et(t.handler)?t.handler.bind(n):e[t.handler];et(o)&&fi(i,o,t)}}function Ez(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Tz(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const o=t.appContext.mixins;if(!o.length&&!r&&!i)return e;const a={};return o.forEach(u=>Zg(a,u,t)),Zg(a,e,t),e.__merged=a}function Zg(t,e,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=e;o&&Zg(t,o,n),i&&i.forEach(a=>Zg(t,a,n));for(const a in e)r&&mt(r,a)?t[a]=r[a](t[a],e[a],n.proxy,a):t[a]=e[a]}const Fw=t=>t?lO(t)?t.exposed?t.exposed:t.proxy:Fw(t.parent):null,uO=wn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fw(t.parent),$root:t=>Fw(t.root),$emit:t=>t.emit,$options:t=>Tz(t),$forceUpdate:t=>()=>T1(t.update),$nextTick:t=>bw.bind(t.proxy),$watch:t=>tz.bind(t)}),Uw={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:u,appContext:c}=t;if(e==="__v_skip")return!0;let f;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==It&&mt(r,e))return a[e]=0,r[e];if(i!==It&&mt(i,e))return a[e]=1,i[e];if((f=t.propsOptions[0])&&mt(f,e))return a[e]=2,o[e];if(n!==It&&mt(n,e))return a[e]=3,n[e];eh&&(a[e]=4)}}const h=uO[e];let p,g;if(h)return e==="$attrs"&&Nr(t,"get",e),h(t);if((p=u.__cssModules)&&(p=p[e]))return p;if(n!==It&&mt(n,e))return a[e]=3,n[e];if(g=c.config.globalProperties,mt(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==It&&mt(i,e))i[e]=n;else if(r!==It&&mt(r,e))r[e]=n;else if(mt(t.props,e))return!1;return e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let u;return n[a]!==void 0||t!==It&&mt(t,a)||e!==It&&mt(e,a)||(u=o[0])&&mt(u,a)||mt(r,a)||mt(uO,a)||mt(i.config.globalProperties,a)}},Iz=wn({},Uw,{get(t,e){if(e!==Symbol.unscopables)return Uw.get(t,e,t)},has(t,e){return e[0]!=="_"&&!U$(e)}}),Sz=X1();let Cz=0;function Az(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Sz,o={uid:Cz++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:D1(r,i),emitsOptions:x1(r,i),emit:null,emitted:null,propsDefaults:It,ctx:It,data:It,props:It,attrs:It,slots:It,refs:It,setupState:It,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=UW.bind(null,o),o}let Tn=null;const cO=()=>Tn||li,em=t=>{Tn=t};function lO(t){return t.vnode.shapeFlag&4}let jw=!1;function xz(t,e=!1){jw=e;const{props:n,children:r}=t.vnode,i=lO(t);KW(t,n,i,e),uz(t,r);const o=i?Rz(t,e):void 0;return jw=!1,o}function Rz(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Uw);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?kz(t):null;Tn=t,xc();const o=Vo(r,t,0,[t.props,i]);if(qa(),Tn=null,Zk(o)){if(e)return o.then(a=>{fO(t,a)}).catch(a=>{Bg(a,t,0)});t.asyncDep=o}else fO(t,o)}else hO(t)}function fO(t,e,n){et(e)?t.render=e:Jt(e)&&(t.setupState=mw(e)),hO(t)}function hO(t,e){const n=t.type;t.render||(t.render=n.render||Ua,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Iz))),Tn=t,xc(),Lw(t,n),qa(),Tn=null}function kz(t){const e=n=>{t.exposed=mw(n)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}function dO(t,e=Tn){e&&(e.effects||(e.effects=[])).push(t)}const Oz=/(?:^|[-_])(\w)/g,Nz=t=>t.replace(Oz,e=>e.toUpperCase()).replace(/[-_]/g,"");function pO(t){return et(t)&&t.displayName||t.name}function gO(t,e,n=!1){let r=pO(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=o=>{for(const a in o)if(o[a]===e)return a};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?Nz(r):n?"App":"Anonymous"}function Pz(t){return et(t)&&"__vccOpts"in t}function Tt(t){const e=AW(t);return dO(e.effect),e}function Ga(t,e,n){const r=arguments.length;return r===2?Jt(e)&&!Xe(e)?Yg(e)?Pr(t,null,[e]):Pr(t,e):Pr(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Yg(n)&&(n=[n]),Pr(t,e,n))}function khe(t,e){let n;if(Xe(t)||Hn(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if(typeof t=="number"){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(Jt(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const a=r[i];n[i]=e(t[a],a,i)}}else n=[];return n}const Dz="3.0.11",mO="http://www.w3.org/2000/svg",Ya=typeof document!="undefined"?document:null;let vO,yO;const _O={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Ya.createElementNS(mO,t):Ya.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Ya.createTextNode(t),createComment:t=>Ya.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ya.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=r?yO||(yO=Ya.createElementNS(mO,"svg")):vO||(vO=Ya.createElement("div"));i.innerHTML=t;const o=i.firstChild;let a=o,u=a;for(;a;)u=a,_O.insert(a,e,n),a=i.firstChild;return[o,u]}};function Mz(t,e,n){if(e==null&&(e=""),n)t.setAttribute("class",e);else{const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),t.className=e}}function Lz(t,e,n){const r=t.style;if(!n)t.removeAttribute("style");else if(Hn(n)){if(e!==n){const i=r.display;r.cssText=n,"_vod"in t&&(r.display=i)}}else{for(const i in n)Bw(r,i,n[i]);if(e&&!Hn(e))for(const i in e)n[i]==null&&Bw(r,i,"")}}const bO=/\s*!important$/;function Bw(t,e,n){if(Xe(n))n.forEach(r=>Bw(t,e,r));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=Fz(t,e);bO.test(n)?t.setProperty(ja(r),n.replace(bO,""),"important"):t[r]=n}}const wO=["Webkit","Moz","ms"],Vw={};function Fz(t,e){const n=Vw[e];if(n)return n;let r=fo(e);if(r!=="filter"&&r in t)return Vw[e]=r;r=xg(r);for(let i=0;i<wO.length;i++){const o=wO[i]+r;if(o in t)return Vw[e]=o}return e}const EO="http://www.w3.org/1999/xlink";function Uz(t,e,n,r){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(EO,e.slice(6,e.length)):t.setAttributeNS(EO,e,n);else{const i=B$(e);n==null||i&&n===!1?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function jz(t,e,n,r,i,o,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,o),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"){t._value=n;const u=n==null?"":n;t.value!==u&&(t.value=u);return}if(n===""||n==null){const u=typeof t[e];if(n===""&&u==="boolean"){t[e]=!0;return}else if(n==null&&u==="string"){t[e]="",t.removeAttribute(e);return}else if(u==="number"){t[e]=0,t.removeAttribute(e);return}}try{t[e]=n}catch{}}let tm=Date.now,TO=!1;if(typeof window!="undefined"){tm()>document.createEvent("Event").timeStamp&&(tm=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);TO=!!(t&&Number(t[1])<=53)}let qw=0;const Bz=Promise.resolve(),Vz=()=>{qw=0},qz=()=>qw||(Bz.then(Vz),qw=tm());function Xa(t,e,n,r){t.addEventListener(e,n,r)}function Hz(t,e,n,r){t.removeEventListener(e,n,r)}function $z(t,e,n,r,i=null){const o=t._vei||(t._vei={}),a=o[e];if(r&&a)a.value=r;else{const[u,c]=Wz(e);if(r){const f=o[e]=zz(r,i);Xa(t,u,f,c)}else a&&(Hz(t,u,a,c),o[e]=void 0)}}const IO=/(?:Once|Passive|Capture)$/;function Wz(t){let e;if(IO.test(t)){e={};let n;for(;n=t.match(IO);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[ja(t.slice(2)),e]}function zz(t,e){const n=r=>{const i=r.timeStamp||tm();(TO||i>=n.attached-1)&&Fi(Kz(r,n.value),e,5,[r])};return n.value=t,n.attached=qz(),n}function Kz(t,e){if(Xe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r(i))}else return e}const SO=/^on[a-z]/,Gz=(t,e)=>e==="value",Yz=(t,e,n,r,i=!1,o,a,u,c)=>{switch(e){case"class":Mz(t,r,i);break;case"style":Lz(t,n,r);break;default:Tg(e)?tw(e)||$z(t,e,n,r,a):Xz(t,e,r,i)?jz(t,e,r,o,a,u,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Uz(t,e,r,i));break}};function Xz(t,e,n,r){return r?!!(e==="innerHTML"||e in t&&SO.test(e)&&et(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||SO.test(e)&&Hn(n)?!1:e in t}const Rs="transition",th="animation",CO=(t,{slots:e})=>Ga(q1,Qz(t),e);CO.displayName="Transition";const AO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};CO.props=wn({},q1.props,AO);function Qz(t){let{name:e="v",type:n,css:r=!0,duration:i,enterFromClass:o=`${e}-enter-from`,enterActiveClass:a=`${e}-enter-active`,enterToClass:u=`${e}-enter-to`,appearFromClass:c=o,appearActiveClass:f=a,appearToClass:h=u,leaveFromClass:p=`${e}-leave-from`,leaveActiveClass:g=`${e}-leave-active`,leaveToClass:v=`${e}-leave-to`}=t;const y={};for(const Z in t)Z in AO||(y[Z]=t[Z]);if(!r)return y;const w=Jz(i),E=w&&w[0],I=w&&w[1],{onBeforeEnter:x,onEnter:k,onEnterCancelled:P,onLeave:D,onLeaveCancelled:M,onBeforeAppear:W=x,onAppear:V=k,onAppearCancelled:X=P}=y,O=(Z,Ie,ve)=>{Pc(Z,Ie?h:u),Pc(Z,Ie?f:a),ve&&ve()},pe=(Z,Ie)=>{Pc(Z,v),Pc(Z,g),Ie&&Ie()},Ee=Z=>(Ie,ve)=>{const $=Z?V:k,z=()=>O(Ie,Z,ve);$&&$(Ie,z),xO(()=>{Pc(Ie,Z?c:o),ks(Ie,Z?h:u),$&&$.length>1||RO(Ie,n,E,z)})};return wn(y,{onBeforeEnter(Z){x&&x(Z),ks(Z,o),ks(Z,a)},onBeforeAppear(Z){W&&W(Z),ks(Z,c),ks(Z,f)},onEnter:Ee(!1),onAppear:Ee(!0),onLeave(Z,Ie){const ve=()=>pe(Z,Ie);ks(Z,p),tK(),ks(Z,g),xO(()=>{Pc(Z,p),ks(Z,v),D&&D.length>1||RO(Z,n,I,ve)}),D&&D(Z,ve)},onEnterCancelled(Z){O(Z,!1),P&&P(Z)},onAppearCancelled(Z){O(Z,!0),X&&X(Z)},onLeaveCancelled(Z){pe(Z),M&&M(Z)}})}function Jz(t){if(t==null)return null;if(Jt(t))return[Hw(t.enter),Hw(t.leave)];{const e=Hw(t);return[e,e]}}function Hw(t){return Og(t)}function ks(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Pc(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function xO(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Zz=0;function RO(t,e,n,r){const i=t._endId=++Zz,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:a,timeout:u,propCount:c}=eK(t,e);if(!a)return r();const f=a+"end";let h=0;const p=()=>{t.removeEventListener(f,g),o()},g=v=>{v.target===t&&++h>=c&&p()};setTimeout(()=>{h<c&&p()},u+1),t.addEventListener(f,g)}function eK(t,e){const n=window.getComputedStyle(t),r=y=>(n[y]||"").split(", "),i=r(Rs+"Delay"),o=r(Rs+"Duration"),a=kO(i,o),u=r(th+"Delay"),c=r(th+"Duration"),f=kO(u,c);let h=null,p=0,g=0;e===Rs?a>0&&(h=Rs,p=a,g=o.length):e===th?f>0&&(h=th,p=f,g=c.length):(p=Math.max(a,f),h=p>0?a>f?Rs:th:null,g=h?h===Rs?o.length:c.length:0);const v=h===Rs&&/\b(transform|all)(,|$)/.test(n[Rs+"Property"]);return{type:h,timeout:p,propCount:g,hasTransform:v}}function kO(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>OO(n)+OO(t[r])))}function OO(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function tK(){return document.body.offsetHeight}const nm=t=>{const e=t.props["onUpdate:modelValue"];return Xe(e)?n=>kg(e,n):e};function nK(t){t.target.composing=!0}function NO(t){const e=t.target;e.composing&&(e.composing=!1,rK(e,"input"))}function rK(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const Ohe={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=nm(i);const o=r||t.type==="number";Xa(t,e?"change":"input",a=>{if(a.target.composing)return;let u=t.value;n?u=u.trim():o&&(u=Og(u)),t._assign(u)}),n&&Xa(t,"change",()=>{t.value=t.value.trim()}),e||(Xa(t,"compositionstart",nK),Xa(t,"compositionend",NO),Xa(t,"change",NO))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{trim:n,number:r}},i){if(t._assign=nm(i),t.composing||document.activeElement===t&&(n&&t.value.trim()===e||(r||t.type==="number")&&Og(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},Nhe={created(t,e,n){t._assign=nm(n),Xa(t,"change",()=>{const r=t._modelValue,i=iK(t),o=t.checked,a=t._assign;if(Xe(r)){const u=Yk(r,i),c=u!==-1;if(o&&!c)a(r.concat(i));else if(!o&&c){const f=[...r];f.splice(u,1),a(f)}}else if(Ig(r)){const u=new Set(r);o?u.add(i):u.delete(i),a(u)}else a(DO(t,o))})},mounted:PO,beforeUpdate(t,e,n){t._assign=nm(n),PO(t,e,n)}};function PO(t,{value:e,oldValue:n},r){t._modelValue=e,Xe(e)?t.checked=Yk(e,r.props.value)>-1:Ig(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Eg(e,DO(t,!0)))}function iK(t){return"_value"in t?t._value:t.value}function DO(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const oK={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Phe=(t,e)=>n=>{if(!("key"in n))return;const r=ja(n.key);if(!!e.some(i=>i===r||oK[i]===r))return t(n)},sK=wn({patchProp:Yz,forcePatchProp:Gz},_O);let MO;function aK(){return MO||(MO=pz(sK))}const Dhe=(...t)=>{const e=aK().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=uK(r);if(!i)return;const o=e._component;!et(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function uK(t){return Hn(t)?document.querySelector(t):t}/*!
  * vuefire v3.0.0-alpha.1
  * (c) 2020 Eduardo San Martin Morote
  * @license MIT
  */function $w(t,e){return e.split(".").reduce((n,r)=>n[r],t)}function cK(t,e,n){const r=(""+e).split("."),i=r.pop(),o=r.reduce((a,u)=>a[u],t);return Array.isArray(o)?o.splice(Number(i),1,n):o[i]=n}function lK(t){return t&&typeof t=="object"}function fK(t){return t.toDate}function hK(t){return t&&t.onSnapshot}function dK(t,e){let n=!1;return()=>{if(!n)return n=!0,t(e())}}function pK(t){return Object.defineProperty(t.data()||{},"id",{value:t.id})}function Ww(t,e,n){const r=[{},{}],i=Object.keys(n).reduce((a,u)=>{const c=n[u];return a[c.path]=c.data(),a},{});function o(a,u,c,f){u=u||{};const[h,p]=f;Object.getOwnPropertyNames(a).forEach(g=>{const v=Object.getOwnPropertyDescriptor(a,g);v&&!v.enumerable&&Object.defineProperty(h,g,v)});for(const g in a){const v=a[g];if(v==null||v instanceof Date||fK(v)||v.longitude&&v.latitude)h[g]=v;else if(hK(v))h[g]=typeof u=="object"&&g in u&&typeof u[g]!="string"?u[g]:v.path,p[c+g]=v;else if(Array.isArray(v)){h[g]=Array(v.length);for(let y=0;y<v.length;y++){const w=v[y];w&&w.path in i&&(h[g][y]=i[w.path])}o(v,u[g]||h[g],c+g+".",[h[g],p])}else lK(v)?(h[g]={},o(v,u[g],c+g+".",[h[g],p])):h[g]=v}}return o(t,e,"",r),r}const Qa={maxRefDepth:2,reset:!0,serialize:pK,wait:!1};function rm(t){for(const e in t)t[e].unsub()}function LO(t,e,n,r,i,o,a,u){const[c,f]=Ww(t.serialize(r),$w(e,n),i);o.set(e,n,c),zw(t,e,n,i,f,o,a,u)}function gK({ref:t,target:e,path:n,depth:r,resolve:i,ops:o},a){const u=Object.create(null),c=t.onSnapshot(f=>{f.exists?LO(a,e,n,f,u,o,r,i):(o.set(e,n,null),i())});return()=>{c(),rm(u)}}function zw(t,e,n,r,i,o,a,u){const c=Object.keys(i);if(Object.keys(r).filter(y=>c.indexOf(y)<0).forEach(y=>{r[y].unsub(),delete r[y]}),!c.length||++a>t.maxRefDepth)return u(n);let h=0;const p=c.length,g=Object.create(null);function v(y){y in g&&++h>=p&&u(n)}c.forEach(y=>{const w=r[y],E=i[y],I=`${n}.${y}`;if(g[I]=!0,w)if(w.path!==E.path)w.unsub();else return;r[y]={data:()=>$w(e,I),unsub:gK({ref:E,target:e,path:I,depth:a,ops:o,resolve:v.bind(null,I)},t),path:E.path}})}function mK(t,e,n,r,i,o=Qa){const a=Object.assign({},Qa,o),u="value";a.wait||n.set(t,u,[]);let c=Bo(a.wait?[]:t[u]);const f=r;let h;const p=[],g={added:({newIndex:y,doc:w})=>{p.splice(y,0,Object.create(null));const E=p[y],[I,x]=Ww(a.serialize(w),void 0,E);n.add(Le(c),y,I),zw(a,c,`${u}.${y}`,E,x,n,0,r.bind(null,w))},modified:({oldIndex:y,newIndex:w,doc:E})=>{const I=Le(c),x=p[y],k=I[y],[P,D]=Ww(a.serialize(E),k,x);p.splice(w,0,x),n.remove(I,y),n.add(I,w,P),zw(a,c,`${u}.${w}`,x,D,n,0,r)},removed:({oldIndex:y})=>{const w=Le(c);n.remove(w,y),rm(p.splice(y,1)[0])}},v=e.onSnapshot(y=>{const w=typeof y.docChanges=="function"?y.docChanges():y.docChanges;if(!h&&w.length){h=!0;let E=0;const I=w.length,x=Object.create(null);for(let k=0;k<I;k++)x[w[k].doc.id]=!0;r=({id:k})=>{k in x&&++E>=I&&(a.wait&&n.set(t,u,Le(c)),f(Le(c)),r=()=>{})}}w.forEach(E=>{g[E.type](E)}),w.length||(a.wait&&n.set(t,u,Le(c)),r(Le(c)))},i);return y=>{if(v(),y!==!1){const w=typeof y=="function"?y():[];n.set(t,u,w)}p.forEach(rm)}}function vK(t,e,n,r,i,o=Qa){const a=Object.assign({},Qa,o),u="value",c=Object.create(null);r=dK(r,()=>$w(t,u));const f=e.onSnapshot(h=>{h.exists?LO(a,t,u,h,c,n,0,r):(n.set(t,u,null),r(null))},i);return h=>{if(f(),h!==!1){const p=typeof h=="function"?h():null;n.set(t,u,p)}rm(c)}}const yK={set:(t,e,n)=>cK(t,e,n),add:(t,e,n)=>t.splice(e,0,n),remove:(t,e)=>t.splice(e,1)};function _K(t,e,n){let r;return[new Promise((o,a)=>{r=("where"in e?mK:vK)(t,e,yK,o,a,n)}),r]}function bK(t,e,n){e&&e[t]&&(e[t](n),delete e[t])}const FO={bindName:"$bind",unbindName:"$unbind",serialize:Qa.serialize,reset:Qa.reset,wait:Qa.wait},im=new WeakMap,Mhe=function(e,n=FO){const r=Object.assign({},FO,n),{bindName:i,unbindName:o}=r,a=e.config.globalProperties;a[o]=function(c,f){bK(c,im.get(this),f),delete this.$firestoreRefs[c]},a[i]=function(c,f,h){const p=Object.assign({},r,h),g=ho(this.$data,c);let v=im.get(this);v?v[c]&&v[c](p.wait?typeof p.reset=="function"?p.reset:!1:p.reset):im.set(this,v={});const[y,w]=_K(g,f,p);return v[c]=w,this.$firestoreRefs[c]=f,y},e.mixin({beforeCreate(){this.$firestoreRefs=Object.create(null)},created(){const{firestore:u}=this.$options,c=typeof u=="function"?u.call(this):u;if(!!c)for(const f in c)this[i](f,c[f],r)},beforeUnmount(){const u=im.get(this);if(u)for(const c in u)u[c]();this.$firestoreRefs=null}})};var Kw={exports:{}};(function(t,e){function n(A){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(A)}function r(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function i(A,C){for(var R=0;R<C.length;R++){var q=C[R];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(A,q.key,q)}}function o(A,C,R){return C&&i(A.prototype,C),R&&i(A,R),A}function a(A,C){return u(A)||c(A,C)||f(A,C)||p()}function u(A){if(Array.isArray(A))return A}function c(A,C){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(A)){var R=[],q=!0,B=!1,H=void 0;try{for(var de,Me=A[Symbol.iterator]();!(q=(de=Me.next()).done)&&(R.push(de.value),!C||R.length!==C);q=!0);}catch(le){B=!0,H=le}finally{try{q||Me.return==null||Me.return()}finally{if(B)throw H}}return R}}function f(A,C){if(A){if(typeof A=="string")return h(A,C);var R=Object.prototype.toString.call(A).slice(8,-1);return R==="Object"&&A.constructor&&(R=A.constructor.name),R==="Map"||R==="Set"?Array.from(A):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?h(A,C):void 0}}function h(A,C){(C==null||C>A.length)&&(C=A.length);for(var R=0,q=new Array(C);R<C;R++)q[R]=A[R];return q}function p(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(A,C){var R;if(typeof Symbol=="undefined"||A[Symbol.iterator]==null){if(Array.isArray(A)||(R=f(A))||C&&A&&typeof A.length=="number"){R&&(A=R);var q=0;return{s:C=function(){},n:function(){return q>=A.length?{done:!0}:{done:!1,value:A[q++]}},e:function(Me){throw Me},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,H=!0,de=!1;return{s:function(){R=A[Symbol.iterator]()},n:function(){var Me=R.next();return H=Me.done,Me},e:function(Me){de=!0,B=Me},f:function(){try{H||R.return==null||R.return()}finally{if(de)throw B}}}}function v(A,C,R){return A(R={path:C,exports:{},require:function(q,B){return y(q,B==null?R.path:B)}},R.exports),R.exports}function y(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var w="2.0.0",E=256,I=Number.MAX_SAFE_INTEGER||9007199254740991,x=16,k={SEMVER_SPEC_VERSION:w,MAX_LENGTH:E,MAX_SAFE_INTEGER:I,MAX_SAFE_COMPONENT_LENGTH:x},P=(typeof process=="undefined"?"undefined":n(process))==="object"&&{}&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?function(){for(var A,C=arguments.length,R=new Array(C),q=0;q<C;q++)R[q]=arguments[q];return(A=console).error.apply(A,["SEMVER"].concat(R))}:function(){},D=P,M=v(function(A,C){var R=k.MAX_SAFE_COMPONENT_LENGTH,q=(C=A.exports={}).re=[],B=C.src=[],H=C.t={},de=0;(A=function(Me,le,at){var gt=de++;D(gt,le),H[Me]=gt,B[gt]=le,q[gt]=new RegExp(le,at?"g":void 0)})("NUMERICIDENTIFIER","0|[1-9]\\d*"),A("NUMERICIDENTIFIERLOOSE","[0-9]+"),A("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),A("MAINVERSION","(".concat(B[H.NUMERICIDENTIFIER],")\\.")+"(".concat(B[H.NUMERICIDENTIFIER],")\\.")+"(".concat(B[H.NUMERICIDENTIFIER],")")),A("MAINVERSIONLOOSE","(".concat(B[H.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(B[H.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(B[H.NUMERICIDENTIFIERLOOSE],")")),A("PRERELEASEIDENTIFIER","(?:".concat(B[H.NUMERICIDENTIFIER],"|").concat(B[H.NONNUMERICIDENTIFIER],")")),A("PRERELEASEIDENTIFIERLOOSE","(?:".concat(B[H.NUMERICIDENTIFIERLOOSE],"|").concat(B[H.NONNUMERICIDENTIFIER],")")),A("PRERELEASE","(?:-(".concat(B[H.PRERELEASEIDENTIFIER],"(?:\\.").concat(B[H.PRERELEASEIDENTIFIER],")*))")),A("PRERELEASELOOSE","(?:-?(".concat(B[H.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(B[H.PRERELEASEIDENTIFIERLOOSE],")*))")),A("BUILDIDENTIFIER","[0-9A-Za-z-]+"),A("BUILD","(?:\\+(".concat(B[H.BUILDIDENTIFIER],"(?:\\.").concat(B[H.BUILDIDENTIFIER],")*))")),A("FULLPLAIN","v?".concat(B[H.MAINVERSION]).concat(B[H.PRERELEASE],"?").concat(B[H.BUILD],"?")),A("FULL","^".concat(B[H.FULLPLAIN],"$")),A("LOOSEPLAIN","[v=\\s]*".concat(B[H.MAINVERSIONLOOSE]).concat(B[H.PRERELEASELOOSE],"?").concat(B[H.BUILD],"?")),A("LOOSE","^".concat(B[H.LOOSEPLAIN],"$")),A("GTLT","((?:<|>)?=?)"),A("XRANGEIDENTIFIERLOOSE","".concat(B[H.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),A("XRANGEIDENTIFIER","".concat(B[H.NUMERICIDENTIFIER],"|x|X|\\*")),A("XRANGEPLAIN","[v=\\s]*(".concat(B[H.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(B[H.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(B[H.XRANGEIDENTIFIER],")")+"(?:".concat(B[H.PRERELEASE],")?").concat(B[H.BUILD],"?")+")?)?"),A("XRANGEPLAINLOOSE","[v=\\s]*(".concat(B[H.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(B[H.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(B[H.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(B[H.PRERELEASELOOSE],")?").concat(B[H.BUILD],"?")+")?)?"),A("XRANGE","^".concat(B[H.GTLT],"\\s*").concat(B[H.XRANGEPLAIN],"$")),A("XRANGELOOSE","^".concat(B[H.GTLT],"\\s*").concat(B[H.XRANGEPLAINLOOSE],"$")),A("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(R,"})")+"(?:\\.(\\d{1,".concat(R,"}))?")+"(?:\\.(\\d{1,".concat(R,"}))?")+"(?:$|[^\\d])"),A("COERCERTL",B[H.COERCE],!0),A("LONETILDE","(?:~>?)"),A("TILDETRIM","(\\s*)".concat(B[H.LONETILDE],"\\s+"),!0),C.tildeTrimReplace="$1~",A("TILDE","^".concat(B[H.LONETILDE]).concat(B[H.XRANGEPLAIN],"$")),A("TILDELOOSE","^".concat(B[H.LONETILDE]).concat(B[H.XRANGEPLAINLOOSE],"$")),A("LONECARET","(?:\\^)"),A("CARETTRIM","(\\s*)".concat(B[H.LONECARET],"\\s+"),!0),C.caretTrimReplace="$1^",A("CARET","^".concat(B[H.LONECARET]).concat(B[H.XRANGEPLAIN],"$")),A("CARETLOOSE","^".concat(B[H.LONECARET]).concat(B[H.XRANGEPLAINLOOSE],"$")),A("COMPARATORLOOSE","^".concat(B[H.GTLT],"\\s*(").concat(B[H.LOOSEPLAIN],")$|^$")),A("COMPARATOR","^".concat(B[H.GTLT],"\\s*(").concat(B[H.FULLPLAIN],")$|^$")),A("COMPARATORTRIM","(\\s*)".concat(B[H.GTLT],"\\s*(").concat(B[H.LOOSEPLAIN],"|").concat(B[H.XRANGEPLAIN],")"),!0),C.comparatorTrimReplace="$1$2$3",A("HYPHENRANGE","^\\s*(".concat(B[H.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(B[H.XRANGEPLAIN],")")+"\\s*$"),A("HYPHENRANGELOOSE","^\\s*(".concat(B[H.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(B[H.XRANGEPLAINLOOSE],")")+"\\s*$"),A("STAR","(<|>)?=?\\s*\\*"),A("GTE0","^\\s*>=\\s*0.0.0\\s*$"),A("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}),W=/^[0-9]+$/,V=function(A,C){var R=W.test(A),q=W.test(C);return R&&q&&(A=+A,C=+C),A===C?0:R&&!q||(!q||R)&&A<C?-1:1},X=function(A,C){return V(C,A)},O={compareIdentifiers:V,rcompareIdentifiers:X},pe=k.MAX_LENGTH,Ee=k.MAX_SAFE_INTEGER,Z=M.re,Ie=M.t,ve=O.compareIdentifiers,$=function(){function A(C,R){if(r(this,A),R&&n(R)==="object"||(R={loose:!!R,includePrerelease:!1}),C instanceof A){if(C.loose===!!R.loose&&C.includePrerelease===!!R.includePrerelease)return C;C=C.version}else if(typeof C!="string")throw new TypeError("Invalid Version: ".concat(C));if(C.length>pe)throw new TypeError("version is longer than ".concat(pe," characters"));if(D("SemVer",C,R),this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,!(R=C.trim().match(R.loose?Z[Ie.LOOSE]:Z[Ie.FULL])))throw new TypeError("Invalid Version: ".concat(C));if(this.raw=C,this.major=+R[1],this.minor=+R[2],this.patch=+R[3],this.major>Ee||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ee||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ee||this.patch<0)throw new TypeError("Invalid patch version");R[4]?this.prerelease=R[4].split(".").map(function(q){if(/^[0-9]+$/.test(q)){var B=+q;if(0<=B&&B<Ee)return B}return q}):this.prerelease=[],this.build=R[5]?R[5].split("."):[],this.format()}return o(A,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(C){if(D("SemVer.compare",this.version,this.options,C),!(C instanceof A)){if(typeof C=="string"&&C===this.version)return 0;C=new A(C,this.options)}return C.version===this.version?0:this.compareMain(C)||this.comparePre(C)}},{key:"compareMain",value:function(C){return C instanceof A||(C=new A(C,this.options)),ve(this.major,C.major)||ve(this.minor,C.minor)||ve(this.patch,C.patch)}},{key:"comparePre",value:function(C){if(C instanceof A||(C=new A(C,this.options)),this.prerelease.length&&!C.prerelease.length)return-1;if(!this.prerelease.length&&C.prerelease.length)return 1;if(!this.prerelease.length&&!C.prerelease.length)return 0;var R=0;do{var q=this.prerelease[R],B=C.prerelease[R];if(D("prerelease compare",R,q,B),q===void 0&&B===void 0)return 0;if(B===void 0)return 1;if(q===void 0)return-1;if(q!==B)return ve(q,B)}while(++R)}},{key:"compareBuild",value:function(C){C instanceof A||(C=new A(C,this.options));var R=0;do{var q=this.build[R],B=C.build[R];if(D("prerelease compare",R,q,B),q===void 0&&B===void 0)return 0;if(B===void 0)return 1;if(q===void 0)return-1;if(q!==B)return ve(q,B)}while(++R)}},{key:"inc",value:function(C,R){switch(C){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",R);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",R);break;case"prepatch":this.prerelease.length=0,this.inc("patch",R),this.inc("pre",R);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",R),this.inc("pre",R);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var q=this.prerelease.length;0<=--q;)typeof this.prerelease[q]=="number"&&(this.prerelease[q]++,q=-2);q===-1&&this.prerelease.push(0)}R&&(this.prerelease[0]!==R||isNaN(this.prerelease[1]))&&(this.prerelease=[R,0]);break;default:throw new Error("invalid increment argument: ".concat(C))}return this.format(),this.raw=this.version,this}}]),A}(),z=$,J=k.MAX_LENGTH,se=M.re,Pe=M.t,Ke=function(A,C){if(C&&n(C)==="object"||(C={loose:!!C,includePrerelease:!1}),A instanceof z)return A;if(typeof A!="string"||A.length>J||!(C.loose?se[Pe.LOOSE]:se[Pe.FULL]).test(A))return null;try{return new z(A,C)}catch{return null}},Ue=Ke,st=function(A,C){return(C=Ue(A,C))?C.version:null},zt=st,Q=function(A,C){return(C=Ue(A.trim().replace(/^[=v]+/,""),C))?C.version:null},Te=Q,me=function(A,C,R,q){typeof R=="string"&&(q=R,R=void 0);try{return new z(A,R).inc(C,q).version}catch{return null}},ge=me,dt=function(A,C,R){return new z(A,R).compare(new z(C,R))},We=dt,ze=function(A,C,R){return We(A,C,R)===0},Ge=ze,L=function(A,C){if(Ge(A,C))return null;var R,q=Ue(A),B=Ue(C),H=(C=q.prerelease.length||B.prerelease.length)?"pre":"",C=C?"prerelease":"";for(R in q)if((R==="major"||R==="minor"||R==="patch")&&q[R]!==B[R])return H+R;return C},j=L,G=function(A,C){return new z(A,C).major},ee=G,te=function(A,C){return new z(A,C).minor},ae=te,ye=function(A,C){return new z(A,C).patch},fe=ye,ne=function(A,C){return(C=Ue(A,C))&&C.prerelease.length?C.prerelease:null},oe=ne,Ve=function(A,C,R){return We(C,A,R)},Ae=Ve,Ne=function(A,C){return We(A,C,!0)},qe=Ne,Se=function(A,C,R){return A=new z(A,R),R=new z(C,R),A.compare(R)||A.compareBuild(R)},At=Se,pt=function(A,C){return A.sort(function(R,q){return At(R,q,C)})},tr=pt,ii=function(A,C){return A.sort(function(R,q){return At(q,R,C)})},Dt=ii,fa=function(A,C,R){return 0<We(A,C,R)},yn=fa,Hr=function(A,C,R){return We(A,C,R)<0},on=Hr,Ft=function(A,C,R){return We(A,C,R)!==0},ps=Ft,oi=function(A,C,R){return 0<=We(A,C,R)},ha=oi,pp=function(A,C,R){return We(A,C,R)<=0},gs=pp,nc=function(A,C,R,q){switch(C){case"===":return n(A)==="object"&&(A=A.version),n(R)==="object"&&(R=R.version),A===R;case"!==":return n(A)==="object"&&(A=A.version),n(R)==="object"&&(R=R.version),A!==R;case"":case"=":case"==":return Ge(A,R,q);case"!=":return ps(A,R,q);case">":return yn(A,R,q);case">=":return ha(A,R,q);case"<":return on(A,R,q);case"<=":return gs(A,R,q);default:throw new TypeError("Invalid operator: ".concat(C))}},da=nc,ki=M.re,pa=M.t,tf=function(A,C){if(A instanceof z)return A;if(typeof A=="number"&&(A=String(A)),typeof A!="string")return null;var R,q=null;if((C=C||{}).rtl){for(;(R=ki[pa.COERCERTL].exec(A))&&(!q||q.index+q[0].length!==A.length);)q&&R.index+R[0].length===q.index+q[0].length||(q=R),ki[pa.COERCERTL].lastIndex=R.index+R[1].length+R[2].length;ki[pa.COERCERTL].lastIndex=-1}else q=A.match(ki[pa.COERCE]);return q===null?null:Ue("".concat(q[2],".").concat(q[3]||"0",".").concat(q[4]||"0"),C)},C_=tf,A_=function(){function A(C,R){var q=this;if(r(this,A),R&&n(R)==="object"||(R={loose:!!R,includePrerelease:!1}),C instanceof A)return C.loose===!!R.loose&&C.includePrerelease===!!R.includePrerelease?C:new A(C.raw,R);if(C instanceof _n)return this.raw=C.value,this.set=[[C]],this.format(),this;if(this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,this.raw=C,this.set=C.split(/\s*\|\|\s*/).map(function(B){return q.parseRange(B.trim())}).filter(function(B){return B.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(C));this.format()}return o(A,[{key:"format",value:function(){return this.range=this.set.map(function(C){return C.join(" ").trim()}).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(C){var R=this,q=this.options.loose;C=C.trim();var B=q?kn[vt.HYPHENRANGELOOSE]:kn[vt.HYPHENRANGE];C=C.replace(B,rf(this.options.includePrerelease)),D("hyphen replace",C),C=C.replace(kn[vt.COMPARATORTRIM],rc),D("comparator trim",C,kn[vt.COMPARATORTRIM]),C=(C=(C=C.replace(kn[vt.TILDETRIM],x_)).replace(kn[vt.CARETTRIM],R_)).split(/\s+/).join(" ");var H=q?kn[vt.COMPARATORLOOSE]:kn[vt.COMPARATOR];return C.split(" ").map(function(de){return gp(de,R.options)}).join(" ").split(/\s+/).map(function(de){return _p(de,R.options)}).filter(this.options.loose?function(de){return!!de.match(H)}:function(){return!0}).map(function(de){return new _n(de,R.options)})}},{key:"intersects",value:function(C,R){if(!(C instanceof A))throw new TypeError("a Range is required");return this.set.some(function(q){return nf(q,R)&&C.set.some(function(B){return nf(B,R)&&q.every(function(H){return B.every(function(de){return H.intersects(de,R)})})})})}},{key:"test",value:function(C){if(!C)return!1;if(typeof C=="string")try{C=new z(C,this.options)}catch{return!1}for(var R=0;R<this.set.length;R++)if(of(this.set[R],C,this.options))return!0;return!1}}]),A}(),Vn=A_,kn=M.re,vt=M.t,rc=M.comparatorTrimReplace,x_=M.tildeTrimReplace,R_=M.caretTrimReplace,nf=function(A,C){for(var R=!0,q=A.slice(),B=q.pop();R&&q.length;)R=q.every(function(H){return B.intersects(H,C)}),B=q.pop();return R},gp=function(A,C){return D("comp",A,C),A=ms(A,C),D("caret",A),A=ga(A,C),D("tildes",A),A=vp(A,C),D("xrange",A),A=yp(A,C),D("stars",A),A},On=function(A){return!A||A.toLowerCase()==="x"||A==="*"},ga=function(A,C){return A.trim().split(/\s+/).map(function(R){return mp(R,C)}).join(" ")},mp=function(A,C){return C=C.loose?kn[vt.TILDELOOSE]:kn[vt.TILDE],A.replace(C,function(R,q,B,H,de){return D("tilde",A,R,q,B,H,de),B=On(q)?"":On(B)?">=".concat(q,".0.0 <").concat(+q+1,".0.0-0"):On(H)?">=".concat(q,".").concat(B,".0 <").concat(q,".").concat(+B+1,".0-0"):de?(D("replaceTilde pr",de),">=".concat(q,".").concat(B,".").concat(H,"-").concat(de," <").concat(q,".").concat(+B+1,".0-0")):">=".concat(q,".").concat(B,".").concat(H," <").concat(q,".").concat(+B+1,".0-0"),D("tilde return",B),B})},ms=function(A,C){return A.trim().split(/\s+/).map(function(R){return k_(R,C)}).join(" ")},k_=function(A,C){D("caret",A,C);var R=C.loose?kn[vt.CARETLOOSE]:kn[vt.CARET],q=C.includePrerelease?"-0":"";return A.replace(R,function(B,H,de,Me,le){return D("caret",A,B,H,de,Me,le),H=On(H)?"":On(de)?">=".concat(H,".0.0").concat(q," <").concat(+H+1,".0.0-0"):On(Me)?H==="0"?">=".concat(H,".").concat(de,".0").concat(q," <").concat(H,".").concat(+de+1,".0-0"):">=".concat(H,".").concat(de,".0").concat(q," <").concat(+H+1,".0.0-0"):le?(D("replaceCaret pr",le),H==="0"?de==="0"?">=".concat(H,".").concat(de,".").concat(Me,"-").concat(le," <").concat(H,".").concat(de,".").concat(+Me+1,"-0"):">=".concat(H,".").concat(de,".").concat(Me,"-").concat(le," <").concat(H,".").concat(+de+1,".0-0"):">=".concat(H,".").concat(de,".").concat(Me,"-").concat(le," <").concat(+H+1,".0.0-0")):(D("no pr"),H==="0"?de==="0"?">=".concat(H,".").concat(de,".").concat(Me).concat(q," <").concat(H,".").concat(de,".").concat(+Me+1,"-0"):">=".concat(H,".").concat(de,".").concat(Me).concat(q," <").concat(H,".").concat(+de+1,".0-0"):">=".concat(H,".").concat(de,".").concat(Me," <").concat(+H+1,".0.0-0")),D("caret return",H),H})},vp=function(A,C){return D("replaceXRanges",A,C),A.split(/\s+/).map(function(R){return O_(R,C)}).join(" ")},O_=function(A,C){A=A.trim();var R=C.loose?kn[vt.XRANGELOOSE]:kn[vt.XRANGE];return A.replace(R,function(q,B,H,de,Me,le){D("xRange",A,q,B,H,de,Me,le);var at=On(H),gt=at||On(de),Mt=gt||On(Me);return B==="="&&Mt&&(B=""),le=C.includePrerelease?"-0":"",at?q=B===">"||B==="<"?"<0.0.0-0":"*":B&&Mt?(gt&&(de=0),Me=0,B===">"?(B=">=",Me=gt?(H=+H+1,de=0):(de=+de+1,0)):B==="<="&&(B="<",gt?H=+H+1:de=+de+1),B==="<"&&(le="-0"),q="".concat(B+H,".").concat(de,".").concat(Me).concat(le)):gt?q=">=".concat(H,".0.0").concat(le," <").concat(+H+1,".0.0-0"):Mt&&(q=">=".concat(H,".").concat(de,".0").concat(le," <").concat(H,".").concat(+de+1,".0-0")),D("xRange return",q),q})},yp=function(A,C){return D("replaceStars",A,C),A.trim().replace(kn[vt.STAR],"")},_p=function(A,C){return D("replaceGTE0",A,C),A.trim().replace(kn[C.includePrerelease?vt.GTE0PRE:vt.GTE0],"")},rf=function(A){return function(C,R,q,B,H,de,Me,le,at,gt,Mt,Ht,Kt){return R=On(q)?"":On(B)?">=".concat(q,".0.0").concat(A?"-0":""):On(H)?">=".concat(q,".").concat(B,".0").concat(A?"-0":""):de?">=".concat(R):">=".concat(R).concat(A?"-0":""),le=On(at)?"":On(gt)?"<".concat(+at+1,".0.0-0"):On(Mt)?"<".concat(at,".").concat(+gt+1,".0-0"):Ht?"<=".concat(at,".").concat(gt,".").concat(Mt,"-").concat(Ht):A?"<".concat(at,".").concat(gt,".").concat(+Mt+1,"-0"):"<=".concat(le),"".concat(R," ").concat(le).trim()}},of=function(A,C,R){for(var q=0;q<A.length;q++)if(!A[q].test(C))return!1;if(!C.prerelease.length||R.includePrerelease)return!0;for(var B=0;B<A.length;B++)if(D(A[B].semver),A[B].semver!==_n.ANY&&0<A[B].semver.prerelease.length){var H=A[B].semver;if(H.major===C.major&&H.minor===C.minor&&H.patch===C.patch)return!0}return!1},ma=Symbol("SemVer ANY"),N_=function(){function A(C,R){if(r(this,A),R&&n(R)==="object"||(R={loose:!!R,includePrerelease:!1}),C instanceof A){if(C.loose===!!R.loose)return C;C=C.value}D("comparator",C,R),this.options=R,this.loose=!!R.loose,this.parse(C),this.semver===ma?this.value="":this.value=this.operator+this.semver.version,D("comp",this)}return o(A,null,[{key:"ANY",get:function(){return ma}}]),o(A,[{key:"parse",value:function(C){var R=this.options.loose?sf[bp.COMPARATORLOOSE]:sf[bp.COMPARATOR];if(!(R=C.match(R)))throw new TypeError("Invalid comparator: ".concat(C));this.operator=R[1]!==void 0?R[1]:"",this.operator==="="&&(this.operator=""),R[2]?this.semver=new z(R[2],this.options.loose):this.semver=ma}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(C){if(D("Comparator.test",C,this.options.loose),this.semver===ma||C===ma)return!0;if(typeof C=="string")try{C=new z(C,this.options)}catch{return!1}return da(C,this.operator,this.semver,this.options)}},{key:"intersects",value:function(C,R){if(!(C instanceof A))throw new TypeError("a Comparator is required");if(R&&n(R)==="object"||(R={loose:!!R,includePrerelease:!1}),this.operator==="")return this.value===""||new Vn(C.value,R).test(this.value);if(C.operator==="")return C.value===""||new Vn(this.value,R).test(C.semver);var q=!(this.operator!==">="&&this.operator!==">"||C.operator!==">="&&C.operator!==">"),B=!(this.operator!=="<="&&this.operator!=="<"||C.operator!=="<="&&C.operator!=="<"),H=this.semver.version===C.semver.version,de=!(this.operator!==">="&&this.operator!=="<="||C.operator!==">="&&C.operator!=="<="),Me=da(this.semver,"<",C.semver,R)&&(this.operator===">="||this.operator===">")&&(C.operator==="<="||C.operator==="<"),C=da(this.semver,">",C.semver,R)&&(this.operator==="<="||this.operator==="<")&&(C.operator===">="||C.operator===">");return q||B||H&&de||Me||C}}]),A}(),_n=N_,sf=M.re,bp=M.t,wp=function(A,C,R){try{C=new Vn(C,R)}catch{return!1}return C.test(A)},no=wp,Ep=function(A,C){return new Vn(A,C).set.map(function(R){return R.map(function(q){return q.value}).join(" ").trim().split(" ")})},ic=function(A,C,R){var q=null,B=null,H=null;try{H=new Vn(C,R)}catch{return null}return A.forEach(function(de){H.test(de)&&(q&&B.compare(de)!==-1||(B=new z(q=de,R)))}),q},af=function(A,C,R){var q=null,B=null,H=null;try{H=new Vn(C,R)}catch{return null}return A.forEach(function(de){H.test(de)&&(q&&B.compare(de)!==1||(B=new z(q=de,R)))}),q},uf=function(A,C){A=new Vn(A,C);var R=new z("0.0.0");if(A.test(R)||(R=new z("0.0.0-0"),A.test(R)))return R;R=null;for(var q=0;q<A.set.length;++q)A.set[q].forEach(function(B){var H=new z(B.semver.version);switch(B.operator){case">":H.prerelease.length===0?H.patch++:H.prerelease.push(0),H.raw=H.format();case"":case">=":R&&!yn(R,H)||(R=H);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(B.operator))}});return R&&A.test(R)?R:null},cf=function(A,C){try{return new Vn(A,C).range||"*"}catch{return null}},P_=_n.ANY,Tp=function(A,C,R,q){var B,H,de,Me,le;switch(A=new z(A,q),C=new Vn(C,q),R){case">":B=yn,H=gs,de=on,Me=">",le=">=";break;case"<":B=on,H=ha,de=yn,Me="<",le="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(no(A,C,q))return!1;for(var at=0;at<C.set.length;++at){var gt=function(Mt){var Mt=C.set[Mt],Ht=null,Kt=null;return Mt.forEach(function(fn){fn.semver===P_&&(fn=new _n(">=0.0.0")),Ht=Ht||fn,Kt=Kt||fn,B(fn.semver,Ht.semver,q)?Ht=fn:de(fn.semver,Kt.semver,q)&&(Kt=fn)}),Ht.operator===Me||Ht.operator===le||(!Kt.operator||Kt.operator===Me)&&H(A,Kt.semver)||Kt.operator===le&&de(A,Kt.semver)?{v:!1}:void 0}(at);if(n(gt)==="object")return gt.v}return!0},va=Tp,Ip=function(A,C,R){return va(A,C,">",R)},ro=function(A,C,R){return va(A,C,"<",R)},D_=function(A,C,R){return A=new Vn(A,R),C=new Vn(C,R),A.intersects(C)},ya=function(A,C,R){var q=[],B=null,H=null,de=A.sort(function(be,xt){return We(be,xt,R)}),Me=g(de);try{for(Me.s();!(le=Me.n()).done;)var le=le.value,B=no(le,C,R)?(H=le,B||le):(H&&q.push([B,H]),H=null)}catch(be){Me.e(be)}finally{Me.f()}B&&q.push([B,null]);for(var at=[],gt=0,Mt=q;gt<Mt.length;gt++){var Ht=a(Mt[gt],2),Kt=Ht[0];Kt===(Ht=Ht[1])?at.push(Kt):Ht||Kt!==de[0]?Ht?Kt===de[0]?at.push("<=".concat(Ht)):at.push("".concat(Kt," - ").concat(Ht)):at.push(">=".concat(Kt)):at.push("*")}var fn=at.join(" || "),A=typeof C.raw=="string"?C.raw:String(C);return fn.length<A.length?fn:C},lf=_n.ANY,Sp=function(A,C,R){A=new Vn(A,R),C=new Vn(C,R);var q,B=!1,H=g(A.set);try{e:for(H.s();!(q=H.n()).done;){var de=q.value,Me=g(C.set);try{for(Me.s();!(le=Me.n()).done;){var le=le.value,le=M_(de,le,R),B=B||le!==null;if(le)continue e}}catch(at){Me.e(at)}finally{Me.f()}if(B)return!1}}catch(at){H.e(at)}finally{H.f()}return!0},M_=function(A,C,R){if(A.length===1&&A[0].semver===lf)return C.length===1&&C[0].semver===lf;var q,B,H,de=new Set,Me=g(A);try{for(Me.s();!(le=Me.n()).done;){var le=le.value;le.operator===">"||le.operator===">="?q=Cp(q,le,R):le.operator==="<"||le.operator==="<="?B=_a(B,le,R):de.add(le.semver)}}catch(Mo){Me.e(Mo)}finally{Me.f()}if(1<de.size||q&&B&&(0<(H=We(q.semver,B.semver,R))||H===0&&(q.operator!==">="||B.operator!=="<=")))return null;var at,gt=g(de);try{for(gt.s();!(at=gt.n()).done;){var Mt=at.value;if(q&&!no(Mt,String(q),R)||B&&!no(Mt,String(B),R))return null;var Ht=g(C);try{for(Ht.s();!(Kt=Ht.n()).done;){var Kt=Kt.value;if(!no(Mt,String(Kt),R))return!1}}catch(Mo){Ht.e(Mo)}finally{Ht.f()}return!0}}catch(Mo){gt.e(Mo)}finally{gt.f()}var fn=g(C);try{for(fn.s();!(be=fn.n()).done;){var be=be.value,xt=xt||be.operator===">"||be.operator===">=",hf=hf||be.operator==="<"||be.operator==="<=";if(q){if(be.operator===">"||be.operator===">="){if(Cp(q,be,R)===be)return!1}else if(q.operator===">="&&!no(q.semver,String(be),R))return!1}if(B){if(be.operator==="<"||be.operator==="<="){if(_a(B,be,R)===be)return!1}else if(B.operator==="<="&&!no(B.semver,String(be),R))return!1}if(!be.operator&&(B||q)&&H!==0)return!1}}catch(Mo){fn.e(Mo)}finally{fn.f()}return!(q&&hf&&!B&&H!==0||B&&xt&&!q&&H!==0)},Cp=function(A,C,R){return A&&(0<(R=We(A.semver,C.semver,R))||!(R<0||C.operator===">"&&A.operator===">="))?A:C},_a=function(A,C,R){return A&&((R=We(A.semver,C.semver,R))<0||!(0<R||C.operator==="<"&&A.operator==="<="))?A:C},ff={re:M.re,src:M.src,tokens:M.t,SEMVER_SPEC_VERSION:k.SEMVER_SPEC_VERSION,SemVer:z,compareIdentifiers:O.compareIdentifiers,rcompareIdentifiers:O.rcompareIdentifiers,parse:Ue,valid:zt,clean:Te,inc:ge,diff:j,major:ee,minor:ae,patch:fe,prerelease:oe,compare:We,rcompare:Ae,compareLoose:qe,compareBuild:At,sort:tr,rsort:Dt,gt:yn,lt:on,eq:Ge,neq:ps,gte:ha,lte:gs,cmp:da,coerce:C_,Comparator:_n,Range:Vn,satisfies:no,toComparators:Ep,maxSatisfying:ic,minSatisfying:af,minVersion:uf,validRange:cf,outside:va,gtr:Ip,ltr:ro,intersects:D_,simplifyRange:ya,subset:Sp};(function(){function A(C,R){A.installed||(R?ff.valid(C.version)!=null?(A.installed=!0,ff.lt(C.version,"3.0.0")?Object.defineProperties(C.prototype,{axios:{get:function(){return R}},$http:{get:function(){return R}}}):(C.config.globalProperties.axios=R,C.config.globalProperties.$http=R),C.axios=R,C.$http=R):console.error("Unkown vue version"):console.error("You have to install axios"))}n(e)=="object"?t.exports=A:window.Vue&&window.axios&&Vue.use(A,window.axios)})()})(Kw,Kw.exports);var Lhe=Kw.exports,Gw={exports:{}},UO=function(e,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(n,i)}},wK=UO,Ja=Object.prototype.toString;function Yw(t){return Ja.call(t)==="[object Array]"}function Xw(t){return typeof t=="undefined"}function EK(t){return t!==null&&!Xw(t)&&t.constructor!==null&&!Xw(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function TK(t){return Ja.call(t)==="[object ArrayBuffer]"}function IK(t){return typeof FormData!="undefined"&&t instanceof FormData}function SK(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function CK(t){return typeof t=="string"}function AK(t){return typeof t=="number"}function jO(t){return t!==null&&typeof t=="object"}function om(t){if(Ja.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function xK(t){return Ja.call(t)==="[object Date]"}function RK(t){return Ja.call(t)==="[object File]"}function kK(t){return Ja.call(t)==="[object Blob]"}function BO(t){return Ja.call(t)==="[object Function]"}function OK(t){return jO(t)&&BO(t.pipe)}function NK(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function PK(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function DK(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Qw(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Yw(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Jw(){var t={};function e(i,o){om(t[o])&&om(i)?t[o]=Jw(t[o],i):om(i)?t[o]=Jw({},i):Yw(i)?t[o]=i.slice():t[o]=i}for(var n=0,r=arguments.length;n<r;n++)Qw(arguments[n],e);return t}function MK(t,e,n){return Qw(e,function(i,o){n&&typeof i=="function"?t[o]=wK(i,n):t[o]=i}),t}function LK(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Gr={isArray:Yw,isArrayBuffer:TK,isBuffer:EK,isFormData:IK,isArrayBufferView:SK,isString:CK,isNumber:AK,isObject:jO,isPlainObject:om,isUndefined:Xw,isDate:xK,isFile:RK,isBlob:kK,isFunction:BO,isStream:OK,isURLSearchParams:NK,isStandardBrowserEnv:DK,forEach:Qw,merge:Jw,extend:MK,trim:PK,stripBOM:LK},Dc=Gr;function VO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var qO=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(Dc.isURLSearchParams(n))i=n.toString();else{var o=[];Dc.forEach(n,function(c,f){c===null||typeof c=="undefined"||(Dc.isArray(c)?f=f+"[]":c=[c],Dc.forEach(c,function(p){Dc.isDate(p)?p=p.toISOString():Dc.isObject(p)&&(p=JSON.stringify(p)),o.push(VO(f)+"="+VO(p))}))}),i=o.join("&")}if(i){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},FK=Gr;function sm(){this.handlers=[]}sm.prototype.use=function(e,n){return this.handlers.push({fulfilled:e,rejected:n}),this.handlers.length-1};sm.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};sm.prototype.forEach=function(e){FK.forEach(this.handlers,function(r){r!==null&&e(r)})};var UK=sm,jK=Gr,BK=function(e,n,r){return jK.forEach(r,function(o){e=o(e,n)}),e},HO=function(e){return!!(e&&e.__CANCEL__)},VK=Gr,qK=function(e,n){VK.forEach(e,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[o])})},HK=function(e,n,r,i,o){return e.config=n,r&&(e.code=r),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},$K=HK,$O=function(e,n,r,i,o){var a=new Error(e);return $K(a,n,r,i,o)},WK=$O,zK=function(e,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):n(WK("Request failed with status code "+r.status,r.config,null,r.request,r))},am=Gr,KK=am.isStandardBrowserEnv()?function(){return{write:function(n,r,i,o,a,u){var c=[];c.push(n+"="+encodeURIComponent(r)),am.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),am.isString(o)&&c.push("path="+o),am.isString(a)&&c.push("domain="+a),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),GK=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},YK=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},XK=GK,QK=YK,JK=function(e,n){return e&&!XK(n)?QK(e,n):n},Zw=Gr,ZK=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],eG=function(e){var n={},r,i,o;return e&&Zw.forEach(e.split(`
`),function(u){if(o=u.indexOf(":"),r=Zw.trim(u.substr(0,o)).toLowerCase(),i=Zw.trim(u.substr(o+1)),r){if(n[r]&&ZK.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n},WO=Gr,tG=WO.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(o){var a=o;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){var u=WO.isString(a)?i(a):a;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}(),um=Gr,nG=zK,rG=KK,iG=qO,oG=JK,sG=eG,aG=tG,eE=$O,zO=function(e){return new Promise(function(r,i){var o=e.data,a=e.headers;um.isFormData(o)&&delete a["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(c+":"+f)}var h=oG(e.baseURL,e.url);if(u.open(e.method.toUpperCase(),iG(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,u.onreadystatechange=function(){if(!(!u||u.readyState!==4)&&!(u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0))){var v="getAllResponseHeaders"in u?sG(u.getAllResponseHeaders()):null,y=!e.responseType||e.responseType==="text"?u.responseText:u.response,w={data:y,status:u.status,statusText:u.statusText,headers:v,config:e,request:u};nG(r,i,w),u=null}},u.onabort=function(){!u||(i(eE("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){i(eE("Network Error",e,null,u)),u=null},u.ontimeout=function(){var v="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),i(eE(v,e,"ECONNABORTED",u)),u=null},um.isStandardBrowserEnv()){var p=(e.withCredentials||aG(h))&&e.xsrfCookieName?rG.read(e.xsrfCookieName):void 0;p&&(a[e.xsrfHeaderName]=p)}if("setRequestHeader"in u&&um.forEach(a,function(v,y){typeof o=="undefined"&&y.toLowerCase()==="content-type"?delete a[y]:u.setRequestHeader(y,v)}),um.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),e.responseType)try{u.responseType=e.responseType}catch(g){if(e.responseType!=="json")throw g}typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(v){!u||(u.abort(),i(v),u=null)}),o||(o=null),u.send(o)})},Dr=Gr,KO=qK,uG={"Content-Type":"application/x-www-form-urlencoded"};function GO(t,e){!Dr.isUndefined(t)&&Dr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function cG(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=zO),t}var cm={adapter:cG(),transformRequest:[function(e,n){return KO(n,"Accept"),KO(n,"Content-Type"),Dr.isFormData(e)||Dr.isArrayBuffer(e)||Dr.isBuffer(e)||Dr.isStream(e)||Dr.isFile(e)||Dr.isBlob(e)?e:Dr.isArrayBufferView(e)?e.buffer:Dr.isURLSearchParams(e)?(GO(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Dr.isObject(e)?(GO(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if(typeof e=="string")try{e=JSON.parse(e)}catch{}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};cm.headers={common:{Accept:"application/json, text/plain, */*"}};Dr.forEach(["delete","get","head"],function(e){cm.headers[e]={}});Dr.forEach(["post","put","patch"],function(e){cm.headers[e]=Dr.merge(uG)});var YO=cm,XO=Gr,tE=BK,lG=HO,fG=YO;function nE(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var hG=function(e){nE(e),e.headers=e.headers||{},e.data=tE(e.data,e.headers,e.transformRequest),e.headers=XO.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),XO.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||fG.adapter;return n(e).then(function(i){return nE(e),i.data=tE(i.data,i.headers,e.transformResponse),i},function(i){return lG(i)||(nE(e),i&&i.response&&(i.response.data=tE(i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},nr=Gr,QO=function(e,n){n=n||{};var r={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],u=["validateStatus"];function c(g,v){return nr.isPlainObject(g)&&nr.isPlainObject(v)?nr.merge(g,v):nr.isPlainObject(v)?nr.merge({},v):nr.isArray(v)?v.slice():v}function f(g){nr.isUndefined(n[g])?nr.isUndefined(e[g])||(r[g]=c(void 0,e[g])):r[g]=c(e[g],n[g])}nr.forEach(i,function(v){nr.isUndefined(n[v])||(r[v]=c(void 0,n[v]))}),nr.forEach(o,f),nr.forEach(a,function(v){nr.isUndefined(n[v])?nr.isUndefined(e[v])||(r[v]=c(void 0,e[v])):r[v]=c(void 0,n[v])}),nr.forEach(u,function(v){v in n?r[v]=c(e[v],n[v]):v in e&&(r[v]=c(void 0,e[v]))});var h=i.concat(o).concat(a).concat(u),p=Object.keys(e).concat(Object.keys(n)).filter(function(v){return h.indexOf(v)===-1});return nr.forEach(p,f),r},JO=Gr,dG=qO,ZO=UK,pG=hG,lm=QO;function nh(t){this.defaults=t,this.interceptors={request:new ZO,response:new ZO}}nh.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=lm(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=[pG,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(o){n.unshift(o.fulfilled,o.rejected)}),this.interceptors.response.forEach(function(o){n.push(o.fulfilled,o.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r};nh.prototype.getUri=function(e){return e=lm(this.defaults,e),dG(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};JO.forEach(["delete","get","head","options"],function(e){nh.prototype[e]=function(n,r){return this.request(lm(r||{},{method:e,url:n,data:(r||{}).data}))}});JO.forEach(["post","put","patch"],function(e){nh.prototype[e]=function(n,r,i){return this.request(lm(i||{},{method:e,url:n,data:r}))}});var gG=nh;function rE(t){this.message=t}rE.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};rE.prototype.__CANCEL__=!0;var eN=rE,mG=eN;function fm(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var n=this;t(function(i){n.reason||(n.reason=new mG(i),e(n.reason))})}fm.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};fm.source=function(){var e,n=new fm(function(i){e=i});return{token:n,cancel:e}};var vG=fm,yG=function(e){return function(r){return e.apply(null,r)}},_G=function(e){return typeof e=="object"&&e.isAxiosError===!0},tN=Gr,bG=UO,hm=gG,wG=QO,EG=YO;function nN(t){var e=new hm(t),n=bG(hm.prototype.request,e);return tN.extend(n,hm.prototype,e),tN.extend(n,e),n}var ji=nN(EG);ji.Axios=hm;ji.create=function(e){return nN(wG(ji.defaults,e))};ji.Cancel=eN;ji.CancelToken=vG;ji.isCancel=HO;ji.all=function(e){return Promise.all(e)};ji.spread=yG;ji.isAxiosError=_G;Gw.exports=ji;Gw.exports.default=ji;var Fhe=Gw.exports;/*!
  * vue-router v4.0.5
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const rN=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Mc=t=>rN?Symbol(t):"_vr_"+t,TG=Mc("rvlm"),iN=Mc("rvd"),iE=Mc("r"),oN=Mc("rl"),oE=Mc("rvl"),Lc=typeof window!="undefined";function IG(t){return t.__esModule||rN&&t[Symbol.toStringTag]==="Module"}const Ut=Object.assign;function sE(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}let dm=()=>{};const SG=/\/$/,CG=t=>t.replace(SG,"");function aE(t,e,n="/"){let r,i={},o="",a="";const u=e.indexOf("?"),c=e.indexOf("#",u>-1?u:0);return u>-1&&(r=e.slice(0,u),o=e.slice(u+1,c>-1?c:e.length),i=t(o)),c>-1&&(r=r||e.slice(0,c),a=e.slice(c,e.length)),r=kG(r!=null?r:e,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function AG(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function sN(t,e){return!e||t.toLowerCase().indexOf(e.toLowerCase())?t:t.slice(e.length)||"/"}function xG(t,e,n){let r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Fc(e.matched[r],n.matched[i])&&aN(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Fc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function aN(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!RG(t[n],e[n]))return!1;return!0}function RG(t,e){return Array.isArray(t)?uN(t,e):Array.isArray(e)?uN(e,t):t===e}function uN(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function kG(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],!(i===1||a==="."))if(a==="..")i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var uE;(function(t){t.pop="pop",t.push="push"})(uE||(uE={}));var rh;(function(t){t.back="back",t.forward="forward",t.unknown=""})(rh||(rh={}));function OG(t){if(!t)if(Lc){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),CG(t)}const NG=/^[^#]+#/;function PG(t,e){return t.replace(NG,"#")+e}function DG(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const pm=()=>({left:window.pageXOffset,top:window.pageYOffset});function MG(t){let e;if("el"in t){let n=t.el;const r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=DG(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function cN(t,e){return(history.state?history.state.position-e:-1)+t}const cE=new Map;function LG(t,e){cE.set(t,e)}function FG(t){const e=cE.get(t);return cE.delete(t),e}let UG=()=>location.protocol+"//"+location.host;function lN(t,e){const{pathname:n,search:r,hash:i}=e;if(t.indexOf("#")>-1){let u=i.slice(1);return u[0]!=="/"&&(u="/"+u),sN(u,"")}return sN(n,t)+r+i}function jG(t,e,n,r){let i=[],o=[],a=null;const u=({state:g})=>{const v=lN(t,location),y=n.value,w=e.value;let E=0;if(g){if(n.value=v,e.value=g,a&&a===y){a=null;return}E=w?g.position-w.position:0}else r(v);i.forEach(I=>{I(n.value,y,{delta:E,type:uE.pop,direction:E?E>0?rh.forward:rh.back:rh.unknown})})};function c(){a=n.value}function f(g){i.push(g);const v=()=>{const y=i.indexOf(g);y>-1&&i.splice(y,1)};return o.push(v),v}function h(){const{history:g}=window;!g.state||g.replaceState(Ut({},g.state,{scroll:pm()}),"")}function p(){for(const g of o)g();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",h),{pauseListeners:c,listen:f,destroy:p}}function fN(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?pm():null}}function BG(t){const{history:e,location:n}=window;let r={value:lN(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(c,f,h){const p=t.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+c:UG()+t+c;try{e[h?"replaceState":"pushState"](f,"",g),i.value=f}catch(v){console.error(v),n[h?"replace":"assign"](g)}}function a(c,f){const h=Ut({},e.state,fN(i.value.back,c,i.value.forward,!0),f,{position:i.value.position});o(c,h,!0),r.value=c}function u(c,f){const h=Ut({},i.value,e.state,{forward:c,scroll:pm()});o(h.current,h,!0);const p=Ut({},fN(r.value,c,null),{position:h.position+1},f);o(c,p,!1),r.value=c}return{location:r,state:i,push:u,replace:a}}function Uhe(t){t=OG(t);const e=BG(t),n=jG(t,e.state,e.location,e.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const i=Ut({location:"",base:t,go:r,createHref:PG.bind(null,t)},e,n);return Object.defineProperty(i,"location",{get:()=>e.location.value}),Object.defineProperty(i,"state",{get:()=>e.state.value}),i}function VG(t){return typeof t=="string"||t&&typeof t=="object"}function hN(t){return typeof t=="string"||typeof t=="symbol"}const Za={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},dN=Mc("nf");var pN;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(pN||(pN={}));function Uc(t,e){return Ut(new Error,{type:t,[dN]:!0},e)}function ih(t,e){return t instanceof Error&&dN in t&&(e==null||!!(t.type&e))}const gN="[^/]+?",qG={sensitive:!1,strict:!1,start:!0,end:!0},HG=/[.+*?^${}()[\]/\\]/g;function $G(t,e){const n=Ut({},qG,e);let r=[],i=n.start?"^":"";const o=[];for(const f of t){const h=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let p=0;p<f.length;p++){const g=f[p];let v=40+(n.sensitive?.25:0);if(g.type===0)p||(i+="/"),i+=g.value.replace(HG,"\\$&"),v+=40;else if(g.type===1){const{value:y,repeatable:w,optional:E,regexp:I}=g;o.push({name:y,repeatable:w,optional:E});const x=I||gN;if(x!==gN){v+=10;try{new RegExp(`(${x})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${y}" (${x}): `+P.message)}}let k=w?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;p||(k=E&&f.length<2?`(?:/${k})`:"/"+k),E&&(k+="?"),i+=k,v+=20,E&&(v+=-8),w&&(v+=-20),x===".*"&&(v+=-50)}h.push(v)}r.push(h)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function u(f){const h=f.match(a),p={};if(!h)return null;for(let g=1;g<h.length;g++){const v=h[g]||"",y=o[g-1];p[y.name]=v&&y.repeatable?v.split("/"):v}return p}function c(f){let h="",p=!1;for(const g of t){(!p||!h.endsWith("/"))&&(h+="/"),p=!1;for(const v of g)if(v.type===0)h+=v.value;else if(v.type===1){const{value:y,repeatable:w,optional:E}=v,I=y in f?f[y]:"";if(Array.isArray(I)&&!w)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const x=Array.isArray(I)?I.join("/"):I;if(!x)if(E)g.length<2&&(h.endsWith("/")?h=h.slice(0,-1):p=!0);else throw new Error(`Missing required param "${y}"`);h+=x}}return h}return{re:a,score:r,keys:o,parse:u,stringify:c}}function WG(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function zG(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=WG(r[n],i[n]);if(o)return o;n++}return i.length-r.length}const KG={type:0,value:""},GG=/[a-zA-Z0-9_]/;function YG(t){if(!t)return[[]];if(t==="/")return[[KG]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${n})/"${f}": ${v}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let u=0,c,f="",h="";function p(){!f||(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),f="")}function g(){f+=c}for(;u<t.length;){if(c=t[u++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(f&&p(),a()):c===":"?(p(),n=1):g();break;case 4:g(),n=r;break;case 1:c==="("?n=2:GG.test(c)?g():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),p(),a(),i}function XG(t,e,n){const r=$G(YG(t.path),n),i=Ut(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function QG(t,e){const n=[],r=new Map;e=vN({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function o(h,p,g){let v=!g,y=ZG(h);y.aliasOf=g&&g.record;const w=vN(e,h),E=[y];if("alias"in h){const k=typeof h.alias=="string"?[h.alias]:h.alias;for(const P of k)E.push(Ut({},y,{components:g?g.record.components:y.components,path:P,aliasOf:g?g.record:y}))}let I,x;for(const k of E){let{path:P}=k;if(p&&P[0]!=="/"){let D=p.record.path,M=D[D.length-1]==="/"?"":"/";k.path=p.record.path+(P&&M+P)}if(I=XG(k,p,w),g?g.alias.push(I):(x=x||I,x!==I&&x.alias.push(I),v&&h.name&&!mN(I)&&a(h.name)),"children"in y){let D=y.children;for(let M=0;M<D.length;M++)o(D[M],I,g&&g.children[M])}g=g||I,c(I)}return x?()=>{a(x)}:dm}function a(h){if(hN(h)){const p=r.get(h);p&&(r.delete(h),n.splice(n.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{let p=n.indexOf(h);p>-1&&(n.splice(p,1),h.record.name&&r.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function u(){return n}function c(h){let p=0;for(;p<n.length&&zG(h,n[p])>=0;)p++;n.splice(p,0,h),h.record.name&&!mN(h)&&r.set(h.record.name,h)}function f(h,p){let g,v={},y,w;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw Uc(1,{location:h});w=g.record.name,v=Ut(JG(p.params,g.keys.filter(x=>!x.optional).map(x=>x.name)),h.params),y=g.stringify(v)}else if("path"in h)y=h.path,g=n.find(x=>x.re.test(y)),g&&(v=g.parse(y),w=g.record.name);else{if(g=p.name?r.get(p.name):n.find(x=>x.re.test(p.path)),!g)throw Uc(1,{location:h,currentLocation:p});w=g.record.name,v=Ut({},p.params,h.params),y=g.stringify(v)}const E=[];let I=g;for(;I;)E.unshift(I.record),I=I.parent;return{name:w,path:y,params:v,matched:E,meta:t6(E)}}return t.forEach(h=>o(h)),{addRoute:o,resolve:f,removeRoute:a,getRoutes:u,getRecordMatcher:i}}function JG(t,e){let n={};for(let r of e)r in t&&(n[r]=t[r]);return n}function ZG(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:e6(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function e6(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function mN(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function t6(t){return t.reduce((e,n)=>Ut(e,n.meta),{})}function vN(t,e){let n={};for(let r in t)n[r]=r in e?e[r]:t[r];return n}const yN=/#/g,n6=/&/g,r6=/\//g,i6=/=/g,o6=/\?/g,_N=/\+/g,s6=/%5B/g,a6=/%5D/g,bN=/%5E/g,u6=/%60/g,wN=/%7B/g,c6=/%7C/g,EN=/%7D/g,l6=/%20/g;function lE(t){return encodeURI(""+t).replace(c6,"|").replace(s6,"[").replace(a6,"]")}function f6(t){return lE(t).replace(wN,"{").replace(EN,"}").replace(bN,"^")}function fE(t){return lE(t).replace(_N,"%2B").replace(l6,"+").replace(yN,"%23").replace(n6,"%26").replace(u6,"`").replace(wN,"{").replace(EN,"}").replace(bN,"^")}function h6(t){return fE(t).replace(i6,"%3D")}function d6(t){return lE(t).replace(yN,"%23").replace(o6,"%3F")}function p6(t){return d6(t).replace(r6,"%2F")}function gm(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function g6(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(_N," ");let a=o.indexOf("="),u=gm(a<0?o:o.slice(0,a)),c=a<0?null:gm(o.slice(a+1));if(u in e){let f=e[u];Array.isArray(f)||(f=e[u]=[f]),f.push(c)}else e[u]=c}return e}function TN(t){let e="";for(let n in t){e.length&&(e+="&");const r=t[n];if(n=h6(n),r==null){r!==void 0&&(e+=n);continue}let i=Array.isArray(r)?r.map(o=>o&&fE(o)):[r&&fE(r)];for(let o=0;o<i.length;o++)e+=(o?"&":"")+n,i[o]!=null&&(e+="="+i[o])}return e}function m6(t){const e={};for(let n in t){let r=t[n];r!==void 0&&(e[n]=Array.isArray(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}function oh(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Os(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,u)=>{const c=p=>{p===!1?u(Uc(4,{from:n,to:e})):p instanceof Error?u(p):VG(p)?u(Uc(2,{from:e,to:p})):(o&&r.enterCallbacks[i]===o&&typeof p=="function"&&o.push(p),a())},f=t.call(r&&r.instances[i],e,n,c);let h=Promise.resolve(f);t.length<3&&(h=h.then(c)),h.catch(p=>u(p))})}function hE(t,e,n,r){const i=[];for(const o of t)for(const a in o.components){let u=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(v6(u)){const f=(u.__vccOpts||u)[e];f&&i.push(Os(f,n,r,o,a))}else{let c=u();c=c.catch(console.error),i.push(()=>c.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=IG(f)?f.default:f;o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&Os(g,n,r,o,a)()}))}}return i}function v6(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function y6(t){const e=go(iE),n=go(oN),r=Tt(()=>e.resolve(Le(t.to))),i=Tt(()=>{let{matched:c}=r.value,{length:f}=c;const h=c[f-1];let p=n.matched;if(!h||!p.length)return-1;let g=p.findIndex(Fc.bind(null,h));if(g>-1)return g;let v=IN(c[f-2]);return f>1&&IN(h)===v&&p[p.length-1].path!==v?p.findIndex(Fc.bind(null,c[f-2])):g}),o=Tt(()=>i.value>-1&&E6(n.params,r.value.params)),a=Tt(()=>i.value>-1&&i.value===n.matched.length-1&&aN(n.params,r.value.params));function u(c={}){return w6(c)?e[Le(t.replace)?"replace":"push"](Le(t.to)):Promise.resolve()}return{route:r,href:Tt(()=>r.value.href),isActive:o,isExactActive:a,navigate:u}}const _6=Jf({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(t,{slots:e,attrs:n}){const r=Ss(y6(t)),{options:i}=go(iE),o=Tt(()=>({[SN(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[SN(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&e.default(r);return t.custom?a:Ga("a",Ut({"aria-current":r.isExactActive?t.ariaCurrentValue:null,onClick:r.navigate,href:r.href},n,{class:o.value}),a)}}}),b6=_6;function w6(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function E6(t,e){for(let n in e){let r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some((o,a)=>o!==i[a]))return!1}return!0}function IN(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const SN=(t,e,n)=>t!=null?t:e!=null?e:n,T6=Jf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=go(oE),i=Tt(()=>t.route||r.value),o=go(iN,0),a=Tt(()=>i.value.matched[o]);xs(iN,o+1),xs(TG,a),xs(oE,i);const u=Bo();return fi(()=>[u.value,a.value,t.name],([c,f,h],[p,g,v])=>{f&&(f.instances[h]=c,g&&g!==f&&c&&c===p&&(f.leaveGuards.size||(f.leaveGuards=g.leaveGuards),f.updateGuards.size||(f.updateGuards=g.updateGuards))),c&&f&&(!g||!Fc(f,g)||!p)&&(f.enterCallbacks[h]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=i.value,f=a.value,h=f&&f.components[t.name],p=t.name;if(!h)return CN(n.default,{Component:h,route:c});const g=f.props[t.name],v=g?g===!0?c.params:typeof g=="function"?g(c):g:null,w=Ga(h,Ut({},v,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[p]=null)},ref:u}));return CN(n.default,{Component:w,route:c})||w}}});function CN(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const I6=T6;function jhe(t){const e=QG(t.routes,t);let n=t.parseQuery||g6,r=t.stringifyQuery||TN,i=t.history;const o=oh(),a=oh(),u=oh(),c=EW(Za);let f=Za;Lc&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=sE.bind(null,Q=>""+Q),p=sE.bind(null,p6),g=sE.bind(null,gm);function v(Q,Te){let me,ge;return hN(Q)?(me=e.getRecordMatcher(Q),ge=Te):ge=Q,e.addRoute(ge,me)}function y(Q){let Te=e.getRecordMatcher(Q);Te&&e.removeRoute(Te)}function w(){return e.getRoutes().map(Q=>Q.record)}function E(Q){return!!e.getRecordMatcher(Q)}function I(Q,Te){if(Te=Ut({},Te||c.value),typeof Q=="string"){let Ge=aE(n,Q,Te.path),L=e.resolve({path:Ge.path},Te),j=i.createHref(Ge.fullPath);return Ut(Ge,L,{params:g(L.params),hash:gm(Ge.hash),redirectedFrom:void 0,href:j})}let me;"path"in Q?me=Ut({},Q,{path:aE(n,Q.path,Te.path).path}):(me=Ut({},Q,{params:p(Q.params)}),Te.params=p(Te.params));let ge=e.resolve(me,Te);const dt=Q.hash||"";ge.params=h(g(ge.params));const We=AG(r,Ut({},Q,{hash:f6(dt),path:ge.path}));let ze=i.createHref(We);return Ut({fullPath:We,hash:dt,query:r===TN?m6(Q.query):Q.query},ge,{redirectedFrom:void 0,href:ze})}function x(Q){return typeof Q=="string"?aE(n,Q,c.value.path):Ut({},Q)}function k(Q,Te){if(f!==Q)return Uc(8,{from:Te,to:Q})}function P(Q){return W(Q)}function D(Q){return P(Ut(x(Q),{replace:!0}))}function M(Q){const Te=Q.matched[Q.matched.length-1];if(Te&&Te.redirect){const{redirect:me}=Te;let ge=typeof me=="function"?me(Q):me;return typeof ge=="string"&&(ge=ge.indexOf("?")>-1||ge.indexOf("#")>-1?ge=x(ge):{path:ge}),Ut({query:Q.query,hash:Q.hash,params:Q.params},ge)}}function W(Q,Te){const me=f=I(Q),ge=c.value,dt=Q.state,We=Q.force,ze=Q.replace===!0,Ge=M(me);if(Ge)return W(Ut(x(Ge),{state:dt,force:We,replace:ze}),Te||me);const L=me;L.redirectedFrom=Te;let j;return!We&&xG(r,ge,me)&&(j=Uc(16,{to:L,from:ge}),Pe(ge,ge,!0,!1)),(j?Promise.resolve(j):X(L,ge)).catch(G=>ih(G)?G:z(G)).then(G=>{if(G){if(ih(G,2))return W(Ut(x(G.to),{state:dt,force:We,replace:ze}),Te||L)}else G=pe(L,ge,!0,ze,dt);return O(L,ge,G),G})}function V(Q,Te){const me=k(Q,Te);return me?Promise.reject(me):Promise.resolve()}function X(Q,Te){let me;const[ge,dt,We]=S6(Q,Te);me=hE(ge.reverse(),"beforeRouteLeave",Q,Te);for(const Ge of ge)Ge.leaveGuards.forEach(L=>{me.push(Os(L,Q,Te))});const ze=V.bind(null,Q,Te);return me.push(ze),jc(me).then(()=>{me=[];for(const Ge of o.list())me.push(Os(Ge,Q,Te));return me.push(ze),jc(me)}).then(()=>{me=hE(dt,"beforeRouteUpdate",Q,Te);for(const Ge of dt)Ge.updateGuards.forEach(L=>{me.push(Os(L,Q,Te))});return me.push(ze),jc(me)}).then(()=>{me=[];for(const Ge of Q.matched)if(Ge.beforeEnter&&Te.matched.indexOf(Ge)<0)if(Array.isArray(Ge.beforeEnter))for(const L of Ge.beforeEnter)me.push(Os(L,Q,Te));else me.push(Os(Ge.beforeEnter,Q,Te));return me.push(ze),jc(me)}).then(()=>(Q.matched.forEach(Ge=>Ge.enterCallbacks={}),me=hE(We,"beforeRouteEnter",Q,Te),me.push(ze),jc(me))).then(()=>{me=[];for(const Ge of a.list())me.push(Os(Ge,Q,Te));return me.push(ze),jc(me)}).catch(Ge=>ih(Ge,8)?Ge:Promise.reject(Ge))}function O(Q,Te,me){for(const ge of u.list())ge(Q,Te,me)}function pe(Q,Te,me,ge,dt){const We=k(Q,Te);if(We)return We;const ze=Te===Za,Ge=Lc?history.state:{};me&&(ge||ze?i.replace(Q.fullPath,Ut({scroll:ze&&Ge&&Ge.scroll},dt)):i.push(Q.fullPath,dt)),c.value=Q,Pe(Q,Te,me,ze),se()}let Ee;function Z(){Ee=i.listen((Q,Te,me)=>{let ge=I(Q);const dt=M(ge);if(dt){W(Ut(dt,{replace:!0}),ge).catch(dm);return}f=ge;const We=c.value;Lc&&LG(cN(We.fullPath,me.delta),pm()),X(ge,We).catch(ze=>ih(ze,4|8)?ze:ih(ze,2)?(W(ze.to,ge).catch(dm),Promise.reject()):(me.delta&&i.go(-me.delta,!1),z(ze))).then(ze=>{ze=ze||pe(ge,We,!1),ze&&me.delta&&i.go(-me.delta,!1),O(ge,We,ze)}).catch(dm)})}let Ie=oh(),ve=oh(),$;function z(Q){return se(Q),ve.list().forEach(Te=>Te(Q)),Promise.reject(Q)}function J(){return $&&c.value!==Za?Promise.resolve():new Promise((Q,Te)=>{Ie.add([Q,Te])})}function se(Q){$||($=!0,Z(),Ie.list().forEach(([Te,me])=>Q?me(Q):Te()),Ie.reset())}function Pe(Q,Te,me,ge){const{scrollBehavior:dt}=t;if(!Lc||!dt)return Promise.resolve();let We=!me&&FG(cN(Q.fullPath,0))||(ge||!me)&&history.state&&history.state.scroll||null;return bw().then(()=>dt(Q,Te,We)).then(ze=>ze&&MG(ze)).catch(z)}const Ke=Q=>i.go(Q);let Ue;const st=new Set;return{currentRoute:c,addRoute:v,removeRoute:y,hasRoute:E,getRoutes:w,resolve:I,options:t,push:P,replace:D,go:Ke,back:()=>Ke(-1),forward:()=>Ke(1),beforeEach:o.add,beforeResolve:a.add,afterEach:u.add,onError:ve.add,isReady:J,install(Q){const Te=this;Q.component("RouterLink",b6),Q.component("RouterView",I6),Q.config.globalProperties.$router=Te,Object.defineProperty(Q.config.globalProperties,"$route",{get:()=>Le(c)}),Lc&&!Ue&&c.value===Za&&(Ue=!0,P(i.location).catch(dt=>{}));const me={};for(let dt in Za)me[dt]=Tt(()=>c.value[dt]);Q.provide(iE,Te),Q.provide(oN,Ss(me)),Q.provide(oE,c);let ge=Q.unmount;st.add(Q),Q.unmount=function(){st.delete(Q),st.size<1&&(Ee(),c.value=Za,Ue=!1,$=!1),ge()}}}}function jc(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function S6(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let a=0;a<o;a++){const u=e.matched[a];u&&(t.matched.find(f=>Fc(f,u))?r.push(u):n.push(u));const c=t.matched[a];c&&(e.matched.find(f=>Fc(f,c))||i.push(c))}return[n,r,i]}/*!
 * Chart.js v3.5.1
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */const AN=function(){return typeof window=="undefined"?function(t){return t()}:window.requestAnimationFrame}();function xN(t,e,n){const r=n||(a=>Array.prototype.slice.call(a));let i=!1,o=[];return function(...a){o=r(a),i||(i=!0,AN.call(window,()=>{i=!1,t.apply(e,o)}))}}function C6(t,e){let n;return function(){return e?(clearTimeout(n),n=setTimeout(t,e)):t(),e}}const dE=t=>t==="start"?"left":t==="end"?"right":"center",rr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,A6=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function $o(){}const x6=function(){let t=0;return function(){return t++}}();function kt(t){return t===null||typeof t=="undefined"}function $t(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.substr(0,7)==="[object"&&e.substr(-6)==="Array]"}function St(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const $n=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function pi(t,e){return $n(t)?t:e}function ot(t,e){return typeof t=="undefined"?e:t}const R6=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,pE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Bt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ot(t,e,n,r){let i,o,a;if($t(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(St(t))for(a=Object.keys(t),o=a.length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function mm(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function vm(t){if($t(t))return t.map(vm);if(St(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=vm(t[n[i]]);return e}return t}function RN(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function k6(t,e,n,r){if(!RN(t))return;const i=e[t],o=n[t];St(i)&&St(o)?sh(i,o,r):e[t]=vm(o)}function sh(t,e,n){const r=$t(e)?e:[e],i=r.length;if(!St(t))return t;n=n||{};const o=n.merger||k6;for(let a=0;a<i;++a){if(e=r[a],!St(e))continue;const u=Object.keys(e);for(let c=0,f=u.length;c<f;++c)o(u[c],t,e,n)}return t}function ah(t,e){return sh(t,e,{merger:O6})}function O6(t,e,n){if(!RN(t))return;const r=e[t],i=n[t];St(r)&&St(i)?ah(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=vm(i))}const N6="",P6=".";function kN(t,e){const n=t.indexOf(P6,e);return n===-1?t.length:n}function Ns(t,e){if(e===N6)return t;let n=0,r=kN(e,n);for(;t&&r>n;)t=t[e.substr(n,r-n)],n=r+1,r=kN(e,n);return t}function gE(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Mr=t=>typeof t!="undefined",Bc=t=>typeof t=="function",D6=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0},nn=Math.PI,Vt=2*nn,M6=Vt+nn,ym=Number.POSITIVE_INFINITY,L6=nn/180,cn=nn/2,uh=nn/4,ON=nn*2/3,gi=Math.log10,mo=Math.sign;function NN(t){const e=Math.round(t);t=ch(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(gi(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function F6(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r==0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,o)=>i-o).pop(),e}function Vc(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ch(t,e,n){return Math.abs(t-e)<n}function U6(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function PN(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Bi(t){return t*(nn/180)}function mE(t){return t*(180/nn)}function DN(t){if(!$n(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function j6(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*nn&&(o+=Vt),{angle:o,distance:i}}function vE(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function B6(t,e){return(t-e+M6)%Vt-nn}function Wo(t){return(t%Vt+Vt)%Vt}function _m(t,e,n,r){const i=Wo(t),o=Wo(e),a=Wo(n),u=Wo(o-i),c=Wo(a-i),f=Wo(i-o),h=Wo(i-a);return i===o||i===a||r&&o===a||u>c&&f<h}function ir(t,e,n){return Math.max(e,Math.min(n,t))}function V6(t){return ir(t,-32768,32767)}const bm=t=>t===0||t===1,MN=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Vt/n)),LN=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Vt/n)+1,lh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*cn)+1,easeOutSine:t=>Math.sin(t*cn),easeInOutSine:t=>-.5*(Math.cos(nn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>bm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>bm(t)?t:MN(t,.075,.3),easeOutElastic:t=>bm(t)?t:LN(t,.075,.3),easeInOutElastic(t){const e=.1125,n=.45;return bm(t)?t:t<.5?.5*MN(t*2,e,n):.5+.5*LN(t*2-1,e,n)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-lh.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?lh.easeInBounce(t*2)*.5:lh.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const mi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yE="0123456789ABCDEF",q6=t=>yE[t&15],H6=t=>yE[(t&240)>>4]+yE[t&15],wm=t=>(t&240)>>4==(t&15);function $6(t){return wm(t.r)&&wm(t.g)&&wm(t.b)&&wm(t.a)}function W6(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&mi[t[1]]*17,g:255&mi[t[2]]*17,b:255&mi[t[3]]*17,a:e===5?mi[t[4]]*17:255}:(e===7||e===9)&&(n={r:mi[t[1]]<<4|mi[t[2]],g:mi[t[3]]<<4|mi[t[4]],b:mi[t[5]]<<4|mi[t[6]],a:e===9?mi[t[7]]<<4|mi[t[8]]:255})),n}function z6(t){var e=$6(t)?q6:H6;return t&&"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):"")}function fh(t){return t+.5|0}const Em=(t,e,n)=>Math.max(Math.min(t,n),e);function hh(t){return Em(fh(t*2.55),0,255)}function dh(t){return Em(fh(t*255),0,255)}function _E(t){return Em(fh(t/2.55)/100,0,1)}function FN(t){return Em(fh(t*100),0,100)}const K6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function G6(t){const e=K6.exec(t);let n=255,r,i,o;if(!!e){if(e[7]!==r){const a=+e[7];n=255&(e[8]?hh(a):a*255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?hh(r):r),i=255&(e[4]?hh(i):i),o=255&(e[6]?hh(o):o),{r,g:i,b:o,a:n}}}function Y6(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${_E(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const X6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UN(t,e,n){const r=e*Math.min(n,1-n),i=(o,a=(o+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Q6(t,e,n){const r=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function J6(t,e,n){const r=UN(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function bE(t){const e=255,n=t.r/e,r=t.g/e,i=t.b/e,o=Math.max(n,r,i),a=Math.min(n,r,i),u=(o+a)/2;let c,f,h;return o!==a&&(h=o-a,f=u>.5?h/(2-o-a):h/(o+a),c=o===n?(r-i)/h+(r<i?6:0):o===r?(i-n)/h+2:(n-r)/h+4,c=c*60+.5),[c|0,f||0,u]}function wE(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(dh)}function EE(t,e,n){return wE(UN,t,e,n)}function Z6(t,e,n){return wE(J6,t,e,n)}function e5(t,e,n){return wE(Q6,t,e,n)}function jN(t){return(t%360+360)%360}function t5(t){const e=X6.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?hh(+e[5]):dh(+e[5]));const i=jN(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=Z6(i,o,a):e[1]==="hsv"?r=e5(i,o,a):r=EE(i,o,a),{r:r[0],g:r[1],b:r[2],a:n}}function n5(t,e){var n=bE(t);n[0]=jN(n[0]+e),n=EE(n),t.r=n[0],t.g=n[1],t.b=n[2]}function r5(t){if(!t)return;const e=bE(t),n=e[0],r=FN(e[1]),i=FN(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${_E(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const BN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},VN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function i5(){const t={},e=Object.keys(VN),n=Object.keys(BN);let r,i,o,a,u;for(r=0;r<e.length;r++){for(a=u=e[r],i=0;i<n.length;i++)o=n[i],u=u.replace(o,BN[o]);o=parseInt(VN[a],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let Tm;function o5(t){Tm||(Tm=i5(),Tm.transparent=[0,0,0,0]);const e=Tm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}function Im(t,e,n){if(t){let r=bE(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=EE(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function qN(t,e){return t&&Object.assign(e||{},t)}function HN(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=dh(t[3]))):(e=qN(t,{r:0,g:0,b:0,a:1}),e.a=dh(e.a)),e}function s5(t){return t.charAt(0)==="r"?G6(t):t5(t)}class Sm{constructor(e){if(e instanceof Sm)return e;const n=typeof e;let r;n==="object"?r=HN(e):n==="string"&&(r=W6(e)||o5(e)||s5(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=qN(this._rgb);return e&&(e.a=_E(e.a)),e}set rgb(e){this._rgb=HN(e)}rgbString(){return this._valid?Y6(this._rgb):this._rgb}hexString(){return this._valid?z6(this._rgb):this._rgb}hslString(){return this._valid?r5(this._rgb):this._rgb}mix(e,n){const r=this;if(e){const i=r.rgb,o=e.rgb;let a;const u=n===a?.5:n,c=2*u-1,f=i.a-o.a,h=((c*f==-1?c:(c+f)/(1+c*f))+1)/2;a=1-h,i.r=255&h*i.r+a*o.r+.5,i.g=255&h*i.g+a*o.g+.5,i.b=255&h*i.b+a*o.b+.5,i.a=u*i.a+(1-u)*o.a,r.rgb=i}return r}clone(){return new Sm(this.rgb)}alpha(e){return this._rgb.a=dh(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=fh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Im(this._rgb,2,e),this}darken(e){return Im(this._rgb,2,-e),this}saturate(e){return Im(this._rgb,1,e),this}desaturate(e){return Im(this._rgb,1,-e),this}rotate(e){return n5(this._rgb,e),this}}function $N(t){return new Sm(t)}const WN=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function zN(t){return WN(t)?t:$N(t)}function TE(t){return WN(t)?t:$N(t).saturate(.5).darken(.1).hexString()}const eu=Object.create(null),IE=Object.create(null);function ph(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function SE(t,e,n){return typeof e=="string"?sh(ph(t,e),n):sh(ph(t,""),e)}class a5{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>TE(r.backgroundColor),this.hoverBorderColor=(n,r)=>TE(r.borderColor),this.hoverColor=(n,r)=>TE(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(e)}set(e,n){return SE(this,e,n)}get(e){return ph(this,e)}describe(e,n){return SE(IE,e,n)}override(e,n){return SE(eu,e,n)}route(e,n,r,i){const o=ph(this,e),a=ph(this,r),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[u],f=a[i];return St(c)?Object.assign({},f,c):ot(c,f)},set(c){this[u]=c}}})}}var ft=new a5({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function u5(t){return!t||kt(t.size)||kt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Cm(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function c5(t,e,n,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const u=n.length;let c,f,h,p,g;for(c=0;c<u;c++)if(p=n[c],p!=null&&$t(p)!==!0)a=Cm(t,i,o,a,p);else if($t(p))for(f=0,h=p.length;f<h;f++)g=p[f],g!=null&&!$t(g)&&(a=Cm(t,i,o,a,g));t.restore();const v=o.length/2;if(v>n.length){for(c=0;c<v;c++)delete i[o[c]];o.splice(0,v)}return a}function tu(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function KN(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Am(t,e,n,r){let i,o,a,u,c;const f=e.pointStyle,h=e.rotation,p=e.radius;let g=(h||0)*L6;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:t.arc(n,r,p,0,Vt),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(g)*p,r-Math.cos(g)*p),g+=ON,t.lineTo(n+Math.sin(g)*p,r-Math.cos(g)*p),g+=ON,t.lineTo(n+Math.sin(g)*p,r-Math.cos(g)*p),t.closePath();break;case"rectRounded":c=p*.516,u=p-c,o=Math.cos(g+uh)*u,a=Math.sin(g+uh)*u,t.arc(n-o,r-a,c,g-nn,g-cn),t.arc(n+a,r-o,c,g-cn,g),t.arc(n+o,r+a,c,g,g+cn),t.arc(n-a,r+o,c,g+cn,g+nn),t.closePath();break;case"rect":if(!h){u=Math.SQRT1_2*p,t.rect(n-u,r-u,2*u,2*u);break}g+=uh;case"rectRot":o=Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(n-o,r-a),t.lineTo(n+a,r-o),t.lineTo(n+o,r+a),t.lineTo(n-a,r+o),t.closePath();break;case"crossRot":g+=uh;case"cross":o=Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"star":o=Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o),g+=uh,o=Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"line":o=Math.cos(g)*p,a=Math.sin(g)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(g)*p,r+Math.sin(g)*p);break}t.fill(),e.borderWidth>0&&t.stroke()}}function nu(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function CE(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function AE(t){t.restore()}function l5(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function f5(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function ru(t,e,n,r,i,o={}){const a=$t(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let c,f;for(t.save(),t.font=i.string,h5(t,o),c=0;c<a.length;++c)f=a[c],u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),kt(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(f,n,r,o.maxWidth)),t.fillText(f,n,r,o.maxWidth),d5(t,n,r,f,o),r+=i.lineHeight;t.restore()}function h5(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),kt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function d5(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),a=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,f=n+o.actualBoundingBoxDescent,h=i.strikethrough?(c+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,h),t.lineTo(u,h),t.stroke()}}function xm(t,e){const{x:n,y:r,w:i,h:o,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-cn,nn,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,nn,cn,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,cn,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-cn,!0),t.lineTo(n+a.topLeft,r)}const p5=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),g5=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function m5(t,e){const n=(""+t).match(p5);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const v5=t=>+t||0;function xE(t,e){const n={},r=St(e),i=r?Object.keys(e):e,o=St(t)?r?a=>ot(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=v5(o(a));return n}function GN(t){return xE(t,{top:"y",right:"x",bottom:"y",left:"x"})}function RE(t){return xE(t,["topLeft","topRight","bottomLeft","bottomRight"])}function yr(t){const e=GN(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function In(t,e){t=t||{},e=e||ft.font;let n=ot(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ot(t.style,e.style);r&&!(""+r).match(g5)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:ot(t.family,e.family),lineHeight:m5(ot(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ot(t.weight,e.weight),string:""};return i.string=u5(i),i}function Rm(t,e,n,r){let i=!0,o,a,u;for(o=0,a=t.length;o<a;++o)if(u=t[o],u!==void 0&&(e!==void 0&&typeof u=="function"&&(u=u(e),i=!1),n!==void 0&&$t(u)&&(u=u[n%u.length],i=!1),u!==void 0))return r&&!i&&(r.cacheable=!1),u}function y5(t,e){const{min:n,max:r}=t;return{min:n-Math.abs(pE(e,n)),max:r+pE(e,r)}}function kE(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,n(o)?i=o:r=o;return{lo:i,hi:r}}const iu=(t,e,n)=>kE(t,n,r=>t[r][e]<n),_5=(t,e,n)=>kE(t,n,r=>t[r][e]>=n);function b5(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const YN=["push","pop","shift","splice","unshift"];function w5(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),YN.forEach(n=>{const r="_onData"+gE(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const a=i.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...o)}),a}})})}function XN(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(YN.forEach(o=>{delete t[o]}),delete t._chartjs)}function QN(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}function OE(t,e=[""],n=t,r,i=()=>t[0]){Mr(r)||(r=rP("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:a=>OE([a,...t],e,n,r)};return new Proxy(o,{deleteProperty(a,u){return delete a[u],delete a._keys,delete t[0][u],!0},get(a,u){return eP(a,u,()=>R5(u,e,t,a))},getOwnPropertyDescriptor(a,u){return Reflect.getOwnPropertyDescriptor(a._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,u){return iP(a).includes(u)},ownKeys(a){return iP(a)},set(a,u,c){const f=a._storage||(a._storage=i());return f[u]=c,delete a[u],delete a._keys,!0}})}function qc(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:JN(t,r),setContext:o=>qc(t,o,n,r),override:o=>qc(t.override(o),e,n,r)};return new Proxy(i,{deleteProperty(o,a){return delete o[a],delete t[a],!0},get(o,a,u){return eP(o,a,()=>T5(o,a,u))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(o,a,u){return t[a]=u,delete o[a],!0}})}function JN(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Bc(n)?n:()=>n,isIndexable:Bc(r)?r:()=>r}}const E5=(t,e)=>t?t+gE(e):e,ZN=(t,e)=>St(e)&&t!=="adapters";function eP(t,e,n){let r=t[e];return Mr(r)||(r=n(),Mr(r)&&(t[e]=r)),r}function T5(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=t;let u=r[e];return Bc(u)&&a.isScriptable(e)&&(u=I5(e,u,t,n)),$t(u)&&u.length&&(u=S5(e,u,t,a.isIndexable)),ZN(e,u)&&(u=qc(u,i,o&&o[e],a)),u}function I5(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);return u.add(t),e=e(o,a||r),u.delete(t),St(e)&&(e=NE(i._scopes,i,t,e)),e}function S5(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:u}=n;if(Mr(o.index)&&r(t))e=e[o.index%e.length];else if(St(e[0])){const c=e,f=i._scopes.filter(h=>h!==c);e=[];for(const h of c){const p=NE(f,i,t,h);e.push(qc(p,o,a&&a[t],u))}}return e}function tP(t,e,n){return Bc(t)?t(e,n):t}const C5=(t,e)=>t===!0?e:typeof t=="string"?Ns(e,t):void 0;function A5(t,e,n,r){for(const i of e){const o=C5(n,i);if(o){t.add(o);const a=tP(o._fallback,n,o);if(Mr(a)&&a!==n&&a!==r)return a}else if(o===!1&&Mr(r)&&n!==r)return null}return!1}function NE(t,e,n,r){const i=e._rootScopes,o=tP(e._fallback,n,r),a=[...t,...i],u=new Set;u.add(r);let c=nP(u,a,n,o||n);return c===null||Mr(o)&&o!==n&&(c=nP(u,a,o,c),c===null)?!1:OE(Array.from(u),[""],i,o,()=>x5(e,n,r))}function nP(t,e,n,r){for(;n;)n=A5(t,e,n,r);return n}function x5(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return $t(i)&&St(n)?n:i}function R5(t,e,n,r){let i;for(const o of e)if(i=rP(E5(o,t),n),Mr(i))return ZN(t,i)?NE(n,r,t,i):i}function rP(t,e){for(const n of e){if(!n)continue;const r=n[t];if(Mr(r))return r}}function iP(t){let e=t._keys;return e||(e=t._keys=k5(t._scopes)),e}function k5(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const O5=Number.EPSILON||1e-14,Hc=(t,e)=>e<t.length&&!t[e].skip&&t[e],oP=t=>t==="x"?"y":"x";function N5(t,e,n,r){const i=t.skip?e:t,o=e,a=n.skip?e:n,u=vE(o,i),c=vE(a,o);let f=u/(u+c),h=c/(u+c);f=isNaN(f)?0:f,h=isNaN(h)?0:h;const p=r*f,g=r*h;return{previous:{x:o.x-p*(a.x-i.x),y:o.y-p*(a.y-i.y)},next:{x:o.x+g*(a.x-i.x),y:o.y+g*(a.y-i.y)}}}function P5(t,e,n){const r=t.length;let i,o,a,u,c,f=Hc(t,0);for(let h=0;h<r-1;++h)if(c=f,f=Hc(t,h+1),!(!c||!f)){if(ch(e[h],0,O5)){n[h]=n[h+1]=0;continue}i=n[h]/e[h],o=n[h+1]/e[h],u=Math.pow(i,2)+Math.pow(o,2),!(u<=9)&&(a=3/Math.sqrt(u),n[h]=i*a*e[h],n[h+1]=o*a*e[h])}}function D5(t,e,n="x"){const r=oP(n),i=t.length;let o,a,u,c=Hc(t,0);for(let f=0;f<i;++f){if(a=u,u=c,c=Hc(t,f+1),!u)continue;const h=u[n],p=u[r];a&&(o=(h-a[n])/3,u[`cp1${n}`]=h-o,u[`cp1${r}`]=p-o*e[f]),c&&(o=(c[n]-h)/3,u[`cp2${n}`]=h+o,u[`cp2${r}`]=p+o*e[f])}}function M5(t,e="x"){const n=oP(e),r=t.length,i=Array(r).fill(0),o=Array(r);let a,u,c,f=Hc(t,0);for(a=0;a<r;++a)if(u=c,c=f,f=Hc(t,a+1),!!c){if(f){const h=f[e]-c[e];i[a]=h!==0?(f[n]-c[n])/h:0}o[a]=u?f?mo(i[a-1])!==mo(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}P5(t,i,o),D5(t,o,e)}function km(t,e,n){return Math.max(Math.min(t,n),e)}function L5(t,e){let n,r,i,o,a,u=nu(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=u,u=n<r-1&&nu(t[n+1],e),!!o&&(i=t[n],a&&(i.cp1x=km(i.cp1x,e.left,e.right),i.cp1y=km(i.cp1y,e.top,e.bottom)),u&&(i.cp2x=km(i.cp2x,e.left,e.right),i.cp2y=km(i.cp2y,e.top,e.bottom)))}function F5(t,e,n,r,i){let o,a,u,c;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")M5(t,i);else{let f=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)u=t[o],c=N5(f,u,t[Math.min(o+1,a-(r?0:1))%a],e.tension),u.cp1x=c.previous.x,u.cp1y=c.previous.y,u.cp2x=c.next.x,u.cp2y=c.next.y,f=u}e.capBezierPoints&&L5(t,n)}function sP(){return typeof window!="undefined"&&typeof document!="undefined"}function $c(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Om(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Nm=t=>window.getComputedStyle(t,null);function U5(t,e){return Nm(t).getPropertyValue(e)}const j5=["top","right","bottom","left"];function ou(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=j5[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const B5=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function V5(t,e){const n=t.native||t,r=n.touches,i=r&&r.length?r[0]:n,{offsetX:o,offsetY:a}=i;let u=!1,c,f;if(B5(o,a,n.target))c=o,f=a;else{const h=e.getBoundingClientRect();c=i.clientX-h.left,f=i.clientY-h.top,u=!0}return{x:c,y:f,box:u}}function aP(t,e){const{canvas:n,currentDevicePixelRatio:r}=e,i=Nm(n),o=i.boxSizing==="border-box",a=ou(i,"padding"),u=ou(i,"border","width"),{x:c,y:f,box:h}=V5(t,n),p=a.left+(h&&u.left),g=a.top+(h&&u.top);let{width:v,height:y}=e;return o&&(v-=a.width+u.width,y-=a.height+u.height),{x:Math.round((c-p)/v*n.width/r),y:Math.round((f-g)/y*n.height/r)}}function q5(t,e,n){let r,i;if(e===void 0||n===void 0){const o=$c(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const a=o.getBoundingClientRect(),u=Nm(o),c=ou(u,"border","width"),f=ou(u,"padding");e=a.width-f.width-c.width,n=a.height-f.height-c.height,r=Om(u.maxWidth,o,"clientWidth"),i=Om(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:r||ym,maxHeight:i||ym}}const PE=t=>Math.round(t*10)/10;function H5(t,e,n,r){const i=Nm(t),o=ou(i,"margin"),a=Om(i.maxWidth,t,"clientWidth")||ym,u=Om(i.maxHeight,t,"clientHeight")||ym,c=q5(t,e,n);let{width:f,height:h}=c;if(i.boxSizing==="content-box"){const p=ou(i,"border","width"),g=ou(i,"padding");f-=g.width+p.width,h-=g.height+p.height}return f=Math.max(0,f-o.width),h=Math.max(0,r?Math.floor(f/r):h-o.height),f=PE(Math.min(f,a,c.maxWidth)),h=PE(Math.min(h,u,c.maxHeight)),f&&!h&&(h=PE(f/2)),{width:f,height:h}}function uP(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=i/r,t.width=o/r;const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o?(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const $5=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function cP(t,e){const n=U5(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function su(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function W5(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function z5(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=su(t,i,n),u=su(i,o,n),c=su(o,e,n),f=su(a,u,n),h=su(u,c,n);return su(f,h,n)}const lP=new Map;function K5(t,e){e=e||{};const n=t+JSON.stringify(e);let r=lP.get(n);return r||(r=new Intl.NumberFormat(t,e),lP.set(n,r)),r}function gh(t,e,n){return K5(e,n).format(t)}const G5=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Y5=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Wc(t,e,n){return t?G5(e,n):Y5()}function fP(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function hP(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function dP(t){return t==="angle"?{between:_m,compare:B6,normalize:Wo}:{between:(e,n,r)=>e>=Math.min(n,r)&&e<=Math.max(r,n),compare:(e,n)=>e-n,normalize:e=>e}}function pP({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n==0,style:i}}function X5(t,e,n){const{property:r,start:i,end:o}=n,{between:a,normalize:u}=dP(r),c=e.length;let{start:f,end:h,loop:p}=t,g,v;if(p){for(f+=c,h+=c,g=0,v=c;g<v&&a(u(e[f%c][r]),i,o);++g)f--,h--;f%=c,h%=c}return h<f&&(h+=c),{start:f,end:h,loop:p,style:t.style}}function Q5(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,a=e.length,{compare:u,between:c,normalize:f}=dP(r),{start:h,end:p,loop:g,style:v}=X5(t,e,n),y=[];let w=!1,E=null,I,x,k;const P=()=>c(i,k,I)&&u(i,k)!==0,D=()=>u(o,I)===0||c(o,k,I),M=()=>w||P(),W=()=>!w||D();for(let V=h,X=h;V<=p;++V)x=e[V%a],!x.skip&&(I=f(x[r]),I!==k&&(w=c(I,i,o),E===null&&M()&&(E=u(I,i)===0?V:X),E!==null&&W()&&(y.push(pP({start:E,end:V,loop:g,count:a,style:v})),E=null),X=V,k=I));return E!==null&&y.push(pP({start:E,end:p,loop:g,count:a,style:v})),y}function J5(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=Q5(r[i],t.points,e);o.length&&n.push(...o)}return n}function Z5(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function eY(t,e,n,r){const i=t.length,o=[];let a=e,u=t[e],c;for(c=e+1;c<=n;++c){const f=t[c%i];f.skip||f.stop?u.skip||(r=!1,o.push({start:e%i,end:(c-1)%i,loop:r}),e=a=f.stop?c:null):(a=c,u.skip&&(e=c)),u=f}return a!==null&&o.push({start:e%i,end:a%i,loop:r}),o}function tY(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:a,end:u}=Z5(n,i,o,r);if(r===!0)return gP(t,[{start:a,end:u,loop:o}],n,e);const c=u<a?u+i:u,f=!!t._fullLoop&&a===0&&u===i-1;return gP(t,eY(n,a,c,f),n,e)}function gP(t,e,n,r){return!r||!r.setContext||!n?e:nY(t,e,n,r)}function nY(t,e,n,r){const i=mP(t.options),o=n.length,a=[];let u=e[0].start,c=u;for(const f of e){let h=i,p=n[u%o],g;for(c=u+1;c<=f.end;c++){const v=n[c%o];g=mP(r.setContext({type:"segment",p0:p,p1:v,p0DataIndex:(c-1)%o,p1DataIndex:c%o,datasetIndex:t._datasetIndex})),rY(g,h)&&(a.push({start:u,end:c-1,loop:f.loop,style:h}),h=g,u=c-1),p=v,h=g}u<c-1&&(a.push({start:u,end:c-1,loop:f.loop,style:g}),u=c-1)}return a}function mP(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function rY(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.5.1
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */class iY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const o=n.listeners[i],a=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){const e=this;e._request||(e._running=!0,e._request=AN.call(window,()=>{e._update(),e._request=null,e._running&&e._refresh()}))}_update(e=Date.now()){const n=this;let r=0;n._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const a=i.items;let u=a.length-1,c=!1,f;for(;u>=0;--u)f=a[u],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),c=!0):(a[u]=a[a.length-1],a.pop());c&&(o.draw(),n._notify(o,i,e,"progress")),a.length||(i.running=!1,n._notify(o,i,e,"complete"),i.initial=!1),r+=a.length}),n._lastDate=e,r===0&&(n._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zo=new iY;const vP="transparent",oY={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=zN(t||vP),i=r.valid&&zN(e||vP);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class sY{constructor(e,n,r,i){const o=n[r];i=Rm([e.to,i,o,e.from]);const a=Rm([e.from,o,i]);this._active=!0,this._fn=e.fn||oY[e.type||typeof a],this._easing=lh[e.easing]||lh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){const i=this;if(i._active){i._notify(!1);const o=i._target[i._prop],a=r-i._start,u=i._duration-a;i._start=r,i._duration=Math.floor(Math.max(u,e.duration)),i._total+=a,i._loop=!!e.loop,i._to=Rm([e.to,n,o,e.from]),i._from=Rm([e.from,o,n])}}cancel(){const e=this;e._active&&(e.tick(Date.now()),e._active=!1,e._notify(!1))}tick(e){const n=this,r=e-n._start,i=n._duration,o=n._prop,a=n._from,u=n._loop,c=n._to;let f;if(n._active=a!==c&&(u||r<i),!n._active){n._target[o]=c,n._notify(!0);return}if(r<0){n._target[o]=a;return}f=r/i%2,f=u&&f>1?2-f:f,f=n._easing(Math.min(1,Math.max(0,f))),n._target[o]=n._fn(a,c,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}const aY=["x","y","borderWidth","radius","tension"],uY=["color","borderColor","backgroundColor"];ft.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const cY=Object.keys(ft.animation);ft.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});ft.set("animations",{colors:{type:"color",properties:uY},numbers:{type:"number",properties:aY}});ft.describe("animations",{_fallback:"animation"});ft.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class yP{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!St(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!St(i))return;const o={};for(const a of cY)o[a]=i[a];($t(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=fY(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&lY(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,n){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),a=Object.keys(n),u=Date.now();let c;for(c=a.length-1;c>=0;--c){const f=a[c];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[f];let p=o[f];const g=r.get(f);if(p)if(g&&p.active()){p.update(g,h,u);continue}else p.cancel();if(!g||!g.duration){e[f]=h;continue}o[f]=p=new sY(g,e,f,h),i.push(p)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return zo.add(this._chart,r),!0}}function lY(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=t[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function fY(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function _P(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function hY(t,e,n){if(n===!1)return!1;const r=_P(t,n),i=_P(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function dY(t){let e,n,r,i;return St(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function bP(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function wP(t,e,n,r){const i=t.keys,o=r.mode==="single";let a,u,c,f;if(e!==null){for(a=0,u=i.length;a<u;++a){if(c=+i[a],c===n){if(r.all)continue;break}f=t.values[c],$n(f)&&(o||e===0||mo(e)===mo(f))&&(e+=f)}return e}}function pY(t){const e=Object.keys(t),n=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],n[r]={x:o,y:t[o]};return n}function EP(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function gY(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function mY(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function vY(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function TP(t,e,n){for(const r of e.getMatchingVisibleMetas("bar").reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function IP(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:u}=r,c=o.axis,f=a.axis,h=gY(o,a,r),p=e.length;let g;for(let v=0;v<p;++v){const y=e[v],{[c]:w,[f]:E}=y,I=y._stacks||(y._stacks={});g=I[f]=vY(i,h,w),g[u]=E,g._top=TP(g,a,!0),g._bottom=TP(g,a,!1)}}function DE(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function yY(t,e){return Object.assign(Object.create(t),{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function _Y(t,e,n){return Object.assign(Object.create(t),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function mh(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(!!r){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n]}}}const ME=t=>t==="reset"||t==="none",SP=(t,e)=>e?t:Object.assign({},t);class vo{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this,n=e._cachedMeta;e.configure(),e.linkScales(),n._stacked=EP(n.vScale,n),e.addElements()}updateIndex(e){this.index!==e&&mh(this._cachedMeta),this.index=e}linkScales(){const e=this,n=e.chart,r=e._cachedMeta,i=e.getDataset(),o=(g,v,y,w)=>g==="x"?v:g==="r"?w:y,a=r.xAxisID=ot(i.xAxisID,DE(n,"x")),u=r.yAxisID=ot(i.yAxisID,DE(n,"y")),c=r.rAxisID=ot(i.rAxisID,DE(n,"r")),f=r.indexAxis,h=r.iAxisID=o(f,a,u,c),p=r.vAxisID=o(f,u,a,c);r.xScale=e.getScaleForId(a),r.yScale=e.getScaleForId(u),r.rScale=e.getScaleForId(c),r.iScale=e.getScaleForId(h),r.vScale=e.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&XN(this._data,this),e._stacked&&mh(e)}_dataCheck(){const e=this,n=e.getDataset(),r=n.data||(n.data=[]),i=e._data;if(St(r))e._data=pY(r);else if(i!==r){if(i){XN(i,e);const o=e._cachedMeta;mh(o),o._parsed=[]}r&&Object.isExtensible(r)&&w5(r,e),e._syncList=[],e._data=r}}addElements(){const e=this,n=e._cachedMeta;e._dataCheck(),e.datasetElementType&&(n.dataset=new e.datasetElementType)}buildOrUpdateElements(e){const n=this,r=n._cachedMeta,i=n.getDataset();let o=!1;n._dataCheck();const a=r._stacked;r._stacked=EP(r.vScale,r),r.stack!==i.stack&&(o=!0,mh(r),r.stack=i.stack),n._resyncElements(e),(o||a!==r._stacked)&&IP(n,r._parsed)}configure(){const e=this,n=e.chart.config,r=n.datasetScopeKeys(e._type),i=n.getOptionScopes(e.getDataset(),r,!0);e.options=n.createResolver(i,e.getContext()),e._parsing=e.options.parsing}parse(e,n){const r=this,{_cachedMeta:i,_data:o}=r,{iScale:a,_stacked:u}=i,c=a.axis;let f=e===0&&n===o.length?!0:i._sorted,h=e>0&&i._parsed[e-1],p,g,v;if(r._parsing===!1)i._parsed=o,i._sorted=!0,v=o;else{$t(o[e])?v=r.parseArrayData(i,o,e,n):St(o[e])?v=r.parseObjectData(i,o,e,n):v=r.parsePrimitiveData(i,o,e,n);const y=()=>g[c]===null||h&&g[c]<h[c];for(p=0;p<n;++p)i._parsed[p+e]=g=v[p],f&&(y()&&(f=!1),h=g);i._sorted=f}u&&IP(r,v)}parsePrimitiveData(e,n,r,i){const{iScale:o,vScale:a}=e,u=o.axis,c=a.axis,f=o.getLabels(),h=o===a,p=new Array(i);let g,v,y;for(g=0,v=i;g<v;++g)y=g+r,p[g]={[u]:h||o.parse(f[y],y),[c]:a.parse(n[y],y)};return p}parseArrayData(e,n,r,i){const{xScale:o,yScale:a}=e,u=new Array(i);let c,f,h,p;for(c=0,f=i;c<f;++c)h=c+r,p=n[h],u[c]={x:o.parse(p[0],h),y:a.parse(p[1],h)};return u}parseObjectData(e,n,r,i){const{xScale:o,yScale:a}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=new Array(i);let h,p,g,v;for(h=0,p=i;h<p;++h)g=h+r,v=n[g],f[h]={x:o.parse(Ns(v,u),g),y:a.parse(Ns(v,c),g)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,o=this._cachedMeta,a=n[e.axis],u={keys:bP(i,!0),values:n._stacks[e.axis]};return wP(u,a,o.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const o=r[n.axis];let a=o===null?NaN:o;const u=i&&r._stacks[n.axis];i&&u&&(i.values=u,e.min=Math.min(e.min,a),e.max=Math.max(e.max,a),a=wP(i,o,this._cachedMeta.index,{all:!0})),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this,i=r._cachedMeta,o=i._parsed,a=i._sorted&&e===i.iScale,u=o.length,c=r._getOtherScale(e),f=n&&i._stacked&&{keys:bP(r.chart,!0),values:null},h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=mY(c);let v,y,w,E;function I(){return w=o[v],y=w[e.axis],E=w[c.axis],!$n(y)||p>E||g<E}for(v=0;v<u&&!(!I()&&(r.updateRangeFromParsed(h,e,w,f),a));++v);if(a){for(v=u-1;v>=0;--v)if(!I()){r.updateRangeFromParsed(h,e,w,f);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,o,a;for(i=0,o=n.length;i<o;++i)a=n[i][e.axis],$n(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this,r=n._cachedMeta,i=r.iScale,o=r.vScale,a=n.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const n=this,r=n._cachedMeta;n.configure(),n._cachedDataOpts={},n.update(e||"default"),r._clip=dY(ot(n.options.clip,hY(r.xScale,r.yScale,n.getMaxOverflow())))}update(e){}draw(){const e=this,n=e._ctx,r=e.chart,i=e._cachedMeta,o=i.data||[],a=r.chartArea,u=[],c=e._drawStart||0,f=e._drawCount||o.length-c;let h;for(i.dataset&&i.dataset.draw(n,a,c,f),h=c;h<c+f;++h){const p=o[h];p.hidden||(p.active?u.push(p):p.draw(n,a))}for(h=0;h<u.length;++h)u[h].draw(n,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this,o=i.getDataset();let a;if(e>=0&&e<i._cachedMeta.data.length){const u=i._cachedMeta.data[e];a=u.$context||(u.$context=_Y(i.getContext(),e,u)),a.parsed=i.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=i.$context||(i.$context=yY(i.chart.getContext(),i.index)),a.dataset=o,a.index=a.datasetIndex=i.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=this,o=n==="active",a=i._cachedDataOpts,u=e+"-"+n,c=a[u],f=i.enableOptionSharing&&Mr(r);if(c)return SP(c,f);const h=i.chart.config,p=h.datasetElementScopeKeys(i._type,e),g=o?[`${e}Hover`,"hover",e,""]:[e,""],v=h.getOptionScopes(i.getDataset(),p),y=Object.keys(ft.elements[e]),w=()=>i.getContext(r,o),E=h.resolveNamedOptions(v,y,w,g);return E.$shared&&(E.$shared=f,a[u]=Object.freeze(SP(E,f))),E}_resolveAnimations(e,n,r){const i=this,o=i.chart,a=i._cachedDataOpts,u=`animation-${n}`,c=a[u];if(c)return c;let f;if(o.options.animation!==!1){const p=i.chart.config,g=p.datasetAnimationScopeKeys(i._type,n),v=p.getOptionScopes(i.getDataset(),g);f=p.createResolver(v,i.getContext(e,r,n))}const h=new yP(o,f&&f.animations);return f&&f._cacheable&&(a[u]=Object.freeze(h)),h}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ME(e)||this.chart._animationsDisabled}updateElement(e,n,r,i){ME(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!ME(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this,r=n._data,i=n._cachedMeta.data;for(const[c,f,h]of n._syncList)n[c](f,h);n._syncList=[];const o=i.length,a=r.length,u=Math.min(a,o);u&&n.parse(0,u),a>o?n._insertElements(o,a-o,e):a<o&&n._removeElements(a,o-a)}_insertElements(e,n,r=!0){const i=this,o=i._cachedMeta,a=o.data,u=e+n;let c;const f=h=>{for(h.length+=n,c=h.length-1;c>=u;c--)h[c]=h[c-n]};for(f(a),c=e;c<u;++c)a[c]=new i.dataElementType;i._parsing&&f(o._parsed),i.parse(e,n),r&&i.updateElements(a,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this,i=r._cachedMeta;if(r._parsing){const o=i._parsed.splice(e,n);i._stacked&&mh(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){this._sync(["_removeElements",e,n]),this._sync(["_insertElements",e,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}vo.defaults={};vo.prototype.datasetElementType=null;vo.prototype.dataElementType=null;function bY(t){if(!t._cache.$bar){const e=t.getMatchingVisibleMetas("bar");let n=[];for(let r=0,i=e.length;r<i;r++)n=n.concat(e[r].controller.getAllParsedValues(t));t._cache.$bar=QN(n.sort((r,i)=>r-i))}return t._cache.$bar}function wY(t){const e=bY(t);let n=t._length,r,i,o,a;const u=()=>{o===32767||o===-32768||(Mr(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(r=0,i=e.length;r<i;++r)o=t.getPixelForValue(e[r]),u();for(a=void 0,r=0,i=t.ticks.length;r<i;++r)o=t.getPixelForTick(r),u();return n}function EY(t,e,n,r){const i=n.barThickness;let o,a;return kt(i)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:e.pixels[t]-o/2}}function TY(t,e,n,r){const i=e.pixels,o=i[t];let a=t>0?i[t-1]:null,u=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;a===null&&(a=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-a);const f=o-(o-Math.min(a,u))/2*c;return{chunk:Math.abs(u-a)/2*c/r,ratio:n.barPercentage,start:f}}function IY(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),u=Math.max(i,o);let c=a,f=u;Math.abs(a)>Math.abs(u)&&(c=u,f=a),e[n.axis]=f,e._custom={barStart:c,barEnd:f,start:i,end:o,min:a,max:u}}function CP(t,e,n,r){return $t(t)?IY(t,e,n,r):e[n.axis]=n.parse(t,r),e}function AP(t,e,n,r){const i=t.iScale,o=t.vScale,a=i.getLabels(),u=i===o,c=[];let f,h,p,g;for(f=n,h=n+r;f<h;++f)g=e[f],p={},p[i.axis]=u||i.parse(a[f],f),c.push(CP(g,p,o,f));return c}function LE(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function SY(t,e,n){return t!==0?mo(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function CY(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}function AY(t,e,n,r){let i=e.borderSkipped;const o={};if(!i){t.borderSkipped=o;return}const{start:a,end:u,reverse:c,top:f,bottom:h}=CY(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=f:(n._bottom||0)===r?i=h:(o[xP(h,a,u,c)]=!0,i=f)),o[xP(i,a,u,c)]=!0,t.borderSkipped=o}function xP(t,e,n,r){return r?(t=xY(t,e,n),t=RP(t,n,e)):t=RP(t,e,n),t}function xY(t,e,n){return t===e?n:t===n?e:t}function RP(t,e,n){return t==="start"?e:t==="end"?n:t}class FE extends vo{parsePrimitiveData(e,n,r,i){return AP(e,n,r,i)}parseArrayData(e,n,r,i){return AP(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:o,vScale:a}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=o.axis==="x"?u:c,h=a.axis==="x"?u:c,p=[];let g,v,y,w;for(g=r,v=r+i;g<v;++g)w=n[g],y={},y[o.axis]=o.parse(Ns(w,f),g),p.push(CP(Ns(w,h),y,a,g));return p}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this,r=n._cachedMeta,{iScale:i,vScale:o}=r,a=n.getParsed(e),u=a._custom,c=LE(u)?"["+u.start+", "+u.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){const e=this;e.enableOptionSharing=!0,super.initialize();const n=e._cachedMeta;n.stack=e.getDataset().stack}update(e){const n=this,r=n._cachedMeta;n.updateElements(r.data,0,r.data.length,e)}updateElements(e,n,r,i){const o=this,a=i==="reset",{index:u,_cachedMeta:{vScale:c}}=o,f=c.getBasePixel(),h=c.isHorizontal(),p=o._getRuler(),g=o.resolveDataElementOptions(n,i),v=o.getSharedOptions(g),y=o.includeOptions(i,v);o.updateSharedOptions(v,i,g);for(let w=n;w<n+r;w++){const E=o.getParsed(w),I=a||kt(E[c.axis])?{base:f,head:f}:o._calculateBarValuePixels(w),x=o._calculateBarIndexPixels(w,p),k=(E._stacks||{})[c.axis],P={horizontal:h,base:I.base,enableBorderRadius:!k||LE(E._custom)||u===k._top||u===k._bottom,x:h?I.head:x.center,y:h?x.center:I.head,height:h?x.size:Math.abs(I.size),width:h?Math.abs(I.size):x.size};y&&(P.options=v||o.resolveDataElementOptions(w,e[w].active?"active":i)),AY(P,P.options||e[w].options,k,u),o.updateElement(e[w],w,P,i)}}_getStacks(e,n){const r=this,o=r._cachedMeta.iScale,a=o.getMatchingVisibleMetas(r._type),u=o.options.stacked,c=a.length,f=[];let h,p;for(h=0;h<c;++h)if(p=a[h],!!p.controller.options.grouped){if(typeof n!="undefined"){const g=p.controller.getParsed(n)[p.controller._cachedMeta.vScale.axis];if(kt(g)||isNaN(g))continue}if((u===!1||f.indexOf(p.stack)===-1||u===void 0&&p.stack===void 0)&&f.push(p.stack),p.index===e)break}return f.length||f.push(void 0),f}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),o=n!==void 0?i.indexOf(n):-1;return o===-1?i.length-1:o}_getRuler(){const e=this,n=e.options,r=e._cachedMeta,i=r.iScale,o=[];let a,u;for(a=0,u=r.data.length;a<u;++a)o.push(i.getPixelForValue(e.getParsed(a)[i.axis],a));const c=n.barThickness;return{min:c||wY(i),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:e._getStackCount(),scale:i,grouped:n.grouped,ratio:c?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(e){const n=this,{_cachedMeta:{vScale:r,_stacked:i},options:{base:o,minBarLength:a}}=n,u=o||0,c=n.getParsed(e),f=c._custom,h=LE(f);let p=c[r.axis],g=0,v=i?n.applyStack(r,c,i):p,y,w;v!==p&&(g=v-p,v=p),h&&(p=f.barStart,v=f.barEnd-f.barStart,p!==0&&mo(p)!==mo(f.barEnd)&&(g=0),g+=p);const E=!kt(o)&&!h?o:g;let I=r.getPixelForValue(E);if(n.chart.getDataVisibility(e)?y=r.getPixelForValue(g+v):y=I,w=y-I,Math.abs(w)<a&&(w=SY(w,r,u)*a,p===u&&(I-=w/2),y=I+w),I===r.getPixelForValue(u)){const x=mo(w)*r.getLineWidthForValue(u)/2;I+=x,w-=x}return{size:w,base:I,head:y,center:y+w/2}}_calculateBarIndexPixels(e,n){const r=this,i=n.scale,o=r.options,a=o.skipNull,u=ot(o.maxBarThickness,1/0);let c,f;if(n.grouped){const h=a?r._getStackCount(e):n.stackCount,p=o.barThickness==="flex"?TY(e,n,o,h):EY(e,n,o,h),g=r._getStackIndex(r.index,r._cachedMeta.stack,a?e:void 0);c=p.start+p.chunk*g+p.chunk/2,f=Math.min(u,p.chunk*p.ratio)}else c=i.getPixelForValue(r.getParsed(e)[i.axis],e),f=Math.min(u,n.min*n.ratio);return{base:c-f/2,head:c+f/2,center:c,size:f}}draw(){const e=this,n=e._cachedMeta,r=n.vScale,i=n.data,o=i.length;let a=0;for(;a<o;++a)e.getParsed(a)[r.axis]!==null&&i[a].draw(e._ctx)}}FE.id="bar";FE.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};FE.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class UE extends vo{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(e,n,r,i){const{xScale:o,yScale:a}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=[];let h,p,g;for(h=r,p=r+i;h<p;++h)g=n[h],f.push({x:o.parse(Ns(g,u),h),y:a.parse(Ns(g,c),h),_custom:g&&g.r&&+g.r});return f}getMaxOverflow(){const{data:e,_parsed:n}=this._cachedMeta;let r=0;for(let i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size()/2,n[i]._custom);return r>0&&r}getLabelAndValue(e){const n=this,r=n._cachedMeta,{xScale:i,yScale:o}=r,a=n.getParsed(e),u=i.getLabelForValue(a.x),c=o.getLabelForValue(a.y),f=a._custom;return{label:r.label,value:"("+u+", "+c+(f?", "+f:"")+")"}}update(e){const n=this,r=n._cachedMeta.data;n.updateElements(r,0,r.length,e)}updateElements(e,n,r,i){const o=this,a=i==="reset",{iScale:u,vScale:c}=o._cachedMeta,f=o.resolveDataElementOptions(n,i),h=o.getSharedOptions(f),p=o.includeOptions(i,h),g=u.axis,v=c.axis;for(let y=n;y<n+r;y++){const w=e[y],E=!a&&o.getParsed(y),I={},x=I[g]=a?u.getPixelForDecimal(.5):u.getPixelForValue(E[g]),k=I[v]=a?c.getBasePixel():c.getPixelForValue(E[v]);I.skip=isNaN(x)||isNaN(k),p&&(I.options=o.resolveDataElementOptions(y,w.active?"active":i),a&&(I.options.radius=0)),o.updateElement(w,y,I,i)}o.updateSharedOptions(h,i,f)}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return n!=="active"&&(i.radius=0),i.radius+=ot(r&&r._custom,o),i}}UE.id="bubble";UE.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};UE.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function RY(t,e,n){let r=1,i=1,o=0,a=0;if(e<Vt){const u=t,c=u+e,f=Math.cos(u),h=Math.sin(u),p=Math.cos(c),g=Math.sin(c),v=(k,P,D)=>_m(k,u,c,!0)?1:Math.max(P,P*n,D,D*n),y=(k,P,D)=>_m(k,u,c,!0)?-1:Math.min(P,P*n,D,D*n),w=v(0,f,p),E=v(cn,h,g),I=y(nn,f,p),x=y(nn+cn,h,g);r=(w-I)/2,i=(E-x)/2,o=-(w+I)/2,a=-(E+x)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}class vh extends vo{constructor(e,n){super(e,n);this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=+r[o]}_getRotation(){return Bi(this.options.rotation-90)}_getCircumference(){return Bi(this.options.circumference)}_getRotationExtents(){let e=Vt,n=-Vt;const r=this;for(let i=0;i<r.chart.data.datasets.length;++i)if(r.chart.isDatasetVisible(i)){const o=r.chart.getDatasetMeta(i).controller,a=o._getRotation(),u=o._getCircumference();e=Math.min(e,a),n=Math.max(n,a+u)}return{rotation:e,circumference:n-e}}update(e){const n=this,r=n.chart,{chartArea:i}=r,o=n._cachedMeta,a=o.data,u=n.getMaxBorderWidth()+n.getMaxOffset(a)+n.options.spacing,c=Math.max((Math.min(i.width,i.height)-u)/2,0),f=Math.min(R6(n.options.cutout,c),1),h=n._getRingWeight(n.index),{circumference:p,rotation:g}=n._getRotationExtents(),{ratioX:v,ratioY:y,offsetX:w,offsetY:E}=RY(g,p,f),I=(i.width-u)/v,x=(i.height-u)/y,k=Math.max(Math.min(I,x)/2,0),P=pE(n.options.radius,k),D=Math.max(P*f,0),M=(P-D)/n._getVisibleDatasetWeightTotal();n.offsetX=w*P,n.offsetY=E*P,o.total=n.calculateTotal(),n.outerRadius=P-M*n._getRingWeightOffset(n.index),n.innerRadius=Math.max(n.outerRadius-M*h,0),n.updateElements(a,0,a.length,e)}_circumference(e,n){const r=this,i=r.options,o=r._cachedMeta,a=r._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:r.calculateCircumference(o._parsed[e]*a/Vt)}updateElements(e,n,r,i){const o=this,a=i==="reset",u=o.chart,c=u.chartArea,h=u.options.animation,p=(c.left+c.right)/2,g=(c.top+c.bottom)/2,v=a&&h.animateScale,y=v?0:o.innerRadius,w=v?0:o.outerRadius,E=o.resolveDataElementOptions(n,i),I=o.getSharedOptions(E),x=o.includeOptions(i,I);let k=o._getRotation(),P;for(P=0;P<n;++P)k+=o._circumference(P,a);for(P=n;P<n+r;++P){const D=o._circumference(P,a),M=e[P],W={x:p+o.offsetX,y:g+o.offsetY,startAngle:k,endAngle:k+D,circumference:D,outerRadius:w,innerRadius:y};x&&(W.options=I||o.resolveDataElementOptions(P,M.active?"active":i)),k+=D,o.updateElement(M,P,W,i)}o.updateSharedOptions(I,i,E)}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Vt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this,r=n._cachedMeta,i=n.chart,o=i.data.labels||[],a=gh(r._parsed[e],i.options.locale);return{label:o[e]||"",value:a}}getMaxBorderWidth(e){const n=this;let r=0;const i=n.chart;let o,a,u,c,f;if(!e){for(o=0,a=i.data.datasets.length;o<a;++o)if(i.isDatasetVisible(o)){u=i.getDatasetMeta(o),e=u.data,c=u.controller,c!==n&&c.configure();break}}if(!e)return 0;for(o=0,a=e.length;o<a;++o)f=c.resolveDataElementOptions(o),f.borderAlign!=="inner"&&(r=Math.max(r,f.borderWidth||0,f.hoverBorderWidth||0));return r}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(ot(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}vh.id="doughnut";vh.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};vh.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};vh.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((r,i)=>{const a=t.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return $t(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class Pm extends vo{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const n=this,r=n._cachedMeta,{dataset:i,data:o=[],_dataset:a}=r,u=n.chart._animationsDisabled;let{start:c,count:f}=kY(r,o,u);n._drawStart=c,n._drawCount=f,OY(r)&&(c=0,f=o.length),i._datasetIndex=n.index,i._decimated=!!a._decimated,i.points=o;const h=n.resolveDatasetElementOptions(e);n.options.showLine||(h.borderWidth=0),h.segment=n.options.segment,n.updateElement(i,void 0,{animated:!u,options:h},e),n.updateElements(o,c,f,e)}updateElements(e,n,r,i){const o=this,a=i==="reset",{iScale:u,vScale:c,_stacked:f}=o._cachedMeta,h=o.resolveDataElementOptions(n,i),p=o.getSharedOptions(h),g=o.includeOptions(i,p),v=u.axis,y=c.axis,w=o.options.spanGaps,E=Vc(w)?w:Number.POSITIVE_INFINITY,I=o.chart._animationsDisabled||a||i==="none";let x=n>0&&o.getParsed(n-1);for(let k=n;k<n+r;++k){const P=e[k],D=o.getParsed(k),M=I?P:{},W=kt(D[y]),V=M[v]=u.getPixelForValue(D[v],k),X=M[y]=a||W?c.getBasePixel():c.getPixelForValue(f?o.applyStack(c,D,f):D[y],k);M.skip=isNaN(V)||isNaN(X)||W,M.stop=k>0&&D[v]-x[v]>E,M.parsed=D,g&&(M.options=p||o.resolveDataElementOptions(k,P.active?"active":i)),I||o.updateElement(P,k,M,i),x=D}o.updateSharedOptions(p,i,h)}getMaxOverflow(){const e=this,n=e._cachedMeta,r=n.dataset,i=r.options&&r.options.borderWidth||0,o=n.data||[];if(!o.length)return i;const a=o[0].size(e.resolveDataElementOptions(0)),u=o[o.length-1].size(e.resolveDataElementOptions(o.length-1));return Math.max(i,a,u)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Pm.id="line";Pm.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Pm.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function kY(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:a,_parsed:u}=t,c=a.axis,{min:f,max:h,minDefined:p,maxDefined:g}=a.getUserBounds();p&&(i=ir(Math.min(iu(u,a.axis,f).lo,n?r:iu(e,c,a.getPixelForValue(f)).lo),0,r-1)),g?o=ir(Math.max(iu(u,a.axis,h).hi+1,n?0:iu(e,c,a.getPixelForValue(h)).hi+1),i,r)-i:o=r-i}return{start:i,count:o}}function OY(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}class jE extends vo{constructor(e,n){super(e,n);this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this,r=n._cachedMeta,i=n.chart,o=i.data.labels||[],a=gh(r._parsed[e].r,i.options.locale);return{label:o[e]||"",value:a}}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}_updateRadius(){const e=this,n=e.chart,r=n.chartArea,i=n.options,o=Math.min(r.right-r.left,r.bottom-r.top),a=Math.max(o/2,0),u=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),c=(a-u)/n.getVisibleDatasetCount();e.outerRadius=a-c*e.index,e.innerRadius=e.outerRadius-c}updateElements(e,n,r,i){const o=this,a=i==="reset",u=o.chart,c=o.getDataset(),h=u.options.animation,p=o._cachedMeta.rScale,g=p.xCenter,v=p.yCenter,y=p.getIndexAngle(0)-.5*nn;let w=y,E;const I=360/o.countVisibleElements();for(E=0;E<n;++E)w+=o._computeAngle(E,i,I);for(E=n;E<n+r;E++){const x=e[E];let k=w,P=w+o._computeAngle(E,i,I),D=u.getDataVisibility(E)?p.getDistanceFromCenterForValue(c.data[E]):0;w=P,a&&(h.animateScale&&(D=0),h.animateRotate&&(k=P=y));const M={x:g,y:v,innerRadius:0,outerRadius:D,startAngle:k,endAngle:P,options:o.resolveDataElementOptions(E,x.active?"active":i)};o.updateElement(x,E,M,i)}}countVisibleElements(){const e=this.getDataset(),n=this._cachedMeta;let r=0;return n.data.forEach((i,o)=>{!isNaN(e.data[o])&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Bi(this.resolveDataElementOptions(e,n).angle||r):0}}jE.id="polarArea";jE.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};jE.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((r,i)=>{const a=t.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class kP extends vh{}kP.id="pie";kP.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class BE extends vo{getLabelAndValue(e){const n=this,r=n._cachedMeta.vScale,i=n.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(i[r.axis])}}update(e){const n=this,r=n._cachedMeta,i=r.dataset,o=r.data||[],a=r.iScale.getLabels();if(i.points=o,e!=="resize"){const u=n.resolveDatasetElementOptions(e);n.options.showLine||(u.borderWidth=0);const c={_loop:!0,_fullLoop:a.length===o.length,options:u};n.updateElement(i,void 0,c,e)}n.updateElements(o,0,o.length,e)}updateElements(e,n,r,i){const o=this,a=o.getDataset(),u=o._cachedMeta.rScale,c=i==="reset";for(let f=n;f<n+r;f++){const h=e[f],p=o.resolveDataElementOptions(f,h.active?"active":i),g=u.getPointPositionForValue(f,a.data[f]),v=c?u.xCenter:g.x,y=c?u.yCenter:g.y,w={x:v,y,angle:g.angle,skip:isNaN(v)||isNaN(y),options:p};o.updateElement(h,f,w,i)}}}BE.id="radar";BE.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};BE.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class VE extends Pm{}VE.id="scatter";VE.defaults={showLine:!1,fill:!1};VE.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function au(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qE{constructor(e){this.options=e||{}}formats(){return au()}parse(e,n){return au()}format(e,n){return au()}add(e,n,r){return au()}diff(e,n,r){return au()}startOf(e,n,r){return au()}endOf(e,n){return au()}}qE.override=function(t){Object.assign(qE.prototype,t)};var NY={_date:qE};function yh(t,e){return"native"in t?{x:t.x,y:t.y}:aP(t,e)}function PY(t,e){const n=t.getSortedVisibleDatasetMetas();let r,i,o;for(let a=0,u=n.length;a<u;++a){({index:r,data:i}=n[a]);for(let c=0,f=i.length;c<f;++c)o=i[c],o.skip||e(o,r,c)}}function DY(t,e,n,r){const{controller:i,data:o,_sorted:a}=t,u=i._cachedMeta.iScale;if(u&&e===u.axis&&a&&o.length){const c=u._reversePixels?_5:iu;if(r){if(i._sharedOptions){const f=o[0],h=typeof f.getRange=="function"&&f.getRange(e);if(h){const p=c(o,e,n-h),g=c(o,e,n+h);return{lo:p.lo,hi:g.hi}}}}else return c(o,e,n)}return{lo:0,hi:o.length-1}}function OP(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let u=0,c=o.length;u<c;++u){const{index:f,data:h}=o[u],{lo:p,hi:g}=DY(o[u],e,a,i);for(let v=p;v<=g;++v){const y=h[v];y.skip||r(y,f,v)}}}function MY(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function HE(t,e,n,r){const i=[];return nu(e,t.chartArea,t._minPadding)&&OP(t,n,e,function(a,u,c){a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:u,index:c})},!0),i}function $E(t,e,n,r,i){const o=MY(n);let a=Number.POSITIVE_INFINITY,u=[];return nu(e,t.chartArea,t._minPadding)&&OP(t,n,e,function(f,h,p){if(r&&!f.inRange(e.x,e.y,i))return;const g=f.getCenterPoint(i);if(!nu(g,t.chartArea,t._minPadding)&&!f.inRange(e.x,e.y,i))return;const v=o(e,g);v<a?(u=[{element:f,datasetIndex:h,index:p}],a=v):v===a&&u.push({element:f,datasetIndex:h,index:p})}),u}function NP(t,e,n,r){const i=yh(e,t),o=[],a=n.axis,u=a==="x"?"inXRange":"inYRange";let c=!1;return PY(t,(f,h,p)=>{f[u](i[a],r)&&o.push({element:f,datasetIndex:h,index:p}),f.inRange(i.x,i.y,r)&&(c=!0)}),n.intersect&&!c?[]:o}var LY={modes:{index(t,e,n,r){const i=yh(e,t),o=n.axis||"x",a=n.intersect?HE(t,i,o,r):$E(t,i,o,!1,r),u=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const f=a[0].index,h=c.data[f];h&&!h.skip&&u.push({element:h,datasetIndex:c.index,index:f})}),u):[]},dataset(t,e,n,r){const i=yh(e,t),o=n.axis||"xy";let a=n.intersect?HE(t,i,o,r):$E(t,i,o,!1,r);if(a.length>0){const u=a[0].datasetIndex,c=t.getDatasetMeta(u).data;a=[];for(let f=0;f<c.length;++f)a.push({element:c[f],datasetIndex:u,index:f})}return a},point(t,e,n,r){const i=yh(e,t),o=n.axis||"xy";return HE(t,i,o,r)},nearest(t,e,n,r){const i=yh(e,t),o=n.axis||"xy";return $E(t,i,o,n.intersect,r)},x(t,e,n,r){return n.axis="x",NP(t,e,n,r)},y(t,e,n,r){return n.axis="y",NP(t,e,n,r)}}};const PP=["left","top","right","bottom"];function _h(t,e){return t.filter(n=>n.pos===e)}function DP(t,e){return t.filter(n=>PP.indexOf(n.pos)===-1&&n.box.axis===e)}function bh(t,e){return t.sort((n,r)=>{const i=e?r:n,o=e?n:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function FY(t){const e=[];let n,r,i,o,a,u;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:o,options:{stack:a,stackWeight:u=1}}=i,e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:u});return e}function UY(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:o}=n;if(!r||!PP.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function jY(t,e){const n=UY(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,a,u;for(o=0,a=t.length;o<a;++o){u=t[o];const{fullSize:c}=u.box,f=n[u.stack],h=f&&u.stackWeight/f.weight;u.horizontal?(u.width=h?h*r:c&&e.availableWidth,u.height=i):(u.width=r,u.height=h?h*i:c&&e.availableHeight)}return n}function BY(t){const e=FY(t),n=bh(e.filter(f=>f.box.fullSize),!0),r=bh(_h(e,"left"),!0),i=bh(_h(e,"right")),o=bh(_h(e,"top"),!0),a=bh(_h(e,"bottom")),u=DP(e,"x"),c=DP(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(a).concat(u),chartArea:_h(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(a).concat(u)}}function MP(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function LP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function VY(t,e,n,r){const{pos:i,box:o}=n,a=t.maxPadding;if(!St(i)){n.size&&(t[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?o.height:o.width),n.size=p.size/p.count,t[i]+=n.size}o.getPadding&&LP(a,o.getPadding());const u=Math.max(0,e.outerWidth-MP(a,t,"left","right")),c=Math.max(0,e.outerHeight-MP(a,t,"top","bottom")),f=u!==t.w,h=c!==t.h;return t.w=u,t.h=c,n.horizontal?{same:f,other:h}:{same:h,other:f}}function qY(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function HY(t,e){const n=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{o[a]=Math.max(e[a],n[a])}),o}return r(t?["left","right"]:["top","bottom"])}function wh(t,e,n,r){const i=[];let o,a,u,c,f,h;for(o=0,a=t.length,f=0;o<a;++o){u=t[o],c=u.box,c.update(u.width||e.w,u.height||e.h,HY(u.horizontal,e));const{same:p,other:g}=VY(e,n,u,r);f|=p&&i.length,h=h||g,c.fullSize||i.push(u)}return f&&wh(i,e,n,r)||h}function Dm(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function FP(t,e,n,r){const i=n.padding;let{x:o,y:a}=e;for(const u of t){const c=u.box,f=r[u.stack]||{count:1,placed:0,weight:1},h=u.stackWeight/f.weight||1;if(u.horizontal){const p=e.w*h,g=f.size||c.height;Mr(f.start)&&(a=f.start),c.fullSize?Dm(c,i.left,a,n.outerWidth-i.right-i.left,g):Dm(c,e.left+f.placed,a,p,g),f.start=a,f.placed+=p,a=c.bottom}else{const p=e.h*h,g=f.size||c.width;Mr(f.start)&&(o=f.start),c.fullSize?Dm(c,o,i.top,g,n.outerHeight-i.bottom-i.top):Dm(c,o,e.top+f.placed,g,p),f.start=o,f.placed+=p,o=c.right}}e.x=o,e.y=a}ft.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var vi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=yr(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),u=BY(t.boxes),c=u.vertical,f=u.horizontal;Ot(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const h=c.reduce((w,E)=>E.box.options&&E.box.options.display===!1?w:w+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/h,hBoxMaxHeight:a/2}),g=Object.assign({},i);LP(g,yr(r));const v=Object.assign({maxPadding:g,w:o,h:a,x:i.left,y:i.top},i),y=jY(c.concat(f),p);wh(u.fullSize,v,p,y),wh(c,v,p,y),wh(f,v,p,y)&&wh(c,v,p,y),qY(v),FP(u.leftAndTop,v,p,y),v.x+=v.w,v.y+=v.h,FP(u.rightAndBottom,v,p,y),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Ot(u.chartArea,w=>{const E=w.box;Object.assign(E,t.chartArea),E.update(v.w,v.h)})}};class UP{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}}class $Y extends UP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}}const Mm="$chartjs",WY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jP=t=>t===null||t==="";function zY(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Mm]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",jP(i)){const o=cP(t,"width");o!==void 0&&(t.width=o)}if(jP(r))if(t.style.height==="")t.height=t.width/(e||2);else{const o=cP(t,"height");o!==void 0&&(t.height=o)}return t}const BP=$5?{passive:!0}:!1;function KY(t,e,n){t.addEventListener(e,n,BP)}function GY(t,e,n){t.canvas.removeEventListener(e,n,BP)}function YY(t,e){const n=WY[t.type]||t.type,{x:r,y:i}=aP(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function XY(t,e,n){const r=t.canvas,o=r&&$c(r)||r,a=new MutationObserver(u=>{const c=$c(o);u.forEach(f=>{for(let h=0;h<f.addedNodes.length;h++){const p=f.addedNodes[h];(p===o||p===c)&&n(f.target)}})});return a.observe(document,{childList:!0,subtree:!0}),a}function QY(t,e,n){const r=t.canvas,i=r&&$c(r);if(!i)return;const o=new MutationObserver(a=>{a.forEach(u=>{for(let c=0;c<u.removedNodes.length;c++)if(u.removedNodes[c]===r){n();break}})});return o.observe(i,{childList:!0}),o}const Eh=new Map;let VP=0;function qP(){const t=window.devicePixelRatio;t!==VP&&(VP=t,Eh.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function JY(t,e){Eh.size||window.addEventListener("resize",qP),Eh.set(t,e)}function ZY(t){Eh.delete(t),Eh.size||window.removeEventListener("resize",qP)}function eX(t,e,n){const r=t.canvas,i=r&&$c(r);if(!i)return;const o=xN((u,c)=>{const f=i.clientWidth;n(u,c),f<i.clientWidth&&n()},window),a=new ResizeObserver(u=>{const c=u[0],f=c.contentRect.width,h=c.contentRect.height;f===0&&h===0||o(f,h)});return a.observe(i),JY(t,o),a}function WE(t,e,n){n&&n.disconnect(),e==="resize"&&ZY(t)}function tX(t,e,n){const r=t.canvas,i=xN(o=>{t.ctx!==null&&n(YY(o,t))},t,o=>{const a=o[0];return[a,a.offsetX,a.offsetY]});return KY(r,e,i),i}class nX extends UP{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(zY(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Mm])return!1;const r=n[Mm].initial;["height","width"].forEach(o=>{const a=r[o];kt(a)?n.removeAttribute(o):n.setAttribute(o,a)});const i=r.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[Mm],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:XY,detach:QY,resize:eX}[n]||tX;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:WE,detach:WE,resize:WE}[n]||GY)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return H5(e,n,r,i)}isAttached(e){const n=$c(e);return!!(n&&n.isConnected)}}function rX(t){return!sP()||typeof OffscreenCanvas!="undefined"&&t instanceof OffscreenCanvas?$Y:nX}class Vi{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Vc(this.x)&&Vc(this.y)}getProps(e,n){const r=this,i=this.$animations;if(!n||!i)return r;const o={};return e.forEach(a=>{o[a]=i[a]&&i[a].active()?i[a]._to:r[a]}),o}}Vi.defaults={};Vi.defaultRoutes=void 0;const HP={values(t){return $t(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),o=iX(t,n)}const a=gi(Math.abs(o)),u=Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),gh(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=t/Math.pow(10,Math.floor(gi(t)));return r===1||r===2||r===5?HP.numeric.call(this,t,e,n):""}};function iX(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Lm={formatters:HP};ft.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Lm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});ft.route("scale.ticks","color","","color");ft.route("scale.grid","color","","borderColor");ft.route("scale.grid","borderColor","","borderColor");ft.route("scale.title","color","","color");ft.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});ft.describe("scales",{_fallback:"scale"});ft.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function oX(t,e){const n=t.options.ticks,r=n.maxTicksLimit||sX(t),i=n.major.enabled?uX(e):[],o=i.length,a=i[0],u=i[o-1],c=[];if(o>r)return cX(e,c,i,o/r),c;const f=aX(i,e,r);if(o>0){let h,p;const g=o>1?Math.round((u-a)/(o-1)):null;for(Fm(e,c,f,kt(g)?0:a-g,a),h=0,p=o-1;h<p;h++)Fm(e,c,f,i[h],i[h+1]);return Fm(e,c,f,u,kt(g)?e.length:u+g),c}return Fm(e,c,f),c}function sX(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function aX(t,e,n){const r=lX(t),i=e.length/n;if(!r)return Math.max(i,1);const o=F6(r);for(let a=0,u=o.length-1;a<u;a++){const c=o[a];if(c>i)return c}return Math.max(i,1)}function uX(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function cX(t,e,n,r){let i=0,o=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===o&&(e.push(t[a]),i++,o=n[i*r])}function Fm(t,e,n,r,i){const o=ot(r,0),a=Math.min(ot(i,t.length),t.length);let u=0,c,f,h;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),h=o;h<0;)u++,h=Math.round(o+u*n);for(f=Math.max(o,0);f<a;f++)f===h&&(e.push(t[f]),u++,h=Math.round(o+u*n))}function lX(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const fX=t=>t==="left"?"right":t==="right"?"left":t,$P=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function WP(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function hX(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,a=t._endPixel,u=1e-6;let c=t.getPixelForTick(i),f;if(!(n&&(r===1?f=Math.max(c-o,a-c):e===0?f=(t.getPixelForTick(1)-c)/2:f=(c-t.getPixelForTick(i-1))/2,c+=i<e?f:-f,c<o-u||c>a+u)))return c}function dX(t,e){Ot(t,n=>{const r=n.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete n.data[r[o]];r.splice(0,i)}})}function Th(t){return t.drawTicks?t.tickLength:0}function zP(t,e){if(!t.display)return 0;const n=In(t.font,e),r=yr(t.padding);return($t(t.text)?t.text.length:1)*n.lineHeight+r.height}function pX(t,e){return Object.assign(Object.create(t),{scale:e,type:"scale"})}function gX(t,e,n){return Object.assign(Object.create(t),{tick:n,index:e,type:"tick"})}function mX(t,e,n){let r=dE(t);return(n&&e!=="right"||!n&&e==="right")&&(r=fX(r)),r}function vX(t,e,n,r){const{top:i,left:o,bottom:a,right:u,chart:c}=t,{chartArea:f,scales:h}=c;let p=0,g,v,y;const w=a-i,E=u-o;if(t.isHorizontal()){if(v=rr(r,o,u),St(n)){const I=Object.keys(n)[0],x=n[I];y=h[I].getPixelForValue(x)+w-e}else n==="center"?y=(f.bottom+f.top)/2+w-e:y=$P(t,n,e);g=u-o}else{if(St(n)){const I=Object.keys(n)[0],x=n[I];v=h[I].getPixelForValue(x)-E+e}else n==="center"?v=(f.left+f.right)/2-E+e:v=$P(t,n,e);y=rr(r,a,i),p=n==="left"?-cn:cn}return{titleX:v,titleY:y,maxWidth:g,rotation:p}}class uu extends Vi{constructor(e){super();this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){const n=this;n.options=e.setContext(n.getContext()),n.axis=e.axis,n._userMin=n.parse(e.min),n._userMax=n.parse(e.max),n._suggestedMin=n.parse(e.suggestedMin),n._suggestedMax=n.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=pi(e,Number.POSITIVE_INFINITY),n=pi(n,Number.NEGATIVE_INFINITY),r=pi(r,Number.POSITIVE_INFINITY),i=pi(i,Number.NEGATIVE_INFINITY),{min:pi(e,r),max:pi(n,i),minDefined:$n(e),maxDefined:$n(n)}}getMinMax(e){const n=this;let{min:r,max:i,minDefined:o,maxDefined:a}=n.getUserBounds(),u;if(o&&a)return{min:r,max:i};const c=n.getMatchingVisibleMetas();for(let f=0,h=c.length;f<h;++f)u=c[f].controller.getMinMax(n,e),o||(r=Math.min(r,u.min)),a||(i=Math.max(i,u.max));return{min:pi(r,pi(i,r)),max:pi(i,pi(r,i))}}getPadding(){const e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(e,n,r){const i=this,o=i.options.ticks,a=o.sampleSize;i.beforeUpdate(),i.maxWidth=e,i.maxHeight=n,i._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),i.ticks=null,i._labelSizes=null,i._gridLineItems=null,i._labelItems=null,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i._maxLength=i.isHorizontal()?i.width+r.left+r.right:i.height+r.top+r.bottom,i._dataLimitsCached||(i.beforeDataLimits(),i.determineDataLimits(),i.afterDataLimits(),i._range=y5(i,i.options.grace),i._dataLimitsCached=!0),i.beforeBuildTicks(),i.ticks=i.buildTicks()||[],i.afterBuildTicks();const u=a<i.ticks.length;i._convertTicksToLabels(u?WP(i.ticks,a):i.ticks),i.configure(),i.beforeCalculateLabelRotation(),i.calculateLabelRotation(),i.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(i.ticks=oX(i,i.ticks),i._labelSizes=null),u&&i._convertTicksToLabels(i.ticks),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate()}configure(){const e=this;let n=e.options.reverse,r,i;e.isHorizontal()?(r=e.left,i=e.right):(r=e.top,i=e.bottom,n=!n),e._startPixel=r,e._endPixel=i,e._reversePixels=n,e._length=i-r,e._alignToPixels=e.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){const e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(e){const n=this;n.chart.notifyPlugins(e,n.getContext()),Bt(n.options[e],[n])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this,r=n.options.ticks;let i,o,a;for(i=0,o=e.length;i<o;i++)a=e[i],a.label=Bt(r.callback,[a.value,i,e],n)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this,n=e.options,r=n.ticks,i=e.ticks.length,o=r.minRotation||0,a=r.maxRotation;let u=o,c,f,h;if(!e._isVisible()||!r.display||o>=a||i<=1||!e.isHorizontal()){e.labelRotation=o;return}const p=e._getLabelSizes(),g=p.widest.width,v=p.highest.height,y=ir(e.chart.width-g,0,e.maxWidth);c=n.offset?e.maxWidth/i:y/(i-1),g+6>c&&(c=y/(i-(n.offset?.5:1)),f=e.maxHeight-Th(n.grid)-r.padding-zP(n.title,e.chart.options.font),h=Math.sqrt(g*g+v*v),u=mE(Math.min(Math.asin(ir((p.highest.height+6)/c,-1,1)),Math.asin(ir(f/h,-1,1))-Math.asin(ir(v/h,-1,1)))),u=Math.max(o,Math.min(a,u))),e.labelRotation=u}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){const e=this,n={width:0,height:0},{chart:r,options:{ticks:i,title:o,grid:a}}=e,u=e._isVisible(),c=e.isHorizontal();if(u){const f=zP(o,r.options.font);if(c?(n.width=e.maxWidth,n.height=Th(a)+f):(n.height=e.maxHeight,n.width=Th(a)+f),i.display&&e.ticks.length){const{first:h,last:p,widest:g,highest:v}=e._getLabelSizes(),y=i.padding*2,w=Bi(e.labelRotation),E=Math.cos(w),I=Math.sin(w);if(c){const x=i.mirror?0:I*g.width+E*v.height;n.height=Math.min(e.maxHeight,n.height+x+y)}else{const x=i.mirror?0:E*g.width+I*v.height;n.width=Math.min(e.maxWidth,n.width+x+y)}e._calculatePadding(h,p,I,E)}}e._handleMargins(),c?(e.width=e._length=r.width-e._margins.left-e._margins.right,e.height=n.height):(e.width=n.width,e.height=e._length=r.height-e._margins.top-e._margins.bottom)}_calculatePadding(e,n,r,i){const o=this,{ticks:{align:a,padding:u},position:c}=o.options,f=o.labelRotation!==0,h=c!=="top"&&o.axis==="x";if(o.isHorizontal()){const p=o.getPixelForTick(0)-o.left,g=o.right-o.getPixelForTick(o.ticks.length-1);let v=0,y=0;f?h?(v=i*e.width,y=r*n.height):(v=r*e.height,y=i*n.width):a==="start"?y=n.width:a==="end"?v=e.width:(v=e.width/2,y=n.width/2),o.paddingLeft=Math.max((v-p+u)*o.width/(o.width-p),0),o.paddingRight=Math.max((y-g+u)*o.width/(o.width-g),0)}else{let p=n.height/2,g=e.height/2;a==="start"?(p=0,g=e.height):a==="end"&&(p=n.height,g=0),o.paddingTop=p+u,o.paddingBottom=g+u}}_handleMargins(){const e=this;e._margins&&(e._margins.left=Math.max(e.paddingLeft,e._margins.left),e._margins.top=Math.max(e.paddingTop,e._margins.top),e._margins.right=Math.max(e.paddingRight,e._margins.right),e._margins.bottom=Math.max(e.paddingBottom,e._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){const n=this;n.beforeTickToLabelConversion(),n.generateTickLabels(e);let r,i;for(r=0,i=e.length;r<i;r++)kt(e[r].label)&&(e.splice(r,1),i--,r--);n.afterTickToLabelConversion()}_getLabelSizes(){const e=this;let n=e._labelSizes;if(!n){const r=e.options.ticks.sampleSize;let i=e.ticks;r<i.length&&(i=WP(i,r)),e._labelSizes=n=e._computeLabelSizes(i,i.length)}return n}_computeLabelSizes(e,n){const{ctx:r,_longestTextCache:i}=this,o=[],a=[];let u=0,c=0,f,h,p,g,v,y,w,E,I,x,k;for(f=0;f<n;++f){if(g=e[f].label,v=this._resolveTickFontOptions(f),r.font=y=v.string,w=i[y]=i[y]||{data:{},gc:[]},E=v.lineHeight,I=x=0,!kt(g)&&!$t(g))I=Cm(r,w.data,w.gc,I,g),x=E;else if($t(g))for(h=0,p=g.length;h<p;++h)k=g[h],!kt(k)&&!$t(k)&&(I=Cm(r,w.data,w.gc,I,k),x+=E);o.push(I),a.push(x),u=Math.max(I,u),c=Math.max(x,c)}dX(i,n);const P=o.indexOf(u),D=a.indexOf(c),M=W=>({width:o[W]||0,height:a[W]||0});return{first:M(0),last:M(n-1),widest:M(P),highest:M(D),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){const n=this;n._reversePixels&&(e=1-e);const r=n._startPixel+e*n._length;return V6(n._alignToPixels?tu(n.chart,r,0):r)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this,r=n.ticks||[];if(e>=0&&e<r.length){const i=r[e];return i.$context||(i.$context=gX(n.getContext(),e,i))}return n.$context||(n.$context=pX(n.chart.getContext(),n))}_tickSize(){const e=this,n=e.options.ticks,r=Bi(e.labelRotation),i=Math.abs(Math.cos(r)),o=Math.abs(Math.sin(r)),a=e._getLabelSizes(),u=n.autoSkipPadding||0,c=a?a.widest.width+u:0,f=a?a.highest.height+u:0;return e.isHorizontal()?f*i>c*o?c/i:f/o:f*o<c*i?f/i:c/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this,r=n.axis,i=n.chart,o=n.options,{grid:a,position:u}=o,c=a.offset,f=n.isHorizontal(),p=n.ticks.length+(c?1:0),g=Th(a),v=[],y=a.setContext(n.getContext()),w=y.drawBorder?y.borderWidth:0,E=w/2,I=function($){return tu(i,$,w)};let x,k,P,D,M,W,V,X,O,pe,Ee,Z;if(u==="top")x=I(n.bottom),W=n.bottom-g,X=x-E,pe=I(e.top)+E,Z=e.bottom;else if(u==="bottom")x=I(n.top),pe=e.top,Z=I(e.bottom)-E,W=x+E,X=n.top+g;else if(u==="left")x=I(n.right),M=n.right-g,V=x-E,O=I(e.left)+E,Ee=e.right;else if(u==="right")x=I(n.left),O=e.left,Ee=I(e.right)-E,M=x+E,V=n.left+g;else if(r==="x"){if(u==="center")x=I((e.top+e.bottom)/2+.5);else if(St(u)){const $=Object.keys(u)[0],z=u[$];x=I(n.chart.scales[$].getPixelForValue(z))}pe=e.top,Z=e.bottom,W=x+E,X=W+g}else if(r==="y"){if(u==="center")x=I((e.left+e.right)/2);else if(St(u)){const $=Object.keys(u)[0],z=u[$];x=I(n.chart.scales[$].getPixelForValue(z))}M=x-E,V=M-g,O=e.left,Ee=e.right}const Ie=ot(o.ticks.maxTicksLimit,p),ve=Math.max(1,Math.ceil(p/Ie));for(k=0;k<p;k+=ve){const $=a.setContext(n.getContext(k)),z=$.lineWidth,J=$.color,se=a.borderDash||[],Pe=$.borderDashOffset,Ke=$.tickWidth,Ue=$.tickColor,st=$.tickBorderDash||[],zt=$.tickBorderDashOffset;P=hX(n,k,c),P!==void 0&&(D=tu(i,P,z),f?M=V=O=Ee=D:W=X=pe=Z=D,v.push({tx1:M,ty1:W,tx2:V,ty2:X,x1:O,y1:pe,x2:Ee,y2:Z,width:z,color:J,borderDash:se,borderDashOffset:Pe,tickWidth:Ke,tickColor:Ue,tickBorderDash:st,tickBorderDashOffset:zt}))}return n._ticksLength=p,n._borderValue=x,v}_computeLabelItems(e){const n=this,r=n.axis,i=n.options,{position:o,ticks:a}=i,u=n.isHorizontal(),c=n.ticks,{align:f,crossAlign:h,padding:p,mirror:g}=a,v=Th(i.grid),y=v+p,w=g?-p:y,E=-Bi(n.labelRotation),I=[];let x,k,P,D,M,W,V,X,O,pe,Ee,Z,Ie="middle";if(o==="top")W=n.bottom-w,V=n._getXAxisLabelAlignment();else if(o==="bottom")W=n.top+w,V=n._getXAxisLabelAlignment();else if(o==="left"){const $=n._getYAxisLabelAlignment(v);V=$.textAlign,M=$.x}else if(o==="right"){const $=n._getYAxisLabelAlignment(v);V=$.textAlign,M=$.x}else if(r==="x"){if(o==="center")W=(e.top+e.bottom)/2+y;else if(St(o)){const $=Object.keys(o)[0],z=o[$];W=n.chart.scales[$].getPixelForValue(z)+y}V=n._getXAxisLabelAlignment()}else if(r==="y"){if(o==="center")M=(e.left+e.right)/2-y;else if(St(o)){const $=Object.keys(o)[0],z=o[$];M=n.chart.scales[$].getPixelForValue(z)}V=n._getYAxisLabelAlignment(v).textAlign}r==="y"&&(f==="start"?Ie="top":f==="end"&&(Ie="bottom"));const ve=n._getLabelSizes();for(x=0,k=c.length;x<k;++x){P=c[x],D=P.label;const $=a.setContext(n.getContext(x));X=n.getPixelForTick(x)+a.labelOffset,O=n._resolveTickFontOptions(x),pe=O.lineHeight,Ee=$t(D)?D.length:1;const z=Ee/2,J=$.color,se=$.textStrokeColor,Pe=$.textStrokeWidth;u?(M=X,o==="top"?h==="near"||E!==0?Z=-Ee*pe+pe/2:h==="center"?Z=-ve.highest.height/2-z*pe+pe:Z=-ve.highest.height+pe/2:h==="near"||E!==0?Z=pe/2:h==="center"?Z=ve.highest.height/2-z*pe:Z=ve.highest.height-Ee*pe,g&&(Z*=-1)):(W=X,Z=(1-Ee)*pe/2);let Ke;if($.showLabelBackdrop){const Ue=yr($.backdropPadding),st=ve.heights[x],zt=ve.widths[x];let Q=W+Z-Ue.top,Te=M-Ue.left;switch(Ie){case"middle":Q-=st/2;break;case"bottom":Q-=st;break}switch(V){case"center":Te-=zt/2;break;case"right":Te-=zt;break}Ke={left:Te,top:Q,width:zt+Ue.width,height:st+Ue.height,color:$.backdropColor}}I.push({rotation:E,label:D,font:O,color:J,strokeColor:se,strokeWidth:Pe,textOffset:Z,textAlign:V,textBaseline:Ie,translation:[M,W],backdrop:Ke})}return I}_getXAxisLabelAlignment(){const e=this,{position:n,ticks:r}=e.options;if(-Bi(e.labelRotation))return n==="top"?"left":"right";let o="center";return r.align==="start"?o="left":r.align==="end"&&(o="right"),o}_getYAxisLabelAlignment(e){const n=this,{position:r,ticks:{crossAlign:i,mirror:o,padding:a}}=n.options,u=n._getLabelSizes(),c=e+a,f=u.widest.width;let h,p;return r==="left"?o?(p=n.right+a,i==="near"?h="left":i==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=n.right-c,i==="near"?h="right":i==="center"?(h="center",p-=f/2):(h="left",p=n.left)):r==="right"?o?(p=n.left+a,i==="near"?h="right":i==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=n.left+c,i==="near"?h="left":i==="center"?(h="center",p+=f/2):(h="right",p=n.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){const e=this;if(e.options.ticks.mirror)return;const n=e.chart,r=e.options.position;if(r==="left"||r==="right")return{top:0,left:e.left,bottom:n.height,right:e.right};if(r==="top"||r==="bottom")return{top:e.top,left:0,bottom:e.bottom,right:n.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:o,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,o,a),e.restore())}getLineWidthForValue(e){const n=this,r=n.options.grid;if(!n._isVisible()||!r.display)return 0;const o=n.ticks.findIndex(a=>a.value===e);return o>=0?r.setContext(n.getContext(o)).lineWidth:0}drawGrid(e){const n=this,r=n.options.grid,i=n.ctx,o=n._gridLineItems||(n._gridLineItems=n._computeGridLineItems(e));let a,u;const c=(f,h,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(r.display)for(a=0,u=o.length;a<u;++a){const f=o[a];r.drawOnChartArea&&c({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),r.drawTicks&&c({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const e=this,{chart:n,ctx:r,options:{grid:i}}=e,o=i.setContext(e.getContext()),a=i.drawBorder?o.borderWidth:0;if(!a)return;const u=i.setContext(e.getContext(0)).lineWidth,c=e._borderValue;let f,h,p,g;e.isHorizontal()?(f=tu(n,e.left,a)-a/2,h=tu(n,e.right,u)+u/2,p=g=c):(p=tu(n,e.top,a)-a/2,g=tu(n,e.bottom,u)+u/2,f=h=c),r.save(),r.lineWidth=o.borderWidth,r.strokeStyle=o.borderColor,r.beginPath(),r.moveTo(f,p),r.lineTo(h,g),r.stroke(),r.restore()}drawLabels(e){const n=this;if(!n.options.ticks.display)return;const i=n.ctx,o=n._computeLabelArea();o&&CE(i,o);const a=n._labelItems||(n._labelItems=n._computeLabelItems(e));let u,c;for(u=0,c=a.length;u<c;++u){const f=a[u],h=f.font,p=f.label;f.backdrop&&(i.fillStyle=f.backdrop.color,i.fillRect(f.backdrop.left,f.backdrop.top,f.backdrop.width,f.backdrop.height));let g=f.textOffset;ru(i,p,0,g,h,f)}o&&AE(i)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const o=In(r.font),a=yr(r.padding),u=r.align;let c=o.lineHeight/2;n==="bottom"||n==="center"||St(n)?(c+=a.bottom,$t(r.text)&&(c+=o.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:f,titleY:h,maxWidth:p,rotation:g}=vX(this,c,n,u);ru(e,r.text,0,0,o,{color:r.color,maxWidth:p,rotation:g,textAlign:mX(u,n,i),textBaseline:"middle",translation:[f,h]})}draw(e){const n=this;!n._isVisible()||(n.drawBackground(),n.drawGrid(e),n.drawBorder(),n.drawTitle(),n.drawLabels(e))}_layers(){const e=this,n=e.options,r=n.ticks&&n.ticks.z||0,i=ot(n.grid&&n.grid.z,-1);return!e._isVisible()||e.draw!==uu.prototype.draw?[{z:r,draw(o){e.draw(o)}}]:[{z:i,draw(o){e.drawBackground(),e.drawGrid(o),e.drawTitle()}},{z:i+1,draw(){e.drawBorder()}},{z:r,draw(o){e.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this,r=n.chart.getSortedVisibleDatasetMetas(),i=n.axis+"AxisID",o=[];let a,u;for(a=0,u=r.length;a<u;++a){const c=r[a];c[i]===n.id&&(!e||c.type===e)&&o.push(c)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return In(n.font)}_maxDigits(){const e=this,n=e._resolveTickFontOptions(0).lineHeight;return(e.isHorizontal()?e.width:e.height)/n}}class Um{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=this,r=Object.getPrototypeOf(e);let i;bX(r)&&(i=n.register(r));const o=n.items,a=e.id,u=n.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,yX(e,u,i),n.override&&ft.override(e.id,e.overrides)),u}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in ft[i]&&(delete ft[i][r],this.override&&delete eu[r])}}function yX(t,e,n){const r=sh(Object.create(null),[n?ft.get(n):{},ft.get(e),t.defaults]);ft.set(e,r),t.defaultRoutes&&_X(e,t.defaultRoutes),t.descriptors&&ft.describe(e,t.descriptors)}function _X(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),u=a.pop(),c=a.join(".");ft.route(o,i,c,u)})}function bX(t){return"id"in t&&"defaults"in t}class wX{constructor(){this.controllers=new Um(vo,"datasets",!0),this.elements=new Um(Vi,"elements"),this.plugins=new Um(Object,"plugins"),this.scales=new Um(uu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){const i=this;[...n].forEach(o=>{const a=r||i._getRegistryForType(o);r||a.isForType(o)||a===i.plugins&&o.id?i._exec(e,a,o):Ot(o,u=>{const c=r||i._getRegistryForType(u);i._exec(e,c,u)})})}_exec(e,n,r){const i=gE(e);Bt(r["before"+i],[],r),n[e](r),Bt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ko=new wX;class EX{constructor(){this._init=[]}notify(e,n,r,i){const o=this;n==="beforeInit"&&(o._init=o._createDescriptors(e,!0),o._notify(o._init,e,"install"));const a=i?o._descriptors(e).filter(i):o._descriptors(e),u=o._notify(a,e,n,r);return n==="destroy"&&(o._notify(a,e,"stop"),o._notify(o._init,e,"uninstall")),u}_notify(e,n,r,i){i=i||{};for(const o of e){const a=o.plugin,u=a[r],c=[n,i,o.options];if(Bt(u,c,a)===!1&&i.cancelable)return!1}return!0}invalidate(){kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=ot(r.options&&r.options.plugins,{}),o=TX(r);return i===!1&&!n?[]:SX(e,o,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(o,a)=>o.filter(u=>!a.some(c=>u.plugin.id===c.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function TX(t){const e=[],n=Object.keys(Ko.plugins.items);for(let i=0;i<n.length;i++)e.push(Ko.getPlugin(n[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];e.indexOf(o)===-1&&e.push(o)}return e}function IX(t,e){return!e&&t===!1?null:t===!0?{}:t}function SX(t,e,n,r){const i=[],o=t.getContext();for(let a=0;a<e.length;a++){const u=e[a],c=u.id,f=IX(n[c],r);f!==null&&i.push({plugin:u,options:CX(t.config,u,f,o)})}return i}function CX(t,e,n,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zE(t,e){const n=ft.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function AX(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function xX(t,e){return t===e?"_index_":"_value_"}function RX(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function KE(t,e){return t==="x"||t==="y"?t:e.axis||RX(e.position)||t.charAt(0).toLowerCase()}function kX(t,e){const n=eu[t.type]||{scales:{}},r=e.scales||{},i=zE(t.type,e),o=Object.create(null),a=Object.create(null);return Object.keys(r).forEach(u=>{const c=r[u],f=KE(u,c),h=xX(f,i),p=n.scales||{};o[f]=o[f]||u,a[u]=ah(Object.create(null),[{axis:f},c,p[f],p[h]])}),t.data.datasets.forEach(u=>{const c=u.type||t.type,f=u.indexAxis||zE(c,e),p=(eu[c]||{}).scales||{};Object.keys(p).forEach(g=>{const v=AX(g,f),y=u[v+"AxisID"]||o[v]||v;a[y]=a[y]||Object.create(null),ah(a[y],[{axis:v},r[y],p[g]])})}),Object.keys(a).forEach(u=>{const c=a[u];ah(c,[ft.scales[c.type],ft.scale])}),a}function KP(t){const e=t.options||(t.options={});e.plugins=ot(e.plugins,{}),e.scales=kX(t,e)}function GP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function OX(t){return t=t||{},t.data=GP(t.data),KP(t),t}const YP=new Map,XP=new Set;function jm(t,e){let n=YP.get(t);return n||(n=e(),YP.set(t,n),XP.add(n)),n}const Ih=(t,e,n)=>{const r=Ns(e,n);r!==void 0&&t.add(r)};class NX{constructor(e){this._config=OX(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=GP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),KP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return jm(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return jm(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return jm(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:o}=this,a=this._cachedScopes(e,r),u=a.get(n);if(u)return u;const c=new Set;n.forEach(h=>{e&&(c.add(e),h.forEach(p=>Ih(c,e,p))),h.forEach(p=>Ih(c,i,p)),h.forEach(p=>Ih(c,eu[o]||{},p)),h.forEach(p=>Ih(c,ft,p)),h.forEach(p=>Ih(c,IE,p))});const f=Array.from(c);return f.length===0&&f.push(Object.create(null)),XP.has(n)&&a.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,eu[n]||{},ft.datasets[n]||{},{type:n},ft,IE]}resolveNamedOptions(e,n,r,i=[""]){const o={$shared:!0},{resolver:a,subPrefixes:u}=QP(this._resolverCache,e,i);let c=a;if(PX(a,n)){o.$shared=!1,r=Bc(r)?r():r;const f=this.createResolver(e,r,u);c=qc(a,r,f)}for(const f of n)o[f]=c[f];return o}createResolver(e,n,r=[""],i){const{resolver:o}=QP(this._resolverCache,e,r);return St(n)?qc(o,n,void 0,i):o}}function QP(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);return o||(o={resolver:OE(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,o)),o}function PX(t,e){const{isScriptable:n,isIndexable:r}=JN(t);for(const i of e)if(n(i)&&Bc(t[i])||r(i)&&$t(t[i]))return!0;return!1}var DX="3.5.1";const MX=["top","bottom","left","right","chartArea"];function JP(t,e){return t==="top"||t==="bottom"||MX.indexOf(t)===-1&&e==="x"}function ZP(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function eD(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Bt(n&&n.onComplete,[t],e)}function LX(t){const e=t.chart,n=e.options.animation;Bt(n&&n.onProgress,[t],e)}function tD(t){return sP()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Bm={},nD=t=>{const e=tD(t);return Object.values(Bm).filter(n=>n.canvas===e).pop()};class rD{constructor(e,n){const r=this,i=this.config=new NX(n),o=tD(e),a=nD(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");const u=i.createResolver(i.chartOptionScopes(),r.getContext());this.platform=new(i.platform||rX(o));const c=r.platform.acquireContext(o,u.aspectRatio),f=c&&c.canvas,h=f&&f.height,p=f&&f.width;if(this.id=x6(),this.ctx=c,this.canvas=f,this.width=p,this.height=h,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new EX,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=C6(()=>this.update("resize"),u.resizeDelay||0),Bm[r.id]=r,!c||!f){console.error("Failed to create chart: can't acquire context from the given item");return}zo.listen(r,"complete",eD),zo.listen(r,"progress",LX),r._initialize(),r.attached&&r.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:o}=this;return kt(e)?n&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){const e=this;return e.notifyPlugins("beforeInit"),e.options.responsive?e.resize():uP(e,e.options.devicePixelRatio),e.bindEvents(),e.notifyPlugins("afterInit"),e}clear(){return KN(this.canvas,this.ctx),this}stop(){return zo.stop(this),this}resize(e,n){zo.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this,i=r.options,o=r.canvas,a=i.maintainAspectRatio&&r.aspectRatio,u=r.platform.getMaximumSize(o,e,n,a),c=i.devicePixelRatio||r.platform.getDevicePixelRatio();r.width=u.width,r.height=u.height,r._aspectRatio=r.aspectRatio,!!uP(r,c,!0)&&(r.notifyPlugins("resize",{size:u}),Bt(i.onResize,[r,u],r),r.attached&&r._doResize()&&r.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ot(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this,n=e.options,r=n.scales,i=e.scales,o=Object.keys(i).reduce((u,c)=>(u[c]=!1,u),{});let a=[];r&&(a=a.concat(Object.keys(r).map(u=>{const c=r[u],f=KE(u,c),h=f==="r",p=f==="x";return{options:c,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Ot(a,u=>{const c=u.options,f=c.id,h=KE(f,c),p=ot(c.type,u.dtype);(c.position===void 0||JP(c.position,h)!==JP(u.dposition))&&(c.position=u.dposition),o[f]=!0;let g=null;if(f in i&&i[f].type===p)g=i[f];else{const v=Ko.getScale(p);g=new v({id:f,type:p,ctx:e.ctx,chart:e}),i[g.id]=g}g.init(c,n)}),Ot(o,(u,c)=>{u||delete i[c]}),Ot(i,u=>{vi.configure(e,u,u.options),vi.addBox(e,u)})}_updateMetasets(){const e=this,n=e._metasets,r=e.data.datasets.length,i=n.length;if(n.sort((o,a)=>o.index-a.index),i>r){for(let o=r;o<i;++o)e._destroyDatasetMeta(o);n.splice(r,i-r)}e._sortedMetasets=n.slice(0).sort(ZP("order","index"))}_removeUnreferencedMetasets(){const e=this,{_metasets:n,data:{datasets:r}}=e;n.length>r.length&&delete e._stacks,n.forEach((i,o)=>{r.filter(a=>a===i._dataset).length===0&&e._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=this,n=[],r=e.data.datasets;let i,o;for(e._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){const a=r[i];let u=e.getDatasetMeta(i);const c=a.type||e.config.type;if(u.type&&u.type!==c&&(e._destroyDatasetMeta(i),u=e.getDatasetMeta(i)),u.type=c,u.indexAxis=a.indexAxis||zE(c,e.options),u.order=a.order||0,u.index=i,u.label=""+a.label,u.visible=e.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const f=Ko.getController(c),{datasetElementType:h,dataElementType:p}=ft.datasets[c];Object.assign(f.prototype,{dataElementType:Ko.getElement(p),datasetElementType:h&&Ko.getElement(h)}),u.controller=new f(e,i),n.push(u.controller)}}return e._updateMetasets(),n}_resetElements(){const e=this;Ot(e.data.datasets,(n,r)=>{e.getDatasetMeta(r).controller.reset()},e)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this,r=n.config;r.update(),n._options=r.createResolver(r.chartOptionScopes(),n.getContext()),Ot(n.scales,f=>{vi.removeBox(n,f)});const i=n._animationsDisabled=!n.options.animation;n.ensureScalesHaveIDs(),n.buildOrUpdateScales();const o=new Set(Object.keys(n._listeners)),a=new Set(n.options.events);if((!D6(o,a)||!!this._responsiveListeners!==n.options.responsive)&&(n.unbindEvents(),n.bindEvents()),n._plugins.invalidate(),n.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const u=n.buildOrUpdateControllers();n.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,h=n.data.datasets.length;f<h;f++){const{controller:p}=n.getDatasetMeta(f),g=!i&&u.indexOf(p)===-1;p.buildOrUpdateElements(g),c=Math.max(+p.getMaxOverflow(),c)}n._minPadding=c,n._updateLayout(c),i||Ot(u,f=>{f.reset()}),n._updateDatasets(e),n.notifyPlugins("afterUpdate",{mode:e}),n._layers.sort(ZP("z","_idx")),n._lastEvent&&n._eventHandler(n._lastEvent,!0),n.render()}_updateLayout(e){const n=this;if(n.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vi.update(n,n.width,n.height,e);const r=n.chartArea,i=r.width<=0||r.height<=0;n._layers=[],Ot(n.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),n._layers.push(...o._layers()))},n),n._layers.forEach((o,a)=>{o._idx=a}),n.notifyPlugins("afterLayout")}_updateDatasets(e){const n=this,r=typeof e=="function";if(n.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,o=n.data.datasets.length;i<o;++i)n._updateDataset(i,r?e({datasetIndex:i}):e);n.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this,i=r.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};r.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,r.notifyPlugins("afterDatasetUpdate",o))}render(){const e=this;e.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zo.has(e)?e.attached&&!zo.running(e)&&zo.start(e):(e.draw(),eD({chart:e})))}draw(){const e=this;let n;if(e._resizeBeforeDraw){const{width:i,height:o}=e._resizeBeforeDraw;e._resize(i,o),e._resizeBeforeDraw=null}if(e.clear(),e.width<=0||e.height<=0||e.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=e._layers;for(n=0;n<r.length&&r[n].z<=0;++n)r[n].draw(e.chartArea);for(e._drawDatasets();n<r.length;++n)r[n].draw(e.chartArea);e.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,i=[];let o,a;for(o=0,a=r.length;o<a;++o){const u=r[o];(!e||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const e=this;if(e.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const n=e.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r)e._drawDataset(n[r]);e.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this,r=n.ctx,i=e._clip,o=!i.disabled,a=n.chartArea,u={meta:e,index:e.index,cancelable:!0};n.notifyPlugins("beforeDatasetDraw",u)!==!1&&(o&&CE(r,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?n.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?n.height:a.bottom+i.bottom}),e.controller.draw(),o&&AE(r),u.cancelable=!1,n.notifyPlugins("afterDatasetDraw",u))}getElementsAtEventForMode(e,n,r,i){const o=LY.modes[n];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const n=this,r=n.data.datasets[e],i=n._metasets;let o=i.filter(a=>a&&a._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context={chart:this,type:"chart"})}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=this,o=r?"show":"hide",a=i.getDatasetMeta(e),u=a.controller._resolveAnimations(void 0,o);Mr(n)?(a.data[n].hidden=!r,i.update()):(i.setDatasetVisibility(e,r),u.update(a,{visible:r}),i.update(c=>c.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this,r=n._metasets&&n._metasets[e];r&&r.controller&&(r.controller._destroy(),delete n._metasets[e])}destroy(){const e=this,{canvas:n,ctx:r}=e;let i,o;for(e.stop(),zo.remove(e),i=0,o=e.data.datasets.length;i<o;++i)e._destroyDatasetMeta(i);e.config.clearCache(),n&&(e.unbindEvents(),KN(n,r),e.platform.releaseContext(r),e.canvas=null,e.ctx=null),e.notifyPlugins("destroy"),delete Bm[e.id]}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this,n=e._listeners,r=e.platform,i=(a,u)=>{r.addEventListener(e,a,u),n[a]=u},o=function(a,u,c){a.offsetX=u,a.offsetY=c,e._eventHandler(a)};Ot(e.options.events,a=>i(a,o))}bindResponsiveEvents(){const e=this;e._responsiveListeners||(e._responsiveListeners={});const n=e._responsiveListeners,r=e.platform,i=(f,h)=>{r.addEventListener(e,f,h),n[f]=h},o=(f,h)=>{n[f]&&(r.removeEventListener(e,f,h),delete n[f])},a=(f,h)=>{e.canvas&&e.resize(f,h)};let u;const c=()=>{o("attach",c),e.attached=!0,e.resize(),i("resize",a),i("detach",u)};u=()=>{e.attached=!1,o("resize",a),i("attach",c)},r.isAttached(e.canvas)?c():u()}unbindEvents(){const e=this;Ot(e._listeners,(n,r)=>{e.platform.removeEventListener(e,r,n)}),e._listeners={},Ot(e._responsiveListeners,(n,r)=>{e.platform.removeEventListener(e,r,n)}),e._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let o,a,u,c;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),u=0,c=e.length;u<c;++u){a=e[u];const f=a&&this.getDatasetMeta(a.datasetIndex).controller;f&&f[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this,r=n._active||[],i=e.map(({datasetIndex:a,index:u})=>{const c=n.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[u],index:u}});!mm(i,r)&&(n._active=i,n._updateHoverStyles(i,r))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}_updateHoverStyles(e,n,r){const i=this,o=i.options.hover,a=(f,h)=>f.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),u=a(n,e),c=r?e:a(e,n);u.length&&i.updateHoverStyle(u,o.mode,!1),c.length&&o.mode&&i.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,n){const r=this,i={event:e,replay:n,cancelable:!0},o=u=>(u.options.events||this.options.events).includes(e.type);if(r.notifyPlugins("beforeEvent",i,o)===!1)return;const a=r._handleEvent(e,n);return i.cancelable=!1,r.notifyPlugins("afterEvent",i,o),(a||i.changed)&&r.render(),r}_handleEvent(e,n){const r=this,{_active:i=[],options:o}=r,a=o.hover,u=n;let c=[],f=!1,h=null;return e.type!=="mouseout"&&(c=r.getElementsAtEventForMode(e,a.mode,a,u),h=e.type==="click"?r._lastEvent:e),r._lastEvent=null,nu(e,r.chartArea,r._minPadding)&&(Bt(o.onHover,[e,c,r],r),(e.type==="mouseup"||e.type==="click"||e.type==="contextmenu")&&Bt(o.onClick,[e,c,r],r)),f=!mm(c,i),(f||n)&&(r._active=c,r._updateHoverStyles(c,i,n)),r._lastEvent=h,f}}const iD=()=>Ot(rD.instances,t=>t._plugins.invalidate()),Ps=!0;Object.defineProperties(rD,{defaults:{enumerable:Ps,value:ft},instances:{enumerable:Ps,value:Bm},overrides:{enumerable:Ps,value:eu},registry:{enumerable:Ps,value:Ko},version:{enumerable:Ps,value:DX},getChart:{enumerable:Ps,value:nD},register:{enumerable:Ps,value:(...t)=>{Ko.add(...t),iD()}},unregister:{enumerable:Ps,value:(...t)=>{Ko.remove(...t),iD()}}});function oD(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:a,outerRadius:u,innerRadius:c}=e;let f=i/u;t.beginPath(),t.arc(o,a,u,r-f,n+f),c>i?(f=i/c,t.arc(o,a,c,n+f,r-f,!0)):t.arc(o,a,i,n+cn,r-cn),t.closePath(),t.clip()}function FX(t){return xE(t,["outerStart","outerEnd","innerStart","innerEnd"])}function UX(t,e,n,r){const i=FX(t.options.borderRadius),o=(n-e)/2,a=Math.min(o,r*e/2),u=c=>{const f=(n-Math.min(o,c))*r/2;return ir(c,0,Math.min(o,f))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:ir(i.innerStart,0,a),innerEnd:ir(i.innerEnd,0,a)}}function zc(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function GE(t,e,n,r,i){const{x:o,y:a,startAngle:u,pixelMargin:c,innerRadius:f}=e,h=Math.max(e.outerRadius+r+n-c,0),p=f>0?f+r+n+c:0;let g=0;const v=i-u;if(r){const $=f>0?f-r:0,z=h>0?h-r:0,J=($+z)/2,se=J!==0?v*J/(J+r):v;g=(v-se)/2}const y=Math.max(.001,v*h-n/nn)/h,w=(v-y)/2,E=u+w+g,I=i-w-g,{outerStart:x,outerEnd:k,innerStart:P,innerEnd:D}=UX(e,p,h,I-E),M=h-x,W=h-k,V=E+x/M,X=I-k/W,O=p+P,pe=p+D,Ee=E+P/O,Z=I-D/pe;if(t.beginPath(),t.arc(o,a,h,V,X),k>0){const $=zc(W,X,o,a);t.arc($.x,$.y,k,X,I+cn)}const Ie=zc(pe,I,o,a);if(t.lineTo(Ie.x,Ie.y),D>0){const $=zc(pe,Z,o,a);t.arc($.x,$.y,D,I+cn,Z+Math.PI)}if(t.arc(o,a,p,I-D/p,E+P/p,!0),P>0){const $=zc(O,Ee,o,a);t.arc($.x,$.y,P,Ee+Math.PI,E-cn)}const ve=zc(M,E,o,a);if(t.lineTo(ve.x,ve.y),x>0){const $=zc(M,V,o,a);t.arc($.x,$.y,x,E-cn,V)}t.closePath()}function jX(t,e,n,r){const{fullCircles:i,startAngle:o,circumference:a}=e;let u=e.endAngle;if(i){GE(t,e,n,r,o+Vt);for(let c=0;c<i;++c)t.fill();isNaN(a)||(u=o+a%Vt,a%Vt==0&&(u+=Vt))}return GE(t,e,n,r,u),t.fill(),u}function BX(t,e,n){const{x:r,y:i,startAngle:o,pixelMargin:a,fullCircles:u}=e,c=Math.max(e.outerRadius-a,0),f=e.innerRadius+a;let h;for(n&&oD(t,e,o+Vt),t.beginPath(),t.arc(r,i,f,o+Vt,o,!0),h=0;h<u;++h)t.stroke();for(t.beginPath(),t.arc(r,i,c,o,o+Vt),h=0;h<u;++h)t.stroke()}function VX(t,e,n,r,i){const{options:o}=e,a=o.borderAlign==="inner";!o.borderWidth||(a?(t.lineWidth=o.borderWidth*2,t.lineJoin="round"):(t.lineWidth=o.borderWidth,t.lineJoin="bevel"),e.fullCircles&&BX(t,e,a),a&&oD(t,e,i),GE(t,e,n,r,i),t.stroke())}class YE extends Vi{constructor(e){super();this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=j6(i,{x:e,y:n}),{startAngle:u,endAngle:c,innerRadius:f,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=this.options.spacing/2,v=p>=Vt||_m(o,u,c),y=a>=f+g&&a<=h+g;return v&&y}getCenterPoint(e){const{x:n,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:c,spacing:f}=this.options,h=(i+o)/2,p=(a+u+f+c)/2;return{x:n+Math.cos(h)*p,y:r+Math.sin(h)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const n=this,{options:r,circumference:i}=n,o=(r.offset||0)/2,a=(r.spacing||0)/2;if(n.pixelMargin=r.borderAlign==="inner"?.33:0,n.fullCircles=i>Vt?Math.floor(i/Vt):0,i===0||n.innerRadius<0||n.outerRadius<0)return;e.save();let u=0;if(o){u=o/2;const f=(n.startAngle+n.endAngle)/2;e.translate(Math.cos(f)*u,Math.sin(f)*u),n.circumference>=nn&&(u=o)}e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor;const c=jX(e,n,u,a);VX(e,n,u,a,c),e.restore()}}YE.id="arc";YE.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};YE.defaultRoutes={backgroundColor:"backgroundColor"};function sD(t,e,n=e){t.lineCap=ot(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ot(n.borderDash,e.borderDash)),t.lineDashOffset=ot(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ot(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ot(n.borderWidth,e.borderWidth),t.strokeStyle=ot(n.borderColor,e.borderColor)}function qX(t,e,n){t.lineTo(n.x,n.y)}function HX(t){return t.stepped?l5:t.tension||t.cubicInterpolationMode==="monotone"?f5:qX}function aD(t,e,n={}){const r=t.length,{start:i=0,end:o=r-1}=n,{start:a,end:u}=e,c=Math.max(i,a),f=Math.min(o,u),h=i<a&&o<a||i>u&&o>u;return{count:r,start:c,loop:e.loop,ilen:f<c&&!h?r+f-c:f-c}}function $X(t,e,n,r){const{points:i,options:o}=e,{count:a,start:u,loop:c,ilen:f}=aD(i,n,r),h=HX(o);let{move:p=!0,reverse:g}=r||{},v,y,w;for(v=0;v<=f;++v)y=i[(u+(g?f-v:v))%a],!y.skip&&(p?(t.moveTo(y.x,y.y),p=!1):h(t,w,y,g,o.stepped),w=y);return c&&(y=i[(u+(g?f:0))%a],h(t,w,y,g,o.stepped)),!!c}function WX(t,e,n,r){const i=e.points,{count:o,start:a,ilen:u}=aD(i,n,r),{move:c=!0,reverse:f}=r||{};let h=0,p=0,g,v,y,w,E,I;const x=P=>(a+(f?u-P:P))%o,k=()=>{w!==E&&(t.lineTo(h,E),t.lineTo(h,w),t.lineTo(h,I))};for(c&&(v=i[x(0)],t.moveTo(v.x,v.y)),g=0;g<=u;++g){if(v=i[x(g)],v.skip)continue;const P=v.x,D=v.y,M=P|0;M===y?(D<w?w=D:D>E&&(E=D),h=(p*h+P)/++p):(k(),t.lineTo(P,D),y=M,p=0,w=E=D),I=D}k()}function XE(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?WX:$X}function zX(t){return t.stepped?W5:t.tension||t.cubicInterpolationMode==="monotone"?z5:su}function KX(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),sD(t,e.options),t.stroke(i)}function GX(t,e,n,r){const{segments:i,options:o}=e,a=XE(e);for(const u of i)sD(t,o,u.style),t.beginPath(),a(t,e,u,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const YX=typeof Path2D=="function";function XX(t,e,n,r){YX&&e.segments.length===1?KX(t,e,n,r):GX(t,e,n,r)}class Vm extends Vi{constructor(e){super();this.animated=!0,this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this,i=r.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!r._pointsUpdated){const o=i.spanGaps?r._loop:r._fullLoop;F5(r._points,i,e,o,n),r._pointsUpdated=!0}}set points(e){const n=this;n._points=e,delete n._segments,delete n._path,n._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=tY(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this,i=r.options,o=e[n],a=r.points,u=J5(r,{property:n,start:o,end:o});if(!u.length)return;const c=[],f=zX(i);let h,p;for(h=0,p=u.length;h<p;++h){const{start:g,end:v}=u[h],y=a[g],w=a[v];if(y===w){c.push(y);continue}const E=Math.abs((o-y[n])/(w[n]-y[n])),I=f(y,w,E,i.stepped);I[n]=e[n],c.push(I)}return c.length===1?c[0]:c}pathSegment(e,n,r){return XE(this)(e,this,n,r)}path(e,n,r){const i=this,o=i.segments,a=XE(i);let u=i._loop;n=n||0,r=r||i.points.length-n;for(const c of o)u&=a(e,i,c,{start:n,end:n+r-1});return!!u}draw(e,n,r,i){const o=this,a=o.options||{};!(o.points||[]).length||!a.borderWidth||(e.save(),XX(e,o,r,i),e.restore(),o.animated&&(o._pointsUpdated=!1,o._path=void 0))}}Vm.id="line";Vm.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Vm.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Vm.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function uD(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}class QE extends Vi{constructor(e){super();this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(n-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return uD(this,e,"x",n)}inYRange(e,n){return uD(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this,i=r.options;r.skip||i.radius<.1||!nu(r,n,r.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Am(e,i,r.x,r.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}QE.id="point";QE.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};QE.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function cD(t,e){const{x:n,y:r,base:i,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let u,c,f,h,p;return t.horizontal?(p=a/2,u=Math.min(n,i),c=Math.max(n,i),f=r-p,h=r+p):(p=o/2,u=n-p,c=n+p,f=Math.min(r,i),h=Math.max(r,i)),{left:u,top:f,right:c,bottom:h}}function Ds(t,e,n,r){return t?0:ir(e,n,r)}function QX(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=GN(r);return{t:Ds(i.top,o.top,0,n),r:Ds(i.right,o.right,0,e),b:Ds(i.bottom,o.bottom,0,n),l:Ds(i.left,o.left,0,e)}}function JX(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=RE(i),a=Math.min(e,n),u=t.borderSkipped,c=r||St(i);return{topLeft:Ds(!c||u.top||u.left,o.topLeft,0,a),topRight:Ds(!c||u.top||u.right,o.topRight,0,a),bottomLeft:Ds(!c||u.bottom||u.left,o.bottomLeft,0,a),bottomRight:Ds(!c||u.bottom||u.right,o.bottomRight,0,a)}}function ZX(t){const e=cD(t),n=e.right-e.left,r=e.bottom-e.top,i=QX(t,n/2,r/2),o=JX(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function JE(t,e,n,r){const i=e===null,o=n===null,u=t&&!(i&&o)&&cD(t,r);return u&&(i||e>=u.left&&e<=u.right)&&(o||n>=u.top&&n<=u.bottom)}function eQ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function tQ(t,e){t.rect(e.x,e.y,e.w,e.h)}function ZE(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+a,radius:t.radius}}class eT extends Vi{constructor(e){super();this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,e&&Object.assign(this,e)}draw(e){const n=this.options,{inner:r,outer:i}=ZX(this),o=eQ(i.radius)?xm:tQ,a=.33;e.save(),(i.w!==r.w||i.h!==r.h)&&(e.beginPath(),o(e,ZE(i,a,r)),e.clip(),o(e,ZE(r,-a,i)),e.fillStyle=n.borderColor,e.fill("evenodd")),e.beginPath(),o(e,ZE(r,a,i)),e.fillStyle=n.backgroundColor,e.fill(),e.restore()}inRange(e,n,r){return JE(this,e,n,r)}inXRange(e,n){return JE(this,e,null,n)}inYRange(e,n){return JE(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+i)/2:n,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}eT.id="bar";eT.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0};eT.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const lD=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},nQ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class fD extends Vi{constructor(e){super();this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){const i=this;i.maxWidth=e,i.maxHeight=n,i._margins=r,i.setDimensions(),i.buildLabels(),i.fit()}setDimensions(){const e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=e._margins.left,e.right=e.width):(e.height=e.maxHeight,e.top=e._margins.top,e.bottom=e.height)}buildLabels(){const e=this,n=e.options.labels||{};let r=Bt(n.generateLabels,[e.chart],e)||[];n.filter&&(r=r.filter(i=>n.filter(i,e.chart.data))),n.sort&&(r=r.sort((i,o)=>n.sort(i,o,e.chart.data))),e.options.reverse&&r.reverse(),e.legendItems=r}fit(){const e=this,{options:n,ctx:r}=e;if(!n.display){e.width=e.height=0;return}const i=n.labels,o=In(i.font),a=o.size,u=e._computeTitleHeight(),{boxWidth:c,itemHeight:f}=lD(i,a);let h,p;r.font=o.string,e.isHorizontal()?(h=e.maxWidth,p=e._fitRows(u,a,c,f)+10):(p=e.maxHeight,h=e._fitCols(u,a,c,f)+10),e.width=Math.min(h,n.maxWidth||e.maxWidth),e.height=Math.min(p,n.maxHeight||e.maxHeight)}_fitRows(e,n,r,i){const o=this,{ctx:a,maxWidth:u,options:{labels:{padding:c}}}=o,f=o.legendHitBoxes=[],h=o.lineWidths=[0],p=i+c;let g=e;a.textAlign="left",a.textBaseline="middle";let v=-1,y=-p;return o.legendItems.forEach((w,E)=>{const I=r+n/2+a.measureText(w.text).width;(E===0||h[h.length-1]+I+2*c>u)&&(g+=p,h[h.length-(E>0?0:1)]=0,y+=p,v++),f[E]={left:0,top:y,row:v,width:I,height:i},h[h.length-1]+=I+c}),g}_fitCols(e,n,r,i){const o=this,{ctx:a,maxHeight:u,options:{labels:{padding:c}}}=o,f=o.legendHitBoxes=[],h=o.columnSizes=[],p=u-e;let g=c,v=0,y=0,w=0,E=0;return o.legendItems.forEach((I,x)=>{const k=r+n/2+a.measureText(I.text).width;x>0&&y+i+2*c>p&&(g+=v+c,h.push({width:v,height:y}),w+=v+c,E++,v=y=0),f[x]={left:w,top:y,col:E,width:k,height:i},v=Math.max(v,k),y+=i+c}),g+=v,h.push({width:v,height:y}),g}adjustHitBoxes(){const e=this;if(!e.options.display)return;const n=e._computeTitleHeight(),{legendHitBoxes:r,options:{align:i,labels:{padding:o},rtl:a}}=e,u=Wc(a,e.left,e.width);if(this.isHorizontal()){let c=0,f=rr(i,e.left+o,e.right-e.lineWidths[c]);for(const h of r)c!==h.row&&(c=h.row,f=rr(i,e.left+o,e.right-e.lineWidths[c])),h.top+=e.top+n+o,h.left=u.leftForLtr(u.x(f),h.width),f+=h.width+o}else{let c=0,f=rr(i,e.top+n+o,e.bottom-e.columnSizes[c].height);for(const h of r)h.col!==c&&(c=h.col,f=rr(i,e.top+n+o,e.bottom-e.columnSizes[c].height)),h.top=f,h.left+=e.left+o,h.left=u.leftForLtr(u.x(h.left),h.width),f+=h.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){const e=this;if(e.options.display){const n=e.ctx;CE(n,e),e._draw(),AE(n)}}_draw(){const e=this,{options:n,columnSizes:r,lineWidths:i,ctx:o}=e,{align:a,labels:u}=n,c=ft.color,f=Wc(n.rtl,e.left,e.width),h=In(u.font),{color:p,padding:g}=u,v=h.size,y=v/2;let w;e.drawTitle(),o.textAlign=f.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=h.string;const{boxWidth:E,boxHeight:I,itemHeight:x}=lD(u,v),k=function(V,X,O){if(isNaN(E)||E<=0||isNaN(I)||I<0)return;o.save();const pe=ot(O.lineWidth,1);if(o.fillStyle=ot(O.fillStyle,c),o.lineCap=ot(O.lineCap,"butt"),o.lineDashOffset=ot(O.lineDashOffset,0),o.lineJoin=ot(O.lineJoin,"miter"),o.lineWidth=pe,o.strokeStyle=ot(O.strokeStyle,c),o.setLineDash(ot(O.lineDash,[])),u.usePointStyle){const Ee={radius:E*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:pe},Z=f.xPlus(V,E/2),Ie=X+y;Am(o,Ee,Z,Ie)}else{const Ee=X+Math.max((v-I)/2,0),Z=f.leftForLtr(V,E),Ie=RE(O.borderRadius);o.beginPath(),Object.values(Ie).some(ve=>ve!==0)?xm(o,{x:Z,y:Ee,w:E,h:I,radius:Ie}):o.rect(Z,Ee,E,I),o.fill(),pe!==0&&o.stroke()}o.restore()},P=function(V,X,O){ru(o,O.text,V,X+x/2,h,{strikethrough:O.hidden,textAlign:f.textAlign(O.textAlign)})},D=e.isHorizontal(),M=this._computeTitleHeight();D?w={x:rr(a,e.left+g,e.right-i[0]),y:e.top+g+M,line:0}:w={x:e.left+g,y:rr(a,e.top+M+g,e.bottom-r[0].height),line:0},fP(e.ctx,n.textDirection);const W=x+g;e.legendItems.forEach((V,X)=>{o.strokeStyle=V.fontColor||p,o.fillStyle=V.fontColor||p;const O=o.measureText(V.text).width,pe=f.textAlign(V.textAlign||(V.textAlign=u.textAlign)),Ee=E+y+O;let Z=w.x,Ie=w.y;f.setWidth(e.width),D?X>0&&Z+Ee+g>e.right&&(Ie=w.y+=W,w.line++,Z=w.x=rr(a,e.left+g,e.right-i[w.line])):X>0&&Ie+W>e.bottom&&(Z=w.x=Z+r[w.line].width+g,w.line++,Ie=w.y=rr(a,e.top+M+g,e.bottom-r[w.line].height));const ve=f.x(Z);k(ve,Ie,V),Z=A6(pe,Z+E+y,D?Z+Ee:e.right,n.rtl),P(f.x(Z),Ie,V),D?w.x+=Ee+g:w.y+=W}),hP(e.ctx,n.textDirection)}drawTitle(){const e=this,n=e.options,r=n.title,i=In(r.font),o=yr(r.padding);if(!r.display)return;const a=Wc(n.rtl,e.left,e.width),u=e.ctx,c=r.position,f=i.size/2,h=o.top+f;let p,g=e.left,v=e.width;if(this.isHorizontal())v=Math.max(...e.lineWidths),p=e.top+h,g=rr(n.align,g,e.right-v);else{const w=e.columnSizes.reduce((E,I)=>Math.max(E,I.height),0);p=h+rr(n.align,e.top,e.bottom-w-n.labels.padding-e._computeTitleHeight())}const y=rr(c,g,g+v);u.textAlign=a.textAlign(dE(c)),u.textBaseline="middle",u.strokeStyle=r.color,u.fillStyle=r.color,u.font=i.string,ru(u,r.text,y,p,i)}_computeTitleHeight(){const e=this.options.title,n=In(e.font),r=yr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){const r=this;let i,o,a;if(e>=r.left&&e<=r.right&&n>=r.top&&n<=r.bottom){for(a=r.legendHitBoxes,i=0;i<a.length;++i)if(o=a[i],e>=o.left&&e<=o.left+o.width&&n>=o.top&&n<=o.top+o.height)return r.legendItems[i]}return null}handleEvent(e){const n=this,r=n.options;if(!rQ(e.type,r))return;const i=n._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"){const o=n._hoveredItem,a=nQ(o,i);o&&!a&&Bt(r.onLeave,[e,o,n],n),n._hoveredItem=i,i&&!a&&Bt(r.onHover,[e,i,n],n)}else i&&Bt(r.onClick,[e,i,n],n)}}function rQ(t,e){return!!(t==="mousemove"&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Bhe={id:"legend",_element:fD,start(t,e,n){const r=t.legend=new fD({ctx:t.ctx,options:n,chart:t});vi.configure(t,r,n),vi.addBox(t,r)},stop(t){vi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;vi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o}}=t.legend.options;return t._getSortedDatasetMetas().map(a=>{const u=a.controller.getStyle(n?0:void 0),c=yr(u.borderWidth);return{text:e[a.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!a.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class hD extends Vi{constructor(e){super();this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this,i=r.options;if(r.left=0,r.top=0,!i.display){r.width=r.height=r.right=r.bottom=0;return}r.width=r.right=e,r.height=r.bottom=n;const o=$t(i.text)?i.text.length:1;r._padding=yr(i.padding);const a=o*In(i.font).lineHeight+r._padding.height;r.isHorizontal()?r.height=a:r.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:o,options:a}=this,u=a.align;let c=0,f,h,p;return this.isHorizontal()?(h=rr(u,r,o),p=n+e,f=o-r):(a.position==="left"?(h=r+e,p=rr(u,i,n),c=nn*-.5):(h=o-e,p=rr(u,n,i),c=nn*.5),f=i-n),{titleX:h,titleY:p,maxWidth:f,rotation:c}}draw(){const e=this,n=e.ctx,r=e.options;if(!r.display)return;const i=In(r.font),a=i.lineHeight/2+e._padding.top,{titleX:u,titleY:c,maxWidth:f,rotation:h}=e._drawArgs(a);ru(n,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:dE(r.align),textBaseline:"middle",translation:[u,c]})}}function iQ(t,e){const n=new hD({ctx:t.ctx,options:e,chart:t});vi.configure(t,n,e),vi.addBox(t,n),t.titleBlock=n}var Vhe={id:"title",_element:hD,start(t,e,n){iQ(t,n)},stop(t){const e=t.titleBlock;vi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;vi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sh={average(t){if(!t.length)return!1;let e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const u=a.tooltipPosition();r+=u.x,i+=u.y,++o}}return{x:r/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,a,u;for(o=0,a=t.length;o<a;++o){const c=t[o].element;if(c&&c.hasValue()){const f=c.getCenterPoint(),h=vE(e,f);h<i&&(i=h,u=c)}}if(u){const c=u.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function yo(t,e){return e&&($t(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Go(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function oQ(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:a,value:u}=o.getLabelAndValue(i);return{chart:t,label:a,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:u,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function dD(t,e){const n=t._chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:a,boxHeight:u}=e,c=In(e.bodyFont),f=In(e.titleFont),h=In(e.footerFont),p=o.length,g=i.length,v=r.length,y=yr(e.padding);let w=y.height,E=0,I=r.reduce((P,D)=>P+D.before.length+D.lines.length+D.after.length,0);if(I+=t.beforeBody.length+t.afterBody.length,p&&(w+=p*f.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),I){const P=e.displayColors?Math.max(u,c.lineHeight):c.lineHeight;w+=v*P+(I-v)*c.lineHeight+(I-1)*e.bodySpacing}g&&(w+=e.footerMarginTop+g*h.lineHeight+(g-1)*e.footerSpacing);let x=0;const k=function(P){E=Math.max(E,n.measureText(P).width+x)};return n.save(),n.font=f.string,Ot(t.title,k),n.font=c.string,Ot(t.beforeBody.concat(t.afterBody),k),x=e.displayColors?a+2:0,Ot(r,P=>{Ot(P.before,k),Ot(P.lines,k),Ot(P.after,k)}),x=0,n.font=h.string,Ot(t.footer,k),n.restore(),E+=y.width,{width:E,height:w}}function sQ(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function aQ(t,e,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+o+a>e.width||t==="right"&&i-o-a<0)return!0}function uQ(t,e,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:u,right:c}}=t;let f="center";return r==="center"?f=i<=(u+c)/2?"left":"right":i<=o/2?f="left":i>=a-o/2&&(f="right"),aQ(f,t,e,n)&&(f="center"),f}function pD(t,e,n){const r=e.yAlign||sQ(t,n);return{xAlign:e.xAlign||uQ(t,e,n,r),yAlign:r}}function cQ(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function lQ(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function gD(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=t,{xAlign:u,yAlign:c}=n,f=i+o,h=a+o;let p=cQ(e,u);const g=lQ(e,c,f);return c==="center"?u==="left"?p+=f:u==="right"&&(p-=f):u==="left"?p-=h:u==="right"&&(p+=h),{x:ir(p,0,r.width-e.width),y:ir(g,0,r.height-e.height)}}function qm(t,e,n){const r=yr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function mD(t){return yo([],Go(t))}function fQ(t,e,n){return Object.assign(Object.create(t),{tooltip:e,tooltipItems:n,type:"tooltip"})}function vD(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class tT extends Vi{constructor(e){super();this.opacity=0,this._active=[],this._chart=e._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this,n=e._cachedAnimations;if(n)return n;const r=e._chart,i=e.options.setContext(e.getContext()),o=i.enabled&&r.options.animation&&i.animations,a=new yP(e._chart,o);return o._cacheable&&(e._cachedAnimations=Object.freeze(a)),a}getContext(){const e=this;return e.$context||(e.$context=fQ(e._chart.getContext(),e,e._tooltipItems))}getTitle(e,n){const r=this,{callbacks:i}=n,o=i.beforeTitle.apply(r,[e]),a=i.title.apply(r,[e]),u=i.afterTitle.apply(r,[e]);let c=[];return c=yo(c,Go(o)),c=yo(c,Go(a)),c=yo(c,Go(u)),c}getBeforeBody(e,n){return mD(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const r=this,{callbacks:i}=n,o=[];return Ot(e,a=>{const u={before:[],lines:[],after:[]},c=vD(i,a);yo(u.before,Go(c.beforeLabel.call(r,a))),yo(u.lines,c.label.call(r,a)),yo(u.after,Go(c.afterLabel.call(r,a))),o.push(u)}),o}getAfterBody(e,n){return mD(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const r=this,{callbacks:i}=n,o=i.beforeFooter.apply(r,[e]),a=i.footer.apply(r,[e]),u=i.afterFooter.apply(r,[e]);let c=[];return c=yo(c,Go(o)),c=yo(c,Go(a)),c=yo(c,Go(u)),c}_createItems(e){const n=this,r=n._active,i=n._chart.data,o=[],a=[],u=[];let c=[],f,h;for(f=0,h=r.length;f<h;++f)c.push(oQ(n._chart,r[f]));return e.filter&&(c=c.filter((p,g,v)=>e.filter(p,g,v,i))),e.itemSort&&(c=c.sort((p,g)=>e.itemSort(p,g,i))),Ot(c,p=>{const g=vD(e.callbacks,p);o.push(g.labelColor.call(n,p)),a.push(g.labelPointStyle.call(n,p)),u.push(g.labelTextColor.call(n,p))}),n.labelColors=o,n.labelPointStyles=a,n.labelTextColors=u,n.dataPoints=c,c}update(e,n){const r=this,i=r.options.setContext(r.getContext()),o=r._active;let a,u=[];if(!o.length)r.opacity!==0&&(a={opacity:0});else{const c=Sh[i.position].call(r,o,r._eventPosition);u=r._createItems(i),r.title=r.getTitle(u,i),r.beforeBody=r.getBeforeBody(u,i),r.body=r.getBody(u,i),r.afterBody=r.getAfterBody(u,i),r.footer=r.getFooter(u,i);const f=r._size=dD(r,i),h=Object.assign({},c,f),p=pD(r._chart,i,h),g=gD(i,h,p,r._chart);r.xAlign=p.xAlign,r.yAlign=p.yAlign,a={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:c.x,caretY:c.y}}r._tooltipItems=u,r.$context=void 0,a&&r._resolveAnimations().update(r,a),e&&i.external&&i.external.call(r,{chart:r._chart,tooltip:r,replay:n})}drawCaret(e,n,r,i){const o=this.getCaretPosition(e,r,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:o}=this,{cornerRadius:a,caretSize:u}=r,{x:c,y:f}=e,{width:h,height:p}=n;let g,v,y,w,E,I;return o==="center"?(E=f+p/2,i==="left"?(g=c,v=g-u,w=E+u,I=E-u):(g=c+h,v=g+u,w=E-u,I=E+u),y=g):(i==="left"?v=c+a+u:i==="right"?v=c+h-a-u:v=this.caretX,o==="top"?(w=f,E=w-u,g=v-u,y=v+u):(w=f+p,E=w+u,g=v+u,y=v-u),I=w),{x1:g,x2:v,x3:y,y1:w,y2:E,y3:I}}drawTitle(e,n,r){const i=this,o=i.title,a=o.length;let u,c,f;if(a){const h=Wc(r.rtl,i.x,i.width);for(e.x=qm(i,r.titleAlign,r),n.textAlign=h.textAlign(r.titleAlign),n.textBaseline="middle",u=In(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=u.string,f=0;f<a;++f)n.fillText(o[f],h.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+c,f+1===a&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,i,o){const a=this,u=a.labelColors[r],c=a.labelPointStyles[r],{boxHeight:f,boxWidth:h}=o,p=In(o.bodyFont),g=qm(a,"left",o),v=i.x(g),y=f<p.lineHeight?(p.lineHeight-f)/2:0,w=n.y+y;if(o.usePointStyle){const E={radius:Math.min(h,f)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},I=i.leftForLtr(v,h)+h/2,x=w+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Am(e,E,I,x),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,Am(e,E,I,x)}else{e.lineWidth=u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const E=i.leftForLtr(v,h),I=i.leftForLtr(i.xPlus(v,1),h-2),x=RE(u.borderRadius);Object.values(x).some(k=>k!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,xm(e,{x:E,y:w,w:h,h:f,radius:x}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),xm(e,{x:I,y:w+1,w:h-2,h:f-2,radius:x}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(E,w,h,f),e.strokeRect(E,w,h,f),e.fillStyle=u.backgroundColor,e.fillRect(I,w+1,h-2,f-2))}e.fillStyle=a.labelTextColors[r]}drawBody(e,n,r){const i=this,{body:o}=i,{bodySpacing:a,bodyAlign:u,displayColors:c,boxHeight:f,boxWidth:h}=r,p=In(r.bodyFont);let g=p.lineHeight,v=0;const y=Wc(r.rtl,i.x,i.width),w=function(V){n.fillText(V,y.x(e.x+v),e.y+g/2),e.y+=g+a},E=y.textAlign(u);let I,x,k,P,D,M,W;for(n.textAlign=u,n.textBaseline="middle",n.font=p.string,e.x=qm(i,E,r),n.fillStyle=r.bodyColor,Ot(i.beforeBody,w),v=c&&E!=="right"?u==="center"?h/2+1:h+2:0,P=0,M=o.length;P<M;++P){for(I=o[P],x=i.labelTextColors[P],n.fillStyle=x,Ot(I.before,w),k=I.lines,c&&k.length&&(i._drawColorBox(n,e,P,y,r),g=Math.max(p.lineHeight,f)),D=0,W=k.length;D<W;++D)w(k[D]),g=p.lineHeight;Ot(I.after,w)}v=0,g=p.lineHeight,Ot(i.afterBody,w),e.y-=a}drawFooter(e,n,r){const i=this,o=i.footer,a=o.length;let u,c;if(a){const f=Wc(r.rtl,i.x,i.width);for(e.x=qm(i,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=f.textAlign(r.footerAlign),n.textBaseline="middle",u=In(r.footerFont),n.fillStyle=r.footerColor,n.font=u.string,c=0;c<a;++c)n.fillText(o[c],f.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:o,yAlign:a}=this,{x:u,y:c}=e,{width:f,height:h}=r,p=i.cornerRadius;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(u+p,c),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(u+f-p,c),n.quadraticCurveTo(u+f,c,u+f,c+p),a==="center"&&o==="right"&&this.drawCaret(e,n,r,i),n.lineTo(u+f,c+h-p),n.quadraticCurveTo(u+f,c+h,u+f-p,c+h),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(u+p,c+h),n.quadraticCurveTo(u,c+h,u,c+h-p),a==="center"&&o==="left"&&this.drawCaret(e,n,r,i),n.lineTo(u,c+p),n.quadraticCurveTo(u,c,u+p,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this,r=n._chart,i=n.$animations,o=i&&i.x,a=i&&i.y;if(o||a){const u=Sh[e.position].call(n,n._active,n._eventPosition);if(!u)return;const c=n._size=dD(n,e),f=Object.assign({},u,n._size),h=pD(r,e,f),p=gD(e,f,h,r);(o._to!==p.x||a._to!==p.y)&&(n.xAlign=h.xAlign,n.yAlign=h.yAlign,n.width=c.width,n.height=c.height,n.caretX=u.x,n.caretY=u.y,n._resolveAnimations().update(n,p))}}draw(e){const n=this,r=n.options.setContext(n.getContext());let i=n.opacity;if(!i)return;n._updateAnimationTarget(r);const o={width:n.width,height:n.height},a={x:n.x,y:n.y};i=Math.abs(i)<.001?0:i;const u=yr(r.padding),c=n.title.length||n.beforeBody.length||n.body.length||n.afterBody.length||n.footer.length;r.enabled&&c&&(e.save(),e.globalAlpha=i,n.drawBackground(a,e,o,r),fP(e,r.textDirection),a.y+=u.top,n.drawTitle(a,e,r),n.drawBody(a,e,r),n.drawFooter(a,e,r),hP(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this,i=r._active,o=e.map(({datasetIndex:c,index:f})=>{const h=r._chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[f],index:f}}),a=!mm(i,o),u=r._positionChanged(o,n);(a||u)&&(r._active=o,r._eventPosition=n,r.update(!0))}handleEvent(e,n){const r=this,i=r.options,o=r._active||[];let a=!1,u=[];e.type!=="mouseout"&&(u=r._chart.getElementsAtEventForMode(e,i.mode,i,n),i.reverse&&u.reverse());const c=r._positionChanged(u,e);return a=n||!mm(u,o)||c,a&&(r._active=u,(i.enabled||i.external)&&(r._eventPosition={x:e.x,y:e.y},r.update(!0,n))),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:o}=this,a=Sh[o.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}tT.positioners=Sh;var qhe={id:"tooltip",_element:tT,positioners:Sh,afterInit(t,e,n){n&&(t.tooltip=new tT({_chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip,n={tooltip:e};t.notifyPlugins("beforeTooltipDraw",n)!==!1&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n))},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:$o,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:$o,beforeBody:$o,beforeLabel:$o,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return kt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:$o,afterBody:$o,beforeFooter:$o,footer:$o,afterFooter:$o}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const hQ=(t,e,n)=>typeof e=="string"?t.push(e)-1:isNaN(e)?null:n;function dQ(t,e,n){const r=t.indexOf(e);if(r===-1)return hQ(t,e,n);const i=t.lastIndexOf(e);return r!==i?n:r}const pQ=(t,e)=>t===null?null:ir(Math.round(t),0,e);class nT extends uu{constructor(e){super(e);this._startValue=void 0,this._valueRange=0}parse(e,n){if(kt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:dQ(r,e,ot(n,e)),pQ(n,r.length-1)}determineDataLimits(){const e=this,{minDefined:n,maxDefined:r}=e.getUserBounds();let{min:i,max:o}=e.getMinMax(!0);e.options.bounds==="ticks"&&(n||(i=0),r||(o=e.getLabels().length-1)),e.min=i,e.max=o}buildTicks(){const e=this,n=e.min,r=e.max,i=e.options.offset,o=[];let a=e.getLabels();a=n===0&&r===a.length-1?a:a.slice(n,r+1),e._valueRange=Math.max(a.length-(i?0:1),1),e._startValue=e.min-(i?.5:0);for(let u=n;u<=r;u++)o.push({value:u});return o}getLabelForValue(e){const r=this.getLabels();return e>=0&&e<r.length?r[e]:e}configure(){const e=this;super.configure(),e.isHorizontal()||(e._reversePixels=!e._reversePixels)}getPixelForValue(e){const n=this;return typeof e!="number"&&(e=n.parse(e)),e===null?NaN:n.getPixelForDecimal((e-n._startValue)/n._valueRange)}getPixelForTick(e){const n=this,r=n.ticks;return e<0||e>r.length-1?null:n.getPixelForValue(r[e].value)}getValueForPixel(e){const n=this;return Math.round(n._startValue+n.getDecimalForPixel(e)*n._valueRange)}getBasePixel(){return this.bottom}}nT.id="category";nT.defaults={ticks:{callback:nT.prototype.getLabelForValue}};function gQ(t,e){const n=[],r=1e-14,{bounds:i,step:o,min:a,max:u,precision:c,count:f,maxTicks:h,maxDigits:p,includeBounds:g}=t,v=o||1,y=h-1,{min:w,max:E}=e,I=!kt(a),x=!kt(u),k=!kt(f),P=(E-w)/(p+1);let D=NN((E-w)/y/v)*v,M,W,V,X;if(D<r&&!I&&!x)return[{value:w},{value:E}];X=Math.ceil(E/D)-Math.floor(w/D),X>y&&(D=NN(X*D/y/v)*v),kt(c)||(M=Math.pow(10,c),D=Math.ceil(D*M)/M),i==="ticks"?(W=Math.floor(w/D)*D,V=Math.ceil(E/D)*D):(W=w,V=E),I&&x&&o&&U6((u-a)/o,D/1e3)?(X=Math.round(Math.min((u-a)/D,h)),D=(u-a)/X,W=a,V=u):k?(W=I?a:W,V=x?u:V,X=f-1,D=(V-W)/X):(X=(V-W)/D,ch(X,Math.round(X),D/1e3)?X=Math.round(X):X=Math.ceil(X));const O=Math.max(DN(D),DN(W));M=Math.pow(10,kt(c)?O:c),W=Math.round(W*M)/M,V=Math.round(V*M)/M;let pe=0;for(I&&(g&&W!==a?(n.push({value:a}),W<a&&pe++,ch(Math.round((W+pe*D)*M)/M,a,yD(a,P,t))&&pe++):W<a&&pe++);pe<X;++pe)n.push({value:Math.round((W+pe*D)*M)/M});return x&&g&&V!==u?ch(n[n.length-1].value,u,yD(u,P,t))?n[n.length-1].value=u:n.push({value:u}):(!x||V===u)&&n.push({value:V}),n}function yD(t,e,{horizontal:n,minRotation:r}){const i=Bi(r),o=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class Hm extends uu{constructor(e){super(e);this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return kt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const e=this,{beginAtZero:n}=e.options,{minDefined:r,maxDefined:i}=e.getUserBounds();let{min:o,max:a}=e;const u=f=>o=r?o:f,c=f=>a=i?a:f;if(n){const f=mo(o),h=mo(a);f<0&&h<0?c(0):f>0&&h>0&&u(0)}if(o===a){let f=1;(a>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(f=Math.abs(a*.05)),c(a+f),n||u(o-f)}e.min=o,e.max=a}getTickLimit(){const e=this,n=e.options.ticks;let{maxTicksLimit:r,stepSize:i}=n,o;return i?o=Math.ceil(e.max/i)-Math.floor(e.min/i)+1:(o=e.computeTickLimit(),r=r||11),r&&(o=Math.min(r,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this,n=e.options,r=n.ticks;let i=e.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:n.bounds,min:n.min,max:n.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:e._maxDigits(),horizontal:e.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},a=e._range||e,u=gQ(o,a);return n.bounds==="ticks"&&PN(u,e,"value"),n.reverse?(u.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),u}configure(){const e=this,n=e.ticks;let r=e.min,i=e.max;if(super.configure(),e.options.offset&&n.length){const o=(i-r)/Math.max(n.length-1,1)/2;r-=o,i+=o}e._startValue=r,e._endValue=i,e._valueRange=i-r}getLabelForValue(e){return gh(e,this.chart.options.locale)}}class _D extends Hm{determineDataLimits(){const e=this,{min:n,max:r}=e.getMinMax(!0);e.min=$n(n)?n:0,e.max=$n(r)?r:1,e.handleTickRangeOptions()}computeTickLimit(){const e=this,n=e.isHorizontal(),r=n?e.width:e.height,i=Bi(e.options.ticks.minRotation),o=(n?Math.sin(i):Math.cos(i))||.001,a=e._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}_D.id="linear";_D.defaults={ticks:{callback:Lm.formatters.numeric}};function bD(t){return t/Math.pow(10,Math.floor(gi(t)))===1}function mQ(t,e){const n=Math.floor(gi(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[];let o=pi(t.min,Math.pow(10,Math.floor(gi(e.min)))),a=Math.floor(gi(o)),u=Math.floor(o/Math.pow(10,a)),c=a<0?Math.pow(10,Math.abs(a)):1;do i.push({value:o,major:bD(o)}),++u,u===10&&(u=1,++a,c=a>=0?1:c),o=Math.round(u*Math.pow(10,a)*c)/c;while(a<n||a===n&&u<r);const f=pi(t.max,o);return i.push({value:f,major:bD(o)}),i}class wD extends uu{constructor(e){super(e);this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Hm.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return $n(r)&&r>0?r:null}determineDataLimits(){const e=this,{min:n,max:r}=e.getMinMax(!0);e.min=$n(n)?Math.max(0,n):null,e.max=$n(r)?Math.max(0,r):null,e.options.beginAtZero&&(e._zero=!0),e.handleTickRangeOptions()}handleTickRangeOptions(){const e=this,{minDefined:n,maxDefined:r}=e.getUserBounds();let i=e.min,o=e.max;const a=f=>i=n?i:f,u=f=>o=r?o:f,c=(f,h)=>Math.pow(10,Math.floor(gi(f))+h);i===o&&(i<=0?(a(1),u(10)):(a(c(i,-1)),u(c(o,1)))),i<=0&&a(c(o,-1)),o<=0&&u(c(i,1)),e._zero&&e.min!==e._suggestedMin&&i===c(e.min,0)&&a(c(i,-1)),e.min=i,e.max=o}buildTicks(){const e=this,n=e.options,r={min:e._userMin,max:e._userMax},i=mQ(r,e);return n.bounds==="ticks"&&PN(i,e,"value"),n.reverse?(i.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),i}getLabelForValue(e){return e===void 0?"0":gh(e,this.chart.options.locale)}configure(){const e=this,n=e.min;super.configure(),e._startValue=gi(n),e._valueRange=gi(e.max)-gi(n)}getPixelForValue(e){const n=this;return(e===void 0||e===0)&&(e=n.min),e===null||isNaN(e)?NaN:n.getPixelForDecimal(e===n.min?0:(gi(e)-n._startValue)/n._valueRange)}getValueForPixel(e){const n=this,r=n.getDecimalForPixel(e);return Math.pow(10,n._startValue+r*n._valueRange)}}wD.id="logarithmic";wD.defaults={ticks:{callback:Lm.formatters.logarithmic,major:{enabled:!0}}};function rT(t){const e=t.ticks;if(e.display&&t.display){const n=yr(e.backdropPadding);return ot(e.font&&e.font.size,ft.font.size)+n.height}return 0}function vQ(t,e,n){return n=$t(n)?n:[n],{w:c5(t,e.string,n),h:n.length*e.lineHeight}}function ED(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function yQ(t){const e={l:0,r:t.width,t:0,b:t.height-t.paddingTop},n={},r=[],i=[],o=t.getLabels().length;for(let a=0;a<o;a++){const u=t.options.pointLabels.setContext(t.getPointLabelContext(a));i[a]=u.padding;const c=t.getPointPosition(a,t.drawingArea+i[a]),f=In(u.font),h=vQ(t.ctx,f,t._pointLabels[a]);r[a]=h;const p=t.getIndexAngle(a),g=mE(p),v=ED(g,c.x,h.w,0,180),y=ED(g,c.y,h.h,90,270);v.start<e.l&&(e.l=v.start,n.l=p),v.end>e.r&&(e.r=v.end,n.r=p),y.start<e.t&&(e.t=y.start,n.t=p),y.end>e.b&&(e.b=y.end,n.b=p)}t._setReductions(t.drawingArea,e,n),t._pointLabelItems=_Q(t,r,i)}function _Q(t,e,n){const r=[],i=t.getLabels().length,o=t.options,a=rT(o),u=t.getDistanceFromCenterForValue(o.ticks.reverse?t.min:t.max);for(let c=0;c<i;c++){const f=c===0?a/2:0,h=t.getPointPosition(c,u+f+n[c]),p=mE(t.getIndexAngle(c)),g=e[c],v=EQ(h.y,g.h,p),y=bQ(p),w=wQ(h.x,g.w,y);r.push({x:h.x,y:v,textAlign:y,left:w,top:v,right:w+g.w,bottom:v+g.h})}return r}function bQ(t){return t===0||t===180?"center":t<180?"left":"right"}function wQ(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function EQ(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function TQ(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const o=r.setContext(t.getPointLabelContext(i)),a=In(o.font),{x:u,y:c,textAlign:f,left:h,top:p,right:g,bottom:v}=t._pointLabelItems[i],{backdropColor:y}=o;if(!kt(y)){const w=yr(o.backdropPadding);n.fillStyle=y,n.fillRect(h-w.left,p-w.top,g-h+w.width,v-p+w.height)}ru(n,t._pointLabels[i],u,c+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function TD(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Vt);else{let o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let a=1;a<r;a++)o=t.getPointPosition(a,e),i.lineTo(o.x,o.y)}}function IQ(t,e,n,r){const i=t.ctx,o=e.circular,{color:a,lineWidth:u}=e;!o&&!r||!a||!u||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=u,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),TD(t,n,o,r),i.closePath(),i.stroke(),i.restore())}function $m(t){return Vc(t)?t:0}function SQ(t,e,n){return Object.assign(Object.create(t),{label:n,index:e,type:"pointLabel"})}class Wm extends Hm{constructor(e){super(e);this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=rT(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2}determineDataLimits(){const e=this,{min:n,max:r}=e.getMinMax(!1);e.min=$n(n)&&!isNaN(n)?n:0,e.max=$n(r)&&!isNaN(r)?r:0,e.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/rT(this.options))}generateTickLabels(e){const n=this;Hm.prototype.generateTickLabels.call(n,e),n._pointLabels=n.getLabels().map((r,i)=>{const o=Bt(n.options.pointLabels.callback,[r,i],n);return o||o===0?o:""})}fit(){const e=this,n=e.options;n.display&&n.pointLabels.display?yQ(e):e.setCenterPoint(0,0,0,0)}_setReductions(e,n,r){const i=this;let o=n.l/Math.sin(r.l),a=Math.max(n.r-i.width,0)/Math.sin(r.r),u=-n.t/Math.cos(r.t),c=-Math.max(n.b-(i.height-i.paddingTop),0)/Math.cos(r.b);o=$m(o),a=$m(a),u=$m(u),c=$m(c),i.drawingArea=Math.max(e/2,Math.min(Math.floor(e-(o+a)/2),Math.floor(e-(u+c)/2))),i.setCenterPoint(o,a,u,c)}setCenterPoint(e,n,r,i){const o=this,a=o.width-n-o.drawingArea,u=e+o.drawingArea,c=r+o.drawingArea,f=o.height-o.paddingTop-i-o.drawingArea;o.xCenter=Math.floor((u+a)/2+o.left),o.yCenter=Math.floor((c+f)/2+o.top+o.paddingTop)}getIndexAngle(e){const n=Vt/this.getLabels().length,r=this.options.startAngle||0;return Wo(e*n+Bi(r))}getDistanceFromCenterForValue(e){const n=this;if(kt(e))return NaN;const r=n.drawingArea/(n.max-n.min);return n.options.reverse?(n.max-e)*r:(e-n.min)*r}getValueForDistanceFromCenter(e){if(kt(e))return NaN;const n=this,r=e/(n.drawingArea/(n.max-n.min));return n.options.reverse?n.max-r:n.min+r}getPointLabelContext(e){const n=this,r=n._pointLabels||[];if(e>=0&&e<r.length){const i=r[e];return SQ(n.getContext(),e,i)}}getPointPosition(e,n){const r=this,i=r.getIndexAngle(e)-cn;return{x:Math.cos(i)*n+r.xCenter,y:Math.sin(i)*n+r.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:o}}drawBackground(){const e=this,{backgroundColor:n,grid:{circular:r}}=e.options;if(n){const i=e.ctx;i.save(),i.beginPath(),TD(e,e.getDistanceFromCenterForValue(e._endValue),r,e.getLabels().length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}drawGrid(){const e=this,n=e.ctx,r=e.options,{angleLines:i,grid:o}=r,a=e.getLabels().length;let u,c,f;if(r.pointLabels.display&&TQ(e,a),o.display&&e.ticks.forEach((h,p)=>{if(p!==0){c=e.getDistanceFromCenterForValue(h.value);const g=o.setContext(e.getContext(p-1));IQ(e,g,c,a)}}),i.display){for(n.save(),u=e.getLabels().length-1;u>=0;u--){const h=i.setContext(e.getPointLabelContext(u)),{color:p,lineWidth:g}=h;!g||!p||(n.lineWidth=g,n.strokeStyle=p,n.setLineDash(h.borderDash),n.lineDashOffset=h.borderDashOffset,c=e.getDistanceFromCenterForValue(r.ticks.reverse?e.min:e.max),f=e.getPointPosition(u,c),n.beginPath(),n.moveTo(e.xCenter,e.yCenter),n.lineTo(f.x,f.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const e=this,n=e.ctx,r=e.options,i=r.ticks;if(!i.display)return;const o=e.getIndexAngle(0);let a,u;n.save(),n.translate(e.xCenter,e.yCenter),n.rotate(o),n.textAlign="center",n.textBaseline="middle",e.ticks.forEach((c,f)=>{if(f===0&&!r.reverse)return;const h=i.setContext(e.getContext(f)),p=In(h.font);if(a=e.getDistanceFromCenterForValue(e.ticks[f].value),h.showLabelBackdrop){n.font=p.string,u=n.measureText(c.label).width,n.fillStyle=h.backdropColor;const g=yr(h.backdropPadding);n.fillRect(-u/2-g.left,-a-p.size/2-g.top,u+g.width,p.size+g.height)}ru(n,c.label,0,-a,p,{color:h.color})}),n.restore()}drawTitle(){}}Wm.id="radialLinear";Wm.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Lm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5}};Wm.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Wm.descriptors={angleLines:{_fallback:"grid"}};const zm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Lr=Object.keys(zm);function CQ(t,e){return t-e}function ID(t,e){if(kt(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),$n(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Vc(o)||o===!0)?n.startOf(a,"isoWeek",o):n.startOf(a,i)),+a)}function SD(t,e,n,r){const i=Lr.length;for(let o=Lr.indexOf(t);o<i-1;++o){const a=zm[Lr[o]],u=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(u*a.size))<=r)return Lr[o]}return Lr[i-1]}function AQ(t,e,n,r,i){for(let o=Lr.length-1;o>=Lr.indexOf(n);o--){const a=Lr[o];if(zm[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Lr[n?Lr.indexOf(n):0]}function xQ(t){for(let e=Lr.indexOf(t)+1,n=Lr.length;e<n;++e)if(zm[Lr[e]].common)return Lr[e]}function CD(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=kE(n,e),o=n[r]>=e?n[r]:n[i];t[o]=!0}}function RQ(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),a=e[e.length-1].value;let u,c;for(u=o;u<=a;u=+i.add(u,1,r))c=n[u],c>=0&&(e[c].major=!0);return e}function AD(t,e,n){const r=[],i={},o=e.length;let a,u;for(a=0;a<o;++a)u=e[a],i[u]=a,r.push({value:u,major:!1});return o===0||!n?r:RQ(t,r,i,n)}class Km extends uu{constructor(e){super(e);this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const r=e.time||(e.time={}),i=this._adapter=new NY._date(e.adapters.date);ah(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:ID(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this,n=e.options,r=e._adapter,i=n.time.unit||"day";let{min:o,max:a,minDefined:u,maxDefined:c}=e.getUserBounds();function f(h){!u&&!isNaN(h.min)&&(o=Math.min(o,h.min)),!c&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!u||!c)&&(f(e._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&f(e.getMinMax(!1))),o=$n(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),a=$n(a)&&!isNaN(a)?a:+r.endOf(Date.now(),i)+1,e.min=Math.min(o,a-1),e.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this,n=e.options,r=n.time,i=n.ticks,o=i.source==="labels"?e.getLabelTimestamps():e._generate();n.bounds==="ticks"&&o.length&&(e.min=e._userMin||o[0],e.max=e._userMax||o[o.length-1]);const a=e.min,u=e.max,c=b5(o,a,u);return e._unit=r.unit||(i.autoSkip?SD(r.minUnit,e.min,e.max,e._getLabelCapacity(a)):AQ(e,c.length,r.minUnit,e.min,e.max)),e._majorUnit=!i.major.enabled||e._unit==="year"?void 0:xQ(e._unit),e.initOffsets(o),n.reverse&&c.reverse(),AD(e,c,e._majorUnit)}initOffsets(e){const n=this;let r=0,i=0,o,a;n.options.offset&&e.length&&(o=n.getDecimalForValue(e[0]),e.length===1?r=1-o:r=(n.getDecimalForValue(e[1])-o)/2,a=n.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-n.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;r=ir(r,0,u),i=ir(i,0,u),n._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this,n=e._adapter,r=e.min,i=e.max,o=e.options,a=o.time,u=a.unit||SD(a.minUnit,r,i,e._getLabelCapacity(r)),c=ot(a.stepSize,1),f=u==="week"?a.isoWeekday:!1,h=Vc(f)||f===!0,p={};let g=r,v,y;if(h&&(g=+n.startOf(g,"isoWeek",f)),g=+n.startOf(g,h?"day":u),n.diff(i,r,u)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+u);const w=o.ticks.source==="data"&&e.getDataTimestamps();for(v=g,y=0;v<i;v=+n.add(v,c,u),y++)CD(p,v,w);return(v===i||o.bounds==="ticks"||y===1)&&CD(p,v,w),Object.keys(p).sort((E,I)=>E-I).map(E=>+E)}getLabelForValue(e){const n=this,r=n._adapter,i=n.options.time;return i.tooltipFormat?r.format(e,i.tooltipFormat):r.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,n,r,i){const o=this,a=o.options,u=a.time.displayFormats,c=o._unit,f=o._majorUnit,h=c&&u[c],p=f&&u[f],g=r[n],v=f&&p&&g&&g.major,y=o._adapter.format(e,i||(v?p:h)),w=a.ticks.callback;return w?Bt(w,[y,n,r],o):y}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){const n=this;return e===null?NaN:(e-n.min)/(n.max-n.min)}getPixelForValue(e){const n=this,r=n._offsets,i=n.getDecimalForValue(e);return n.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){const n=this,r=n._offsets,i=n.getDecimalForPixel(e)/r.factor-r.end;return n.min+i*(n.max-n.min)}_getLabelSize(e){const n=this,r=n.options.ticks,i=n.ctx.measureText(e).width,o=Bi(n.isHorizontal()?r.maxRotation:r.minRotation),a=Math.cos(o),u=Math.sin(o),c=n._resolveTickFontOptions(0).size;return{w:i*a+c*u,h:i*u+c*a}}_getLabelCapacity(e){const n=this,r=n.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,a=n._tickFormatFunction(e,0,AD(n,[e],n._majorUnit),o),u=n._getLabelSize(a),c=Math.floor(n.isHorizontal()?n.width/u.w:n.height/u.h)-1;return c>0?c:1}getDataTimestamps(){const e=this;let n=e._cache.data||[],r,i;if(n.length)return n;const o=e.getMatchingVisibleMetas();if(e._normalized&&o.length)return e._cache.data=o[0].controller.getAllParsedValues(e);for(r=0,i=o.length;r<i;++r)n=n.concat(o[r].controller.getAllParsedValues(e));return e._cache.data=e.normalize(n)}getLabelTimestamps(){const e=this,n=e._cache.labels||[];let r,i;if(n.length)return n;const o=e.getLabels();for(r=0,i=o.length;r<i;++r)n.push(ID(e,o[r]));return e._cache.labels=e._normalized?n:e.normalize(n)}normalize(e){return QN(e.sort(CQ))}}Km.id="time";Km.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Gm(t,e,n){let r=0,i=t.length-1,o,a,u,c;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=iu(t,"pos",e)),{pos:o,time:u}=t[r],{pos:a,time:c}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=iu(t,"time",e)),{time:o,pos:u}=t[r],{time:a,pos:c}=t[i]);const f=a-o;return f?u+(c-u)*(e-o)/f:u}class xD extends Km{constructor(e){super(e);this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this,n=e._getTimestampsForTable(),r=e._table=e.buildLookupTable(n);e._minPos=Gm(r,e.min),e._tableRange=Gm(r,e.max)-e._minPos,super.initOffsets(n)}buildLookupTable(e){const{min:n,max:r}=this,i=[],o=[];let a,u,c,f,h;for(a=0,u=e.length;a<u;++a)f=e[a],f>=n&&f<=r&&i.push(f);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,u=i.length;a<u;++a)h=i[a+1],c=i[a-1],f=i[a],Math.round((h+c)/2)!==f&&o.push({time:f,pos:a/(u-1)});return o}_getTimestampsForTable(){const e=this;let n=e._cache.all||[];if(n.length)return n;const r=e.getDataTimestamps(),i=e.getLabelTimestamps();return r.length&&i.length?n=e.normalize(r.concat(i)):n=r.length?r:i,n=e._cache.all=n,n}getDecimalForValue(e){return(Gm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this,r=n._offsets,i=n.getDecimalForPixel(e)/r.factor-r.end;return Gm(n._table,i*n._tableRange+n._minPos,!0)}}xD.id="timeseries";xD.defaults=Km.defaults;var yi="top",qi="bottom",Hi="right",_i="left",iT="auto",Ch=[yi,qi,Hi,_i],Kc="start",oT="end",kQ="clippingParents",RD="viewport",Ah="popper",OQ="reference",kD=Ch.reduce(function(t,e){return t.concat([e+"-"+Kc,e+"-"+oT])},[]),OD=[].concat(Ch,[iT]).reduce(function(t,e){return t.concat([e,e+"-"+Kc,e+"-"+oT])},[]),NQ="beforeRead",PQ="read",DQ="afterRead",MQ="beforeMain",LQ="main",FQ="afterMain",UQ="beforeWrite",jQ="write",BQ="afterWrite",VQ=[NQ,PQ,DQ,MQ,LQ,FQ,UQ,jQ,BQ];function _o(t){return t?(t.nodeName||"").toLowerCase():null}function $i(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function xh(t){var e=$i(t).Element;return t instanceof e||t instanceof Element}function Wi(t){var e=$i(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ND(t){if(typeof ShadowRoot=="undefined")return!1;var e=$i(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function qQ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Wi(o)||!_o(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var u=i[a];u===!1?o.removeAttribute(a):o.setAttribute(a,u===!0?"":u)}))})}function HQ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),u=a.reduce(function(c,f){return c[f]="",c},{});!Wi(i)||!_o(i)||(Object.assign(i.style,u),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var $Q={name:"applyStyles",enabled:!0,phase:"write",fn:qQ,effect:HQ,requires:["computeStyles"]};function bo(t){return t.split("-")[0]}function Gc(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function sT(t){var e=Gc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function PD(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ND(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Yo(t){return $i(t).getComputedStyle(t)}function WQ(t){return["table","td","th"].indexOf(_o(t))>=0}function Ms(t){return((xh(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ym(t){return _o(t)==="html"?t:t.assignedSlot||t.parentNode||(ND(t)?t.host:null)||Ms(t)}function DD(t){return!Wi(t)||Yo(t).position==="fixed"?null:t.offsetParent}function zQ(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Wi(t)){var r=Yo(t);if(r.position==="fixed")return null}for(var i=Ym(t);Wi(i)&&["html","body"].indexOf(_o(i))<0;){var o=Yo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Rh(t){for(var e=$i(t),n=DD(t);n&&WQ(n)&&Yo(n).position==="static";)n=DD(n);return n&&(_o(n)==="html"||_o(n)==="body"&&Yo(n).position==="static")?e:n||zQ(t)||e}function aT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}var Ls=Math.max,kh=Math.min,Xm=Math.round;function Qm(t,e,n){return Ls(t,kh(e,n))}function MD(){return{top:0,right:0,bottom:0,left:0}}function LD(t){return Object.assign({},MD(),t)}function FD(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var KQ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,LD(typeof e!="number"?e:FD(e,Ch))};function GQ(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,u=bo(n.placement),c=aT(u),f=[_i,Hi].indexOf(u)>=0,h=f?"height":"width";if(!(!o||!a)){var p=KQ(i.padding,n),g=sT(o),v=c==="y"?yi:_i,y=c==="y"?qi:Hi,w=n.rects.reference[h]+n.rects.reference[c]-a[c]-n.rects.popper[h],E=a[c]-n.rects.reference[c],I=Rh(o),x=I?c==="y"?I.clientHeight||0:I.clientWidth||0:0,k=w/2-E/2,P=p[v],D=x-g[h]-p[y],M=x/2-g[h]/2+k,W=Qm(P,M,D),V=c;n.modifiersData[r]=(e={},e[V]=W,e.centerOffset=W-M,e)}}function YQ(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!PD(e.elements.popper,i)||(e.elements.arrow=i))}var XQ={name:"arrow",enabled:!0,phase:"main",fn:GQ,effect:YQ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},QQ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function JQ(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Xm(Xm(e*i)/i)||0,y:Xm(Xm(n*i)/i)||0}}function UD(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.offsets,a=t.position,u=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,h=f===!0?JQ(o):typeof f=="function"?f(o):o,p=h.x,g=p===void 0?0:p,v=h.y,y=v===void 0?0:v,w=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),I=_i,x=yi,k=window;if(c){var P=Rh(n),D="clientHeight",M="clientWidth";P===$i(n)&&(P=Ms(n),Yo(P).position!=="static"&&(D="scrollHeight",M="scrollWidth")),P=P,i===yi&&(x=qi,y-=P[D]-r.height,y*=u?1:-1),i===_i&&(I=Hi,g-=P[M]-r.width,g*=u?1:-1)}var W=Object.assign({position:a},c&&QQ);if(u){var V;return Object.assign({},W,(V={},V[x]=E?"0":"",V[I]=w?"0":"",V.transform=(k.devicePixelRatio||1)<2?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",V))}return Object.assign({},W,(e={},e[x]=E?y+"px":"",e[I]=w?g+"px":"",e.transform="",e))}function ZQ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,u=n.roundOffsets,c=u===void 0?!0:u,f={placement:bo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,UD(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,UD(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var e8={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZQ,data:{}},Jm={passive:!0};function t8(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,u=a===void 0?!0:a,c=$i(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(h){h.addEventListener("scroll",n.update,Jm)}),u&&c.addEventListener("resize",n.update,Jm),function(){o&&f.forEach(function(h){h.removeEventListener("scroll",n.update,Jm)}),u&&c.removeEventListener("resize",n.update,Jm)}}var n8={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:t8,data:{}},r8={left:"right",right:"left",bottom:"top",top:"bottom"};function Zm(t){return t.replace(/left|right|bottom|top/g,function(e){return r8[e]})}var i8={start:"end",end:"start"};function jD(t){return t.replace(/start|end/g,function(e){return i8[e]})}function uT(t){var e=$i(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function cT(t){return Gc(Ms(t)).left+uT(t).scrollLeft}function o8(t){var e=$i(t),n=Ms(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,u=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,u=r.offsetTop)),{width:i,height:o,x:a+cT(t),y:u}}function s8(t){var e,n=Ms(t),r=uT(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Ls(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Ls(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+cT(t),c=-r.scrollTop;return Yo(i||n).direction==="rtl"&&(u+=Ls(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:u,y:c}}function lT(t){var e=Yo(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function BD(t){return["html","body","#document"].indexOf(_o(t))>=0?t.ownerDocument.body:Wi(t)&&lT(t)?t:BD(Ym(t))}function Oh(t,e){var n;e===void 0&&(e=[]);var r=BD(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=$i(r),a=i?[o].concat(o.visualViewport||[],lT(r)?r:[]):r,u=e.concat(a);return i?u:u.concat(Oh(Ym(a)))}function fT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function a8(t){var e=Gc(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function VD(t,e){return e===RD?fT(o8(t)):Wi(e)?a8(e):fT(s8(Ms(t)))}function u8(t){var e=Oh(Ym(t)),n=["absolute","fixed"].indexOf(Yo(t).position)>=0,r=n&&Wi(t)?Rh(t):t;return xh(r)?e.filter(function(i){return xh(i)&&PD(i,r)&&_o(i)!=="body"}):[]}function c8(t,e,n){var r=e==="clippingParents"?u8(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(u,c){var f=VD(t,c);return u.top=Ls(f.top,u.top),u.right=kh(f.right,u.right),u.bottom=kh(f.bottom,u.bottom),u.left=Ls(f.left,u.left),u},VD(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Nh(t){return t.split("-")[1]}function qD(t){var e=t.reference,n=t.element,r=t.placement,i=r?bo(r):null,o=r?Nh(r):null,a=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,c;switch(i){case yi:c={x:a,y:e.y-n.height};break;case qi:c={x:a,y:e.y+e.height};break;case Hi:c={x:e.x+e.width,y:u};break;case _i:c={x:e.x-n.width,y:u};break;default:c={x:e.x,y:e.y}}var f=i?aT(i):null;if(f!=null){var h=f==="y"?"height":"width";switch(o){case Kc:c[f]=c[f]-(e[h]/2-n[h]/2);break;case oT:c[f]=c[f]+(e[h]/2-n[h]/2);break}}return c}function Ph(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.boundary,a=o===void 0?kQ:o,u=n.rootBoundary,c=u===void 0?RD:u,f=n.elementContext,h=f===void 0?Ah:f,p=n.altBoundary,g=p===void 0?!1:p,v=n.padding,y=v===void 0?0:v,w=LD(typeof y!="number"?y:FD(y,Ch)),E=h===Ah?OQ:Ah,I=t.elements.reference,x=t.rects.popper,k=t.elements[g?E:h],P=c8(xh(k)?k:k.contextElement||Ms(t.elements.popper),a,c),D=Gc(I),M=qD({reference:D,element:x,strategy:"absolute",placement:i}),W=fT(Object.assign({},x,M)),V=h===Ah?W:D,X={top:P.top-V.top+w.top,bottom:V.bottom-P.bottom+w.bottom,left:P.left-V.left+w.left,right:V.right-P.right+w.right},O=t.modifiersData.offset;if(h===Ah&&O){var pe=O[i];Object.keys(X).forEach(function(Ee){var Z=[Hi,qi].indexOf(Ee)>=0?1:-1,Ie=[yi,qi].indexOf(Ee)>=0?"y":"x";X[Ee]+=pe[Ie]*Z})}return X}function l8(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,u=n.flipVariations,c=n.allowedAutoPlacements,f=c===void 0?OD:c,h=Nh(r),p=h?u?kD:kD.filter(function(y){return Nh(y)===h}):Ch,g=p.filter(function(y){return f.indexOf(y)>=0});g.length===0&&(g=p);var v=g.reduce(function(y,w){return y[w]=Ph(t,{placement:w,boundary:i,rootBoundary:o,padding:a})[bo(w)],y},{});return Object.keys(v).sort(function(y,w){return v[y]-v[w]})}function f8(t){if(bo(t)===iT)return[];var e=Zm(t);return[jD(t),e,jD(e)]}function h8(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,u=a===void 0?!0:a,c=n.fallbackPlacements,f=n.padding,h=n.boundary,p=n.rootBoundary,g=n.altBoundary,v=n.flipVariations,y=v===void 0?!0:v,w=n.allowedAutoPlacements,E=e.options.placement,I=bo(E),x=I===E,k=c||(x||!y?[Zm(E)]:f8(E)),P=[E].concat(k).reduce(function(zt,Q){return zt.concat(bo(Q)===iT?l8(e,{placement:Q,boundary:h,rootBoundary:p,padding:f,flipVariations:y,allowedAutoPlacements:w}):Q)},[]),D=e.rects.reference,M=e.rects.popper,W=new Map,V=!0,X=P[0],O=0;O<P.length;O++){var pe=P[O],Ee=bo(pe),Z=Nh(pe)===Kc,Ie=[yi,qi].indexOf(Ee)>=0,ve=Ie?"width":"height",$=Ph(e,{placement:pe,boundary:h,rootBoundary:p,altBoundary:g,padding:f}),z=Ie?Z?Hi:_i:Z?qi:yi;D[ve]>M[ve]&&(z=Zm(z));var J=Zm(z),se=[];if(o&&se.push($[Ee]<=0),u&&se.push($[z]<=0,$[J]<=0),se.every(function(zt){return zt})){X=pe,V=!1;break}W.set(pe,se)}if(V)for(var Pe=y?3:1,Ke=function(Q){var Te=P.find(function(me){var ge=W.get(me);if(ge)return ge.slice(0,Q).every(function(dt){return dt})});if(Te)return X=Te,"break"},Ue=Pe;Ue>0;Ue--){var st=Ke(Ue);if(st==="break")break}e.placement!==X&&(e.modifiersData[r]._skip=!0,e.placement=X,e.reset=!0)}}var d8={name:"flip",enabled:!0,phase:"main",fn:h8,requiresIfExists:["offset"],data:{_skip:!1}};function HD(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function $D(t){return[yi,Hi,qi,_i].some(function(e){return t[e]>=0})}function p8(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Ph(e,{elementContext:"reference"}),u=Ph(e,{altBoundary:!0}),c=HD(a,r),f=HD(u,i,o),h=$D(c),p=$D(f);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}var g8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:p8};function m8(t,e,n){var r=bo(t),i=[_i,yi].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],u=o[1];return a=a||0,u=(u||0)*i,[_i,Hi].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}function v8(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=OD.reduce(function(h,p){return h[p]=m8(p,e.rects,o),h},{}),u=a[e.placement],c=u.x,f=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=a}var y8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:v8};function _8(t){var e=t.state,n=t.name;e.modifiersData[n]=qD({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var b8={name:"popperOffsets",enabled:!0,phase:"read",fn:_8,data:{}};function w8(t){return t==="x"?"y":"x"}function E8(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,u=a===void 0?!1:a,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.padding,g=n.tether,v=g===void 0?!0:g,y=n.tetherOffset,w=y===void 0?0:y,E=Ph(e,{boundary:c,rootBoundary:f,padding:p,altBoundary:h}),I=bo(e.placement),x=Nh(e.placement),k=!x,P=aT(I),D=w8(P),M=e.modifiersData.popperOffsets,W=e.rects.reference,V=e.rects.popper,X=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,O={x:0,y:0};if(!!M){if(o||u){var pe=P==="y"?yi:_i,Ee=P==="y"?qi:Hi,Z=P==="y"?"height":"width",Ie=M[P],ve=M[P]+E[pe],$=M[P]-E[Ee],z=v?-V[Z]/2:0,J=x===Kc?W[Z]:V[Z],se=x===Kc?-V[Z]:-W[Z],Pe=e.elements.arrow,Ke=v&&Pe?sT(Pe):{width:0,height:0},Ue=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:MD(),st=Ue[pe],zt=Ue[Ee],Q=Qm(0,W[Z],Ke[Z]),Te=k?W[Z]/2-z-Q-st-X:J-Q-st-X,me=k?-W[Z]/2+z+Q+zt+X:se+Q+zt+X,ge=e.elements.arrow&&Rh(e.elements.arrow),dt=ge?P==="y"?ge.clientTop||0:ge.clientLeft||0:0,We=e.modifiersData.offset?e.modifiersData.offset[e.placement][P]:0,ze=M[P]+Te-We-dt,Ge=M[P]+me-We;if(o){var L=Qm(v?kh(ve,ze):ve,Ie,v?Ls($,Ge):$);M[P]=L,O[P]=L-Ie}if(u){var j=P==="x"?yi:_i,G=P==="x"?qi:Hi,ee=M[D],te=ee+E[j],ae=ee-E[G],ye=Qm(v?kh(te,ze):te,ee,v?Ls(ae,Ge):ae);M[D]=ye,O[D]=ye-ee}}e.modifiersData[r]=O}}var T8={name:"preventOverflow",enabled:!0,phase:"main",fn:E8,requiresIfExists:["offset"]};function I8(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function S8(t){return t===$i(t)||!Wi(t)?uT(t):I8(t)}function C8(t,e,n){n===void 0&&(n=!1);var r=Ms(e),i=Gc(t),o=Wi(e),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&((_o(e)!=="body"||lT(r))&&(a=S8(e)),Wi(e)?(u=Gc(e),u.x+=e.clientLeft,u.y+=e.clientTop):r&&(u.x=cT(r))),{x:i.left+a.scrollLeft-u.x,y:i.top+a.scrollTop-u.y,width:i.width,height:i.height}}function A8(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(u){if(!n.has(u)){var c=e.get(u);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function x8(t){var e=A8(t);return VQ.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function R8(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function k8(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var WD={placement:"bottom",modifiers:[],strategy:"absolute"};function zD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function O8(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?WD:i;return function(u,c,f){f===void 0&&(f=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},WD,o),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},p=[],g=!1,v={state:h,setOptions:function(I){w(),h.options=Object.assign({},o,h.options,I),h.scrollParents={reference:xh(u)?Oh(u):u.contextElement?Oh(u.contextElement):[],popper:Oh(c)};var x=x8(k8([].concat(r,h.options.modifiers)));return h.orderedModifiers=x.filter(function(k){return k.enabled}),y(),v.update()},forceUpdate:function(){if(!g){var I=h.elements,x=I.reference,k=I.popper;if(!!zD(x,k)){h.rects={reference:C8(x,Rh(k),h.options.strategy==="fixed"),popper:sT(k)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(O){return h.modifiersData[O.name]=Object.assign({},O.data)});for(var P=0;P<h.orderedModifiers.length;P++){if(h.reset===!0){h.reset=!1,P=-1;continue}var D=h.orderedModifiers[P],M=D.fn,W=D.options,V=W===void 0?{}:W,X=D.name;typeof M=="function"&&(h=M({state:h,options:V,name:X,instance:v})||h)}}}},update:R8(function(){return new Promise(function(E){v.forceUpdate(),E(h)})}),destroy:function(){w(),g=!0}};if(!zD(u,c))return v;v.setOptions(f).then(function(E){!g&&f.onFirstUpdate&&f.onFirstUpdate(E)});function y(){h.orderedModifiers.forEach(function(E){var I=E.name,x=E.options,k=x===void 0?{}:x,P=E.effect;if(typeof P=="function"){var D=P({state:h,name:I,instance:v,options:k}),M=function(){};p.push(D||M)}})}function w(){p.forEach(function(E){return E()}),p=[]}return v}}var N8=[n8,b8,e8,$Q,y8,d8,T8,XQ,g8],Hhe=O8({defaultModifiers:N8});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hT=function(t,e){return hT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},hT(t,e)};function we(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Fe=function(){return Fe=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Fe.apply(this,arguments)};function U(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(h){try{f(r.next(h))}catch(p){a(p)}}function c(h){try{f(r.throw(h))}catch(p){a(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})}function F(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(h){return c([f,h])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(h){f=[6,h],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Pn(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wn(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Ze(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce=function(t,e){if(!t)throw Yc(e)},Yc=function(t){return new Error("Firebase Database ("+KD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GD=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)==55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},P8=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|u>>4,g=(u&15)<<2|f>>6,v=f&63;c||(v=64,a||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GD(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,u=a?n[t.charAt(i)]:0;++i;var c=i<t.length,f=c?n[t.charAt(i)]:64;++i;var h=i<t.length,p=h?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw Error();var g=o<<2|u>>4;if(r.push(g),f!==64){var v=u<<4&240|f>>2;if(r.push(v),p!==64){var y=f<<6&192|p;r.push(y)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},YD=function(t){var e=GD(t);return ev.encodeByteArray(e,!0)},XD=function(t){return YD(t).replace(/\./g,"")},QD=function(t){try{return ev.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){return Dh(void 0,t)}function Dh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!D8(r)||(t[r]=Dh(t[r],e[r]));return t}function D8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Fe({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[XD(JSON.stringify(n)),XD(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pT(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cu())}function ZD(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M8(){return typeof self=="object"&&self.self===self}function gT(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L8(){return cu().indexOf("Electron/")>=0}function F8(){var t=cu();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U8(){return cu().indexOf("MSAppHost/")>=0}function tM(){return KD.NODE_ADMIN===!0}function j8(){return!ZD()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mh(){return"indexedDB"in self&&indexedDB!=null}function mT(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function nM(){return!(!navigator||!navigator.cookieEnabled)}function B8(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V8="FirebaseError",Xc=function(t){we(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=V8,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Xo.prototype.create),o}return e}(Error),Xo=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,a=this.errors[e],u=a?q8(a,i):"Error",c=this.serviceName+": "+u+" ("+o+").",f=new Xc(o,c,i);return f},t}();function q8(t,e){return t.replace(H8,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var H8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){return JSON.parse(t)}function Sn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vT=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Lh(QD(o[0])||""),n=Lh(QD(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},$8=function(t){var e=vT(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},W8=function(t){var e=vT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},z8=function(t){var e=vT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function yT(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tv(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(t){for(var e=[],n=function(c,f){Array.isArray(f)?f.forEach(function(h){e.push(encodeURIComponent(c)+"="+encodeURIComponent(h))}):e.push(encodeURIComponent(c)+"="+encodeURIComponent(f))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],u=o[1];n(a,u)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G8=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],h=this.chain_[4],p,g,i=0;i<80;i++){i<40?i<20?(p=f^u&(c^f),g=1518500249):(p=u^c^f,g=1859775393):i<60?(p=u&c|f&(u|c),g=2400959708):(p=u^c^f,g=3395469782);var o=(a<<5|a>>>27)+p+h+g+r[i]&4294967295;h=f,f=c,c=(u<<30|u>>>2)&4294967295,u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},t}();function Y8(t,e){var n=new X8(t,e);return n.subscribe.bind(n)}var X8=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q8(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=_T),o.error===void 0&&(o.error=_T),o.complete===void 0&&(o.complete=_T);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function Q8(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function _T(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function Fr(t,e){return t+" failed: "+e+" argument "}function Mn(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Fr(t,e)+"must be a valid function.")}function rM(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Fr(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J8=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,ce(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nv=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z8=1e3,e7=2,t7=4*60*60*1e3,n7=.5;function bT(t,e,n){e===void 0&&(e=Z8),n===void 0&&(n=e7);var r=e*Math.pow(n,t),i=Math.round(n7*r*(Math.random()-.5)*2);return Math.min(t7,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}var or=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iM=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new Dn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(i7(e))try{this.getOrInitializeService({instanceIdentifier:fu})}catch{}try{for(var i=Pn(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Wn(o.value,2),u=a[0],c=a[1],f=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:f});c.resolve(h)}catch{}}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=fu),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return U(this,void 0,void 0,function(){var e;return F(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ze(Ze([],Wn(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Wn(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=fu),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=fu),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.options,o=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=Pn(this.instancesDeferred.entries()),f=c.next();!f.done;f=c.next()){var h=Wn(f.value,2),p=h[0],g=h[1],v=this.normalizeInstanceIdentifier(p);a===v&&g.resolve(u)}}catch(y){n={error:y}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return u},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);var a=this.instances.get(i);return a&&e(a,i),function(){o.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,o=this.onInitCallbacks.get(n);if(!!o)try{for(var a=Pn(o),u=a.next();!u.done;u=a.next()){var c=u.value;try{c(e,n)}catch{}}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:r7(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=fu),this.component?this.component.multipleInstances?e:fu:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function r7(t){return t===fu?void 0:t}function i7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oM=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new iM(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function zi(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hu,wT=[],it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));var sM={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},o7=it.INFO,s7=(hu={},hu[it.DEBUG]="log",hu[it.VERBOSE]="log",hu[it.INFO]="info",hu[it.WARN]="warn",hu[it.ERROR]="error",hu),a7=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=s7[e];if(o)console[o].apply(console,zi(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},du=function(){function t(e){this.name=e,this._logLevel=o7,this._logHandler=a7,this._userLogHandler=null,wT.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in it))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?sM[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zi([this,it.DEBUG],e)),this._logHandler.apply(this,zi([this,it.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zi([this,it.VERBOSE],e)),this._logHandler.apply(this,zi([this,it.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zi([this,it.INFO],e)),this._logHandler.apply(this,zi([this,it.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zi([this,it.WARN],e)),this._logHandler.apply(this,zi([this,it.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zi([this,it.ERROR],e)),this._logHandler.apply(this,zi([this,it.ERROR],e))},t}();function u7(t){wT.forEach(function(e){e.setLogLevel(t)})}function c7(t,e){for(var n=function(a){var u=null;e&&e.level&&(u=sM[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(c,f){for(var h=[],p=2;p<arguments.length;p++)h[p-2]=arguments[p];var g=h.map(function(v){if(v==null)return null;if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(function(v){return v}).join(" ");f>=(u!=null?u:c.logLevel)&&t({level:it[f].toLowerCase(),message:g,args:h,type:c.name})}},r=0,i=wT;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fs,l7=(Fs={},Fs["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Fs["bad-app-name"]="Illegal App name: '{$appName}",Fs["duplicate-app"]="Firebase App named '{$appName}' already exists",Fs["app-deleted"]="Firebase App named '{$appName}' already deleted",Fs["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Fs["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Fs),Qc=new Xo("app","Firebase",l7),aM="@firebase/app",f7="0.6.30",h7="@firebase/analytics",d7="@firebase/app-check",p7="@firebase/auth",g7="@firebase/database",m7="@firebase/functions",v7="@firebase/installations",y7="@firebase/messaging",_7="@firebase/performance",b7="@firebase/remote-config",w7="@firebase/storage",E7="@firebase/firestore",T7="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr,rv="[DEFAULT]",I7=(sr={},sr[aM]="fire-core",sr[h7]="fire-analytics",sr[d7]="fire-app-check",sr[p7]="fire-auth",sr[g7]="fire-rtdb",sr[m7]="fire-fn",sr[v7]="fire-iid",sr[y7]="fire-fcm",sr[_7]="fire-perf",sr[b7]="fire-rc",sr[w7]="fire-gcs",sr[E7]="fire-fst",sr["fire-js"]="fire-js",sr[T7]="fire-js-all",sr);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jc=new du("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iv=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=JD(e),this.container=new oM(n.name),this._addComponent(new or("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=rv),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=rv),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Jc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Qc.create("app-deleted",{appName:this.name_})},t}();iv.prototype.name&&iv.prototype.options||iv.prototype.delete||console.log("dc");var S7="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:f,setLogLevel:u7,onLog:h,apps:null,SDK_VERSION:S7,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:p}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(g){delete e[g]}function o(g){if(g=g||rv,!Yr(e,g))throw Qc.create("no-app",{appName:g});return e[g]}o.App=t;function a(g,v){if(v===void 0&&(v={}),typeof v!="object"||v===null){var y=v;v={name:y}}var w=v;w.name===void 0&&(w.name=rv);var E=w.name;if(typeof E!="string"||!E)throw Qc.create("bad-app-name",{appName:String(E)});if(Yr(e,E))throw Qc.create("duplicate-app",{appName:E});var I=new t(g,w,r);return e[E]=I,I}function u(){return Object.keys(e).map(function(g){return e[g]})}function c(g){var v=g.name;if(n.has(v))return Jc.debug("There were multiple attempts to register component "+v+"."),g.type==="PUBLIC"?r[v]:null;if(n.set(v,g),g.type==="PUBLIC"){var y=function(x){if(x===void 0&&(x=o()),typeof x[v]!="function")throw Qc.create("invalid-app-argument",{appName:v});return x[v]()};g.serviceProps!==void 0&&Dh(y,g.serviceProps),r[v]=y,t.prototype[v]=function(){for(var x=[],k=0;k<arguments.length;k++)x[k]=arguments[k];var P=this._getService.bind(this,v);return P.apply(this,g.multipleInstances?x:[])}}for(var w=0,E=Object.keys(e);w<E.length;w++){var I=E[w];e[I]._addComponent(g)}return g.type==="PUBLIC"?r[v]:null}function f(g,v,y){var w,E=(w=I7[g])!==null&&w!==void 0?w:g;y&&(E+="-"+y);var I=E.match(/\s|\//),x=v.match(/\s|\//);if(I||x){var k=['Unable to register library "'+E+'" with version "'+v+'":'];I&&k.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),I&&x&&k.push("and"),x&&k.push('version name "'+v+'" contains illegal characters (whitespace or "/")'),Jc.warn(k.join(" "));return}c(new or(E+"-version",function(){return{library:E,version:v}},"VERSION"))}function h(g,v){if(g!==null&&typeof g!="function")throw Qc.create("invalid-log-argument");c7(g,v)}function p(g,v){if(v==="serverAuth")return null;var y=v;return y}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(){var t=C7(iv);t.INTERNAL=Fe(Fe({},t.INTERNAL),{createFirebaseNamespace:uM,extendNamespace:e,createSubscribe:Y8,ErrorFactory:Xo,deepExtend:Dh});function e(n){Dh(t,n)}return t}var ET=uM();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A7=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(x7(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function x7(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t,e){t.INTERNAL.registerComponent(new or("platform-logger",function(n){return new A7(n)},"PRIVATE")),t.registerVersion(aM,f7,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(M8()&&self.firebase!==void 0){Jc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var cM=self.firebase.SDK_VERSION;cM&&cM.indexOf("LITE")>=0&&Jc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var k7=ET.initializeApp;ET.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ZD()&&Jc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),k7.apply(void 0,t)};var ke=ET;R7(ke);var O7="firebase",lM="8.10.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ke.registerVersion(O7,lM,"app");ke.SDK_VERSION=lM;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TT=function(t,e){return TT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},TT(t,e)};function N7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");TT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function fM(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var P7=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ce,IT=IT||{},$e=P7||self;function ov(){}function ST(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Fh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function D7(t){return Object.prototype.hasOwnProperty.call(t,CT)&&t[CT]||(t[CT]=++M7)}var CT="closure_uid_"+(1e9*Math.random()>>>0),M7=0;function L7(t,e,n){return t.call.apply(t.bind,arguments)}function F7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function zn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?zn=L7:zn=F7,zn.apply(null,arguments)}function sv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[i].apply(r,a)}}function Us(){this.s=this.s,this.o=this.o}var U7=0,j7={};Us.prototype.s=!1;Us.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),U7!=0)){var t=D7(this);delete j7[t]}};Us.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},dM=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function B7(t){e:{for(var e=O9,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function pM(t){return Array.prototype.concat.apply([],arguments)}function AT(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function av(t){return/^[\s\xa0]*$/.test(t)}var gM=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function _r(t,e){return t.indexOf(e)!=-1}function xT(t,e){return t<e?-1:t>e?1:0}var br;e:{var mM=$e.navigator;if(mM){var vM=mM.userAgent;if(vM){br=vM;break e}}br=""}function RT(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function yM(t){var e={};for(var n in t)e[n]=t[n];return e}var _M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bM(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<_M.length;o++)n=_M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kT(t){return kT[" "](t),t}kT[" "]=ov;function V7(t){var e=$7;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var q7=_r(br,"Opera"),Zc=_r(br,"Trident")||_r(br,"MSIE"),wM=_r(br,"Edge"),OT=wM||Zc,EM=_r(br,"Gecko")&&!(_r(br.toLowerCase(),"webkit")&&!_r(br,"Edge"))&&!(_r(br,"Trident")||_r(br,"MSIE"))&&!_r(br,"Edge"),H7=_r(br.toLowerCase(),"webkit")&&!_r(br,"Edge");function TM(){var t=$e.document;return t?t.documentMode:void 0}var uv;e:{var NT="",PT=function(){var t=br;if(EM)return/rv:([^\);]+)(\)|;)/.exec(t);if(wM)return/Edge\/([\d\.]+)/.exec(t);if(Zc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(H7)return/WebKit\/(\S+)/.exec(t);if(q7)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(PT&&(NT=PT?PT[1]:""),Zc){var DT=TM();if(DT!=null&&DT>parseFloat(NT)){uv=String(DT);break e}}uv=NT}var $7={};function W7(){return V7(function(){for(var t=0,e=gM(String(uv)).split("."),n=gM("9").split("."),r=Math.max(e.length,n.length),i=0;t==0&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o[0].length==0&&a[0].length==0)break;t=xT(o[1].length==0?0:parseInt(o[1],10),a[1].length==0?0:parseInt(a[1],10))||xT(o[2].length==0,a[2].length==0)||xT(o[2],a[2]),o=o[3],a=a[3]}while(t==0)}return 0<=t})}var MT;if($e.document&&Zc){var IM=TM();MT=IM||parseInt(uv,10)||void 0}else MT=void 0;var z7=MT,K7=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$e.addEventListener("test",ov,e),$e.removeEventListener("test",ov,e)}catch{}return t}();function ar(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ar.prototype.h=function(){this.defaultPrevented=!0};function Uh(t,e){if(ar.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(EM){e:{try{kT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:G7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Uh.Z.h.call(this)}}Kn(Uh,ar);var G7={2:"touch",3:"pen",4:"mouse"};Uh.prototype.h=function(){Uh.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jh="closure_listenable_"+(1e6*Math.random()|0),Y7=0;function X7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Y7,this.ca=this.fa=!1}function cv(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function lv(t){this.src=t,this.g={},this.h=0}lv.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=FT(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new X7(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};function LT(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=hM(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(cv(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function FT(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}var UT="closure_lm_"+(1e6*Math.random()|0),jT={};function SM(t,e,n,r,i){if(r&&r.once)return AM(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)SM(t,e[o],n,r,i);return null}return n=HT(n),t&&t[jh]?t.N(e,n,Fh(r)?!!r.capture:!!r,i):CM(t,e,n,!1,r,i)}function CM(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Fh(i)?!!i.capture:!!i,u=VT(t);if(u||(t[UT]=u=new lv(t)),n=u.add(e,n,r,a,o),n.proxy)return n;if(r=Q7(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)K7||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(RM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Q7(){function t(n){return e.call(t.src,t.listener,n)}var e=J7;return t}function AM(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)AM(t,e[o],n,r,i);return null}return n=HT(n),t&&t[jh]?t.O(e,n,Fh(r)?!!r.capture:!!r,i):CM(t,e,n,!0,r,i)}function xM(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)xM(t,e[o],n,r,i);else r=Fh(r)?!!r.capture:!!r,n=HT(n),t&&t[jh]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=FT(o,n,r,i),-1<n&&(cv(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=VT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=FT(e,n,r,i)),(n=-1<t?e[t]:null)&&BT(n))}function BT(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[jh])LT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(RM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=VT(e))?(LT(n,t),n.h==0&&(n.src=null,e[UT]=null)):cv(t)}}}function RM(t){return t in jT?jT[t]:jT[t]="on"+t}function J7(t,e){if(t.ca)t=!0;else{e=new Uh(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&BT(t),t=n.call(r,e)}return t}function VT(t){return t=t[UT],t instanceof lv?t:null}var qT="__closure_events_fn_"+(1e9*Math.random()>>>0);function HT(t){return typeof t=="function"?t:(t[qT]||(t[qT]=function(e){return t.handleEvent(e)}),t[qT])}function Ln(){Us.call(this),this.i=new lv(this),this.P=this,this.I=null}Kn(Ln,Us);Ln.prototype[jh]=!0;Ln.prototype.removeEventListener=function(t,e,n,r){xM(this,t,e,n,r)};function Gn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new ar(e,t);else if(e instanceof ar)e.target=e.target||t;else{var i=e;e=new ar(r,t),bM(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=fv(a,r,!0,e)&&i}if(a=e.g=t,i=fv(a,r,!0,e)&&i,i=fv(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=fv(a,r,!1,e)&&i}Ln.prototype.M=function(){if(Ln.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cv(n[r]);delete t.g[e],t.h--}}this.I=null};Ln.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ln.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function fv(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,c=a.ia||a.src;a.fa&&LT(t.i,a),i=u.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var $T=$e.JSON.stringify;function Z7(){var t=OM,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var e9=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=kM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),kM=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new t9},function(t){return t.reset()}),t9=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function n9(t){$e.setTimeout(function(){throw t},0)}function WT(t,e){zT||r9(),KT||(zT(),KT=!0),OM.add(t,e)}var zT;function r9(){var t=$e.Promise.resolve(void 0);zT=function(){t.then(i9)}}var KT=!1,OM=new e9;function i9(){for(var t;t=Z7();){try{t.h.call(t.g)}catch(n){n9(n)}var e=kM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}KT=!1}function hv(t,e){Ln.call(this),this.h=t||1,this.g=e||$e,this.j=zn(this.kb,this),this.l=Date.now()}Kn(hv,Ln);Ce=hv.prototype;Ce.da=!1;Ce.S=null;Ce.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gn(this,"tick"),this.da&&(GT(this),this.start()))}};Ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function GT(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}Ce.M=function(){hv.Z.M.call(this),GT(this),delete this.g};function YT(t,e,n){if(typeof t=="function")n&&(t=zn(t,n));else if(t&&typeof t.handleEvent=="function")t=zn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:$e.setTimeout(t,e||0)}function NM(t){t.g=YT(function(){t.g=null,t.i&&(t.i=!1,NM(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var o9=function(t){N7(e,t);function e(n,r){var i=t.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:NM(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Us);function Bh(t){Us.call(this),this.h=t,this.g={}}Kn(Bh,Us);var PM=[];function DM(t,e,n,r){Array.isArray(n)||(n&&(PM[0]=n.toString()),n=PM);for(var i=0;i<n.length;i++){var o=SM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function MM(t){RT(t.g,function(e,n){this.g.hasOwnProperty(n)&&BT(e)},t),t.g={}}Bh.prototype.M=function(){Bh.Z.M.call(this),MM(this)};Bh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function dv(){this.g=!0}dv.prototype.Aa=function(){this.g=!1};function s9(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",u=o.split("&"),c=0;c<u.length;c++){var f=u[c].split("=");if(1<f.length){var h=f[0];f=f[1];var p=h.split("_");a=2<=p.length&&p[1]=="type"?a+(h+"="+f+"&"):a+(h+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function a9(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function el(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+c9(t,n)+(r?" "+r:"")})}function u9(t,e){t.info(function(){return"TIMEOUT: "+e})}dv.prototype.info=function(){};function c9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return $T(n)}catch{return e}}var pu={},LM=null;function pv(){return LM=LM||new Ln}pu.Ma="serverreachability";function FM(t){ar.call(this,pu.Ma,t)}Kn(FM,ar);function Vh(t){var e=pv();Gn(e,new FM(e,t))}pu.STAT_EVENT="statevent";function UM(t,e){ar.call(this,pu.STAT_EVENT,t),this.stat=e}Kn(UM,ar);function wr(t){var e=pv();Gn(e,new UM(e,t))}pu.Na="timingevent";function jM(t,e){ar.call(this,pu.Na,t),this.size=e}Kn(jM,ar);function qh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){t()},e)}var gv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},BM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function XT(){}XT.prototype.h=null;function VM(t){return t.h||(t.h=t.i())}function qM(){}var Hh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function QT(){ar.call(this,"d")}Kn(QT,ar);function JT(){ar.call(this,"c")}Kn(JT,ar);var ZT;function mv(){}Kn(mv,XT);mv.prototype.g=function(){return new XMLHttpRequest};mv.prototype.i=function(){return{}};ZT=new mv;function $h(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Bh(this),this.P=l9,t=OT?125:void 0,this.W=new hv(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new HM}function HM(){this.i=null,this.g="",this.h=!1}var l9=45e3,eI={},vv={};Ce=$h.prototype;Ce.setTimeout=function(t){this.P=t};function tI(t,e,n){t.K=1,t.v=Ev(Qo(e)),t.s=n,t.U=!0,$M(t,null)}function $M(t,e){t.F=Date.now(),Wh(t),t.A=Qo(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),ZM(n.h,"t",r),t.C=0,n=t.l.H,t.h=new HM,t.g=EL(t.l,n?e:null,!t.s),0<t.O&&(t.L=new o9(zn(t.Ia,t,t.g),t.O)),DM(t.V,t.g,"readystatechange",t.gb),e=t.H?yM(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Vh(1),s9(t.j,t.u,t.A,t.m,t.X,t.s)}Ce.gb=function(t){t=t.target;var e=this.L;e&&Jo(t)==3?e.l():this.Ia(t)};Ce.Ia=function(t){try{if(t==this.g)e:{var e=Jo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||OT||this.g&&(this.h.h||this.g.ga()||fL(this.g)))){this.I||e!=4||n==7||(n==8||0>=r?Vh(3):Vh(2)),yv(this);var i=this.g.ba();this.N=i;t:if(WM(this)){var o=fL(this.g);t="";var a=o.length,u=Jo(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){gu(this),zh(this);var c="";break t}this.h.i=new $e.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,a9(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){t:{if(this.g){var f,h=this.g;if((f=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!av(f)){var p=f;break t}}p=null}if(i=p)el(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nI(this,i);else{this.i=!1,this.o=3,wr(12),gu(this),zh(this);break e}}this.U?(zM(this,e,c),OT&&this.i&&e==3&&(DM(this.V,this.W,"tick",this.fb),this.W.start())):(el(this.j,this.m,c,null),nI(this,c)),e==4&&gu(this),this.i&&!this.I&&(e==4?yL(this.l,this):(this.i=!1,Wh(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,wr(12)):(this.o=0,wr(13)),gu(this),zh(this)}}}catch{}finally{}};function WM(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function zM(t,e,n){for(var r=!0,i;!t.I&&t.C<n.length;)if(i=f9(t,n),i==vv){e==4&&(t.o=4,wr(14),r=!1),el(t.j,t.m,null,"[Incomplete Response]");break}else if(i==eI){t.o=4,wr(15),el(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else el(t.j,t.m,i,null),nI(t,i);WM(t)&&i!=vv&&i!=eI&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,wr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),dI(e),e.L=!0,wr(11))):(el(t.j,t.m,n,"[Invalid Chunked Response]"),gu(t),zh(t))}Ce.fb=function(){if(this.g){var t=Jo(this.g),e=this.g.ga();this.C<e.length&&(yv(this),zM(this,t,e),this.i&&t!=4&&Wh(this))}};function f9(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?vv:(n=Number(e.substring(n,r)),isNaN(n)?eI:(r+=1,r+n>e.length?vv:(e=e.substr(r,n),t.C=r+n,e)))}Ce.cancel=function(){this.I=!0,gu(this)};function Wh(t){t.Y=Date.now()+t.P,KM(t,t.P)}function KM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=qh(zn(t.eb,t),e)}function yv(t){t.B&&($e.clearTimeout(t.B),t.B=null)}Ce.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(u9(this.j,this.A),this.K!=2&&(Vh(3),wr(17)),gu(this),this.o=2,zh(this)):KM(this,this.Y-t)};function zh(t){t.l.G==0||t.I||yL(t.l,t)}function gu(t){yv(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,GT(t.W),MM(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function nI(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||oI(n.i,t))){if(n.I=t.N,!t.J&&oI(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0)e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)xv(n),Cv(n);else break e;hI(n),wr(18)}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=qh(zn(n.ab,n),6e3));if(1>=nL(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else yu(n,11)}else if((t.J||n.g==t)&&xv(n),!av(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var a=o[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var c=o[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var f=t.g;if(f){var h=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var p=r.i;!p.g&&(_r(h,"spdy")||_r(h,"quic")||_r(h,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(sI(p,p.h),p.h=null))}if(r.D){var g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Yt(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var v=t;if(r.oa=wL(r,r.H?r.la:null,r.W),v.J){rL(r.i,v);var y=v,w=r.K;w&&y.setTimeout(w),y.B&&(yv(y),Wh(y)),r.g=v}else mL(r);0<n.l.length&&Av(n)}else o[0]!="stop"&&o[0]!="close"||yu(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?yu(n,7):lI(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}Vh(4)}catch{}}function h9(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(ST(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function rI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ST(t)||typeof t=="string")dM(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(ST(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=h9(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function tl(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof tl)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}Ce=tl.prototype;Ce.R=function(){iI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};Ce.T=function(){return iI(this),this.g.concat()};function iI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];mu(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],mu(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}Ce.get=function(t,e){return mu(this.h,t)?this.h[t]:e};Ce.set=function(t,e){mu(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};Ce.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function mu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var GM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function d9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function vu(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof vu){this.g=e!==void 0?e:t.g,_v(this,t.j),this.s=t.s,bv(this,t.i),wv(this,t.m),this.l=t.l,e=t.h;var n=new Yh;n.i=e.i,e.g&&(n.g=new tl(e.g),n.h=e.h),YM(this,n),this.o=t.o}else t&&(n=String(t).match(GM))?(this.g=!!e,_v(this,n[1]||"",!0),this.s=Kh(n[2]||""),bv(this,n[3]||"",!0),wv(this,n[4]),this.l=Kh(n[5]||"",!0),YM(this,n[6]||"",!0),this.o=Kh(n[7]||"")):(this.g=!!e,this.h=new Yh(null,this.g))}vu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Gh(e,XM,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Gh(e,XM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Gh(n,n.charAt(0)=="/"?y9:v9,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Gh(n,b9)),t.join("")};function Qo(t){return new vu(t)}function _v(t,e,n){t.j=n?Kh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bv(t,e,n){t.i=n?Kh(e,!0):e}function wv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function YM(t,e,n){e instanceof Yh?(t.h=e,w9(t.h,t.g)):(n||(e=Gh(e,_9)),t.h=new Yh(e,t.g))}function Yt(t,e,n){t.h.set(e,n)}function Ev(t){return Yt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function p9(t){return t instanceof vu?Qo(t):new vu(t,void 0)}function g9(t,e,n,r){var i=new vu(null,void 0);return t&&_v(i,t),e&&bv(i,e),n&&wv(i,n),r&&(i.l=r),i}function Kh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,m9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function m9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var XM=/[#\/\?@]/g,v9=/[#\?:]/g,y9=/[#\?]/g,_9=/[#\?@]/g,b9=/#/g;function Yh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function js(t){t.g||(t.g=new tl,t.h=0,t.i&&d9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ce=Yh.prototype;Ce.add=function(t,e){js(this),this.i=null,t=nl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function QM(t,e){js(t),e=nl(t,e),mu(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,mu(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&iI(t)))}function JM(t,e){return js(t),e=nl(t,e),mu(t.g.h,e)}Ce.forEach=function(t,e){js(this),this.g.forEach(function(n,r){dM(n,function(i){t.call(e,i,r,this)},this)},this)};Ce.T=function(){js(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};Ce.R=function(t){js(this);var e=[];if(typeof t=="string")JM(this,t)&&(e=pM(e,this.g.get(nl(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=pM(e,t[n])}return e};Ce.set=function(t,e){return js(this),this.i=null,t=nl(this,t),JM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ce.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function ZM(t,e,n){QM(t,e),0<n.length&&(t.i=null,t.g.set(nl(t,e),AT(n)),t.h+=n.length)}Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};function nl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function w9(t,e){e&&!t.j&&(js(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(QM(this,r),ZM(this,i,n))},t)),t.j=e}var E9=function(){function t(e,n){this.h=e,this.g=n}return t}();function eL(t){this.l=t||T9,$e.PerformanceNavigationTiming?(t=$e.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!($e.g&&$e.g.Ea&&$e.g.Ea()&&$e.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var T9=10;function tL(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function nL(t){return t.h?1:t.g?t.g.size:0}function oI(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function sI(t,e){t.g?t.g.add(e):t.h=e}function rL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}eL.prototype.cancel=function(){var t,e;if(this.i=iL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=fM(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function iL(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var r=t.i;try{for(var i=fM(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return AT(t.i)}function aI(){}aI.prototype.stringify=function(t){return $e.JSON.stringify(t,void 0)};aI.prototype.parse=function(t){return $e.JSON.parse(t,void 0)};function I9(){this.g=new aI}function S9(t,e,n){var r=n||"";try{rI(t,function(i,o){var a=i;Fh(i)&&(a=$T(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function C9(t,e){var n=new dv;if($e.Image){var r=new Image;r.onload=sv(Tv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sv(Tv,n,r,"TestLoadImage: error",!1,e),r.onabort=sv(Tv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sv(Tv,n,r,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Tv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xh(t){this.l=t.$b||null,this.j=t.ib||!1}Kn(Xh,XT);Xh.prototype.g=function(){return new Iv(this.l,this.j)};Xh.prototype.i=function(t){return function(){return t}}({});function Iv(t,e){Ln.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=uI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kn(Iv,Ln);var uI=0;Ce=Iv.prototype;Ce.open=function(t,e){if(this.readyState!=uI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jh(this)};Ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||$e).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qh(this)),this.readyState=uI};Ce.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jh(this)),this.g&&(this.readyState=3,Jh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof $e.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oL(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function oL(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}Ce.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qh(this):Jh(this),this.readyState==3&&oL(this)}};Ce.Ua=function(t){this.g&&(this.response=this.responseText=t,Qh(this))};Ce.Ta=function(t){this.g&&(this.response=t,Qh(this))};Ce.ha=function(){this.g&&Qh(this)};function Qh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jh(t)}Ce.setRequestHeader=function(t,e){this.v.append(t,e)};Ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Iv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var A9=$e.JSON.parse;function dn(t){Ln.call(this),this.headers=new tl,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sL,this.K=this.L=!1}Kn(dn,Ln);var sL="",x9=/^https?$/i,R9=["POST","PUT"];Ce=dn.prototype;Ce.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ZT.g(),this.C=this.u?VM(this.u):VM(ZT),this.g.onreadystatechange=zn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){aL(this,o);return}t=n||"";var i=new tl(this.headers);r&&rI(r,function(o,a){i.set(a,o)}),r=B7(i.T()),n=$e.FormData&&t instanceof $e.FormData,!(0<=hM(R9,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{lL(this),0<this.B&&((this.K=k9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zn(this.pa,this)):this.A=YT(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){aL(this,o)}};function k9(t){return Zc&&W7()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function O9(t){return t.toLowerCase()=="content-type"}Ce.pa=function(){typeof IT!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gn(this,"timeout"),this.abort(8))};function aL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uL(t),Sv(t)}function uL(t){t.D||(t.D=!0,Gn(t,"complete"),Gn(t,"error"))}Ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gn(this,"complete"),Gn(this,"abort"),Sv(this))};Ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sv(this,!0)),dn.Z.M.call(this)};Ce.Fa=function(){this.s||(this.F||this.v||this.l?cL(this):this.cb())};Ce.cb=function(){cL(this)};function cL(t){if(t.h&&typeof IT!="undefined"&&(!t.C[1]||Jo(t)!=4||t.ba()!=2)){if(t.v&&Jo(t)==4)YT(t.Fa,0,t);else if(Gn(t,"readystatechange"),Jo(t)==4){t.h=!1;try{var e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var o=String(t.H).match(GM)[1]||null;if(!o&&$e.self&&$e.self.location){var a=$e.self.location.protocol;o=a.substr(0,a.length-1)}i=!x9.test(o?o.toLowerCase():"")}r=i}if(r)Gn(t,"complete"),Gn(t,"success");else{t.m=6;try{var u=2<Jo(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.ba()+"]",uL(t)}}finally{Sv(t)}}}}function Sv(t,e){if(t.g){lL(t);var n=t.g,r=t.C[0]?ov:null;t.g=null,t.C=null,e||Gn(t,"ready");try{n.onreadystatechange=r}catch{}}}function lL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&($e.clearTimeout(t.A),t.A=null)}function Jo(t){return t.g?t.g.readyState:0}Ce.ba=function(){try{return 2<Jo(this)?this.g.status:-1}catch{return-1}};Ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ce.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),A9(e)}};function fL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case sL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Ce.Da=function(){return this.m};Ce.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function N9(t){var e="";return RT(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function cI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=N9(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Yt(t,e,n))}function Zh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hL(t){this.za=0,this.l=[],this.h=new dv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zh("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zh("baseRetryDelayMs",5e3,t),this.$a=Zh("retryDelaySeedMs",1e4,t),this.Ya=Zh("forwardChannelMaxRetries",2,t),this.ra=Zh("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new eL(t&&t.concurrentRequestLimit),this.Ca=new I9,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}Ce=hL.prototype;Ce.ma=8;Ce.G=1;function lI(t){if(dL(t),t.G==3){var e=t.V++,n=Qo(t.F);Yt(n,"SID",t.J),Yt(n,"RID",e),Yt(n,"TYPE","terminate"),ed(t,n),e=new $h(t,t.h,e,void 0),e.K=2,e.v=Ev(Qo(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon&&(n=$e.navigator.sendBeacon(e.v.toString(),"")),!n&&$e.Image&&(new Image().src=e.v,n=!0),n||(e.g=EL(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Wh(e)}bL(t)}Ce.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Cv(t){t.g&&(dI(t),t.g.cancel(),t.g=null)}function dL(t){Cv(t),t.u&&($e.clearTimeout(t.u),t.u=null),xv(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&$e.clearTimeout(t.m),t.m=null)}function fI(t,e){t.l.push(new E9(t.Za++,e)),t.G==3&&Av(t)}function Av(t){tL(t.i)||t.m||(t.m=!0,WT(t.Ha,t),t.C=0)}function P9(t,e){return nL(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=qh(zn(t.Ha,t,e),_L(t,t.C)),t.C++,!0)}Ce.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new $h(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=yM(n),bM(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=gL(this,e,r),i=Qo(this.F),Yt(i,"RID",t),Yt(i,"CVER",22),this.D&&Yt(i,"X-HTTP-Session-Id",this.D),ed(this,i),this.o&&n&&cI(i,this.o,n),sI(this.i,e),this.Ra&&Yt(i,"TYPE","init"),this.ja?(Yt(i,"$req",r),Yt(i,"SID","null"),e.$=!0,tI(e,i,null)):tI(e,i,r),this.G=2}}else this.G==3&&(t?pL(this,t):this.l.length==0||tL(this.i)||pL(this))};function pL(t,e){var n;e?n=e.m:n=t.V++;var r=Qo(t.F);Yt(r,"SID",t.J),Yt(r,"RID",n),Yt(r,"AID",t.U),ed(t,r),t.o&&t.s&&cI(r,t.o,t.s),n=new $h(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=gL(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),sI(t.i,n),tI(n,r,e)}function ed(t,e){t.j&&rI({},function(n,r){Yt(e,r,n)})}function gL(t,e,n){n=Math.min(t.l.length,n);var r=t.j?zn(t.j.Oa,t.j,t):null;e:for(var i=t.l,o=-1;;){var a=["count="+n];o==-1?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,c=0;c<n;c++){var f=i[c].h,h=i[c].g;if(f-=o,0>f)o=Math.max(0,i[c].h-100),u=!1;else try{S9(h,a,"req"+f+"_")}catch{r&&r(h)}}if(u){r=a.join("&");break e}}return t=t.l.splice(0,n),e.D=t,r}function mL(t){t.g||t.u||(t.Y=1,WT(t.Ga,t),t.A=0)}function hI(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=qh(zn(t.Ga,t),_L(t,t.A)),t.A++,!0)}Ce.Ga=function(){if(this.u=null,vL(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=qh(zn(this.bb,this),t)}};Ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wr(10),Cv(this),vL(this))};function dI(t){t.B!=null&&($e.clearTimeout(t.B),t.B=null)}function vL(t){t.g=new $h(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Qo(t.oa);Yt(e,"RID","rpc"),Yt(e,"SID",t.J),Yt(e,"CI",t.N?"0":"1"),Yt(e,"AID",t.U),ed(t,e),Yt(e,"TYPE","xmlhttp"),t.o&&t.s&&cI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ev(Qo(e)),n.s=null,n.U=!0,$M(n,t)}Ce.ab=function(){this.v!=null&&(this.v=null,Cv(this),hI(this),wr(19))};function xv(t){t.v!=null&&($e.clearTimeout(t.v),t.v=null)}function yL(t,e){var n=null;if(t.g==e){xv(t),dI(t),t.g=null;var r=2}else if(oI(t.i,e))n=e.D,rL(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=pv(),Gn(r,new jM(r,n,e,i)),Av(t)}else mL(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&P9(t,e)||r==2&&hI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:yu(t,5);break;case 4:yu(t,10);break;case 3:yu(t,6);break;default:yu(t,2)}}}function _L(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function yu(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=zn(t.jb,t);n||(n=new vu("//www.google.com/images/cleardot.gif"),$e.location&&$e.location.protocol=="http"||_v(n,"https"),Ev(n)),C9(n.toString(),r)}else wr(2);t.G=0,t.j&&t.j.va(e),bL(t),dL(t)}Ce.jb=function(t){t?(this.h.info("Successfully pinged google.com"),wr(2)):(this.h.info("Failed to ping google.com"),wr(1))};function bL(t){t.G=0,t.I=-1,t.j&&((iL(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,AT(t.l),t.l.length=0),t.j.ua())}function wL(t,e,n){var r=p9(n);if(r.i!="")e&&bv(r,e+"."+r.i),wv(r,r.m);else{var i=$e.location;r=g9(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&RT(t.aa,function(o,a){Yt(r,a,o)}),e=t.D,n=t.sa,e&&n&&Yt(r,e,n),Yt(r,"VER",t.ma),ed(t,r),r}function EL(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new dn(new Xh({ib:!0})):new dn(t.qa),e.L=t.H,e}function TL(){}Ce=TL.prototype;Ce.xa=function(){};Ce.wa=function(){};Ce.va=function(){};Ce.ua=function(){};Ce.Oa=function(){};function Rv(){if(Zc&&!(10<=Number(z7)))throw Error("Environmental error: no available transport.")}Rv.prototype.g=function(t,e){return new Xr(t,e)};function Xr(t,e){Ln.call(this),this.g=new hL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!av(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!av(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new rl(this)}Kn(Xr,Ln);Xr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),WT(zn(t.hb,t,e))),wr(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=wL(t,null,t.W),Av(t)};Xr.prototype.close=function(){lI(this.g)};Xr.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,fI(this.g,e)}else this.v?(e={},e.__data__=$T(t),fI(this.g,e)):fI(this.g,t)};Xr.prototype.M=function(){this.g.j=null,delete this.j,lI(this.g),delete this.g,Xr.Z.M.call(this)};function IL(t){QT.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Kn(IL,QT);function SL(){JT.call(this),this.status=1}Kn(SL,JT);function rl(t){this.g=t}Kn(rl,TL);rl.prototype.xa=function(){Gn(this.g,"a")};rl.prototype.wa=function(t){Gn(this.g,new IL(t))};rl.prototype.va=function(t){Gn(this.g,new SL(t))};rl.prototype.ua=function(){Gn(this.g,"b")};Rv.prototype.createWebChannel=Rv.prototype.g;Xr.prototype.send=Xr.prototype.u;Xr.prototype.open=Xr.prototype.m;Xr.prototype.close=Xr.prototype.close;gv.NO_ERROR=0;gv.TIMEOUT=8;gv.HTTP_ERROR=6;BM.COMPLETE="complete";qM.EventType=Hh;Hh.OPEN="a";Hh.CLOSE="b";Hh.ERROR="c";Hh.MESSAGE="d";Ln.prototype.listen=Ln.prototype.N;dn.prototype.listenOnce=dn.prototype.O;dn.prototype.getLastError=dn.prototype.La;dn.prototype.getLastErrorCode=dn.prototype.Da;dn.prototype.getStatus=dn.prototype.ba;dn.prototype.getResponseJson=dn.prototype.Qa;dn.prototype.getResponseText=dn.prototype.ga;dn.prototype.send=dn.prototype.ea;var D9=function(){return new Rv},M9=function(){return pv()},pI=gv,L9=BM,F9=pu,CL={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},U9=Xh,kv=qM,j9=dn;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Qr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ie=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return we(e,t),e}(Error),Ki=new du("@firebase/firestore");function gI(){return Ki.logLevel}function he(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ki.logLevel<=it.DEBUG){var r=e.map(mI);Ki.debug.apply(Ki,Ze(["Firestore (8.10.0): "+t],r))}}function pn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ki.logLevel<=it.ERROR){var r=e.map(mI);Ki.error.apply(Ki,Ze(["Firestore (8.10.0): "+t],r))}}function td(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ki.logLevel<=it.WARN){var r=e.map(mI);Ki.warn.apply(Ki,Ze(["Firestore (8.10.0): "+t],r))}}function mI(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw pn(e),new Error(e)}function Be(t,e){t||Oe()}function _e(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){var e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AL=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=B9(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length));return r},t}();function ct(t,e){return t<e?-1:t>e?1:0}function il(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function xL(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),tt=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ur(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _u(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kL(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OL=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&Oe(),r===void 0?r=e.length-n:r>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),_t=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,a=n;o<a.length;o++){var u=a[o];if(u.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(c){return c.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(OL),V9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gi=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return V9.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",o=0,a=function(){if(i.length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var c=n[o];if(c==="\\"){if(o+1===n.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var f=n[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=f,o+=2}else c==="`"?(u=!u,o++):c!=="."||u?(i+=c,o++):(a(),o++)}if(a(),u)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(OL),ol=function(){function t(e){this.fields=e,e.sort(Gi.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return il(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Er=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return ct(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Er.EMPTY_BYTE_STRING=new Er("");var q9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){if(Be(!!t),typeof t=="string"){var e=0,n=q9.exec(t);if(Be(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gn(t.seconds),nanos:gn(t.nanos)}}function gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sl(t){return typeof t=="string"?Er.fromBase64String(t):Er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function NL(t){var e=t.mapValue.fields.__previous_value__;return vI(e)?NL(e):e}function nd(t){var e=Bs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ur(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){return t==null}function Ov(t){return t===0&&1/t==-1/0}function PL(t){return typeof t=="number"&&Number.isInteger(t)&&!Ov(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(_t.fromString(e))},t.fromName=function(e){return new t(_t.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&_t.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return _t.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new _t(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vI(t)?4:10:Oe()}function wo(t,e){var n=wu(t);if(n!==wu(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nd(t).isEqual(nd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Bs(r.timestampValue),a=Bs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return sl(r.bytesValue).isEqual(sl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return gn(r.geoPointValue.latitude)===gn(i.geoPointValue.latitude)&&gn(r.geoPointValue.longitude)===gn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return gn(r.integerValue)===gn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=gn(r.doubleValue),a=gn(i.doubleValue);return o===a?Ov(o)===Ov(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return il(t.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(RL(o)!==RL(a))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!wo(o[u],a[u])))return!1;return!0}(t,e);default:return Oe()}}function rd(t,e){return(t.values||[]).find(function(n){return wo(n,e)})!==void 0}function al(t,e){var n=wu(t),r=wu(e);if(n!==r)return ct(n,r);switch(n){case 0:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(i,o){var a=gn(i.integerValue||i.doubleValue),u=gn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return DL(t.timestampValue,e.timestampValue);case 4:return DL(nd(t),nd(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(i,o){var a=sl(i),u=sl(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),u=o.split("/"),c=0;c<a.length&&c<u.length;c++){var f=ct(a[c],u[c]);if(f!==0)return f}return ct(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){var a=ct(gn(i.latitude),gn(o.latitude));return a!==0?a:ct(gn(i.longitude),gn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],u=o.values||[],c=0;c<a.length&&c<u.length;++c){var f=al(a[c],u[c]);if(f)return f}return ct(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a=i.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(var h=0;h<u.length&&h<f.length;++h){var p=ct(u[h],f[h]);if(p!==0)return p;var g=al(a[u[h]],c[f[h]]);if(g!==0)return g}return ct(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function DL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);var n=Bs(t),r=Bs(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function yI(t){return _I(t)}function _I(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=Bs(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?sl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,De.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",o=!0,a=0,u=r.values||[];a<u.length;a++)o?o=!1:i+=",",i+=_I(u[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",o=!0,a=0,u=Object.keys(r.fields||{}).sort();a<u.length;a++){var c=u[a];o?o=!1:i+=",",i+=c+":"+_I(r.fields[c])}return i+"}"}(t.mapValue):Oe();var e,n}function Nv(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function bI(t){return!!t&&"integerValue"in t}function wI(t){return!!t&&"arrayValue"in t}function ML(t){return!!t&&"nullValue"in t}function LL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pv(t){return!!t&&"mapValue"in t}function id(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return _u(t.mapValue.fields,function(i,o){return e.mapValue.fields[i]=id(o)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=id(t.arrayValue.values[r]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!Pv(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=id(n)},t.prototype.setAll=function(e){var n=this,r=Gi.emptyPath(),i={},o=[];e.forEach(function(u,c){if(!r.isImmediateParentOf(c)){var f=n.getFieldsMap(r);n.applyChanges(f,i,o),i={},o=[],r=c.popLast()}u?i[c.lastSegment()]=id(u):o.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,o)},t.prototype.delete=function(e){var n=this.field(e.popLast());Pv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return wo(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=n.mapValue.fields[e.get(r)];Pv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){_u(n,function(u,c){return e[u]=c});for(var i=0,o=r;i<o.length;i++){var a=o[i];delete e[a]}},t.prototype.clone=function(){return new t(id(this.value))},t}();function FL(t){var e=[];return _u(t.fields,function(n,r){var i=new Gi([n]);if(Pv(r)){var o=FL(r.mapValue).fields;if(o.length===0)e.push(i);else for(var a=0,u=o;a<u.length;a++){var c=u[a];e.push(i.child(c))}}else e.push(i)}),new ol(e)}var Yn=function(){function t(e,n,r,i,o){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return t.newInvalidDocument=function(e){return new t(e,0,tt.min(),Jr.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Jr.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Jr.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),H9=function(t,e,n,r,i,o,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e,n,r,i,o,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),new H9(t,e,n,r,i,o,a)}function od(t){var e=_e(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+yI(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),bu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Lv(e.startAt)),e.endAt&&(n+="|ub:",n+=Lv(e.endAt)),e.h=n}return e.h}function Dv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Q9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!wo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VL(t.startAt,e.startAt)&&VL(t.endAt,e.endAt)}function Mv(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Zr=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).field=n,o.op=r,o.value=i,o}return we(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new $9(n,r,i):r==="array-contains"?new K9(n,i):r==="in"?new G9(n,i):r==="not-in"?new Y9(n,i):r==="array-contains-any"?new X9(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new W9(n,i):new z9(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(al(r,this.value)):r!==null&&wu(this.value)===wu(r)&&this.m(al(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Oe()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),$9=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,i)||this).key=De.fromName(i.referenceValue),o}return we(e,t),e.prototype.matches=function(n){var r=De.comparator(n.key,this.key);return this.m(r)},e}(Zr),W9=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=jL("in",r),i}return we(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(Zr),z9=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=jL("not-in",r),i}return we(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(Zr);function jL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return De.fromName(r.referenceValue)})}var K9=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return we(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return wI(r)&&rd(r.arrayValue,this.value)},e}(Zr),G9=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return we(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&rd(this.value.arrayValue,r)},e}(Zr),Y9=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return we(e,t),e.prototype.matches=function(n){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!rd(this.value.arrayValue,r)},e}(Zr),X9=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return we(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!wI(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return rd(r.value.arrayValue,o)})},e}(Zr),sd=function(t,e){this.position=t,this.before=e};function Lv(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return yI(e)}).join(",")}var ul=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function Q9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function BL(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?De.comparator(De.fromName(a.referenceValue),n.key):al(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function VL(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!wo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zo=function(t,e,n,r,i,o,a,u){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),a===void 0&&(a=null),u===void 0&&(u=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function qL(t,e,n,r,i,o,a,u){return new Zo(t,e,n,r,i,o,a,u)}function cl(t){return new Zo(t)}function Fv(t){return!bu(t.limit)&&t.limitType==="F"}function Uv(t){return!bu(t.limit)&&t.limitType==="L"}function EI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function TI(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function II(t){return t.collectionGroup!==null}function ll(t){var e=_e(t);if(e.p===null){e.p=[];var n=TI(e),r=EI(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new ul(n)),e.p.push(new ul(Gi.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var u=a[o];e.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ul(Gi.keyField(),c))}}}return e.p}function bi(t){var e=_e(t);if(!e.T)if(e.limitType==="F")e.T=UL(e.path,e.collectionGroup,ll(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ll(e);r<i.length;r++){var o=i[r],a=o.dir==="desc"?"asc":"desc";n.push(new ul(o.field,a))}var u=e.endAt?new sd(e.endAt.position,!e.endAt.before):null,c=e.startAt?new sd(e.startAt.position,!e.startAt.before):null;e.T=UL(e.path,e.collectionGroup,n,e.filters,e.limit,u,c)}return e.T}function HL(t,e,n){return new Zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ad(t,e){return Dv(bi(t),bi(e))&&t.limitType===e.limitType}function $L(t){return od(bi(t))+"|lt:"+t.limitType}function SI(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+yI(i.value);var i}).join(", ")+"]"),bu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Lv(e.startAt)),e.endAt&&(n+=", endAt: "+Lv(e.endAt)),"Target("+n+")"}(bi(t))+"; limitType="+t.limitType+")"}function ud(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):De.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!BL(n.startAt,ll(n),r))&&(!n.endAt||!BL(n.endAt,ll(n),r))}(t,e)}function WL(t){return function(e,n){for(var r=!1,i=0,o=ll(t);i<o.length;i++){var a=o[i],u=J9(a,e,n);if(u!==0)return u;r=r||a.field.isKeyField()}return 0}}function J9(t,e,n){var r=t.field.isKeyField()?De.comparator(e.key,n.key):function(i,o,a){var u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?al(u,c):Oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ov(e)?"-0":e}}function KL(t){return{integerValue:""+t}}function GL(t,e){return PL(e)?KL(e):zL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jv=function(){this._=void 0};function Z9(t,e,n){return t instanceof fl?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Eu?XL(t,e):t instanceof Tu?QL(t,e):function(r,i){var o=YL(r,i),a=JL(o)+JL(r.A);return bI(o)&&bI(r.A)?KL(a):zL(r.R,a)}(t,e)}function eJ(t,e,n){return t instanceof Eu?XL(t,e):t instanceof Tu?QL(t,e):n}function YL(t,e){return t instanceof hl?bI(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var fl=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e}(jv),Eu=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return we(e,t),e}(jv);function XL(t,e){for(var n=ZL(e),r=function(a){n.some(function(u){return wo(u,a)})||n.push(a)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Tu=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return we(e,t),e}(jv);function QL(t,e){for(var n=ZL(e),r=function(a){n=n.filter(function(u){return!wo(u,a)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var hl=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return we(e,t),e}(jv);function JL(t){return gn(t.integerValue||t.doubleValue)}function ZL(t){return wI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cd=function(t,e){this.field=t,this.transform=e},tJ=function(t,e){this.version=t,this.transformResults=e},ur=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Bv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Vv=function(){};function nJ(t,e,n){t instanceof ld?function(r,i,o){var a=r.value.clone(),u=rF(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(r,i,o){if(Bv(r.precondition,i)){var a=rF(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(nF(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function CI(t,e,n){t instanceof ld?function(r,i,o){if(Bv(r.precondition,i)){var a=r.value.clone(),u=iF(r.fieldTransforms,o,i);a.setAll(u),i.convertToFoundDocument(tF(i),a).setHasLocalMutations()}}(t,e,n):t instanceof Vs?function(r,i,o){if(Bv(r.precondition,i)){var a=iF(r.fieldTransforms,o,i),u=i.data;u.setAll(nF(r)),u.setAll(a),i.convertToFoundDocument(tF(i),u).setHasLocalMutations()}}(t,e,n):function(r,i){Bv(r.precondition,i)&&i.convertToNoDocument(tt.min())}(t,e)}function rJ(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),u=YL(o.transform,a||null);u!=null&&(n==null&&(n=Jr.empty()),n.set(o.field,u))}return n||null}function eF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&il(n,r,function(i,o){return function(a,u){return a.field.isEqual(u.field)&&function(c,f){return c instanceof Eu&&f instanceof Eu||c instanceof Tu&&f instanceof Tu?il(c.elements,f.elements,wo):c instanceof hl&&f instanceof hl?wo(c.A,f.A):c instanceof fl&&f instanceof fl}(a.transform,u.transform)}(i,o)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function tF(t){return t.isFoundDocument()?t.version:tt.min()}var ld=function(t){function e(n,r,i,o){o===void 0&&(o=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return we(e,t),e}(Vv),Vs=function(t){function e(n,r,i,o,a){a===void 0&&(a=[]);var u=this;return(u=t.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=a,u.type=1,u}return we(e,t),e}(Vv);function nF(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function rF(t,e,n){var r=new Map;Be(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,eJ(a,u,n[i]))}return r}function iF(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],u=a.transform,c=n.data.field(a.field);r.set(a.field,Z9(u,c,e))}return r}var mn,ht,fd=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return we(e,t),e}(Vv),AI=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return we(e,t),e}(Vv),iJ=function(t){this.count=t};function oF(t){switch(t){case K.OK:return Oe();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Oe()}}function sF(t){if(t===void 0)return pn("GRPC error has no .code"),K.UNKNOWN;switch(t){case mn.OK:return K.OK;case mn.CANCELLED:return K.CANCELLED;case mn.UNKNOWN:return K.UNKNOWN;case mn.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case mn.INTERNAL:return K.INTERNAL;case mn.UNAVAILABLE:return K.UNAVAILABLE;case mn.UNAUTHENTICATED:return K.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case mn.NOT_FOUND:return K.NOT_FOUND;case mn.ALREADY_EXISTS:return K.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return K.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case mn.ABORTED:return K.ABORTED;case mn.OUT_OF_RANGE:return K.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return K.UNIMPLEMENTED;case mn.DATA_LOSS:return K.DATA_LOSS;default:return Oe()}}(ht=mn||(mn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr=function(){function t(e,n){this.comparator=e,this.root=n||qs.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qs.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qs.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new qv(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new qv(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new qv(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new qv(this.root,e,this.comparator,!0)},t}(),qv=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),qs=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:t.RED,this.left=i!=null?i:t.EMPTY,this.right=o!=null?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();var e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)},t}();qs.EMPTY=null,qs.RED=!0,qs.BLACK=!1,qs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new qs(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn=function(){function t(e){this.comparator=e,this.data=new cr(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new aF(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new aF(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),aF=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),oJ=new cr(De.comparator);function wi(){return oJ}var sJ=new cr(De.comparator);function xI(){return sJ}var aJ=new cr(De.comparator);function uF(){return aJ}var uJ=new Cn(De.comparator);function Nt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=uJ,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var cJ=new Cn(ct);function Hv(){return cJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RI=function(){function t(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,kI.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(tt.min(),r,Hv(),wi(),Nt())},t}(),kI=function(){function t(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Er.EMPTY_BYTE_STRING,n,Nt(),Nt(),Nt())},t}(),$v=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},cF=function(t,e){this.targetId=t,this.V=e},lF=function(t,e,n,r){n===void 0&&(n=Er.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},fF=function(){function t(){this.S=0,this.D=dF(),this.C=Er.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=Nt(),n=Nt(),r=Nt();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe()}}),new kI(this.C,this.N,e,n,r)},t.prototype.L=function(){this.k=!1,this.D=dF()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),lJ=function(){function t(e){this.W=e,this.G=new Map,this.H=wi(),this.J=hF(),this.Y=new Cn(ct)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)i=a[o],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(e.resumeToken));break;default:Oe()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var o=i.target;if(Mv(o))if(r===0){var a=new De(o.path);this.tt(n,a,Yn.newNoDocument(a,tt.min()))}else Be(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(a,u){var c=n.ot(u);if(c){if(a.current&&Mv(c.target)){var f=new De(c.target.path);n.H.get(f)!==null||n.at(u,f)||n.tt(u,f,Yn.newNoDocument(f,e))}a.$&&(r.set(u,a.M()),a.L())}});var i=Nt();this.J.forEach(function(a,u){var c=!0;u.forEachWhile(function(f){var h=n.ot(f);return!h||h.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var o=new RI(e,r,this.Y,this.H,i);return this.H=wi(),this.J=hF(),this.Y=new Cn(ct),o},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.at(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new fF,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Cn(ct),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new fF),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function hF(){return new cr(De.comparator)}function dF(){return new cr(De.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fJ={asc:"ASCENDING",desc:"DESCENDING"},hJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dJ=function(t,e){this.databaseId=t,this.I=e};function hd(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function pF(t,e){return t.I?e.toBase64():e.toUint8Array()}function pJ(t,e){return hd(t,e.toTimestamp())}function Fn(t){return Be(!!t),tt.fromTimestamp(function(e){var n=Bs(e);return new Ur(n.seconds,n.nanos)}(t))}function OI(t,e){return function(n){return new _t(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function gF(t){var e=_t.fromString(t);return Be(AF(e)),e}function dd(t,e){return OI(t.databaseId,e.path)}function Eo(t,e){var n=gF(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(vF(n))}function NI(t,e){return OI(t.databaseId,e)}function mF(t){var e=gF(t);return e.length===4?_t.emptyPath():vF(e)}function pd(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vF(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yF(t,e,n){return{name:dd(t,e),fields:n.value.mapValue.fields}}function _F(t,e,n){var r=Eo(t,e.name),i=Fn(e.updateTime),o=new Jr({mapValue:{fields:e.fields}}),a=Yn.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Wv(t,e){var n;if(e instanceof ld)n={update:yF(t,e.key,e.value)};else if(e instanceof fd)n={delete:dd(t,e.key)};else if(e instanceof Vs)n={update:yF(t,e.key,e.data),updateMask:_J(e.fieldMask)};else{if(!(e instanceof AI))return Oe();n={verify:dd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof fl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hl)return{fieldPath:o.field.canonicalString(),increment:a.A};throw Oe()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:pJ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Oe()}(t,e.precondition)),n}function bF(t,e){var n=e.currentDocument?function(f){return f.updateTime!==void 0?ur.updateTime(Fn(f.updateTime)):f.exists!==void 0?ur.exists(f.exists):ur.none()}(e.currentDocument):ur.none(),r=e.updateTransforms?e.updateTransforms.map(function(f){return function(h,p){var g=null;if("setToServerValue"in p)Be(p.setToServerValue==="REQUEST_TIME"),g=new fl;else if("appendMissingElements"in p){var v=p.appendMissingElements.values||[];g=new Eu(v)}else if("removeAllFromArray"in p){var y=p.removeAllFromArray.values||[];g=new Tu(y)}else"increment"in p?g=new hl(h,p.increment):Oe();var w=Gi.fromServerFormat(p.fieldPath);return new cd(w,g)}(t,f)}):[];if(e.update){e.update.name;var i=Eo(t,e.update.name),o=new Jr({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(f){var h=f.fieldPaths||[];return new ol(h.map(function(p){return Gi.fromServerFormat(p)}))}(e.updateMask);return new Vs(i,o,a,n,r)}return new ld(i,o,n,r)}if(e.delete){var u=Eo(t,e.delete);return new fd(u,n)}if(e.verify){var c=Eo(t,e.verify);return new AI(c,n)}return Oe()}function wF(t,e){return{documents:[NI(t,e.path)]}}function EF(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=NI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=NI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var c=u.map(function(f){return function(h){if(h.op==="=="){if(LL(h.value))return{unaryFilter:{field:dl(h.field),op:"IS_NAN"}};if(ML(h.value))return{unaryFilter:{field:dl(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(LL(h.value))return{unaryFilter:{field:dl(h.field),op:"IS_NOT_NAN"}};if(ML(h.value))return{unaryFilter:{field:dl(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(h.field),op:mJ(h.op),value:h.value}}}(f)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(c){return function(f){return{field:dl(f.field),direction:gJ(f.dir)}}(c)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(u,c){return u.I||bu(c)?c:{value:c}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=SF(e.startAt)),e.endAt&&(n.structuredQuery.endAt=SF(e.endAt)),n}function TF(t){var e=mF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Be(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=IF(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(p){return function(g){return new ul(pl(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p)}));var c=null;n.limit&&(c=function(p){var g;return bu(g=typeof p=="object"?p.value:p)?null:g}(n.limit));var f=null;n.startAt&&(f=CF(n.startAt));var h=null;return n.endAt&&(h=CF(n.endAt)),qL(e,i,u,a,c,"F",f,h)}function IF(t){return t?t.unaryFilter!==void 0?[yJ(t)]:t.fieldFilter!==void 0?[vJ(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return IF(e)}).reduce(function(e,n){return e.concat(n)}):Oe():[]}function SF(t){return{before:t.before,values:t.position}}function CF(t){var e=!!t.before,n=t.values||[];return new sd(n,e)}function gJ(t){return fJ[t]}function mJ(t){return hJ[t]}function dl(t){return{fieldPath:t.canonicalString()}}function pl(t){return Gi.fromServerFormat(t.fieldPath)}function vJ(t){return Zr.create(pl(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Oe()}}(t.fieldFilter.op),t.fieldFilter.value)}function yJ(t){switch(t.unaryFilter.op){case"IS_NAN":var e=pl(t.unaryFilter.field);return Zr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=pl(t.unaryFilter.field);return Zr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pl(t.unaryFilter.field);return Zr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pl(t.unaryFilter.field);return Zr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Oe()}}function _J(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function AF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=xF(e)),e=bJ(t.get(n),e);return xF(e)}function bJ(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function xF(t){return t+""}function es(t){var e=t.length;if(Be(e>=2),e===2)return Be(t.charAt(0)===""&&t.charAt(1)===""),_t.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Oe(),t.charAt(a+1)){case"":var u=t.substring(o,a),c=void 0;i.length===0?c=u:(c=i+=u,i=""),r.push(c);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Oe()}o=a+2}return new _t(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wJ=function(t,e){this.seconds=t,this.nanoseconds=e},ei=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ei.store="owner",ei.key="owner";var Hs=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Hs.store="mutationQueues",Hs.keyPath="userId";var Wt=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wt.store="mutations",Wt.keyPath="batchId",Wt.userMutationsIndex="userMutationsIndex",Wt.userMutationsKeyPath=["userId","batchId"];var lr=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,Yi(n)]},t.key=function(e,n,r){return[e,Yi(n),r]},t}();lr.store="documentMutations",lr.PLACEHOLDER=new lr;var EJ=function(t,e){this.path=t,this.readTime=e},TJ=function(t,e){this.path=t,this.version=e},rn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};rn.store="remoteDocuments",rn.readTimeIndex="readTimeIndex",rn.readTimeIndexPath="readTime",rn.collectionReadTimeIndex="collectionReadTimeIndex",rn.collectionReadTimeIndexPath=["parentPath","readTime"];var To=function(t){this.byteSize=t};To.store="remoteDocumentGlobal",To.key="remoteDocumentGlobalKey";var jr=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};jr.store="targets",jr.keyPath="targetId",jr.queryTargetsIndexName="queryTargetsIndex",jr.queryTargetsKeyPath=["canonicalId","targetId"];var Xn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Xn.store="targetDocuments",Xn.keyPath=["targetId","path"],Xn.documentTargetsIndex="documentTargetsIndex",Xn.documentTargetsKeyPath=["path","targetId"];var ti=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ti.key="targetGlobalKey",ti.store="targetGlobal";var Iu=function(t,e){this.collectionId=t,this.parent=e};Iu.store="collectionParents",Iu.keyPath=["collectionId","parent"];var ts=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ts.store="clientMetadata",ts.keyPath="clientId";var gl=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};gl.store="bundles",gl.keyPath="bundleId";var ml=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ml.store="namedQueries",ml.keyPath="name";var IJ=Ze(Ze([],Ze(Ze([],Ze(Ze([],Ze(Ze([],[Hs.store,Wt.store,lr.store,rn.store,jr.store,ei.store,ti.store,Xn.store]),[ts.store])),[To.store])),[Iu.store])),[gl.store,ml.store]),RF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kF=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),fr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},ue=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,o){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,o)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,o=0,a=!1;e.forEach(function(u){++i,u.next(function(){++o,a&&o===i&&n()},function(c){return r(c)})}),a=!0,o===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(u){return u?t.resolve(u):a()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(o,a){i.push(n.call(r,o,a))}),this.waitFor(i)},t}(),OF=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new fr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new gd(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=PI(i.target.error);r.ft.reject(new gd(e,o))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new gd(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(he("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new CJ(n)},t}(),vl=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(cu())===12.2&&pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return he("SimpleDb","Removing database:",e),Cu(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB=="undefined")return!1;if(t.gt())return!0;var e=cu(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var e;return typeof process!="undefined"&&((e={})===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return U(this,void 0,void 0,function(){var n,r=this;return F(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(he("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,a){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(c){var f=c.target.result;o(f)},u.onblocked=function(){a(new gd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(c){var f=c.target.error;f.name==="VersionError"?a(new ie(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new gd(e,f))},u.onupgradeneeded=function(c){he("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var f=c.target.result;r.wt.Rt(f,u.transaction,c.oldVersion,r.version).next(function(){he("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return U(this,void 0,void 0,function(){var o,a,u,c,f;return F(this,function(h){switch(h.label){case 0:o=n==="readonly",a=0,u=function(){var p,g,v,y,w;return F(this,function(E){switch(E.label){case 0:++a,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,c.At(e)];case 2:return c.db=E.sent(),p=OF.open(c.db,e,o?"readonly":"readwrite",r),g=i(p).catch(function(I){return p.abort(I),ue.reject(I)}).toPromise(),v={},g.catch(function(){}),[4,p.dt];case 3:return[2,(v.value=(E.sent(),g),v)];case 4:return y=E.sent(),w=y.name!=="FirebaseError"&&a<3,he("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),c.close(),w?[3,5]:[2,{value:Promise.reject(y)}];case 5:return[2]}})},c=this,h.label=1;case 1:return[5,u()];case 2:if(typeof(f=h.sent())=="object")return[2,f.value];h.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),SJ=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Cu(this.Pt.delete())},t}(),gd=function(t){function e(n,r){var i=this;return(i=t.call(this,K.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return we(e,t),e}(ie);function Su(t){return t.name==="IndexedDbTransactionError"}var CJ=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(he("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(he("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Cu(r)},t.prototype.add=function(e){return he("SimpleDb","ADD",this.store.name,e,e),Cu(this.store.add(e))},t.prototype.get=function(e){var n=this;return Cu(this.store.get(e)).next(function(r){return r===void 0&&(r=null),he("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return he("SimpleDb","DELETE",this.store.name,e),Cu(this.store.delete(e))},t.prototype.count=function(){return he("SimpleDb","COUNT",this.store.name),Cu(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},t.prototype.kt=function(e,n){he("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,a,u){return u.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new ue(function(r,i){n.onerror=function(o){var a=PI(o.target.error);i(a)},n.onsuccess=function(o){var a=o.target.result;a?e(a.primaryKey,a.value).next(function(u){u?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new ue(function(i,o){e.onerror=function(a){o(a.target.error)},e.onsuccess=function(a){var u=a.target.result;if(u){var c=new SJ(u),f=n(u.primaryKey,u.value,c);if(f instanceof ue){var h=f.catch(function(p){return c.done(),ue.reject(p)});r.push(h)}c.isDone?i():c.Dt===null?u.continue():u.continue(c.Dt)}else i()}}).next(function(){return ue.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Cu(t){return new ue(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=PI(r.target.error);n(i)}})}var NF=!1;function PI(t){var e=vl._t(cu());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ie("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return NF||(NF=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PF=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return we(e,t),e}(kF);function Br(t,e){var n=_e(t);return vl.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DI=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&nJ(o,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&CI(a,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e.key)&&CI(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(tt.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Nt())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,function(n,r){return eF(n,r)})&&il(this.baseMutations,e.baseMutations,function(n,r){return eF(n,r)})},t}(),AJ=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){Be(e.mutations.length===r.length);for(var i=uF(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),zv=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=tt.min()),a===void 0&&(a=tt.min()),u===void 0&&(u=Er.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),DF=function(t){this.Lt=t};function MI(t,e){if(e.document)return _F(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=De.fromSegments(e.noDocument.path),r=_l(e.noDocument.readTime),i=Yn.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=De.fromSegments(e.unknownDocument.path);return r=_l(e.unknownDocument.version),Yn.newUnknownDocument(o,r)}return Oe()}function MF(t,e,n){var r=LI(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(p,g){return{name:dd(p,g.key),fields:g.data.value.mapValue.fields,updateTime:hd(p,g.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new rn(null,null,o,a,r,i)}if(e.isNoDocument()){var u=e.key.path.toArray(),c=yl(e.version);return a=e.hasCommittedMutations,new rn(null,new EJ(u,c),null,a,r,i)}if(e.isUnknownDocument()){var f=e.key.path.toArray(),h=yl(e.version);return new rn(new TJ(f,h),null,null,!0,r,i)}return Oe()}function LI(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function LF(t){var e=new Ur(t[0],t[1]);return tt.fromTimestamp(e)}function yl(t){var e=t.toTimestamp();return new wJ(e.seconds,e.nanoseconds)}function _l(t){var e=new Ur(t.seconds,t.nanoseconds);return tt.fromTimestamp(e)}function bl(t,e){for(var n=(e.baseMutations||[]).map(function(c){return bF(t.Lt,c)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(c){return bF(t.Lt,c)}),u=Ur.fromMillis(e.localWriteTimeMs);return new DI(e.batchId,u,n,a)}function md(t){var e,n,r=_l(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?_l(t.lastLimboFreeSnapshotVersion):tt.min();return t.query.documents!==void 0?(Be((n=t.query).documents.length===1),e=bi(cl(mF(n.documents[0])))):e=function(o){return bi(TF(o))}(t.query),new zv(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Er.fromBase64String(t.resumeToken))}function FF(t,e){var n,r=yl(e.snapshotVersion),i=yl(e.lastLimboFreeSnapshotVersion);n=Mv(e.target)?wF(t.Lt,e.target):EF(t.Lt,e.target);var o=e.resumeToken.toBase64();return new jr(e.targetId,od(e.target),r,o,e.sequenceNumber,i,n)}function FI(t){var e=TF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?HL(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xJ=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return UF(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:_l(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return UF(e).put({bundleId:(r=n).id,createTime:yl(Fn(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return jF(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:FI(i.bundledQuery),readTime:_l(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return jF(e).put(function(r){return{name:r.name,readTime:yl(Fn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function UF(t){return Br(t,gl.store)}function jF(t){return Br(t,ml.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RJ=function(){function t(){this.Bt=new UI}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),ue.resolve()},t.prototype.getCollectionParents=function(e,n){return ue.resolve(this.Bt.getEntries(n))},t}(),UI=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Cn(_t.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Cn(_t.comparator)).toArray()},t}(),kJ=function(){function t(){this.qt=new UI}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Yi(o)};return BF(e).put(a)}return ue.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[xL(n),""],!1,!0);return BF(e).Nt(i).next(function(o){for(var a=0,u=o;a<u.length;a++){var c=u[a];if(c.collectionId!==n)break;r.push(es(c.parent))}return r})},t}();function BF(t){return Br(t,Iu.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Io=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t,e,n){var r=t.store(Wt.store),i=t.store(lr.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,c=r.$t({range:a},function(y,w,E){return u++,E.delete()});o.push(c.next(function(){Be(u===1)}));for(var f=[],h=0,p=n.mutations;h<p.length;h++){var g=p[h],v=lr.key(e,g.key.path,n.batchId);o.push(i.delete(v)),f.push(g.key)}return ue.waitFor(o).next(function(){return f})}function Kv(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Oe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io.DEFAULT_COLLECTION_PERCENTILE=10,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Io.DEFAULT=new Io(41943040,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Io.DISABLED=new Io(-1,0,0);var OJ=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,r,i){return Be(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $s(e).$t({index:Wt.userMutationsIndex,range:r},function(i,o,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var o=this,a=wl(e),u=$s(e);return u.add({}).next(function(c){Be(typeof c=="number");for(var f=new DI(c,n,r,i),h=function(I,x,k){var P=k.baseMutations.map(function(M){return Wv(I.Lt,M)}),D=k.mutations.map(function(M){return Wv(I.Lt,M)});return new Wt(x,k.batchId,k.localWriteTime.toMillis(),P,D)}(o.R,o.userId,f),p=[],g=new Cn(function(I,x){return ct(I.canonicalString(),x.canonicalString())}),v=0,y=i;v<y.length;v++){var w=y[v],E=lr.key(o.userId,w.key.path,c);g=g.add(w.key.path.popLast()),p.push(u.put(h)),p.push(a.put(E,lr.PLACEHOLDER))}return g.forEach(function(I){p.push(o.Ut.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(function(){o.Kt[c]=f.keys()}),ue.waitFor(p).next(function(){return f})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return $s(e).get(n).next(function(i){return i?(Be(i.userId===r.userId),bl(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?ue.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return $s(e).$t({index:Wt.userMutationsIndex,range:o},function(u,c,f){c.userId===r.userId&&(Be(c.batchId>=i),a=bl(r.R,c)),f.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return $s(e).$t({index:Wt.userMutationsIndex,range:n,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $s(e).Nt(Wt.userMutationsIndex,r).next(function(i){return i.map(function(o){return bl(n.R,o)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=lr.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return wl(e).$t({range:o},function(u,c,f){var h=u[0],p=u[1],g=u[2],v=es(p);if(h===r.userId&&n.path.isEqual(v))return $s(e).get(g).next(function(y){if(!y)throw Oe();Be(y.userId===r.userId),a.push(bl(r.R,y))});f.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Cn(ct),o=[];return n.forEach(function(a){var u=lr.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(u),f=wl(e).$t({range:c},function(h,p,g){var v=h[0],y=h[1],w=h[2],E=es(y);v===r.userId&&a.path.isEqual(E)?i=i.add(w):g.done()});o.push(f)}),ue.waitFor(o).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,o=i.length+1,a=lr.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(a),c=new Cn(ct);return wl(e).$t({range:u},function(f,h,p){var g=f[0],v=f[1],y=f[2],w=es(v);g===r.userId&&i.isPrefixOf(w)?w.length===o&&(c=c.add(y)):p.done()}).next(function(){return r.Wt(e,c)})},t.prototype.Wt=function(e,n){var r=this,i=[],o=[];return n.forEach(function(a){o.push($s(e).get(a).next(function(u){if(u===null)throw Oe();Be(u.userId===r.userId),i.push(bl(r.R,u))}))}),ue.waitFor(o).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return qF(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),ue.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return ue.resolve();var i=IDBKeyRange.lowerBound(lr.prefixForUser(n.userId)),o=[];return wl(e).$t({range:i},function(a,u,c){if(a[0]===n.userId){var f=es(a[1]);o.push(f)}else c.done()}).next(function(){Be(o.length===0)})})},t.prototype.containsKey=function(e,n){return HF(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return $F(e).get(this.userId).next(function(r){return r||new Hs(n.userId,-1,"")})},t}();function HF(t,e,n){var r=lr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return wl(t).$t({range:o,Ft:!0},function(u,c,f){var h=u[0],p=u[1];u[2],h===e&&p===i&&(a=!0),f.done()}).next(function(){return a})}function $s(t){return Br(t,Wt.store)}function wl(t){return Br(t,lr.store)}function $F(t){return Br(t,Hs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gv=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),NJ=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new Gv(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return tt.fromTimestamp(new Ur(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(e,o)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return El(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return Be(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return El(e).$t(function(u,c){var f=md(c);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o++,a.push(i.removeTargetData(e,f)))}).next(function(){return ue.waitFor(a)}).next(function(){return o})},t.prototype.forEachTarget=function(e,n){return El(e).$t(function(r,i){var o=md(i);n(o)})},t.prototype.Xt=function(e){return WF(e).get(ti.key).next(function(n){return Be(n!==null),n})},t.prototype.Zt=function(e,n){return WF(e).put(ti.key,n)},t.prototype.te=function(e,n){return El(e).put(FF(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=od(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return El(e).$t({range:i,index:jr.queryTargetsIndexName},function(a,u,c){var f=md(u);Dv(n,f.target)&&(o=f,c.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,o=[],a=Ws(e);return n.forEach(function(u){var c=Yi(u.path);o.push(a.put(new Xn(r,c))),o.push(i.referenceDelegate.addReference(e,r,u))}),ue.waitFor(o)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,o=Ws(e);return ue.forEach(n,function(a){var u=Yi(a.path);return ue.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=Ws(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ws(e),o=Nt();return i.$t({range:r,Ft:!0},function(a,u,c){var f=es(a[1]),h=new De(f);o=o.add(h)}).next(function(){return o})},t.prototype.containsKey=function(e,n){var r=Yi(n.path),i=IDBKeyRange.bound([r],[xL(r)],!1,!0),o=0;return Ws(e).$t({index:Xn.documentTargetsIndex,Ft:!0,range:i},function(a,u,c){var f=a[0];a[1],f!==0&&(o++,c.done())}).next(function(){return o>0})},t.prototype.lt=function(e,n){return El(e).get(n).next(function(r){return r?md(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){return Br(t,jr.store)}function WF(t){return Br(t,ti.store)}function Ws(t){return Br(t,Xn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){return U(this,void 0,void 0,function(){return F(this,function(e){if(t.code!==K.FAILED_PRECONDITION||t.message!==RF)throw t;return he("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=ct(n,i);return a===0?ct(r,o):a}var PJ=function(){function t(e){this.ne=e,this.buffer=new Cn(zF),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();zF(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),DJ=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;he("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return U(n,void 0,void 0,function(){var i;return F(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Su(i=o.sent())?(he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Au(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return o.sent(),[2]}})})})},t}(),MJ=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return ue.resolve(Qr.o);var i=new PJ(n);return this.ae.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(VF)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),VF):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,o,a,u,c,f,h=this,p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(g){return g>h.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.maximumSequenceNumbersToCollect+" from "+g),i=h.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),h.nthSequenceNumber(e,i)}).next(function(g){return r=g,u=Date.now(),h.removeTargets(e,r,n)}).next(function(g){return o=g,c=Date.now(),h.removeOrphanedDocuments(e,r)}).next(function(g){return f=Date.now(),gI()<=it.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-p)+`ms
	Determined least recently used `+i+" in "+(u-a)+`ms
	Removed `+o+" targets in "+(c-u)+`ms
	Removed `+g+" documents in "+(f-c)+`ms
Total Duration: `+(f-p)+"ms"),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})})},t}(),LJ=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new MJ(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return Yv(e,r)},t.prototype.removeReference=function(e,n,r){return Yv(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return Yv(e,n)},t.prototype._e=function(e,n){return function(r,i){var o=!1;return $F(r).Ot(function(a){return HF(r,a,i).next(function(u){return u&&(o=!0),ue.resolve(!u)})}).next(function(){return o})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(u,c){if(c<=n){var f=r._e(e,u).next(function(h){if(!h)return a++,i.getEntry(e,u).next(function(){return i.removeEntry(u),Ws(e).delete([0,Yi(u.path)])})});o.push(f)}}).next(function(){return ue.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return Yv(e,n)},t.prototype.we=function(e,n){var r,i=Ws(e),o=Qr.o;return i.$t({index:Xn.documentTargetsIndex},function(a,u){var c=a[0];a[1];var f=u.path,h=u.sequenceNumber;c===0?(o!==Qr.o&&n(new De(es(r)),o),o=h,r=f):o=Qr.o}).next(function(){o!==Qr.o&&n(new De(es(r)),o)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Yv(t,e){return Ws(t).put(function(n,r){return new Xn(0,Yi(n.path),r)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tl=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];if(this.equalsFn(u,e))return c}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){_u(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];e(u,c)}})},t.prototype.isEmpty=function(){return kL(this.inner)},t}(),KF=function(){function t(){this.changes=new Tl(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:tt.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:Yn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ue.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),FJ=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return zs(e).put(Xv(n),r)},t.prototype.removeEntry=function(e,n){var r=zs(e),i=Xv(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return zs(e).get(Xv(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return zs(e).get(Xv(n)).next(function(i){return{document:r.ye(n,i),size:Kv(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=wi();return this.pe(e,n,function(o,a){var u=r.ye(o,a);i=i.insert(o,u)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=wi(),o=new cr(De.comparator);return this.pe(e,n,function(a,u){var c=r.ye(a,u);i=i.insert(a,c),o=o.insert(a,Kv(u))}).next(function(){return{documents:i,Te:o}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return ue.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),a=o.getNext();return zs(e).$t({range:i},function(u,c,f){for(var h=De.fromSegments(u);a&&De.comparator(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?f.Ct(a.path.toArray()):f.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,o=wi(),a=n.path.length+1,u={};if(r.isEqual(tt.min())){var c=n.path.toArray();u.range=IDBKeyRange.lowerBound(c)}else{var f=n.path.toArray(),h=LI(r);u.range=IDBKeyRange.lowerBound([f,h],!0),u.index=rn.collectionReadTimeIndex}return zs(e).$t(u,function(p,g,v){if(p.length===a){var y=MI(i.R,g);n.path.isPrefixOf(y.key.path)?ud(n,y)&&(o=o.insert(y.key,y)):v.done()}}).next(function(){return o})},t.prototype.newChangeBuffer=function(e){return new UJ(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return GF(e).get(To.key).next(function(n){return Be(!!n),n})},t.prototype.me=function(e,n){return GF(e).put(To.key,n)},t.prototype.ye=function(e,n){if(n){var r=MI(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(tt.min()))return r}return Yn.newInvalidDocument(e)},t}(),UJ=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Tl(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return we(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],o=0,a=new Cn(function(u,c){return ct(u.canonicalString(),c.canonicalString())});return this.changes.forEach(function(u,c){var f=r.Ae.get(u);if(c.document.isValidDocument()){var h=MF(r.Ie.R,c.document,r.getReadTime(u));a=a.add(u.path.popLast());var p=Kv(h);o+=p-f,i.push(r.Ie.addEntry(n,u,h))}else if(o-=f,r.trackRemovals){var g=MF(r.Ie.R,Yn.newNoDocument(u,tt.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,g))}else i.push(r.Ie.removeEntry(n,u))}),a.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),ue.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var a=o.documents;return o.Te.forEach(function(u,c){i.Ae.set(u,c)}),a})},e}(KF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t){return Br(t,To.store)}function zs(t){return Br(t,rn.store)}function Xv(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jJ=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var o=this;Be(r<i&&r>=0&&i<=11);var a=new OF("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(ei.store)}(e),function(c){c.createObjectStore(Hs.store,{keyPath:Hs.keyPath}),c.createObjectStore(Wt.store,{keyPath:Wt.keyPath,autoIncrement:!0}).createIndex(Wt.userMutationsIndex,Wt.userMutationsKeyPath,{unique:!0}),c.createObjectStore(lr.store)}(e),YF(e),function(c){c.createObjectStore(rn.store)}(e));var u=ue.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Xn.store),c.deleteObjectStore(jr.store),c.deleteObjectStore(ti.store)}(e),YF(e)),u=u.next(function(){return function(c){var f=c.store(ti.store),h=new ti(0,0,tt.min().toTimestamp(),0);return f.put(ti.key,h)}(a)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(c,f){return f.store(Wt.store).Nt().next(function(h){c.deleteObjectStore(Wt.store),c.createObjectStore(Wt.store,{keyPath:Wt.keyPath,autoIncrement:!0}).createIndex(Wt.userMutationsIndex,Wt.userMutationsKeyPath,{unique:!0});var p=f.store(Wt.store),g=h.map(function(v){return p.put(v)});return ue.waitFor(g)})}(e,a)})),u=u.next(function(){(function(c){c.createObjectStore(ts.store,{keyPath:ts.keyPath})})(e)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(a)})),r<6&&i>=6&&(u=u.next(function(){return function(c){c.createObjectStore(To.store)}(e),o.be(a)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(a)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(e,a)})),r<9&&i>=9&&(u=u.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e),function(c){var f=c.objectStore(rn.store);f.createIndex(rn.readTimeIndex,rn.readTimeIndexPath,{unique:!1}),f.createIndex(rn.collectionReadTimeIndex,rn.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(a)})),r<11&&i>=11&&(u=u.next(function(){(function(c){c.createObjectStore(gl.store,{keyPath:gl.keyPath})})(e),function(c){c.createObjectStore(ml.store,{keyPath:ml.keyPath})}(e)})),u},t.prototype.be=function(e){var n=0;return e.store(rn.store).$t(function(r,i){n+=Kv(i)}).next(function(){var r=new To(n);return e.store(To.store).put(To.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(Hs.store),i=e.store(Wt.store);return r.Nt().next(function(o){return ue.forEach(o,function(a){var u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(Wt.userMutationsIndex,u).next(function(c){return ue.forEach(c,function(f){Be(f.userId===a.userId);var h=bl(n.R,f);return qF(e,a.userId,h).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Xn.store),r=e.store(rn.store);return e.store(ti.store).get(ti.key).next(function(i){var o=[];return r.$t(function(a,u){var c=new _t(a),f=function(h){return[0,Yi(h)]}(c);o.push(n.get(f).next(function(h){return h?ue.resolve():function(p){return n.put(new Xn(0,Yi(p),i.highestListenSequenceNumber))}(c)}))}).next(function(){return ue.waitFor(o)})})},t.prototype.Pe=function(e,n){e.createObjectStore(Iu.store,{keyPath:Iu.keyPath});var r=n.store(Iu.store),i=new UI,o=function(a){if(i.add(a)){var u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:Yi(c)})}};return n.store(rn.store).$t({Ft:!0},function(a,u){var c=new _t(a);return o(c.popLast())}).next(function(){return n.store(lr.store).$t({Ft:!0},function(a,u){a[0];var c=a[1];a[2];var f=es(c);return o(f.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(jr.store);return r.$t(function(i,o){var a=md(o),u=FF(n.R,a);return r.put(u)})},t}();function YF(t){t.createObjectStore(Xn.store,{keyPath:Xn.keyPath}).createIndex(Xn.documentTargetsIndex,Xn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(jr.store,{keyPath:jr.keyPath}).createIndex(jr.queryTargetsIndexName,jr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ti.store)}var jI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BJ=function(){function t(e,n,r,i,o,a,u,c,f,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=f,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(p){return Promise.resolve()},!t.yt())throw new ie(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LJ(this,i),this.Le=n+"main",this.R=new DF(c),this.Be=new vl(this.Le,11,new jJ(this.R)),this.qe=new NJ(this.referenceDelegate,this.R),this.Ut=new kJ,this.Ue=function(p,g){return new FJ(p,g)}(this.R,this.Ut),this.Ke=new xJ,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,h===!1&&pn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ie(K.FAILED_PRECONDITION,jI);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new Qr(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return U(n,void 0,void 0,function(){return F(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return U(n,void 0,void 0,function(){return F(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return U(n,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Qv(n).put(new ts(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Su(n))return he("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return he("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return vd(e).get(ei.key).next(function(r){return ue.resolve(n.tn(r))})},t.prototype.en=function(e){return Qv(e).delete(this.clientId)},t.prototype.nn=function(){return U(this,void 0,void 0,function(){var e,n,r,i,o=this;return F(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var c=Br(u,ts.store);return c.Nt().next(function(f){var h=o.rn(f,18e5),p=f.filter(function(g){return h.indexOf(g)===-1});return ue.forEach(p,function(g){return c.delete(g.clientId)}).next(function(){return p})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?ue.resolve(!0):vd(e).get(ei.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new ie(K.FAILED_PRECONDITION,jI);return!1}}return!(!n.networkEnabled||!n.inForeground)||Qv(e).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var a=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,c=n.networkEnabled===o.networkEnabled;if(a||u&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&he("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return U(this,void 0,void 0,function(){var e=this;return F(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ei.store,ts.store],function(r){var i=new PF(r,Qr.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Qv(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return OJ.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;he("IndexedDbPersistence","Starting transaction:",e);var o,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,IJ,function(u){return o=new PF(u,i.Ne?i.Ne.next():Qr.o),n==="readwrite-primary"?i.Je(o).next(function(c){return!!c||i.Ye(o)}).next(function(c){if(!c)throw pn("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new ie(K.FAILED_PRECONDITION,RF);return r(o)}).next(function(c){return i.Ze(o).next(function(){return c})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},t.prototype.dn=function(e){var n=this;return vd(e).get(ei.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new ie(K.FAILED_PRECONDITION,jI)})},t.prototype.Ze=function(e){var n=new ei(this.clientId,this.allowTabSynchronization,Date.now());return vd(e).put(ei.key,n)},t.yt=function(){return vl.yt()},t.prototype.Xe=function(e){var n=this,r=vd(e);return r.get(ei.key).next(function(i){return n.tn(i)?(he("IndexedDbPersistence","Releasing primary lease."),r.delete(ei.key)):ue.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(pn("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),j8()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return he("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return pn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){pn("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function vd(t){return Br(t,ei.store)}function Qv(t){return Br(t,ts.store)}function BI(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var VJ=function(t,e){this.progress=t,this.wn=e},XF=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var o=0,a=n;o<a.length;o++)a[o].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return De.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):II(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new De(n)).next(function(r){var i=xI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,o=n.collectionGroup,a=xI();return this.Ut.getCollectionParents(e,o).next(function(u){return ue.forEach(u,function(c){var f=function(h,p){return new Zo(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return i.An(e,f,r).next(function(h){h.forEach(function(p,g){a=a.insert(p,g)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(u){return i=u,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(u){return o=u,a.Rn(e,o,i).next(function(c){i=c;for(var f=0,h=o;f<h.length;f++)for(var p=h[f],g=0,v=p.mutations;g<v.length;g++){var y=v[g],w=y.key,E=i.get(w);E==null&&(E=Yn.newInvalidDocument(w),i=i.insert(w,E)),CI(y,E,p.localWriteTime),E.isFoundDocument()||(i=i.remove(w))}})}).next(function(){return i.forEach(function(u,c){ud(n,c)||(i=i.remove(u))}),i})},t.prototype.Rn=function(e,n,r){for(var i=Nt(),o=0,a=n;o<a.length;o++)for(var u=0,c=a[o].mutations;u<c.length;u++){var f=c[u];f instanceof Vs&&r.get(f.key)===null&&(i=i.add(f.key))}var h=r;return this.Ue.getEntries(e,i).next(function(p){return p.forEach(function(g,v){v.isFoundDocument()&&(h=h.insert(g,v))}),h})},t}(),qJ=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=Nt(),i=Nt(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),QF=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var o=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(tt.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var u=o.Cn(n,a);return(Fv(n)||Uv(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(e,n):(gI()<=it.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),SI(n)),o.Sn.getDocumentsMatchingQuery(e,n,r).next(function(c){return u.forEach(function(f){c=c.insert(f.key,f)}),c}))})},t.prototype.Cn=function(e,n){var r=new Cn(WL(e));return n.forEach(function(i,o){ud(e,o)&&(r=r.add(o))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var o=e==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return gI()<=it.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",SI(n)),this.Sn.getDocumentsMatchingQuery(e,n,tt.min())},t}(),HJ=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.kn=new cr(ct),this.Fn=new Tl(function(o){return od(o)},Dv),this.$n=tt.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new XF(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e,n,r){return new HJ(t,e,n,r)}function ZF(t,e){return U(this,void 0,void 0,function(){var n,r,i,o;return F(this,function(a){switch(a.label){case 0:return n=_e(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var c;return n._n.getAllMutationBatches(u).next(function(f){return c=f,r=n.persistence.getMutationQueue(e),i=new XF(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(f){for(var h=[],p=[],g=Nt(),v=0,y=c;v<y.length;v++){var w=y[v];h.push(w.batchId);for(var E=0,I=w.mutations;E<I.length;E++){var x=I[E];g=g.add(x.key)}}for(var k=0,P=f;k<P.length;k++){var D=P[k];p.push(D.batchId);for(var M=0,W=D.mutations;M<W.length;M++){var V=W[M];g=g.add(V.key)}}return i.pn(u,g).next(function(X){return{Ln:X,removedBatchIds:h,addedBatchIds:p}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function $J(t,e){var n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){var h=c.batch,p=h.keys(),g=ue.resolve();return p.forEach(function(v){g=g.next(function(){return f.getEntry(u,v)}).next(function(y){var w=c.docVersions.get(v);Be(w!==null),y.version.compareTo(w)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&f.addEntry(y,c.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(u,h)})}(n,r,e,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function e2(t){var e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function WJ(t,e){var n=_e(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];e.targetChanges.forEach(function(h,p){var g=i.get(p);if(g){u.push(n.qe.removeMatchingKeys(o,h.removedDocuments,p).next(function(){return n.qe.addMatchingKeys(o,h.addedDocuments,p)}));var v=h.resumeToken;if(v.approximateByteSize()>0){var y=g.withResumeToken(v,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(p,y),function(w,E,I){return Be(E.resumeToken.approximateByteSize()>0),w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(g,y,h)&&u.push(n.qe.updateTargetData(o,y))}}});var c=wi();if(e.documentUpdates.forEach(function(h,p){e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),u.push(t2(o,a,e.documentUpdates,r,void 0).next(function(h){c=h})),!r.isEqual(tt.min())){var f=n.qe.getLastRemoteSnapshotVersion(o).next(function(h){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(f)}return ue.waitFor(u).next(function(){return a.apply(o)}).next(function(){return n.Mn.En(o,c)}).next(function(){return c})}).then(function(o){return n.kn=i,o})}function t2(t,e,n,r,i){var o=Nt();return n.forEach(function(a){return o=o.add(a)}),e.getEntries(t,o).next(function(a){var u=wi();return n.forEach(function(c,f){var h=a.get(c),p=(i==null?void 0:i.get(c))||r;f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(c,p),u=u.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f,p),u=u.insert(c,f)):he("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)}),u})}function zJ(t,e){var n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function Il(t,e){var n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(o){return o?(i=o,ue.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new zv(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(e,r.targetId)),r})}function Sl(t,e,n){return U(this,void 0,void 0,function(){var r,i,o,a;return F(this,function(u){switch(u.label){case 0:r=_e(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Su(a=u.sent()))throw a;return he("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function Jv(t,e,n){var r=_e(t),i=tt.min(),o=Nt();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(u,c,f){var h=_e(u),p=h.Fn.get(f);return p!==void 0?ue.resolve(h.kn.get(p)):h.qe.getTargetData(c,f)}(r,a,bi(e)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,u.targetId).next(function(c){o=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:tt.min(),n?o:Nt())}).next(function(u){return{documents:u,Bn:o}})})}function n2(t,e){var n=_e(t),r=_e(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(a){return a?a.target:null})})}function r2(t){var e=_e(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var a=_e(r),u=wi(),c=LI(o),f=zs(i),h=IDBKeyRange.lowerBound(c,!0);return f.$t({index:rn.readTimeIndex,range:h},function(p,g){var v=MI(a.R,g);u=u.insert(v.key,v),c=g.readTime}).next(function(){return{wn:u,readTime:LF(c)}})}(e.On,n,e.$n)}).then(function(n){var r=n.wn,i=n.readTime;return e.$n=i,r})}function KJ(t){return U(this,void 0,void 0,function(){var e;return F(this,function(n){return[2,(e=_e(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=zs(i),a=tt.min();return o.$t({index:rn.readTimeIndex,reverse:!0},function(u,c,f){c.readTime&&(a=LF(c.readTime)),f.done()}).next(function(){return a})}(r)}).then(function(r){e.$n=r})]})})}function GJ(t,e,n,r){return U(this,void 0,void 0,function(){var i,o,a,u,c,f,h,p,g,v;return F(this,function(y){switch(y.label){case 0:for(i=_e(t),o=Nt(),a=wi(),u=uF(),c=0,f=n;c<f.length;c++)h=f[c],p=e.qn(h.metadata.name),h.document&&(o=o.add(p)),a=a.insert(p,e.Un(h)),u=u.insert(p,e.Kn(h.metadata.readTime));return g=i.On.newChangeBuffer({trackRemovals:!0}),[4,Il(i,function(w){return bi(cl(_t.fromString("__bundle__/docs/"+w)))}(r))];case 1:return v=y.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(w){return t2(w,g,a,tt.min(),u).next(function(E){return g.apply(w),E}).next(function(E){return i.qe.removeMatchingKeysForTargetId(w,v.targetId).next(function(){return i.qe.addMatchingKeys(w,o,v.targetId)}).next(function(){return i.Mn.En(w,E)}).next(function(){return E})})})]}})})}function YJ(t,e,n){return n===void 0&&(n=Nt()),U(this,void 0,void 0,function(){var r,i;return F(this,function(o){switch(o.label){case 0:return[4,Il(t,bi(FI(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=_e(t)).persistence.runTransaction("Save named query","readwrite",function(a){var u=Fn(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ke.saveNamedQuery(a,e);var c=r.withResumeToken(Er.EMPTY_BYTE_STRING,u);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XJ=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return ue.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Fn(r.createTime)}),ue.resolve()},t.prototype.getNamedQuery=function(e,n){return ue.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:FI(r.bundledQuery),readTime:Fn(r.readTime)}}(n)),ue.resolve()},t}(),VI=function(){function t(){this.Wn=new Cn(Un.Gn),this.zn=new Cn(Un.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new Un(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Un(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new De(new _t([])),i=new Un(r,e),o=new Un(r,e+1),a=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),a.push(u.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new De(new _t([])),r=new Un(n,e),i=new Un(n,e+1),o=Nt();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},t.prototype.containsKey=function(e){var n=new Un(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),Un=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return De.comparator(e.key,n.key)||ct(e.ns,n.ns)},t.Hn=function(e,n){return ct(e.ns,n.ns)||De.comparator(e.key,n.key)},t}(),QJ=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Cn(Un.Gn)}return t.prototype.checkEmpty=function(e){return ue.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new DI(o,n,r,i);this._n.push(a);for(var u=0,c=i;u<c.length;u++){var f=c[u];this.rs=this.rs.add(new Un(f.key,o)),this.Ut.addToCollectionParentIndex(e,f.key.path.popLast())}return ue.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return ue.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return ue.resolve(this._n.length>o?this._n[o]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ue.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return ue.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new Un(n,0),o=new Un(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(u){var c=r.os(u.ns);a.push(c)}),ue.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Cn(ct);return n.forEach(function(o){var a=new Un(o,0),u=new Un(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,u],function(c){i=i.add(c.ns)})}),ue.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,o=r;De.isDocumentKey(o)||(o=o.child(""));var a=new Un(new De(o),0),u=new Cn(ct);return this.rs.forEachWhile(function(c){var f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.ns)),!0)},a),ue.resolve(this.us(u))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;Be(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return ue.forEach(n.mutations,function(o){var a=new Un(o.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new Un(n,0),i=this.rs.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,ue.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),JJ=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new cr(De.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return ue.resolve(r?r.document.clone():Yn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=wi();return n.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():Yn.newInvalidDocument(o))}),ue.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=wi(),o=new De(n.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var u=a.getNext(),c=u.key,f=u.value,h=f.document,p=f.readTime;if(!n.path.isPrefixOf(c.path))break;p.compareTo(r)<=0||ud(n,h)&&(i=i.insert(h.key,h.clone()))}return ue.resolve(i)},t.prototype.fs=function(e,n){return ue.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new ZJ(this)},t.prototype.getSize=function(e){return ue.resolve(this.size)},t}(),ZJ=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return we(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),ue.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(KF),eZ=function(){function t(e){this.persistence=e,this.ds=new Tl(function(n){return od(n)},Dv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.ws=0,this._s=new VI,this.targetCount=0,this.ys=Gv.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),ue.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return ue.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return ue.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),ue.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ue.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new Gv(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,ue.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),ue.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ue.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return this.ds.forEach(function(u,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(u),a.push(i.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),ue.waitFor(a).next(function(){return o})},t.prototype.getTargetCount=function(e){return ue.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return ue.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),ue.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(a){o.push(i.markPotentiallyOrphaned(e,a))}),ue.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),ue.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return ue.resolve(r)},t.prototype.containsKey=function(e,n){return ue.resolve(this._s.containsKey(n))},t}(),tZ=function(){function t(e,n){var r=this;this.gs={},this.Ne=new Qr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new eZ(this),this.Ut=new RJ,this.Ue=function(i,o){return new JJ(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new DF(n),this.Ke=new XJ(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new QJ(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;he("MemoryPersistence","Starting transaction:",e);var o=new nZ(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return ue.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),nZ=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return we(e,t),e}(kF),rZ=function(){function t(e){this.persistence=e,this.As=new VI,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Oe()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ue.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ue.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),ue.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.vs,function(i){var o=De.fromPath(i);return n.Ps(e,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return ue.or([function(){return ue.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),Qn=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e){return"firestore_clients_"+t+"_"+e}function o2(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function qI(t,e){return"firestore_targets_"+t+"_"+e}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");var s2=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new ie(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(pn("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),HI=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new ie(i.error.code,i.error.message)),o?new t(e,i.state,r):(pn("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),a2=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Hv(),a=0;i&&a<r.activeTargetIds.length;++a)i=PL(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(pn("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),iZ=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(pn("SharedClientState","Failed to parse online state: "+e),null)},t}(),$I=function(){function t(){this.activeTargetIds=Hv()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),WI=function(){function t(e,n,r,i,o){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new cr(ct),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=i2(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new $I),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Ks=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return U(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c,f,h,p,g=this;return F(this,function(v){switch(v.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=v.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(i2(this.persistenceKey,i)))&&(a=a2.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(c=this.js(u))&&this.Ws(c),f=0,h=this.$s;f<h.length;f++)p=h[f],this.ks(p);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(qI(this.persistenceKey,e));if(r){var i=HI.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(qI(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return he("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){he("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){he("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(he("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void pn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return U(n,void 0,void 0,function(){var i,o,a,u,c,f;return F(this,function(h){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(f=function(p){var g=Qr.o;if(p!=null)try{var v=JSON.parse(p);Be(typeof v=="number"),g=v}catch(y){pn("SharedClientState","Failed to read sequence number from WebStorage",y)}return g}(r.newValue))!==Qr.o&&this.sequenceNumberHandler(f);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new s2(this.currentUser,e,n,r),o=o2(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},t.prototype.Hs=function(e){var n=o2(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=qI(this.persistenceKey,e),o=new HI(e,n,r);this.setItem(i,o.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return a2.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return s2.Vs(new Qn(o),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return HI.Vs(i,n)},t.prototype.js=function(e){return iZ.Vs(e)},t.prototype.ii=function(e){return U(this,void 0,void 0,function(){return F(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(he("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.Fs.insert(e,n):this.Fs.remove(e),o=this.Gs(this.Fs),a=this.Gs(i),u=[],c=[];return a.forEach(function(f){o.has(f)||u.push(f)}),o.forEach(function(f){a.has(f)||c.push(f)}),this.syncEngine.hi(u,c).then(function(){r.Fs=i})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Hv();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),u2=function(){function t(){this.li=new $I,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new $I,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),oZ=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),c2=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),sZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},aZ=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),uZ=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return we(e,t),e.prototype.Fi=function(n,r,i,o){return new Promise(function(a,u){var c=new j9;c.listenOnce(L9.COMPLETE,function(){try{switch(c.getLastErrorCode()){case pI.NO_ERROR:var h=c.getResponseJson();he("Connection","XHR received:",JSON.stringify(h)),a(h);break;case pI.TIMEOUT:he("Connection",'RPC "'+n+'" timed out'),u(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case pI.HTTP_ERROR:var p=c.getStatus();if(he("Connection",'RPC "'+n+'" failed with status:',p,"response text:",c.getResponseText()),p>0){var g=c.getResponseJson().error;if(g&&g.status&&g.message){var v=function(y){var w=y.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(w)>=0?w:K.UNKNOWN}(g.status);u(new ie(v,g.message))}else u(new ie(K.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new ie(K.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{he("Connection",'RPC "'+n+'" completed.')}});var f=JSON.stringify(o);c.send(r,"POST",f,i,15)})},e.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=D9(),a=M9(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new U9({})),this.ki(u.initMessageHeaders,r),pT()||eM()||L8()||F8()||U8()||gT()||(u.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");he("Connection","Creating WebChannel: "+c,u);var f=o.createWebChannel(c,u),h=!1,p=!1,g=new aZ({Ei:function(y){p?he("Connection","Not sending because WebChannel is closed:",y):(h||(he("Connection","Opening WebChannel transport."),f.open(),h=!0),he("Connection","WebChannel sending:",y),f.send(y))},Ti:function(){return f.close()}}),v=function(y,w,E){y.listen(w,function(I){try{E(I)}catch(x){setTimeout(function(){throw x},0)}})};return v(f,kv.EventType.OPEN,function(){p||he("Connection","WebChannel transport opened.")}),v(f,kv.EventType.CLOSE,function(){p||(p=!0,he("Connection","WebChannel transport closed"),g.Vi())}),v(f,kv.EventType.ERROR,function(y){p||(p=!0,td("Connection","WebChannel transport errored:",y),g.Vi(new ie(K.UNAVAILABLE,"The operation could not be completed")))}),v(f,kv.EventType.MESSAGE,function(y){var w;if(!p){var E=y.data[0];Be(!!E);var I=E,x=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(x){he("Connection","WebChannel received error:",x);var k=x.status,P=function(M){var W=mn[M];if(W!==void 0)return sF(W)}(k),D=x.message;P===void 0&&(P=K.INTERNAL,D="Unknown error status: "+k+" with message "+x.message),p=!0,g.Vi(new ie(P,D)),f.close()}else he("Connection","WebChannel received:",E),g.Si(E)}}),v(a,F9.STAT_EVENT,function(y){y.stat===CL.PROXY?he("Connection","Detected buffering proxy"):y.stat===CL.NOPROXY&&he("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var o=this.xi(e,n);he("RestConnection","Sending: ",o,r);var a={};return this.ki(a,i),this.Fi(e,o,a,r).then(function(u){return he("RestConnection","Received: ",u),u},function(u){throw td("RestConnection",e+" failed with error: ",u,"url: ",o,"request:",r),u})},t.prototype.$i=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=sZ[e];return this.Di+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(){return typeof window!="undefined"?window:null}function Zv(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){return new dJ(t,!0)}var zI=function(){function t(e,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&he("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),f2=function(){function t(e,n,r,i,o,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new zI(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return U(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return U(this,void 0,void 0,function(){return F(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return U(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(pn(n.toString()),pn("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===K.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var o=new ie(K.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return U(e,void 0,void 0,function(){return F(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return he("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),cZ=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,u}return we(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,a){var u;if("targetChange"in a){a.targetChange;var c=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Oe()}(a.targetChange.targetChangeType||"NO_CHANGE"),f=a.targetChange.targetIds||[],h=function(E,I){return E.I?(Be(I===void 0||typeof I=="string"),Er.fromBase64String(I||"")):(Be(I===void 0||I instanceof Uint8Array),Er.fromUint8Array(I||new Uint8Array))}(o,a.targetChange.resumeToken),p=(g=a.targetChange.cause)&&function(E){var I=E.code===void 0?K.UNKNOWN:sF(E.code);return new ie(I,E.message||"")}(g);u=new lF(c,f,h,p||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,f=Eo(o,c.document.name),h=Fn(c.document.updateTime);var g=new Jr({mapValue:{fields:c.document.fields}}),v=(p=Yn.newFoundDocument(f,h,g),c.targetIds||[]),y=c.removedTargetIds||[];u=new $v(v,y,p.key,p)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,f=Eo(o,c.document),h=c.readTime?Fn(c.readTime):tt.min(),g=Yn.newNoDocument(f,h),p=c.removedTargetIds||[],u=new $v([],p,g.key,g);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,f=Eo(o,c.document),h=c.removedTargetIds||[],u=new $v([],h,f,null);else{if(!("filter"in a))return Oe();a.filter;var w=a.filter;w.targetId,c=w.count||0,f=new iJ(c),h=w.targetId,u=new cF(h,f)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return tt.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?tt.min():a.readTime?Fn(a.readTime):tt.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=pd(this.R),r.addTarget=function(o,a){var u,c=a.target;return(u=Mv(c)?{documents:wF(o,c)}:{query:EF(o,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=pF(o,a.resumeToken):a.snapshotVersion.compareTo(tt.min())>0&&(u.readTime=hd(o,a.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,a){var u=function(c,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Oe()}}(0,a.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=pd(this.R),r.removeTarget=n,this.cr(r)},e}(f2),lZ=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,u.gr=!1,u}return we(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Be(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,a){return o&&o.length>0?(Be(a!==void 0),o.map(function(u){return function(c,f){var h=c.updateTime?Fn(c.updateTime):Fn(f);return h.isEqual(tt.min())&&(h=Fn(f)),new tJ(h,c.transformResults||[])}(u,a)})):[]}(n.writeResults,n.commitTime),i=Fn(n.commitTime);return this.listener.Tr(i,r)}return Be(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=pd(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return Wv(r.R,o)})};this.cr(i)},e}(f2),fZ=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return we(e,t),e.prototype.br=function(){if(this.Rr)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new ie(K.UNKNOWN,a.toString())})},e.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new ie(K.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),hZ=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(pn(n),this.Vr=!1):he("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),dZ=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return U(o,void 0,void 0,function(){return F(this,function(u){switch(u.label){case 0:return Ks(this)?(he("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return U(this,void 0,void 0,function(){var f;return F(this,function(h){switch(h.label){case 0:return(f=_e(c)).Or.add(4),[4,Cl(f)];case 1:return h.sent(),f.Br.set("Unknown"),f.Or.delete(4),[4,_d(f)];case 2:return h.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new hZ(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:if(!Ks(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Cl(t){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ey(t,e){var n=_e(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),YI(n)?GI(n):xl(n).er()&&KI(n,e))}function bd(t,e){var n=_e(t),r=xl(n);n.$r.delete(e),r.er()&&h2(n,e),n.$r.size===0&&(r.er()?r.ir():Ks(n)&&n.Br.set("Unknown"))}function KI(t,e){t.qr.U(e.targetId),xl(t).mr(e)}function h2(t,e){t.qr.U(e),xl(t).yr(e)}function GI(t){t.qr=new lJ({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),xl(t).start(),t.Br.Sr()}function YI(t){return Ks(t)&&!xl(t).tr()&&t.$r.size>0}function Ks(t){return _e(t).Or.size===0}function d2(t){t.qr=void 0}function pZ(t){return U(this,void 0,void 0,function(){return F(this,function(e){return t.$r.forEach(function(n,r){KI(t,n)}),[2]})})}function gZ(t,e){return U(this,void 0,void 0,function(){return F(this,function(n){return d2(t),YI(t)?(t.Br.Nr(e),GI(t)):t.Br.set("Unknown"),[2]})})}function mZ(t,e,n){return U(this,void 0,void 0,function(){var r,i,o;return F(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof lF&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(u,c){return U(this,void 0,void 0,function(){var f,h,p,g;return F(this,function(v){switch(v.label){case 0:f=c.cause,h=0,p=c.targetIds,v.label=1;case 1:return h<p.length?(g=p[h],u.$r.has(g)?[4,u.remoteSyncer.rejectListen(g,f)]:[3,3]):[3,5];case 2:v.sent(),u.$r.delete(g),u.qr.removeTarget(g),v.label=3;case 3:v.label=4;case 4:return h++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ty(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof $v?t.qr.X(e):e instanceof cF?t.qr.rt(e):t.qr.et(e),n.isEqual(tt.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,e2(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(u,c){var f=u.qr.ut(c);return f.targetChanges.forEach(function(h,p){if(h.resumeToken.approximateByteSize()>0){var g=u.$r.get(p);g&&u.$r.set(p,g.withResumeToken(h.resumeToken,c))}}),f.targetMismatches.forEach(function(h){var p=u.$r.get(h);if(p){u.$r.set(h,p.withResumeToken(Er.EMPTY_BYTE_STRING,p.snapshotVersion)),h2(u,h);var g=new zv(p.target,h,1,p.sequenceNumber);KI(u,g)}}),u.remoteSyncer.applyRemoteEvent(f)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return he("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,ty(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function ty(t,e,n){return U(this,void 0,void 0,function(){var r=this;return F(this,function(i){switch(i.label){case 0:if(!Su(e))throw e;return t.Or.add(1),[4,Cl(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return e2(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return U(r,void 0,void 0,function(){return F(this,function(o){switch(o.label){case 0:return he("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),t.Or.delete(1),[4,_d(t)];case 2:return o.sent(),[2]}})})}),[2]}})})}function p2(t,e){return e().catch(function(n){return ty(t,n,e)})}function Al(t){return U(this,void 0,void 0,function(){var e,n,r,i,o;return F(this,function(a){switch(a.label){case 0:e=_e(t),n=Gs(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(u){return Ks(u)&&u.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,zJ(e.localStore,r)];case 3:return(i=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,c){u.Fr.push(c);var f=Gs(u);f.er()&&f.pr&&f.Er(c.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,ty(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return g2(e)&&m2(e),[2]}})})}function g2(t){return Ks(t)&&!Gs(t).tr()&&t.Fr.length>0}function m2(t){Gs(t).start()}function vZ(t){return U(this,void 0,void 0,function(){return F(this,function(e){return Gs(t).Ar(),[2]})})}function yZ(t){return U(this,void 0,void 0,function(){var e,n,r,i;return F(this,function(o){for(e=Gs(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function _Z(t,e,n){return U(this,void 0,void 0,function(){var r,i;return F(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=AJ.from(r,e,n),[4,p2(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Al(t)];case 2:return o.sent(),[2]}})})}function bZ(t,e){return U(this,void 0,void 0,function(){return F(this,function(n){switch(n.label){case 0:return e&&Gs(t).pr?[4,function(r,i){return U(this,void 0,void 0,function(){var o,a;return F(this,function(u){switch(u.label){case 0:return oF(a=i.code)&&a!==K.ABORTED?(o=r.Fr.shift(),Gs(r).sr(),[4,p2(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,Al(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return g2(t)&&m2(t),[2]}})})}function XI(t,e){return U(this,void 0,void 0,function(){var n;return F(this,function(r){switch(r.label){case 0:return n=_e(t),e?(n.Or.delete(2),[4,_d(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Cl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function xl(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var o=_e(n);return o.br(),new cZ(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:pZ.bind(null,t),Ri:gZ.bind(null,t),_r:mZ.bind(null,t)}),t.Mr.push(function(n){return U(e,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),YI(t)?GI(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),d2(t),r.label=3;case 3:return[2]}})})})),t.Ur}function Gs(t){var e=this;return t.Kr||(t.Kr=function(n,r,i){var o=_e(n);return o.br(),new lZ(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:vZ.bind(null,t),Ri:bZ.bind(null,t),Ir:yZ.bind(null,t),Tr:_Z.bind(null,t)}),t.Mr.push(function(n){return U(e,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,Al(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.Fr.length>0&&(he("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}var wZ=function(){function t(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Rl(t,e){if(pn("AsyncQueue",e+": "+t),Su(t))return new ie(K.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v2=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||De.comparator(n.key,r.key)}:function(n,r){return De.comparator(n.key,r.key)},this.keyedMap=xI(),this.sortedSet=new cr(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),y2=function(){function t(){this.Qr=new cr(De.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(n):e.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):Oe():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),ny=function(){function t(e,n,r,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(a){o.push({type:0,doc:a})}),new t(e,n,v2.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),EZ=function(){this.Wr=void 0,this.listeners=[]},TZ=function(){this.queries=new Tl(function(t){return $L(t)},ad),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return F(this,function(f){switch(f.label){case 0:if(n=_e(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new EZ),!i)return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=f.sent(),[3,4];case 3:return u=f.sent(),c=Rl(u,"Initialization of query '"+SI(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&ZI(n),[2]}})})}function JI(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,a;return F(this,function(u){return n=_e(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function IZ(t,e){for(var n=_e(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],u=a.query,c=n.queries.get(u);if(c){for(var f=0,h=c.listeners;f<h.length;f++)h[f].Hr(a)&&(r=!0);c.Wr=a}}r&&ZI(n)}function SZ(t,e,n){var r=_e(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function ZI(t){t.Gr.forEach(function(e){e.next()})}var eS=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}e=new ny(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=ny.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),CZ=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),_2=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return Eo(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?_F(this.R,e.document,!1):Yn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return Fn(e)},t}(),AZ=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=b2(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new _2(this.R),i=0,o=e;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var u=r.qn(a.metadata.name),c=0,f=a.metadata.queries;c<f.length;c++){var h=f[c],p=(n.get(h)||Nt()).add(u);n.set(h,p)}}return n},t.prototype.complete=function(){return U(this,void 0,void 0,function(){var e,n,r,i,o;return F(this,function(a){switch(a.label){case 0:return[4,GJ(this.localStore,new _2(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(o=i[r],[4,YJ(this.localStore,o,n.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new VJ(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w2=function(t){this.key=t},E2=function(t){this.key=t},T2=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=Nt(),this.mutatedKeys=Nt(),this.lo=WL(e),this.fo=new v2(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new y2,o=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,u=o,c=!1,f=Fv(this.query)&&o.size===this.query.limit?o.last():null,h=Uv(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(g,v){var y=o.get(g),w=ud(r.query,v)?v:null,E=!!y&&r.mutatedKeys.has(y.key),I=!!w&&(w.hasLocalMutations||r.mutatedKeys.has(w.key)&&w.hasCommittedMutations),x=!1;y&&w?y.data.isEqual(w.data)?E!==I&&(i.track({type:3,doc:w}),x=!0):r.yo(y,w)||(i.track({type:2,doc:w}),x=!0,(f&&r.lo(w,f)>0||h&&r.lo(w,h)<0)&&(c=!0)):!y&&w?(i.track({type:0,doc:w}),x=!0):y&&!w&&(i.track({type:1,doc:y}),x=!0,(f||h)&&(c=!0)),x&&(w?(u=u.add(w),a=I?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),Fv(this.query)||Uv(this.query))for(;u.size>this.query.limit;){var p=Fv(this.query)?u.last():u.first();u=u.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{fo:u,mo:i,Nn:c,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(h,p){return function(g,v){var y=function(w){switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return y(g)-y(v)}(h.type,p.type)||i.lo(h.doc,p.doc)}),this.po(r);var u=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,f=c!==this.ao;return this.ao=c,a.length!==0||f?{snapshot:new ny(this.query,e.fo,o,a,e.mutatedKeys,c===0,f,!1),To:u}:{To:u}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new y2,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Nt(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new E2(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new w2(i))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Nt();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return ny.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),xZ=function(t,e,n){this.query=t,this.targetId=e,this.view=n},RZ=function(t){this.key=t,this.bo=!1},kZ=function(){function t(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Tl(function(u){return $L(u)},ad),this.Vo=new Map,this.So=new Set,this.Do=new cr(De.comparator),this.Co=new Map,this.No=new VI,this.xo={},this.ko=new Map,this.Fo=Gv.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function OZ(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,a,u;return F(this,function(c){switch(c.label){case 0:return n=sS(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Il(n.localStore,bi(e))];case 2:return a=c.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,tS(n,e,r,u==="current")];case 3:i=c.sent(),n.isPrimaryClient&&ey(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function tS(t,e,n,r){return U(this,void 0,void 0,function(){var i,o,a,u,c,f;return F(this,function(h){switch(h.label){case 0:return t.Oo=function(p,g,v){return function(y,w,E,I){return U(this,void 0,void 0,function(){var x,k,P;return F(this,function(D){switch(D.label){case 0:return x=w.view._o(E),x.Nn?[4,Jv(y.localStore,w.query,!1).then(function(M){var W=M.documents;return w.view._o(W,x)})]:[3,2];case 1:x=D.sent(),D.label=2;case 2:return k=I&&I.targetChanges.get(w.targetId),P=w.view.applyChanges(x,y.isPrimaryClient,k),[2,(iS(y,w.targetId,P.To),P.snapshot)]}})})}(t,p,g,v)},[4,Jv(t.localStore,e,!0)];case 1:return i=h.sent(),o=new T2(e,i.Bn),a=o._o(i.documents),u=kI.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),c=o.applyChanges(a,t.isPrimaryClient,u),iS(t,n,c.To),f=new xZ(e,n,o),[2,(t.Po.set(e,f),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function NZ(t,e){return U(this,void 0,void 0,function(){var n,r,i;return F(this,function(o){switch(o.label){case 0:return n=_e(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!ad(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Sl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),bd(n.remoteStore,r.targetId),kl(n,r.targetId)}).catch(Au)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return kl(n,r.targetId),[4,Sl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function PZ(t,e,n){return U(this,void 0,void 0,function(){var r,i,o,a;return F(this,function(u){switch(u.label){case 0:r=aS(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(c,f){var h,p=_e(c),g=Ur.now(),v=f.reduce(function(y,w){return y.add(w.key)},Nt());return p.persistence.runTransaction("Locally write mutations","readwrite",function(y){return p.Mn.pn(y,v).next(function(w){h=w;for(var E=[],I=0,x=f;I<x.length;I++){var k=x[I],P=rJ(k,h.get(k.key));P!=null&&E.push(new Vs(k.key,P,FL(P.value.mapValue),ur.exists(!0)))}return p._n.addMutationBatch(y,g,E,f)})}).then(function(y){return y.applyToLocalDocumentSet(h),{batchId:y.batchId,changes:h}})}(r.localStore,e)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,f,h){var p=c.xo[c.currentUser.toKey()];p||(p=new cr(ct)),p=p.insert(f,h),c.xo[c.currentUser.toKey()]=p}(r,i.batchId,n),[4,ns(r,i.changes)];case 3:return u.sent(),[4,Al(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=Rl(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function I2(t,e){return U(this,void 0,void 0,function(){var n,r;return F(this,function(i){switch(i.label){case 0:n=_e(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,WJ(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,a){var u=n.Co.get(a);u&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?Be(u.bo):o.removedDocuments.size>0&&(Be(u.bo),u.bo=!1))}),[4,ns(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Au(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function S2(t,e,n){var r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,a){var u=a.view.zr(e);u.snapshot&&i.push(u.snapshot)}),function(o,a){var u=_e(o);u.onlineState=a;var c=!1;u.queries.forEach(function(f,h){for(var p=0,g=h.listeners;p<g.length;p++)g[p].zr(a)&&(c=!0)}),c&&ZI(u)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function DZ(t,e,n){return U(this,void 0,void 0,function(){var r,i,o,a,u,c;return F(this,function(f){switch(f.label){case 0:return(r=_e(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new cr(De.comparator)).insert(o,Yn.newNoDocument(o,tt.min())),u=Nt().add(o),c=new RI(tt.min(),new Map,new Cn(ct),a,u),[4,I2(r,c)]):[3,2];case 1:return f.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),oS(r),[3,4];case 2:return[4,Sl(r.localStore,e,!1).then(function(){return kl(r,e,n)}).catch(Au)];case 3:f.sent(),f.label=4;case 4:return[2]}})})}function MZ(t,e){return U(this,void 0,void 0,function(){var n,r,i;return F(this,function(o){switch(o.label){case 0:n=_e(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,$J(n.localStore,e)];case 2:return i=o.sent(),rS(n,r,null),nS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ns(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Au(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function LZ(t,e,n){return U(this,void 0,void 0,function(){var r,i;return F(this,function(o){switch(o.label){case 0:r=_e(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(a,u){var c=_e(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(f){var h;return c._n.lookupMutationBatch(f,u).next(function(p){return Be(p!==null),h=p.keys(),c._n.removeMutationBatch(f,p)}).next(function(){return c._n.performConsistencyCheck(f)}).next(function(){return c.Mn.pn(f,h)})})}(r.localStore,e)];case 2:return i=o.sent(),rS(r,e,n),nS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ns(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Au(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function FZ(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,a;return F(this,function(u){switch(u.label){case 0:Ks((n=_e(t)).remoteStore)||he("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(c){var f=_e(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(h){return f._n.getHighestUnacknowledgedBatchId(h)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),a=Rl(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function nS(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function rS(t,e,n){var r=_e(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function kl(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||C2(t,a)})}function C2(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(bd(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),oS(t))}function iS(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof w2?(t.No.addReference(o.key,e),UZ(t,o)):o instanceof E2?(he("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||C2(t,o.key)):Oe()}}function UZ(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(he("SyncEngine","New document in limbo: "+n),t.So.add(r),oS(t))}function oS(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new De(_t.fromString(e)),r=t.Fo.next();t.Co.set(r,new RZ(n)),t.Do=t.Do.insert(n,r),ey(t.remoteStore,new zv(bi(cl(n.path)),r,2,Qr.o))}}function ns(t,e,n){return U(this,void 0,void 0,function(){var r,i,o,a;return F(this,function(u){switch(u.label){case 0:return r=_e(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,f){a.push(r.Oo(f,e,n).then(function(h){if(h){r.isPrimaryClient&&r.sharedClientState.updateQueryState(f.targetId,h.fromCache?"not-current":"current"),i.push(h);var p=qJ.Pn(f.targetId,h);o.push(p)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(c,f){return U(this,void 0,void 0,function(){var h,p,g,v,y,w,E,I,x;return F(this,function(k){switch(k.label){case 0:h=_e(c),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,h.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return ue.forEach(f,function(D){return ue.forEach(D.bn,function(M){return h.persistence.referenceDelegate.addReference(P,D.targetId,M)}).next(function(){return ue.forEach(D.vn,function(M){return h.persistence.referenceDelegate.removeReference(P,D.targetId,M)})})})})];case 2:return k.sent(),[3,4];case 3:if(!Su(p=k.sent()))throw p;return he("LocalStore","Failed to update sequence numbers: "+p),[3,4];case 4:for(g=0,v=f;g<v.length;g++)y=v[g],w=y.targetId,y.fromCache||(E=h.kn.get(w),I=E.snapshotVersion,x=E.withLastLimboFreeSnapshotVersion(I),h.kn=h.kn.insert(w,x));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function jZ(t,e){return U(this,void 0,void 0,function(){var n,r;return F(this,function(i){switch(i.label){case 0:return(n=_e(t)).currentUser.isEqual(e)?[3,3]:(he("SyncEngine","User change. New user:",e.toKey()),[4,ZF(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(o,a){o.ko.forEach(function(u){u.forEach(function(c){c.reject(new ie(K.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ns(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function BZ(t,e){var n=_e(t),r=n.Co.get(e);if(r&&r.bo)return Nt().add(r.key);var i=Nt(),o=n.Vo.get(e);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var c=u[a],f=n.Po.get(c);i=i.unionWith(f.view.wo)}return i}function VZ(t,e){return U(this,void 0,void 0,function(){var n,r,i;return F(this,function(o){switch(o.label){case 0:return[4,Jv((n=_e(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&iS(n,e.targetId,i.To),i)]}})})}function qZ(t){return U(this,void 0,void 0,function(){var e;return F(this,function(n){return[2,r2((e=_e(t)).localStore).then(function(r){return ns(e,r)})]})})}function HZ(t,e,n,r){return U(this,void 0,void 0,function(){var i,o;return F(this,function(a){switch(a.label){case 0:return[4,function(u,c){var f=_e(u),h=_e(f._n);return f.persistence.runTransaction("Lookup mutation documents","readonly",function(p){return h.jt(p,c).next(function(g){return g?f.Mn.pn(p,g):ue.resolve(null)})})}((i=_e(t)).localStore,e)];case 1:return(o=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Al(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(rS(i,e,r||null),nS(i,e),function(u,c){_e(_e(u)._n).Gt(c)}(i.localStore,e)):Oe(),a.label=4;case 4:return[4,ns(i,o)];case 5:return a.sent(),[3,7];case 6:he("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function $Z(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,a,u,c,f;return F(this,function(h){switch(h.label){case 0:return sS(n=_e(t)),aS(n),e!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,A2(n,r.toArray())]);case 1:return i=h.sent(),n.$o=!0,[4,XI(n.remoteStore,!0)];case 2:for(h.sent(),o=0,a=i;o<a.length;o++)u=a[o],ey(n.remoteStore,u);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(c=[],f=Promise.resolve(),n.Vo.forEach(function(p,g){n.sharedClientState.isLocalQueryTarget(g)?c.push(g):f=f.then(function(){return kl(n,g),Sl(n.localStore,g,!0)}),bd(n.remoteStore,g)}),[4,f]);case 4:return h.sent(),[4,A2(n,c)];case 5:return h.sent(),function(p){var g=_e(p);g.Co.forEach(function(v,y){bd(g.remoteStore,y)}),g.No.ts(),g.Co=new Map,g.Do=new cr(De.comparator)}(n),n.$o=!1,[4,XI(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}})})}function A2(t,e,n){return U(this,void 0,void 0,function(){var r,i,o,a,u,c,f,h,p,g,v,y,w,E;return F(this,function(I){switch(I.label){case 0:r=_e(t),i=[],o=[],a=0,u=e,I.label=1;case 1:return a<u.length?(c=u[a],f=void 0,(h=r.Vo.get(c))&&h.length!==0?[4,Il(r.localStore,bi(h[0]))]:[3,7]):[3,13];case 2:f=I.sent(),p=0,g=h,I.label=3;case 3:return p<g.length?(v=g[p],y=r.Po.get(v),[4,VZ(r,y)]):[3,6];case 4:(w=I.sent()).snapshot&&o.push(w.snapshot),I.label=5;case 5:return p++,[3,3];case 6:return[3,11];case 7:return[4,n2(r.localStore,c)];case 8:return E=I.sent(),[4,Il(r.localStore,E)];case 9:return f=I.sent(),[4,tS(r,x2(E),c,!1)];case 10:I.sent(),I.label=11;case 11:i.push(f),I.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function x2(t){return qL(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function WZ(t){var e=_e(t);return _e(_e(e.localStore).persistence).fn()}function zZ(t,e,n,r){return U(this,void 0,void 0,function(){var i,o,a;return F(this,function(u){switch(u.label){case 0:return(i=_e(t)).$o?(he("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,r2(i.localStore)];case 3:return o=u.sent(),a=RI.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,ns(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,Sl(i.localStore,e,!0)];case 6:return u.sent(),kl(i,e,r),[3,8];case 7:Oe(),u.label=8;case 8:return[2]}})})}function KZ(t,e,n){return U(this,void 0,void 0,function(){var r,i,o,a,u,c,f,h,p,g;return F(this,function(v){switch(v.label){case 0:if(!(r=sS(t)).$o)return[3,10];i=0,o=e,v.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(he("SyncEngine","Adding an already active target "+a),[3,5]):[4,n2(r.localStore,a)]):[3,6];case 2:return u=v.sent(),[4,Il(r.localStore,u)];case 3:return c=v.sent(),[4,tS(r,x2(u),c.targetId,!1)];case 4:v.sent(),ey(r.remoteStore,c),v.label=5;case 5:return i++,[3,1];case 6:f=function(y){return F(this,function(w){switch(w.label){case 0:return r.Vo.has(y)?[4,Sl(r.localStore,y,!1).then(function(){bd(r.remoteStore,y),kl(r,y)}).catch(Au)]:[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})},h=0,p=n,v.label=7;case 7:return h<p.length?(g=p[h],[5,f(g)]):[3,10];case 8:v.sent(),v.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function sS(t){var e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DZ.bind(null,e),e.vo._r=IZ.bind(null,e.eventManager),e.vo.Mo=SZ.bind(null,e.eventManager),e}function aS(t){var e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LZ.bind(null,e),e}function GZ(t,e,n){var r=_e(t);(function(i,o,a){return U(this,void 0,void 0,function(){var u,c,f,h,p,g;return F(this,function(v){switch(v.label){case 0:return v.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return u=v.sent(),[4,function(y,w){var E=_e(y),I=Fn(w.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",function(x){return E.Ke.getBundleMetadata(x,w.id)}).then(function(x){return!!x&&x.createTime.compareTo(I)>=0})}(i.localStore,u)];case 2:return v.sent()?[4,o.close()]:[3,4];case 3:return[2,(v.sent(),void a._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(u)))];case 4:return a._updateProgress(b2(u)),c=new AZ(u,i.localStore,o.R),[4,o.Lo()];case 5:f=v.sent(),v.label=6;case 6:return f?[4,c.oo(f)]:[3,10];case 7:return(h=v.sent())&&a._updateProgress(h),[4,o.Lo()];case 8:f=v.sent(),v.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return p=v.sent(),[4,ns(i,p.wn,void 0)];case 12:return v.sent(),[4,function(y,w){var E=_e(y);return E.persistence.runTransaction("Save bundle","readwrite",function(I){return E.Ke.saveBundleMetadata(I,w)})}(i.localStore,u)];case 13:return v.sent(),a._completeWith(p.progress),[3,15];case 14:return td("SyncEngine","Loading bundle failed with "+(g=v.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var R2=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return U(this,void 0,void 0,function(){return F(this,function(n){switch(n.label){case 0:return this.R=yd(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return JF(this.persistence,new QF,e.initialUser,this.R)},t.prototype.qo=function(e){return new tZ(rZ.bs,this.R)},t.prototype.Bo=function(e){return new u2},t.prototype.terminate=function(){return U(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),k2=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return we(e,t),e.prototype.initialize=function(n){return U(this,void 0,void 0,function(){var r=this;return F(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,KJ(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,aS(this.Qo.syncEngine)];case 4:return i.sent(),[4,Al(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(n){return JF(this.persistence,new QF,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new DJ(r,n.asyncQueue)},e.prototype.qo=function(n){var r=BI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Io.withCacheSize(this.cacheSizeBytes):Io.DEFAULT;return new BJ(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,l2(),Zv(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new u2},e}(R2),YZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return we(e,t),e.prototype.initialize=function(n){return U(this,void 0,void 0,function(){var r,i=this;return F(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof WI?(this.sharedClientState.syncEngine={ui:HZ.bind(null,r),ai:zZ.bind(null,r),hi:KZ.bind(null,r),fn:WZ.bind(null,r),ci:qZ.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return U(i,void 0,void 0,function(){return F(this,function(u){switch(u.label){case 0:return[4,$Z(this.Qo.syncEngine,a)];case 1:return u.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(n){var r=l2();if(!WI.yt(r))throw new ie(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=BI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new WI(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(k2),uS=function(){function t(){}return t.prototype.initialize=function(e,n){return U(this,void 0,void 0,function(){var r=this;return F(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return S2(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=jZ.bind(null,this.syncEngine),[4,XI(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new TZ},t.prototype.createDatastore=function(e){var n,r=yd(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new uZ(n));return function(o,a,u){return new fZ(o,a,u)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,o,a,u=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(c){return S2(u.syncEngine,c,0)},a=c2.yt()?new c2:new oZ,new dZ(n,r,i,o,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,o,a,u,c,f){var h=new kZ(r,i,o,a,u,c);return f&&(h.$o=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return U(this,void 0,void 0,function(){var n;return F(this,function(r){switch(r.label){case 0:return n=_e(e),he("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Cl(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return U(this,void 0,void 0,function(){var r;return F(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return U(this,void 0,void 0,function(){return F(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ry=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),XZ=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new fr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return U(this,void 0,void 0,function(){return F(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return U(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return U(this,void 0,void 0,function(){var e,n,r,i;return F(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new CZ(JSON.parse(i),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return U(this,void 0,void 0,function(){var n;return F(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),QZ=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return U(this,void 0,void 0,function(){var n,r=this;return F(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ie(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return U(this,void 0,void 0,function(){var u,c,f,h,p,g;return F(this,function(v){switch(v.label){case 0:return u=_e(o),c=pd(u.R)+"/documents",f={documents:a.map(function(y){return dd(u.R,y)})},[4,u.$i("BatchGetDocuments",c,f)];case 1:return h=v.sent(),p=new Map,h.forEach(function(y){var w=function(E,I){return"found"in I?function(x,k){Be(!!k.found),k.found.name,k.found.updateTime;var P=Eo(x,k.found.name),D=Fn(k.found.updateTime),M=new Jr({mapValue:{fields:k.found.fields}});return Yn.newFoundDocument(P,D,M)}(E,I):"missing"in I?function(x,k){Be(!!k.missing),Be(!!k.readTime);var P=Eo(x,k.missing),D=Fn(k.readTime);return Yn.newNoDocument(P,D)}(E,I):Oe()}(u.R,y);p.set(w.key.toString(),w)}),g=[],[2,(a.forEach(function(y){var w=p.get(y.toString());Be(!!w),g.push(w)}),g)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new fd(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return U(this,void 0,void 0,function(){var e,n=this;return F(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var a=De.fromPath(o);n.mutations.push(new AI(a,n.precondition(a)))}),[4,function(i,o){return U(this,void 0,void 0,function(){var a,u,c;return F(this,function(f){switch(f.label){case 0:return a=_e(i),u=pd(a.R)+"/documents",c={writes:o.map(function(h){return Wv(a.R,h)})},[4,a.Ni("Commit",u,c)];case 1:return f.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Oe();n=tt.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ie(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?ur.updateTime(n):ur.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(tt.min()))throw new ie(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ur.updateTime(n)}return ur.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),JZ=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new zI(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return U(e,void 0,void 0,function(){var n,r,i=this;return F(this,function(o){return n=new QZ(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(u){i.ic(u)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!bu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!oF(n)}return!1},t}(),ZZ=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Qn.UNAUTHENTICATED,this.clientId=AL.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return U(i,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return he("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return t.prototype.getConfiguration=function(){return U(this,void 0,void 0,function(){return F(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return U(e,void 0,void 0,function(){var r,i;return F(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=Rl(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e){return U(this,void 0,void 0,function(){var n,r,i=this;return F(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return U(i,void 0,void 0,function(){return F(this,function(u){switch(u.label){case 0:return r.isEqual(a)?[3,2]:[4,ZF(e.localStore,a)];case 1:u.sent(),r=a,u.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function P2(t,e){return U(this,void 0,void 0,function(){var n,r;return F(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,cS(t)];case 1:return n=i.sent(),he("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(o){return function(a,u){return U(this,void 0,void 0,function(){var c,f;return F(this,function(h){switch(h.label){case 0:return(c=_e(a)).asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials"),f=Ks(c),c.Or.add(3),[4,Cl(c)];case 1:return h.sent(),f&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(u)];case 2:return h.sent(),c.Or.delete(3),[4,_d(c)];case 3:return h.sent(),[2]}})})}(e.remoteStore,o)}),t.onlineComponents=e,[2]}})})}function cS(t){return U(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(he("FirestoreClient","Using default OfflineComponentProvider"),[4,N2(t,new R2)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function iy(t){return U(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(he("FirestoreClient","Using default OnlineComponentProvider"),[4,P2(t,new uS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function D2(t){return cS(t).then(function(e){return e.persistence})}function lS(t){return cS(t).then(function(e){return e.localStore})}function M2(t){return iy(t).then(function(e){return e.remoteStore})}function fS(t){return iy(t).then(function(e){return e.syncEngine})}function Ol(t){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:return[4,iy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=OZ.bind(null,e.syncEngine),n.onUnlisten=NZ.bind(null,e.syncEngine),n)]}})})}function L2(t,e,n){var r=this;n===void 0&&(n={});var i=new fr;return t.asyncQueue.enqueueAndForget(function(){return U(r,void 0,void 0,function(){var o;return F(this,function(a){switch(a.label){case 0:return o=function(u,c,f,h,p){var g=new ry({next:function(y){c.enqueueAndForget(function(){return JI(u,v)});var w=y.docs.has(f);!w&&y.fromCache?p.reject(new ie(K.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&h&&h.source==="server"?p.reject(new ie(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(y)},error:function(y){return p.reject(y)}}),v=new eS(cl(f.path),g,{includeMetadataChanges:!0,so:!0});return QI(u,v)},[4,Ol(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function F2(t,e,n){var r=this;n===void 0&&(n={});var i=new fr;return t.asyncQueue.enqueueAndForget(function(){return U(r,void 0,void 0,function(){var o;return F(this,function(a){switch(a.label){case 0:return o=function(u,c,f,h,p){var g=new ry({next:function(y){c.enqueueAndForget(function(){return JI(u,v)}),y.fromCache&&h.source==="server"?p.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:function(y){return p.reject(y)}}),v=new eS(f,g,{includeMetadataChanges:!0,so:!0});return QI(u,v)},[4,Ol(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var eee=function(t,e,n,r,i,o,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},oy=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),U2=new Map,j2=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},B2=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(Qn.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),tee=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),nee=function(){function t(e){var n=this;this.currentUser=Qn.UNAUTHENTICATED,this.oc=new fr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){he("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):(he("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(he("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(Be(typeof i.accessToken=="string"),new j2(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return U(r,void 0,void 0,function(){return F(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Qn(e)},t}(),ree=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),iee=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new ree(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(Qn.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t,e,n){if(!n)throw new ie(K.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function dS(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ie(K.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function V2(t,e,n,r){if(e===!0&&r===!0)throw new ie(K.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function q2(t){if(!De.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function H2(t){if(De.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":Oe()}function bt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sy(t);throw new ie(K.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function $2(t,e){if(e<=0)throw new ie(K.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W2=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,V2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),wd=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W2({}),this._settingsFrozen=!1,e instanceof oy?(this._databaseId=e,this._credentials=new B2):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oy(r.options.projectId)}(e),this._credentials=new nee(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W2(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new B2;switch(n.type){case"gapi":var r=n.client;return Be(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new iee(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ie(K.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=U2.get(e))&&(he("ComponentProvider","Removing Datastore"),U2.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Zt=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ys(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Vr=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ys=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,cl(i))||this)._path=i,o.type="collection",o}return we(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Zt(this.firestore,null,new De(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Vr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Je(t),hS("collection","path",e),t instanceof wd)return H2(n=_t.fromString.apply(_t,Ze([e],r))),new Ys(t,null,n);if(!(t instanceof Zt||t instanceof Ys))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return H2(n=_t.fromString.apply(_t,Ze([t.path],r)).child(_t.fromString(e))),new Ys(t.firestore,null,n)}function ay(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Je(t),arguments.length===1&&(e=AL.u()),hS("doc","path",e),t instanceof wd)return q2(n=_t.fromString.apply(_t,Ze([e],r))),new Zt(t,null,new De(n));if(!(t instanceof Zt||t instanceof Ys))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return q2(n=t._path.child(_t.fromString.apply(_t,Ze([e],r)))),new Zt(t.firestore,t instanceof Ys?t.converter:null,new De(n))}function K2(t,e){return t=Je(t),e=Je(e),(t instanceof Zt||t instanceof Ys)&&(e instanceof Zt||e instanceof Ys)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function G2(t,e){return t=Je(t),e=Je(e),t instanceof Vr&&e instanceof Vr&&t.firestore===e.firestore&&ad(t._query,e._query)&&t.converter===e.converter}var oee=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new zI(this,"async_queue_retry"),this.Ic=function(){var r=Zv();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=Zv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=Zv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new fr;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return U(this,void 0,void 0,function(){var e,n=this;return F(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Su(e=r.sent()))throw e;return he("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(i){throw n.yc=i,n.gc=!1,pn("INTERNAL UNHANDLED ERROR: ",function(o){var a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var o=wZ.createAndSchedule(this,e,n,r,function(a){return i.vc(a)});return this.mc.push(o),o},t.prototype.Ac=function(){this.yc&&Oe()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return U(this,void 0,void 0,function(){var e;return F(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,u){return a.targetTimeMs-u.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Nl(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var see=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),aee=-1,ln=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new oee,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return we(e,t),e.prototype._terminate=function(){return this._firestoreClient||Y2(this),this._firestoreClient.terminate()},e}(wd);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){return t._firestoreClient||Y2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Y2(t){var e,n=t._freezeSettings(),r=function(i,o,a,u){return new eee(i,o,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ZZ(t._credentials,t._queue,r)}function X2(t,e,n){var r=this,i=new fr;return t.asyncQueue.enqueue(function(){return U(r,void 0,void 0,function(){var o;return F(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,N2(t,n)];case 1:return a.sent(),[4,P2(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=a.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Q2(t){if(t._initialized||t._terminated)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gi(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),xu=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Er.fromBase64String(e))}catch(n){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Er.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Ru=function(t){this._methodName=t},uy=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return ct(this._lat,e._lat)||ct(this._long,e._long)},t}(),uee=/^__.*__$/,cee=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ld(e,this.data,n,this.fieldTransforms)},t}(),J2=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}var eU=function(){function t(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},t.prototype.Oc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return ly(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(Z2(this.Nc)&&uee.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),lee=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||yd(e)}return t.prototype.Uc=function(e,n,r,i){return i===void 0&&(i=!1),new eU({Nc:e,methodName:n,qc:r,path:Gi.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function ku(t){var e=t._freezeSettings(),n=yd(t._databaseId);return new lee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cy(t,e,n,r,i,o){o===void 0&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);vS("Data must be an object, but it was:",a,r);var u,c,f=rU(r,a);if(o.merge)u=new ol(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var h=[],p=0,g=o.mergeFields;p<g.length;p++){var v=yS(e,g[p],n);if(!a.contains(v))throw new ie(K.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");oU(h,v)||h.push(v)}u=new ol(h),c=a.fieldTransforms.filter(function(y){return u.covers(y.field)})}else u=null,c=a.fieldTransforms;return new cee(new Jr(f),u,c)}var pS=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Ru);function tU(t,e,n){return new eU({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var fee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype._toFieldTransform=function(n){return new cd(n.path,new fl)},e.prototype.isEqual=function(n){return n instanceof e},e}(Ru),hee=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return we(e,t),e.prototype._toFieldTransform=function(n){var r=tU(this,n,!0),i=this.Kc.map(function(a){return Ou(a,r)}),o=new Eu(i);return new cd(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Ru),dee=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return we(e,t),e.prototype._toFieldTransform=function(n){var r=tU(this,n,!0),i=this.Kc.map(function(a){return Ou(a,r)}),o=new Tu(i);return new cd(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Ru),pee=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Qc=r,i}return we(e,t),e.prototype._toFieldTransform=function(n){var r=new hl(n.R,GL(n.R,this.Qc));return new cd(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Ru);function gS(t,e,n,r){var i=t.Uc(1,e,n);vS("Data must be an object, but it was:",i,r);var o=[],a=Jr.empty();_u(r,function(c,f){var h=_S(e,c,n);f=Je(f);var p=i.Oc(h);if(f instanceof pS)o.push(h);else{var g=Ou(f,p);g!=null&&(o.push(h),a.set(h,g))}});var u=new ol(o);return new J2(a,u,i.fieldTransforms)}function mS(t,e,n,r,i,o){var a=t.Uc(1,e,n),u=[yS(e,r,n)],c=[i];if(o.length%2!=0)throw new ie(K.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<o.length;f+=2)u.push(yS(e,o[f])),c.push(o[f+1]);for(var h=[],p=Jr.empty(),g=u.length-1;g>=0;--g)if(!oU(h,u[g])){var v=u[g],y=c[g];y=Je(y);var w=a.Oc(v);if(y instanceof pS)h.push(v);else{var E=Ou(y,w);E!=null&&(h.push(v),p.set(v,E))}}var I=new ol(h);return new J2(p,I,a.fieldTransforms)}function nU(t,e,n,r){return r===void 0&&(r=!1),Ou(n,t.Uc(r?4:3,e))}function Ou(t,e){if(iU(t=Je(t)))return vS("Unsupported field value:",e,t),rU(t,e);if(t instanceof Ru)return function(n,r){if(!Z2(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,a=0,u=n;a<u.length;a++){var c=Ou(u[a],r.Mc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Je(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return GL(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Ur.fromDate(n);return{timestampValue:hd(r.R,i)}}if(n instanceof Ur)return i=new Ur(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:hd(r.R,i)};if(n instanceof uy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof xu)return{bytesValue:pF(r.R,n._byteString)};if(n instanceof Zt){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:OI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+sy(n))}(t,e)}function rU(t,e){var n={};return kL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_u(t,function(r,i){var o=Ou(i,e.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function iU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ur||t instanceof uy||t instanceof xu||t instanceof Zt||t instanceof Ru)}function vS(t,e,n){if(!iU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=sy(n);throw r==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function yS(t,e,n){if((e=Je(e))instanceof So)return e._internalPath;if(typeof e=="string")return _S(t,e);throw ly("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var gee=new RegExp("[~\\*/\\[\\]]");function _S(t,e,n){if(e.search(gee)>=0)throw ly("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(So.bind.apply(So,Ze([void 0],e.split("."))))()._internalPath}catch{throw ly("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ly(t,e,n,r,i){var o=r&&!r.isEmpty(),a=i!==void 0,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new ie(K.INVALID_ARGUMENT,(u+=". ")+t+c)}function oU(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ed=function(){function t(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Zt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new mee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),mee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ed);function fy(t,e){return typeof e=="string"?_S(t,e):e instanceof So?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nu=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),rs=function(t){function e(n,r,i,o,a,u){var c=this;return(c=t.call(this,n,r,i,o,u)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return we(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(fy("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(Ed),Td=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(rs),Xs=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Nu(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new Td(r._firestore,r._userDataWriter,i.key,i,new Nu(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){return{type:"added",doc:new Td(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Nu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var c=new Td(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Nu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),f=-1,h=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(h=(a=a.add(u.doc)).indexOf(u.doc.key)),{type:vee(u.type),doc:c,oldIndex:f,newIndex:h}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function vee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}function sU(t,e){return t instanceof rs&&e instanceof rs?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Xs&&e instanceof Xs&&t._firestore===e._firestore&&G2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){if(Uv(t)&&t.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Id=function(){};function Qs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var yee=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return we(e,t),e.prototype._apply=function(n){var r=ku(n.firestore),i=function(o,a,u,c,f,h,p){var g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ie(K.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+h+"' queries on FieldPath.documentId().");if(h==="in"||h==="not-in"){dU(p,h);for(var v=[],y=0,w=p;y<w.length;y++){var E=w[y];v.push(hU(c,o,E))}g={arrayValue:{values:v}}}else g=hU(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||dU(p,h),g=nU(u,"where",p,h==="in"||h==="not-in");var I=Zr.create(f,h,g);return function(x,k){if(k.g()){var P=TI(x);if(P!==null&&!P.isEqual(k.field))throw new ie(K.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+k.field.toString()+"'");var D=EI(x);D!==null&&pU(x,k.field,D)}var M=function(W,V){for(var X=0,O=W.filters;X<O.length;X++){var pe=O[X];if(V.indexOf(pe.op)>=0)return pe.op}return null}(x,function(W){switch(W){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(M!==null)throw M===k.op?new ie(K.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+k.op.toString()+"' filter."):new ie(K.INVALID_ARGUMENT,"Invalid query. You cannot use '"+k.op.toString()+"' filters with '"+M.toString()+"' filters.")}(o,I),I}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Vr(n.firestore,n.converter,function(o,a){var u=o.filters.concat([a]);return new Zo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(Id),_ee=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return we(e,t),e.prototype._apply=function(n){var r=function(i,o,a){if(i.startAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new ul(o,a);return function(c,f){if(EI(c)===null){var h=TI(c);h!==null&&pU(c,h,f.field)}}(i,u),u}(n._query,this.jc,this.zc);return new Vr(n.firestore,n.converter,function(i,o){var a=i.explicitOrderBy.concat([o]);return new Zo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(Id),uU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return we(e,t),e.prototype._apply=function(n){return new Vr(n.firestore,n.converter,HL(n._query,this.Hc,this.Jc))},e}(Id),cU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return we(e,t),e.prototype._apply=function(n){var r=fU(n,this.type,this.Yc,this.Xc);return new Vr(n.firestore,n.converter,function(i,o){return new Zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},e}(Id),lU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return we(e,t),e.prototype._apply=function(n){var r=fU(n,this.type,this.Yc,this.Xc);return new Vr(n.firestore,n.converter,function(i,o){return new Zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},e}(Id);function fU(t,e,n,r){if(n[0]=Je(n[0]),n[0]instanceof Ed)return function(o,a,u,c,f){if(!c)throw new ie(K.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var h=[],p=0,g=ll(o);p<g.length;p++){var v=g[p];if(v.field.isKeyField())h.push(Nv(a,c.key));else{var y=c.data.field(v.field);if(vI(y))throw new ie(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){var w=v.field.canonicalString();throw new ie(K.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+w+"' (used as the orderBy) does not exist.")}h.push(y)}}return new sd(h,f)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=ku(t.firestore);return function(o,a,u,c,f,h){var p=o.explicitOrderBy;if(f.length>p.length)throw new ie(K.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],v=0;v<f.length;v++){var y=f[v];if(p[v].field.isKeyField()){if(typeof y!="string")throw new ie(K.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof y);if(!II(o)&&y.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+y+"' contains a slash.");var w=o.path.child(_t.fromString(y));if(!De.isDocumentKey(w))throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+w+"' is not because it contains an odd number of segments.");var E=new De(w);g.push(Nv(a,E))}else{var I=nU(u,c,y);g.push(I)}}return new sd(g,h)}(t._query,t.firestore._databaseId,i,e,n,r)}function hU(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!II(e)&&n.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(_t.fromString(n));if(!De.isDocumentKey(r))throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Nv(t,new De(r))}if(n instanceof Zt)return Nv(t,n._key);throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+sy(n)+".")}function dU(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ie(K.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function pU(t,e,n){if(!n.isEqual(e))throw new ie(K.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bS=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Oe()}},t.prototype.convertObject=function(e,n){var r=this,i={};return _u(e.fields,function(o,a){i[o]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new uy(gn(e.latitude),gn(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=NL(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nd(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Bs(e);return new Ur(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=_t.fromString(e);Be(AF(r));var i=new oy(r.get(1),r.get(3)),o=new De(r.popFirst(5));return i.isEqual(n)||pn("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var bee=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return we(e,t),e.prototype.convertBytes=function(n){return new xu(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Zt(this.firestore,null,r)},e}(bS),wee=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ku(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=Js(e,this._firestore),o=hy(i.converter,n,r),a=cy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ur.none())),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,u=Js(e,this._firestore);return a=typeof(n=Je(n))=="string"||n instanceof So?mS(this._dataReader,"WriteBatch.update",u._key,n,r,i):gS(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(a.toMutation(u._key,ur.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Js(e,this._firestore);return this._mutations=this._mutations.concat(new fd(n._key,ur.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ie(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t,e){if((t=Je(t)).firestore!==e)throw new ie(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pu=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return we(e,t),e.prototype.convertBytes=function(n){return new xu(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Zt(this.firestore,null,r)},e}(bS);function gU(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=bt(t,Zt);var o=bt(t.firestore,ln),a=ku(o);return Sd(o,[(typeof(e=Je(e))=="string"||e instanceof So?mS(a,"updateDoc",t._key,e,n,r):gS(a,"updateDoc",t._key,e)).toMutation(t._key,ur.exists(!0))])}function mU(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Je(t);var a={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||Nl(i[u])||(a=i[u],u++);var c,f,h,p={includeMetadataChanges:a.includeMetadataChanges};if(Nl(i[u])){var g=i[u];i[u]=(e=g.next)===null||e===void 0?void 0:e.bind(g),i[u+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[u+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(t instanceof Zt)f=bt(t.firestore,ln),h=cl(t._key.path),c={next:function(w){i[u]&&i[u](wS(f,t,w))},error:i[u+1],complete:i[u+2]};else{var v=bt(t,Vr);f=bt(v.firestore,ln),h=v._query;var y=new Pu(f);c={next:function(w){i[u]&&i[u](new Xs(f,y,v,w))},error:i[u+1],complete:i[u+2]},aU(t._query)}return function(w,E,I,x){var k=this,P=new ry(x),D=new eS(E,P,I);return w.asyncQueue.enqueueAndForget(function(){return U(k,void 0,void 0,function(){var M;return F(this,function(W){switch(W.label){case 0:return M=QI,[4,Ol(w)];case 1:return[2,M.apply(void 0,[W.sent(),D])]}})})}),function(){P.Wo(),w.asyncQueue.enqueueAndForget(function(){return U(k,void 0,void 0,function(){var M;return F(this,function(W){switch(W.label){case 0:return M=JI,[4,Ol(w)];case 1:return[2,M.apply(void 0,[W.sent(),D])]}})})})}}(jn(f),h,p,c)}function Sd(t,e){return function(n,r){var i=this,o=new fr;return n.asyncQueue.enqueueAndForget(function(){return U(i,void 0,void 0,function(){var a;return F(this,function(u){switch(u.label){case 0:return a=PZ,[4,fS(n)];case 1:return[2,a.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(jn(t),e)}function wS(t,e,n){var r=n.docs.get(e._key),i=new Pu(t);return new rs(t,i,e._key,r,new Nu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eee=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return we(e,t),e.prototype.get=function(n){var r=this,i=Js(n,this._firestore),o=new Pu(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new rs(r._firestore,o,i._key,a._document,new Nu(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=ku(e)}return t.prototype.get=function(e){var n=this,r=Js(e,this._firestore),i=new bee(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return Oe();var a=o[0];if(a.isFoundDocument())return new Ed(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Ed(n._firestore,i,r._key,null,r.converter);throw Oe()})},t.prototype.set=function(e,n,r){var i=Js(e,this._firestore),o=hy(i.converter,n,r),a=cy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,u=Js(e,this._firestore);return a=typeof(n=Je(n))=="string"||n instanceof So?mS(this._dataReader,"Transaction.update",u._key,n,r,i):gS(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,a),this},t.prototype.delete=function(e){var n=Js(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){if(typeof Uint8Array=="undefined")throw new ie(K.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function yU(){if(typeof atob=="undefined")throw new ie(K.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var _U=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return yU(),new t(xu.fromBase64String(e))},t.fromUint8Array=function(e){return vU(),new t(xu.fromUint8Array(e))},t.prototype.toBase64=function(){return yU(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return vU(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Tee=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){Q2(r=bt(r,ln));var o=jn(r),a=r._freezeSettings(),u=new uS;return X2(o,u,new k2(u,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){Q2(n=bt(n,ln));var r=jn(n),i=n._freezeSettings(),o=new uS;return X2(r,o,new YZ(o,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new ie(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new fr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return U(r,void 0,void 0,function(){var o;return F(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(u){return U(this,void 0,void 0,function(){var c;return F(this,function(f){switch(f.label){case 0:return vl.yt()?(c=u+"main",[4,vl.delete(c)]):[2,Promise.resolve()];case 1:return f.sent(),[2]}})})}(BI(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),ES=function(){function t(e,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof oy||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||td("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,o,a,u){var c;u===void 0&&(u={});var f=(i=bt(i,wd))._getSettings();if(f.host!=="firestore.googleapis.com"&&f.host!==o&&td("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:o+":"+a,ssl:!1})),u.mockUserToken){var h,p;if(typeof u.mockUserToken=="string")h=u.mockUserToken,p=Qn.MOCK_USER;else{h=dT(u.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var g=u.mockUserToken.sub||u.mockUserToken.user_id;if(!g)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qn(g)}i._credentials=new tee(new j2(h,p))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return U(n,void 0,void 0,function(){var r,i;return F(this,function(o){switch(o.label){case 0:return[4,D2(e)];case 1:return r=o.sent(),[4,M2(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(a){var u=_e(a);return u.Or.delete(0),_d(u)}(i))]}})})})}(jn(bt(this._delegate,ln)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return U(n,void 0,void 0,function(){var r,i;return F(this,function(o){switch(o.label){case 0:return[4,D2(e)];case 1:return r=o.sent(),[4,M2(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return U(this,void 0,void 0,function(){var u;return F(this,function(c){switch(c.label){case 0:return(u=_e(a)).Or.add(0),[4,Cl(u)];case 1:return c.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(jn(bt(this._delegate,ln)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&V2("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new fr;return e.asyncQueue.enqueueAndForget(function(){return U(n,void 0,void 0,function(){var i;return F(this,function(o){switch(o.label){case 0:return i=FZ,[4,fS(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(jn(bt(this._delegate,ln)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,o){var a=this,u=new ry(o);return i.asyncQueue.enqueueAndForget(function(){return U(a,void 0,void 0,function(){var c;return F(this,function(f){switch(f.label){case 0:return c=function(h,p){_e(h).Gr.add(p),p.next()},[4,Ol(i)];case 1:return[2,c.apply(void 0,[f.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return U(a,void 0,void 0,function(){var c;return F(this,function(f){switch(f.label){case 0:return c=function(h,p){_e(h).Gr.delete(p)},[4,Ol(i)];case 1:return[2,c.apply(void 0,[f.sent(),u])]}})})})}}(jn(n=bt(n,ln)),Nl(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new gy(this,z2(this._delegate,e))}catch(n){throw Tr(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Du(this,ay(this._delegate,e))}catch(n){throw Tr(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new xd(this,function(n,r){if(n=bt(n,wd),hS("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new ie(K.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vr(n,null,function(i){return new Zo(_t.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw Tr(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(o,a){var u=this,c=new fr;return o.asyncQueue.enqueueAndForget(function(){return U(u,void 0,void 0,function(){var f;return F(this,function(h){switch(h.label){case 0:return[4,function(p){return iy(p).then(function(g){return g.datastore})}(o)];case 1:return f=h.sent(),new JZ(o.asyncQueue,f,a,c).run(),[2]}})})}),c.promise}(jn(r),function(o){return i(new Eee(r,o))})}(this._delegate,function(r){return e(new bU(n,r))})},t.prototype.batch=function(){var e=this;return jn(this._delegate),new wU(new wee(this._delegate,function(n){return Sd(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new ie(K.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new ie(K.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),dy=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return we(e,t),e.prototype.convertBytes=function(n){return new _U(new xu(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Du.eu(r,this.firestore,null)},e}(bS);function Iee(t){var e;e=t,Ki.setLogLevel(e)}var bU=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new dy(e)}return t.prototype.get=function(e){var n=this,r=Mu(e);return this._delegate.get(r).then(function(i){return new Cd(n._firestore,new rs(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=Mu(e);return r?(dS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=Mu(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Ze([u,n,r],o)),this},t.prototype.delete=function(e){var n=Mu(e);return this._delegate.delete(n),this},t}(),wU=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=Mu(e);return r?(dS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=Mu(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Ze([u,n,r],o)),this},t.prototype.delete=function(e){var n=Mu(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),py=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new Td(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ad(this._firestore,r),n!=null?n:{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new dy(e),n),i.set(n,o)),o},t}();py.su=new WeakMap;var Du=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new dy(e)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new ie(K.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Zt(n._delegate,r,new De(e)))},t.eu=function(e,n,r){return new t(n,new Zt(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new gy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new gy(this.firestore,z2(this._delegate,e))}catch(n){throw Tr(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Je(e))instanceof Zt&&K2(this._delegate,e)},t.prototype.set=function(e,n){n=dS("DocumentReference.set",n);try{return function(r,i,o){r=bt(r,Zt);var a=bt(r.firestore,ln),u=hy(r.converter,i,o);return Sd(a,[cy(ku(a),"setDoc",r._key,u,r.converter!==null,o).toMutation(r._key,ur.none())])}(this._delegate,e,n)}catch(r){throw Tr(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?gU(this._delegate,e):gU.apply(void 0,Ze([this._delegate,e,n],r))}catch(o){throw Tr(o,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Sd(bt((e=this._delegate).firestore,ln),[new fd(e._key,ur.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=EU(n),o=TU(n,function(a){return new Cd(e.firestore,new rs(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return mU(this._delegate,i,o)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=bt(r,Zt);var i=bt(r.firestore,ln),o=jn(i),a=new Pu(i);return function(u,c){var f=this,h=new fr;return u.asyncQueue.enqueueAndForget(function(){return U(f,void 0,void 0,function(){var p;return F(this,function(g){switch(g.label){case 0:return p=function(v,y,w){return U(this,void 0,void 0,function(){var E,I;return F(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,function(k,P){var D=_e(k);return D.persistence.runTransaction("read document","readonly",function(M){return D.Mn.mn(M,P)})}(v,y)];case 1:return(I=x.sent()).isFoundDocument()?w.resolve(I):I.isNoDocument()?w.resolve(null):w.reject(new ie(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=x.sent(),I=Rl(E,"Failed to get document '"+y+" from cache"),w.reject(I),[3,3];case 3:return[2]}})})},[4,lS(u)];case 1:return[2,p.apply(void 0,[g.sent(),c,h])]}})})}),h.promise}(o,r._key).then(function(u){return new rs(i,a,r._key,u,new Nu(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=bt(r,Zt);var i=bt(r.firestore,ln);return L2(jn(i),r._key,{source:"server"}).then(function(o){return wS(i,r,o)})}(this._delegate):function(r){r=bt(r,Zt);var i=bt(r.firestore,ln);return L2(jn(i),r._key).then(function(o){return wS(i,r,o)})}(this._delegate)).then(function(r){return new Cd(n.firestore,new rs(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(py.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Tr(t,e,n){return t.message=t.message.replace(e,n),t}function EU(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!Nl(r))return r}return{}}function TU(t,e){var n,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(n=(i=Nl(t[0])?t[0]:Nl(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Cd=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Du(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return sU(this._delegate,e._delegate)},t}(),Ad=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Cd),xd=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new dy(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Qs(this._delegate,function(i,o,a){var u=o,c=fy("where",i);return new yee(c,u,a)}(e,n,r)))}catch(i){throw Tr(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Qs(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,a=fy("orderBy",r);return new _ee(a,o)}(e,n)))}catch(r){throw Tr(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Qs(this._delegate,function(n){return $2("limit",n),new uU("limit",n,"F")}(e)))}catch(n){throw Tr(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Qs(this._delegate,function(n){return $2("limitToLast",n),new uU("limitToLast",n,"L")}(e)))}catch(n){throw Tr(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Qs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new cU("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw Tr(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Qs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new cU("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw Tr(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Qs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new lU("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw Tr(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Qs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new lU("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw Tr(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return G2(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=bt(r,Vr);var i=bt(r.firestore,ln),o=jn(i),a=new Pu(i);return function(u,c){var f=this,h=new fr;return u.asyncQueue.enqueueAndForget(function(){return U(f,void 0,void 0,function(){var p;return F(this,function(g){switch(g.label){case 0:return p=function(v,y,w){return U(this,void 0,void 0,function(){var E,I,x,k,P;return F(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,Jv(v,y,!0)];case 1:return P=D.sent(),E=new T2(y,P.Bn),I=E._o(P.documents),x=E.applyChanges(I,!1),w.resolve(x.snapshot),[3,3];case 2:return k=D.sent(),P=Rl(k,"Failed to execute query '"+y+" against cache"),w.reject(P),[3,3];case 3:return[2]}})})},[4,lS(u)];case 1:return[2,p.apply(void 0,[g.sent(),c,h])]}})})}),h.promise}(o,r._query).then(function(u){return new Xs(i,a,r,u)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=bt(r,Vr);var i=bt(r.firestore,ln),o=jn(i),a=new Pu(i);return F2(o,r._query,{source:"server"}).then(function(u){return new Xs(i,a,r,u)})}(this._delegate):function(r){r=bt(r,Vr);var i=bt(r.firestore,ln),o=jn(i),a=new Pu(i);return aU(r._query),F2(o,r._query).then(function(u){return new Xs(i,a,r,u)})}(this._delegate)).then(function(r){return new TS(n.firestore,new Xs(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=EU(n),o=TU(n,function(a){return new TS(e.firestore,new Xs(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return mU(this._delegate,i,o)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(py.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),See=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ad(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),TS=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new xd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Ad(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new See(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new Ad(r._firestore,i))})},t.prototype.isEqual=function(e){return sU(this._delegate,e._delegate)},t}(),gy=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return we(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Du(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Du(this.firestore,n===void 0?ay(this._delegate):ay(this._delegate,n))}catch(r){throw Tr(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,o){var a=bt(i.firestore,ln),u=ay(i),c=hy(i.converter,o);return Sd(a,[cy(ku(i.firestore),"addDoc",u._key,c,i.converter!==null,{}).toMutation(u._key,ur.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new Du(r.firestore,i)})},e.prototype.isEqual=function(n){return K2(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(py.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(xd);function Mu(t){return bt(t,Zt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cee=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(So.bind.apply(So,Ze([void 0],e)))}return t.documentId=function(){return new t(Gi.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Je(e))instanceof So&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),Aee=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new fee("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new pS("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new hee("arrayUnion",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new dee("arrayRemove",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new pee("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xee(t){return function(e,n){var r=jn(e=bt(e,ln)),i=new see;return function(o,a,u,c){var f=this,h=function(p,g){return function(v,y){return new XZ(v,y)}(function(v,y){if(v instanceof Uint8Array)return O2(v,y);if(v instanceof ArrayBuffer)return O2(new Uint8Array(v),y);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof p=="string"?new TextEncoder().encode(p):p),g)}(u,yd(a));o.asyncQueue.enqueueAndForget(function(){return U(f,void 0,void 0,function(){var p;return F(this,function(g){switch(g.label){case 0:return p=GZ,[4,fS(o)];case 1:return p.apply(void 0,[g.sent(),h,c]),[2]}})})})}(r,e._databaseId,n,i),i}(this._delegate,t)}function Ree(t){var e,n,r=this;return(e=this._delegate,n=t,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return U(a,void 0,void 0,function(){var u;return F(this,function(c){switch(c.label){case 0:return u=function(f,h){var p=_e(f);return p.persistence.runTransaction("Get named query","readonly",function(g){return p.Ke.getNamedQuery(g,h)})},[4,lS(i)];case 1:return[2,u.apply(void 0,[c.sent(),o])]}})})})}(jn(e=bt(e,ln)),n).then(function(i){return i?new Vr(e,null,i.query):null})).then(function(i){return i?new xd(r,i):null})}var kee={Firestore:ES,GeoPoint:uy,Timestamp:Ur,Blob:_U,Transaction:bU,WriteBatch:wU,DocumentReference:Du,DocumentSnapshot:Cd,Query:xd,QueryDocumentSnapshot:Ad,QuerySnapshot:TS,CollectionReference:gy,FieldPath:Cee,FieldValue:Aee,setLogLevel:Iee,CACHE_SIZE_UNLIMITED:aee};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t){(function(e,n){e.INTERNAL.registerComponent(new or("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},kee)))})(t,function(e,n){return new ES(e,new ln(e,n),new Tee)}),t.registerVersion("@firebase/firestore","2.4.0")}Oee(ke);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,l,d){s!=Array.prototype&&s!=Object.prototype&&(s[l]=d.value)};function n(s){s=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,s];for(var l=0;l<s.length;++l){var d=s[l];if(d&&d.Math==Math)return d}return globalThis}var r=n(this);function i(s,l){if(l){var d=r;s=s.split(".");for(var m=0;m<s.length-1;m++){var b=s[m];b in d||(d[b]={}),d=d[b]}s=s[s.length-1],m=d[s],l=l(m),l!=m&&l!=null&&e(d,s,{configurable:!0,writable:!0,value:l})}}function o(s){var l=0;return function(){return l<s.length?{done:!1,value:s[l++]}:{done:!0}}}function a(s){var l=typeof Symbol!="undefined"&&Symbol.iterator&&s[Symbol.iterator];return l?l.call(s):{next:o(s)}}i("Promise",function(s){function l(S){this.b=0,this.c=void 0,this.a=[];var N=this.f();try{S(N.resolve,N.reject)}catch(Y){N.reject(Y)}}function d(){this.a=null}function m(S){return S instanceof l?S:new l(function(N){N(S)})}if(s)return s;d.prototype.b=function(S){if(this.a==null){this.a=[];var N=this;this.c(function(){N.g()})}this.a.push(S)};var b=r.setTimeout;d.prototype.c=function(S){b(S,0)},d.prototype.g=function(){for(;this.a&&this.a.length;){var S=this.a;this.a=[];for(var N=0;N<S.length;++N){var Y=S[N];S[N]=null;try{Y()}catch(re){this.f(re)}}}this.a=null},d.prototype.f=function(S){this.c(function(){throw S})},l.prototype.f=function(){function S(re){return function(He){Y||(Y=!0,re.call(N,He))}}var N=this,Y=!1;return{resolve:S(this.m),reject:S(this.g)}},l.prototype.m=function(S){if(S===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(S instanceof l)this.s(S);else{e:switch(typeof S){case"object":var N=S!=null;break e;case"function":N=!0;break e;default:N=!1}N?this.v(S):this.h(S)}},l.prototype.v=function(S){var N=void 0;try{N=S.then}catch(Y){this.g(Y);return}typeof N=="function"?this.u(N,S):this.h(S)},l.prototype.g=function(S){this.i(2,S)},l.prototype.h=function(S){this.i(1,S)},l.prototype.i=function(S,N){if(this.b!=0)throw Error("Cannot settle("+S+", "+N+"): Promise already settled in state"+this.b);this.b=S,this.c=N,this.l()},l.prototype.l=function(){if(this.a!=null){for(var S=0;S<this.a.length;++S)T.b(this.a[S]);this.a=null}};var T=new d;return l.prototype.s=function(S){var N=this.f();S.Ra(N.resolve,N.reject)},l.prototype.u=function(S,N){var Y=this.f();try{S.call(N,Y.resolve,Y.reject)}catch(re){Y.reject(re)}},l.prototype.then=function(S,N){function Y(yt,Nn){return typeof yt=="function"?function(jo){try{re(yt(jo))}catch(J0){He(J0)}}:Nn}var re,He,Rt=new l(function(yt,Nn){re=yt,He=Nn});return this.Ra(Y(S,re),Y(N,He)),Rt},l.prototype.catch=function(S){return this.then(void 0,S)},l.prototype.Ra=function(S,N){function Y(){switch(re.b){case 1:S(re.c);break;case 2:N(re.c);break;default:throw Error("Unexpected state: "+re.b)}}var re=this;this.a==null?T.b(Y):this.a.push(Y)},l.resolve=m,l.reject=function(S){return new l(function(N,Y){Y(S)})},l.race=function(S){return new l(function(N,Y){for(var re=a(S),He=re.next();!He.done;He=re.next())m(He.value).Ra(N,Y)})},l.all=function(S){var N=a(S),Y=N.next();return Y.done?m([]):new l(function(re,He){function Rt(jo){return function(J0){yt[jo]=J0,Nn--,Nn==0&&re(yt)}}var yt=[],Nn=0;do yt.push(void 0),Nn++,m(Y.value).Ra(Rt(yt.length-1),He),Y=N.next();while(!Y.done)})},l});var u=u||{},c=this||self,f=/^[\w+/_-]+[=]{0,2}$/,h=null;function p(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&f.test(s)?s:""}function g(){}function v(s){var l=typeof s;return l!="object"?l:s?Array.isArray(s)?"array":l:"null"}function y(s){var l=v(s);return l=="array"||l=="object"&&typeof s.length=="number"}function w(s){return v(s)=="function"}function E(s){var l=typeof s;return l=="object"&&s!=null||l=="function"}function I(s){return Object.prototype.hasOwnProperty.call(s,x)&&s[x]||(s[x]=++k)}var x="closure_uid_"+(1e9*Math.random()>>>0),k=0;function P(s,l,d){return s.call.apply(s.bind,arguments)}function D(s,l,d){if(!s)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),s.apply(l,b)}}return function(){return s.apply(l,arguments)}}function M(s,l,d){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?M=P:M=D,M.apply(null,arguments)}function W(s,l){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),s.apply(this,m)}}function V(s,l){function d(){}d.prototype=l.prototype,s.bb=l.prototype,s.prototype=new d,s.prototype.constructor=s}function X(s){return s}function O(s,l,d){this.code=Ee+s,this.message=l||Z[s]||"",this.a=d||null}V(O,Error),O.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},O.prototype.toJSON=function(){return this.w()};function pe(s){var l=s&&s.code;return l?new O(l.substring(Ee.length),s.message,s.serverResponse):null}var Ee="auth/",Z={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ie={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ve(s){for(var l in Ie)if(Ie[l].id===s)return s=Ie[l],{firebaseEndpoint:s.Ua,secureTokenEndpoint:s.$a,identityPlatformEndpoint:s.Xa};return null}var $;$=ve("__EID__")?"__EID__":void 0;function z(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function J(s){if(Error.captureStackTrace)Error.captureStackTrace(this,J);else{var l=Error().stack;l&&(this.stack=l)}s&&(this.message=String(s))}V(J,Error),J.prototype.name="CustomError";function se(s,l){s=s.split("%s");for(var d="",m=s.length-1,b=0;b<m;b++)d+=s[b]+(b<l.length?l[b]:"%s");J.call(this,d+s[m])}V(se,J),se.prototype.name="AssertionError";function Pe(s,l){throw new se("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function Ke(s,l){this.c=s,this.f=l,this.b=0,this.a=null}Ke.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};function Ue(s,l){s.f(l),100>s.b&&(s.b++,l.next=s.a,s.a=l)}function st(){this.b=this.a=null}var zt=new Ke(function(){return new Te},function(s){s.reset()});st.prototype.add=function(s,l){var d=zt.get();d.set(s,l),this.b?this.b.next=d:this.a=d,this.b=d};function Q(){var s=de,l=null;return s.a&&(l=s.a,s.a=s.a.next,s.a||(s.b=null),l.next=null),l}function Te(){this.next=this.b=this.a=null}Te.prototype.set=function(s,l){this.a=s,this.b=l,this.next=null},Te.prototype.reset=function(){this.next=this.b=this.a=null};var me=Array.prototype.indexOf?function(s,l){return Array.prototype.indexOf.call(s,l,void 0)}:function(s,l){if(typeof s=="string")return typeof l!="string"||l.length!=1?-1:s.indexOf(l,0);for(var d=0;d<s.length;d++)if(d in s&&s[d]===l)return d;return-1},ge=Array.prototype.forEach?function(s,l,d){Array.prototype.forEach.call(s,l,d)}:function(s,l,d){for(var m=s.length,b=typeof s=="string"?s.split(""):s,T=0;T<m;T++)T in b&&l.call(d,b[T],T,s)};function dt(s,l){for(var d=typeof s=="string"?s.split(""):s,m=s.length-1;0<=m;--m)m in d&&l.call(void 0,d[m],m,s)}var We=Array.prototype.filter?function(s,l){return Array.prototype.filter.call(s,l,void 0)}:function(s,l){for(var d=s.length,m=[],b=0,T=typeof s=="string"?s.split(""):s,S=0;S<d;S++)if(S in T){var N=T[S];l.call(void 0,N,S,s)&&(m[b++]=N)}return m},ze=Array.prototype.map?function(s,l){return Array.prototype.map.call(s,l,void 0)}:function(s,l){for(var d=s.length,m=Array(d),b=typeof s=="string"?s.split(""):s,T=0;T<d;T++)T in b&&(m[T]=l.call(void 0,b[T],T,s));return m},Ge=Array.prototype.some?function(s,l){return Array.prototype.some.call(s,l,void 0)}:function(s,l){for(var d=s.length,m=typeof s=="string"?s.split(""):s,b=0;b<d;b++)if(b in m&&l.call(void 0,m[b],b,s))return!0;return!1};function L(s){e:{for(var l=mq,d=s.length,m=typeof s=="string"?s.split(""):s,b=0;b<d;b++)if(b in m&&l.call(void 0,m[b],b,s)){l=b;break e}l=-1}return 0>l?null:typeof s=="string"?s.charAt(l):s[l]}function j(s,l){return 0<=me(s,l)}function G(s,l){l=me(s,l);var d;return(d=0<=l)&&Array.prototype.splice.call(s,l,1),d}function ee(s,l){var d=0;dt(s,function(m,b){l.call(void 0,m,b,s)&&Array.prototype.splice.call(s,b,1).length==1&&d++})}function te(s){return Array.prototype.concat.apply([],arguments)}function ae(s){var l=s.length;if(0<l){for(var d=Array(l),m=0;m<l;m++)d[m]=s[m];return d}return[]}var ye=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},fe=/&/g,ne=/</g,oe=/>/g,Ve=/"/g,Ae=/'/g,Ne=/\x00/g,qe=/[\x00&<>"']/;function Se(s,l){return s.indexOf(l)!=-1}function At(s,l){return s<l?-1:s>l?1:0}var pt;e:{var tr=c.navigator;if(tr){var ii=tr.userAgent;if(ii){pt=ii;break e}}pt=""}function Dt(s){return Se(pt,s)}function fa(s,l){for(var d in s)l.call(void 0,s[d],d,s)}function yn(s){for(var l in s)return!1;return!0}function Hr(s){var l={},d;for(d in s)l[d]=s[d];return l}var on="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ft(s,l){for(var d,m,b=1;b<arguments.length;b++){m=arguments[b];for(d in m)s[d]=m[d];for(var T=0;T<on.length;T++)d=on[T],Object.prototype.hasOwnProperty.call(m,d)&&(s[d]=m[d])}}function ps(s,l){e:{try{var d=s&&s.ownerDocument,m=d&&(d.defaultView||d.parentWindow);if(m=m||c,m.Element&&m.Location){var b=m;break e}}catch{}b=null}if(b&&typeof b[l]!="undefined"&&(!s||!(s instanceof b[l])&&(s instanceof b.Location||s instanceof b.Element))){if(E(s))try{var T=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch{T="<object could not be stringified>"}else T=s===void 0?"undefined":s===null?"null":typeof s;Pe("Argument is not a %s (or a non-Element, non-Location mock); got: %s",l,T)}}function oi(s,l){this.a=s===gs&&l||"",this.b=pp}oi.prototype.ta=!0,oi.prototype.sa=function(){return this.a},oi.prototype.toString=function(){return"Const{"+this.a+"}"};function ha(s){return s instanceof oi&&s.constructor===oi&&s.b===pp?s.a:(Pe("expected object of type Const, got '"+s+"'"),"type_error:Const")}var pp={},gs={},nc;function da(){if(nc===void 0){var s=null,l=c.trustedTypes;if(l&&l.createPolicy){try{s=l.createPolicy("goog#html",{createHTML:X,createScript:X,createScriptURL:X})}catch(d){c.console&&c.console.error(d.message)}nc=s}else nc=s}return nc}function ki(s,l){this.a=l===Vn?s:""}ki.prototype.ta=!0,ki.prototype.sa=function(){return this.a.toString()},ki.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function pa(s){return s instanceof ki&&s.constructor===ki?s.a:(Pe("expected object of type TrustedResourceUrl, got '"+s+"' of type "+v(s)),"type_error:TrustedResourceUrl")}function tf(s,l){var d=ha(s);if(!A_.test(d))throw Error("Invalid TrustedResourceUrl format: "+d);return s=d.replace(C_,function(m,b){if(!Object.prototype.hasOwnProperty.call(l,b))throw Error('Found marker, "'+b+'", in format string, "'+d+'", but no valid label mapping found in args: '+JSON.stringify(l));return m=l[b],m instanceof oi?ha(m):encodeURIComponent(String(m))}),kn(s)}var C_=/%{(\w+)}/g,A_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Vn={};function kn(s){var l=da();return s=l?l.createScriptURL(s):s,new ki(s,Vn)}function vt(s,l){this.a=l===ga?s:""}vt.prototype.ta=!0,vt.prototype.sa=function(){return this.a.toString()},vt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function rc(s){return s instanceof vt&&s.constructor===vt?s.a:(Pe("expected object of type SafeUrl, got '"+s+"' of type "+v(s)),"type_error:SafeUrl")}var x_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,R_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,nf=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function gp(s){if(s instanceof vt)return s;if(s=typeof s=="object"&&s.ta?s.sa():String(s),nf.test(s))s=new vt(s,ga);else{s=String(s),s=s.replace(/(%0A|%0D)/g,"");var l=s.match(R_);s=l&&x_.test(l[1])?new vt(s,ga):null}return s}function On(s){return s instanceof vt?s:(s=typeof s=="object"&&s.ta?s.sa():String(s),nf.test(s)||(s="about:invalid#zClosurez"),new vt(s,ga))}var ga={},mp=new vt("about:invalid#zClosurez",ga);function ms(s,l,d){this.a=d===vp?s:""}ms.prototype.ta=!0,ms.prototype.sa=function(){return this.a.toString()},ms.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function k_(s){return s instanceof ms&&s.constructor===ms?s.a:(Pe("expected object of type SafeHtml, got '"+s+"' of type "+v(s)),"type_error:SafeHtml")}var vp={};function O_(s,l){ps(s,"HTMLScriptElement"),s.src=pa(l),(l=s.ownerDocument&&s.ownerDocument.defaultView)&&l!=c?l=p(l.document):(h===null&&(h=p(c.document)),l=h),l&&s.setAttribute("nonce",l)}function yp(s,l,d,m){return s=s instanceof vt?s:On(s),l=l||c,d=d instanceof oi?ha(d):d||"",l.open(rc(s),d,m,void 0)}function _p(s,l){for(var d=s.split("%s"),m="",b=Array.prototype.slice.call(arguments,1);b.length&&1<d.length;)m+=d.shift()+b.shift();return m+d.join("%s")}function rf(s){return qe.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(fe,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(ne,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(oe,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(Ve,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(Ae,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(Ne,"&#0;"))),s}function of(s){return of[" "](s),s}of[" "]=g;function ma(s,l){var d=P_;return Object.prototype.hasOwnProperty.call(d,s)?d[s]:d[s]=l(s)}var N_=Dt("Opera"),_n=Dt("Trident")||Dt("MSIE"),sf=Dt("Edge"),bp=sf||_n,wp=Dt("Gecko")&&!(Se(pt.toLowerCase(),"webkit")&&!Dt("Edge"))&&!(Dt("Trident")||Dt("MSIE"))&&!Dt("Edge"),no=Se(pt.toLowerCase(),"webkit")&&!Dt("Edge");function Ep(){var s=c.document;return s?s.documentMode:void 0}var ic;e:{var af="",uf=function(){var s=pt;if(wp)return/rv:([^\);]+)(\)|;)/.exec(s);if(sf)return/Edge\/([\d\.]+)/.exec(s);if(_n)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(no)return/WebKit\/(\S+)/.exec(s);if(N_)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(uf&&(af=uf?uf[1]:""),_n){var cf=Ep();if(cf!=null&&cf>parseFloat(af)){ic=String(cf);break e}}ic=af}var P_={};function Tp(s){return ma(s,function(){for(var l=0,d=ye(String(ic)).split("."),m=ye(String(s)).split("."),b=Math.max(d.length,m.length),T=0;l==0&&T<b;T++){var S=d[T]||"",N=m[T]||"";do{if(S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],N=/(\d*)(\D*)(.*)/.exec(N)||["","","",""],S[0].length==0&&N[0].length==0)break;l=At(S[1].length==0?0:parseInt(S[1],10),N[1].length==0?0:parseInt(N[1],10))||At(S[2].length==0,N[2].length==0)||At(S[2],N[2]),S=S[3],N=N[3]}while(l==0)}return 0<=l})}var va;if(c.document&&_n){var Ip=Ep();va=Ip||parseInt(ic,10)||void 0}else va=void 0;var ro=va;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var D_=!_n||9<=Number(ro);function ya(s){var l=document;return typeof s=="string"?l.getElementById(s):s}function lf(s,l){fa(l,function(d,m){d&&typeof d=="object"&&d.ta&&(d=d.sa()),m=="style"?s.style.cssText=d:m=="class"?s.className=d:m=="for"?s.htmlFor=d:Sp.hasOwnProperty(m)?s.setAttribute(Sp[m],d):m.lastIndexOf("aria-",0)==0||m.lastIndexOf("data-",0)==0?s.setAttribute(m,d):s[m]=d})}var Sp={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function M_(s,l,d){var m=arguments,b=document,T=String(m[0]),S=m[1];if(!D_&&S&&(S.name||S.type)){if(T=["<",T],S.name&&T.push(' name="',rf(S.name),'"'),S.type){T.push(' type="',rf(S.type),'"');var N={};Ft(N,S),delete N.type,S=N}T.push(">"),T=T.join("")}return T=_a(b,T),S&&(typeof S=="string"?T.className=S:Array.isArray(S)?T.className=S.join(" "):lf(T,S)),2<m.length&&Cp(b,T,m),T}function Cp(s,l,d){function m(N){N&&l.appendChild(typeof N=="string"?s.createTextNode(N):N)}for(var b=2;b<d.length;b++){var T=d[b];if(!y(T)||E(T)&&0<T.nodeType)m(T);else{e:{if(T&&typeof T.length=="number"){if(E(T)){var S=typeof T.item=="function"||typeof T.item=="string";break e}if(w(T)){S=typeof T.item=="function";break e}}S=!1}ge(S?ae(T):T,m)}}}function _a(s,l){return l=String(l),s.contentType==="application/xhtml+xml"&&(l=l.toLowerCase()),s.createElement(l)}function ff(s){c.setTimeout(function(){throw s},0)}var A;function C(){var s=c.MessageChannel;if(typeof s=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!Dt("Presto")&&(s=function(){var b=_a(document,"IFRAME");b.style.display="none",document.documentElement.appendChild(b);var T=b.contentWindow;b=T.document,b.open(),b.close();var S="callImmediate"+Math.random(),N=T.location.protocol=="file:"?"*":T.location.protocol+"//"+T.location.host;b=M(function(Y){(N=="*"||Y.origin==N)&&Y.data==S&&this.port1.onmessage()},this),T.addEventListener("message",b,!1),this.port1={},this.port2={postMessage:function(){T.postMessage(S,N)}}}),typeof s!="undefined"&&!Dt("Trident")&&!Dt("MSIE")){var l=new s,d={},m=d;return l.port1.onmessage=function(){if(d.next!==void 0){d=d.next;var b=d.Hb;d.Hb=null,b()}},function(b){m.next={Hb:b},m=m.next,l.port2.postMessage(0)}}return function(b){c.setTimeout(b,0)}}function R(s,l){q||B(),H||(q(),H=!0),de.add(s,l)}var q;function B(){if(c.Promise&&c.Promise.resolve){var s=c.Promise.resolve(void 0);q=function(){s.then(Me)}}else q=function(){var l=Me;!w(c.setImmediate)||c.Window&&c.Window.prototype&&!Dt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(A||(A=C()),A(l)):c.setImmediate(l)}}var H=!1,de=new st;function Me(){for(var s;s=Q();){try{s.a.call(s.b)}catch(l){ff(l)}Ue(zt,s)}H=!1}function le(s,l){if(this.a=at,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=g)try{var d=this;s.call(l,function(m){ba(d,gt,m)},function(m){if(!(m instanceof oc))try{throw m instanceof Error?m:Error("Promise rejected.")}catch{}ba(d,Mt,m)})}catch(m){ba(this,Mt,m)}}var at=0,gt=2,Mt=3;function Ht(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ht.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Kt=new Ke(function(){return new Ht},function(s){s.reset()});function fn(s,l,d){var m=Kt.get();return m.g=s,m.b=l,m.f=d,m}function be(s){if(s instanceof le)return s;var l=new le(g);return ba(l,gt,s),l}function xt(s){return new le(function(l,d){d(s)})}function hf(s,l,d){qA(s,l,d,null)||R(W(l,s))}function Mo(s){return new le(function(l,d){var m=s.length,b=[];if(m)for(var T=function(re,He){m--,b[re]=He,m==0&&l(b)},S=function(re){d(re)},N=0,Y;N<s.length;N++)Y=s[N],hf(Y,W(T,N),S);else l(b)})}function jA(s){return new le(function(l){var d=s.length,m=[];if(d)for(var b=function(N,Y,re){d--,m[N]=Y?{Qb:!0,value:re}:{Qb:!1,reason:re},d==0&&l(m)},T=0,S;T<s.length;T++)S=s[T],hf(S,W(b,T,!0),W(b,T,!1));else l(m)})}le.prototype.then=function(s,l,d){return VA(this,w(s)?s:null,w(l)?l:null,d)},le.prototype.$goog_Thenable=!0,t=le.prototype,t.oa=function(s,l){return s=fn(s,s,l),s.c=!0,L_(this,s),this},t.o=function(s,l){return VA(this,null,s,l)},t.cancel=function(s){if(this.a==at){var l=new oc(s);R(function(){BA(this,l)},this)}};function BA(s,l){if(s.a==at)if(s.c){var d=s.c;if(d.b){for(var m=0,b=null,T=null,S=d.b;S&&(S.c||(m++,S.a==s&&(b=S),!(b&&1<m)));S=S.next)b||(T=S);b&&(d.a==at&&m==1?BA(d,l):(T?(m=T,m.next==d.f&&(d.f=m),m.next=m.next.next):$A(d),WA(d,b,Mt,l)))}s.c=null}else ba(s,Mt,l)}function L_(s,l){s.b||s.a!=gt&&s.a!=Mt||HA(s),s.f?s.f.next=l:s.b=l,s.f=l}function VA(s,l,d,m){var b=fn(null,null,null);return b.a=new le(function(T,S){b.g=l?function(N){try{var Y=l.call(m,N);T(Y)}catch(re){S(re)}}:T,b.b=d?function(N){try{var Y=d.call(m,N);Y===void 0&&N instanceof oc?S(N):T(Y)}catch(re){S(re)}}:S}),b.a.c=s,L_(s,b),b.a}t.$c=function(s){this.a=at,ba(this,gt,s)},t.ad=function(s){this.a=at,ba(this,Mt,s)};function ba(s,l,d){s.a==at&&(s===d&&(l=Mt,d=new TypeError("Promise cannot resolve to itself")),s.a=1,qA(d,s.$c,s.ad,s)||(s.i=d,s.a=l,s.c=null,HA(s),l!=Mt||d instanceof oc||c3(s,d)))}function qA(s,l,d,m){if(s instanceof le)return L_(s,fn(l||g,d||null,m)),!0;if(z(s))return s.then(l,d,m),!0;if(E(s))try{var b=s.then;if(w(b))return u3(s,b,l,d,m),!0}catch(T){return d.call(m,T),!0}return!1}function u3(s,l,d,m,b){function T(Y){N||(N=!0,m.call(b,Y))}function S(Y){N||(N=!0,d.call(b,Y))}var N=!1;try{l.call(s,S,T)}catch(Y){T(Y)}}function HA(s){s.h||(s.h=!0,R(s.gc,s))}function $A(s){var l=null;return s.b&&(l=s.b,s.b=l.next,l.next=null),s.b||(s.f=null),l}t.gc=function(){for(var s;s=$A(this);)WA(this,s,this.a,this.i);this.h=!1};function WA(s,l,d,m){if(d==Mt&&l.b&&!l.c)for(;s&&s.g;s=s.c)s.g=!1;if(l.a)l.a.c=null,zA(l,d,m);else try{l.c?l.g.call(l.f):zA(l,d,m)}catch(b){KA.call(null,b)}Ue(Kt,l)}function zA(s,l,d){l==gt?s.g.call(s.f,d):s.b&&s.b.call(s.f,d)}function c3(s,l){s.g=!0,R(function(){s.g&&KA.call(null,l)})}var KA=ff;function oc(s){J.call(this,s)}V(oc,J),oc.prototype.name="cancel";function Ap(){this.ya=this.ya,this.pa=this.pa}var l3=0,f3={};Ap.prototype.ya=!1;function GA(s){if(!s.ya&&(s.ya=!0,s.Da(),l3!=0)){var l=I(s);delete f3[l]}}Ap.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var h3=Object.freeze||function(s){return s},YA=!_n||9<=Number(ro),d3=_n&&!Tp("9"),p3=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,l=Object.defineProperty({},"passive",{get:function(){s=!0}});try{c.addEventListener("test",g,l),c.removeEventListener("test",g,l)}catch{}return s}();function Rr(s,l){this.type=s,this.b=this.target=l,this.defaultPrevented=!1}Rr.prototype.preventDefault=function(){this.defaultPrevented=!0};function wa(s,l){if(Rr.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var d=this.type=s.type,m=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=l,l=s.relatedTarget){if(wp){e:{try{of(l.nodeName);var b=!0;break e}catch{}b=!1}b||(l=null)}}else d=="mouseover"?l=s.fromElement:d=="mouseout"&&(l=s.toElement);this.relatedTarget=l,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:g3[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}V(wa,Rr);var g3=h3({2:"touch",3:"pen",4:"mouse"});wa.prototype.preventDefault=function(){wa.bb.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,d3)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}},wa.prototype.g=function(){return this.a};var df="closure_listenable_"+(1e6*Math.random()|0),m3=0;function v3(s,l,d,m,b){this.listener=s,this.proxy=null,this.src=l,this.type=d,this.capture=!!m,this.Wa=b,this.key=++m3,this.wa=this.Qa=!1}function xp(s){s.wa=!0,s.listener=null,s.proxy=null,s.src=null,s.Wa=null}function Rp(s){this.src=s,this.a={},this.b=0}Rp.prototype.add=function(s,l,d,m,b){var T=s.toString();s=this.a[T],s||(s=this.a[T]=[],this.b++);var S=U_(s,l,m,b);return-1<S?(l=s[S],d||(l.Qa=!1)):(l=new v3(l,this.src,T,!!m,b),l.Qa=d,s.push(l)),l};function F_(s,l){var d=l.type;d in s.a&&G(s.a[d],l)&&(xp(l),s.a[d].length==0&&(delete s.a[d],s.b--))}function U_(s,l,d,m){for(var b=0;b<s.length;++b){var T=s[b];if(!T.wa&&T.listener==l&&T.capture==!!d&&T.Wa==m)return b}return-1}var j_="closure_lm_"+(1e6*Math.random()|0),B_={};function si(s,l,d,m,b){if(m&&m.once)V_(s,l,d,m,b);else if(Array.isArray(l))for(var T=0;T<l.length;T++)si(s,l[T],d,m,b);else d=H_(d),s&&s[df]?tx(s,l,d,E(m)?!!m.capture:!!m,b):XA(s,l,d,!1,m,b)}function XA(s,l,d,m,b,T){if(!l)throw Error("Invalid event type");var S=E(b)?!!b.capture:!!b,N=kp(s);if(N||(s[j_]=N=new Rp(s)),d=N.add(l,d,m,S,T),!d.proxy)if(m=y3(),d.proxy=m,m.src=s,m.listener=d,s.addEventListener)p3||(b=S),b===void 0&&(b=!1),s.addEventListener(l.toString(),m,b);else if(s.attachEvent)s.attachEvent(JA(l.toString()),m);else if(s.addListener&&s.removeListener)s.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.")}function y3(){var s=_3,l=YA?function(d){return s.call(l.src,l.listener,d)}:function(d){if(d=s.call(l.src,l.listener,d),!d)return d};return l}function V_(s,l,d,m,b){if(Array.isArray(l))for(var T=0;T<l.length;T++)V_(s,l[T],d,m,b);else d=H_(d),s&&s[df]?$_(s,l,d,E(m)?!!m.capture:!!m,b):XA(s,l,d,!0,m,b)}function $r(s,l,d,m,b){if(Array.isArray(l))for(var T=0;T<l.length;T++)$r(s,l[T],d,m,b);else m=E(m)?!!m.capture:!!m,d=H_(d),s&&s[df]?(s=s.v,l=String(l).toString(),l in s.a&&(T=s.a[l],d=U_(T,d,m,b),-1<d&&(xp(T[d]),Array.prototype.splice.call(T,d,1),T.length==0&&(delete s.a[l],s.b--)))):s&&(s=kp(s))&&(l=s.a[l.toString()],s=-1,l&&(s=U_(l,d,m,b)),(d=-1<s?l[s]:null)&&QA(d))}function QA(s){if(typeof s!="number"&&s&&!s.wa){var l=s.src;if(l&&l[df])F_(l.v,s);else{var d=s.type,m=s.proxy;l.removeEventListener?l.removeEventListener(d,m,s.capture):l.detachEvent?l.detachEvent(JA(d),m):l.addListener&&l.removeListener&&l.removeListener(m),(d=kp(l))?(F_(d,s),d.b==0&&(d.src=null,l[j_]=null)):xp(s)}}}function JA(s){return s in B_?B_[s]:B_[s]="on"+s}function ZA(s,l,d,m){var b=!0;if((s=kp(s))&&(l=s.a[l.toString()]))for(l=l.concat(),s=0;s<l.length;s++){var T=l[s];T&&T.capture==d&&!T.wa&&(T=ex(T,m),b=b&&T!==!1)}return b}function ex(s,l){var d=s.listener,m=s.Wa||s.src;return s.Qa&&QA(s),d.call(m,l)}function _3(s,l){if(s.wa)return!0;if(!YA){if(!l)e:{l=["window","event"];for(var d=c,m=0;m<l.length;m++)if(d=d[l[m]],d==null){l=null;break e}l=d}if(m=l,l=new wa(m,this),d=!0,!(0>m.keyCode||m.returnValue!=null)){e:{var b=!1;if(m.keyCode==0)try{m.keyCode=-1;break e}catch{b=!0}(b||m.returnValue==null)&&(m.returnValue=!0)}for(m=[],b=l.b;b;b=b.parentNode)m.push(b);for(s=s.type,b=m.length-1;0<=b;b--){l.b=m[b];var T=ZA(m[b],s,!0,l);d=d&&T}for(b=0;b<m.length;b++)l.b=m[b],T=ZA(m[b],s,!1,l),d=d&&T}return d}return ex(s,new wa(l,this))}function kp(s){return s=s[j_],s instanceof Rp?s:null}var q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function H_(s){return w(s)?s:(s[q_]||(s[q_]=function(l){return s.handleEvent(l)}),s[q_])}function gr(){Ap.call(this),this.v=new Rp(this),this.bc=this,this.hb=null}V(gr,Ap),gr.prototype[df]=!0,gr.prototype.addEventListener=function(s,l,d,m){si(this,s,l,d,m)},gr.prototype.removeEventListener=function(s,l,d,m){$r(this,s,l,d,m)},gr.prototype.dispatchEvent=function(s){var l,d=this.hb;if(d)for(l=[];d;d=d.hb)l.push(d);d=this.bc;var m=s.type||s;if(typeof s=="string")s=new Rr(s,d);else if(s instanceof Rr)s.target=s.target||d;else{var b=s;s=new Rr(m,d),Ft(s,b)}if(b=!0,l)for(var T=l.length-1;0<=T;T--){var S=s.b=l[T];b=Op(S,m,!0,s)&&b}if(S=s.b=d,b=Op(S,m,!0,s)&&b,b=Op(S,m,!1,s)&&b,l)for(T=0;T<l.length;T++)S=s.b=l[T],b=Op(S,m,!1,s)&&b;return b},gr.prototype.Da=function(){if(gr.bb.Da.call(this),this.v){var s=this.v,l;for(l in s.a){for(var d=s.a[l],m=0;m<d.length;m++)xp(d[m]);delete s.a[l],s.b--}}this.hb=null};function tx(s,l,d,m,b){s.v.add(String(l),d,!1,m,b)}function $_(s,l,d,m,b){s.v.add(String(l),d,!0,m,b)}function Op(s,l,d,m){if(l=s.v.a[String(l)],!l)return!0;l=l.concat();for(var b=!0,T=0;T<l.length;++T){var S=l[T];if(S&&!S.wa&&S.capture==d){var N=S.listener,Y=S.Wa||S.src;S.Qa&&F_(s.v,S),b=N.call(Y,m)!==!1&&b}}return b&&!m.defaultPrevented}function W_(s,l,d){if(w(s))d&&(s=M(s,d));else if(s&&typeof s.handleEvent=="function")s=M(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(s,l||0)}function sc(s){var l=null;return new le(function(d,m){l=W_(function(){d(void 0)},s),l==-1&&m(Error("Failed to schedule timer."))}).o(function(d){throw c.clearTimeout(l),d})}function nx(s){if(s.X&&typeof s.X=="function")return s.X();if(typeof s=="string")return s.split("");if(y(s)){for(var l=[],d=s.length,m=0;m<d;m++)l.push(s[m]);return l}l=[],d=0;for(m in s)l[d++]=s[m];return l}function rx(s){if(s.Y&&typeof s.Y=="function")return s.Y();if(!s.X||typeof s.X!="function"){if(y(s)||typeof s=="string"){var l=[];s=s.length;for(var d=0;d<s;d++)l.push(d);return l}l=[],d=0;for(var m in s)l[d++]=m;return l}}function b3(s,l){if(s.forEach&&typeof s.forEach=="function")s.forEach(l,void 0);else if(y(s)||typeof s=="string")ge(s,l,void 0);else for(var d=rx(s),m=nx(s),b=m.length,T=0;T<b;T++)l.call(void 0,m[T],d&&d[T],s)}function ac(s,l){this.b={},this.a=[],this.c=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var m=0;m<d;m+=2)this.set(arguments[m],arguments[m+1])}else if(s)if(s instanceof ac)for(d=s.Y(),m=0;m<d.length;m++)this.set(d[m],s.get(d[m]));else for(m in s)this.set(m,s[m])}t=ac.prototype,t.X=function(){z_(this);for(var s=[],l=0;l<this.a.length;l++)s.push(this.b[this.a[l]]);return s},t.Y=function(){return z_(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function z_(s){if(s.c!=s.a.length){for(var l=0,d=0;l<s.a.length;){var m=s.a[l];Ea(s.b,m)&&(s.a[d++]=m),l++}s.a.length=d}if(s.c!=s.a.length){var b={};for(d=l=0;l<s.a.length;)m=s.a[l],Ea(b,m)||(s.a[d++]=m,b[m]=1),l++;s.a.length=d}}t.get=function(s,l){return Ea(this.b,s)?this.b[s]:l},t.set=function(s,l){Ea(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=l},t.forEach=function(s,l){for(var d=this.Y(),m=0;m<d.length;m++){var b=d[m],T=this.get(b);s.call(l,T,b,this)}};function Ea(s,l){return Object.prototype.hasOwnProperty.call(s,l)}var ix=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function w3(s,l){if(s){s=s.split("&");for(var d=0;d<s.length;d++){var m=s[d].indexOf("="),b=null;if(0<=m){var T=s[d].substring(0,m);b=s[d].substring(m+1)}else T=s[d];l(T,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function vs(s,l){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var d;s instanceof vs?(this.i=l!==void 0?l:s.i,pf(this,s.c),this.l=s.l,this.a=s.a,gf(this,s.g),this.f=s.f,K_(this,ux(s.b)),this.h=s.h):s&&(d=String(s).match(ix))?(this.i=!!l,pf(this,d[1]||"",!0),this.l=mf(d[2]||""),this.a=mf(d[3]||"",!0),gf(this,d[4]),this.f=mf(d[5]||"",!0),K_(this,d[6]||"",!0),this.h=mf(d[7]||"")):(this.i=!!l,this.b=new Ta(null,this.i))}vs.prototype.toString=function(){var s=[],l=this.c;l&&s.push(vf(l,ox,!0),":");var d=this.a;return(d||l=="file")&&(s.push("//"),(l=this.l)&&s.push(vf(l,ox,!0),"@"),s.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.g,d!=null&&s.push(":",String(d))),(d=this.f)&&(this.a&&d.charAt(0)!="/"&&s.push("/"),s.push(vf(d,d.charAt(0)=="/"?I3:T3,!0))),(d=this.b.toString())&&s.push("?",d),(d=this.h)&&s.push("#",vf(d,C3)),s.join("")},vs.prototype.resolve=function(s){var l=new vs(this),d=!!s.c;d?pf(l,s.c):d=!!s.l,d?l.l=s.l:d=!!s.a,d?l.a=s.a:d=s.g!=null;var m=s.f;if(d)gf(l,s.g);else if(d=!!s.f){if(m.charAt(0)!="/")if(this.a&&!this.f)m="/"+m;else{var b=l.f.lastIndexOf("/");b!=-1&&(m=l.f.substr(0,b+1)+m)}if(b=m,b==".."||b==".")m="";else if(Se(b,"./")||Se(b,"/.")){m=b.lastIndexOf("/",0)==0,b=b.split("/");for(var T=[],S=0;S<b.length;){var N=b[S++];N=="."?m&&S==b.length&&T.push(""):N==".."?((1<T.length||T.length==1&&T[0]!="")&&T.pop(),m&&S==b.length&&T.push("")):(T.push(N),m=!0)}m=T.join("/")}else m=b}return d?l.f=m:d=s.b.toString()!=="",d?K_(l,ux(s.b)):d=!!s.h,d&&(l.h=s.h),l};function pf(s,l,d){s.c=d?mf(l,!0):l,s.c&&(s.c=s.c.replace(/:$/,""))}function gf(s,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);s.g=l}else s.g=null}function K_(s,l,d){l instanceof Ta?(s.b=l,A3(s.b,s.i)):(d||(l=vf(l,S3)),s.b=new Ta(l,s.i))}function sn(s,l,d){s.b.set(l,d)}function ai(s,l){return s.b.get(l)}function kr(s){return s instanceof vs?new vs(s):new vs(s,void 0)}function Np(s,l,d,m){var b=new vs(null,void 0);return s&&pf(b,s),l&&(b.a=l),d&&gf(b,d),m&&(b.f=m),b}function mf(s,l){return s?l?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function vf(s,l,d){return typeof s=="string"?(s=encodeURI(s).replace(l,E3),d&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function E3(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var ox=/[#\/\?@]/g,T3=/[#\?:]/g,I3=/[#\?]/g,S3=/[#\?@]/g,C3=/#/g;function Ta(s,l){this.b=this.a=null,this.c=s||null,this.f=!!l}function ys(s){s.a||(s.a=new ac,s.b=0,s.c&&w3(s.c,function(l,d){s.add(decodeURIComponent(l.replace(/\+/g," ")),d)}))}function sx(s){var l=rx(s);if(typeof l=="undefined")throw Error("Keys are undefined");var d=new Ta(null,void 0);s=nx(s);for(var m=0;m<l.length;m++){var b=l[m],T=s[m];Array.isArray(T)?ax(d,b,T):d.add(b,T)}return d}t=Ta.prototype,t.add=function(s,l){ys(this),this.c=null,s=uc(this,s);var d=this.a.get(s);return d||this.a.set(s,d=[]),d.push(l),this.b+=1,this};function io(s,l){ys(s),l=uc(s,l),Ea(s.a.b,l)&&(s.c=null,s.b-=s.a.get(l).length,s=s.a,Ea(s.b,l)&&(delete s.b[l],s.c--,s.a.length>2*s.c&&z_(s)))}t.clear=function(){this.a=this.c=null,this.b=0};function G_(s,l){return ys(s),l=uc(s,l),Ea(s.a.b,l)}t.forEach=function(s,l){ys(this),this.a.forEach(function(d,m){ge(d,function(b){s.call(l,b,m,this)},this)},this)},t.Y=function(){ys(this);for(var s=this.a.X(),l=this.a.Y(),d=[],m=0;m<l.length;m++)for(var b=s[m],T=0;T<b.length;T++)d.push(l[m]);return d},t.X=function(s){ys(this);var l=[];if(typeof s=="string")G_(this,s)&&(l=te(l,this.a.get(uc(this,s))));else{s=this.a.X();for(var d=0;d<s.length;d++)l=te(l,s[d])}return l},t.set=function(s,l){return ys(this),this.c=null,s=uc(this,s),G_(this,s)&&(this.b-=this.a.get(s).length),this.a.set(s,[l]),this.b+=1,this},t.get=function(s,l){return s?(s=this.X(s),0<s.length?String(s[0]):l):l};function ax(s,l,d){io(s,l),0<d.length&&(s.c=null,s.a.set(uc(s,l),ae(d)),s.b+=d.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],l=this.a.Y(),d=0;d<l.length;d++){var m=l[d],b=encodeURIComponent(String(m));m=this.X(m);for(var T=0;T<m.length;T++){var S=b;m[T]!==""&&(S+="="+encodeURIComponent(String(m[T]))),s.push(S)}}return this.c=s.join("&")};function ux(s){var l=new Ta;return l.c=s.c,s.a&&(l.a=new ac(s.a),l.b=s.b),l}function uc(s,l){return l=String(l),s.f&&(l=l.toLowerCase()),l}function A3(s,l){l&&!s.f&&(ys(s),s.c=null,s.a.forEach(function(d,m){var b=m.toLowerCase();m!=b&&(io(this,m),ax(this,b,d))},s)),s.f=l}function cx(s){var l=[];return Y_(new x3,s,l),l.join("")}function x3(){}function Y_(s,l,d){if(l==null)d.push("null");else{if(typeof l=="object"){if(Array.isArray(l)){var m=l;l=m.length,d.push("[");for(var b="",T=0;T<l;T++)d.push(b),Y_(s,m[T],d),b=",";d.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{d.push("{"),b="";for(m in l)Object.prototype.hasOwnProperty.call(l,m)&&(T=l[m],typeof T!="function"&&(d.push(b),fx(m,d),d.push(":"),Y_(s,T,d),b=","));d.push("}");return}}switch(typeof l){case"string":fx(l,d);break;case"number":d.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":d.push(String(l));break;case"function":d.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var lx={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},R3=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function fx(s,l){l.push('"',s.replace(R3,function(d){var m=lx[d];return m||(m="\\u"+(d.charCodeAt(0)|65536).toString(16).substr(1),lx[d]=m),m}),'"')}function X_(){var s=qn();return _n&&!!ro&&ro==11||/Edge\/\d+/.test(s)}function yf(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function hx(s,l){l=l||c.window;var d="about:blank";s&&(d=rc(gp(s)||mp)),l.location.href=d}function dx(s,l){var d=[],m;for(m in s)m in l?typeof s[m]!=typeof l[m]?d.push(m):typeof s[m]=="object"&&s[m]!=null&&l[m]!=null?0<dx(s[m],l[m]).length&&d.push(m):s[m]!==l[m]&&d.push(m):d.push(m);for(m in l)m in s||d.push(m);return d}function k3(){var s=qn();return s=cc(s)!=vx?null:(s=s.match(/\sChrome\/(\d+)/i))&&s.length==2?parseInt(s[1],10):null,s&&30>s?!1:!_n||!ro||9<ro}function px(s){return s=(s||qn()).toLowerCase(),!!(s.match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function Ia(s){s=s||c.window;try{s.close()}catch{}}function gx(s,l,d){var m=Math.floor(1e9*Math.random()).toString();l=l||500,d=d||600;var b=(window.screen.availHeight-d)/2,T=(window.screen.availWidth-l)/2;l={width:l,height:d,top:0<b?b:0,left:0<T?T:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},d=qn().toLowerCase(),m&&(l.target=m,Se(d,"crios/")&&(l.target="_blank")),cc(qn())==Z_&&(s=s||"http://localhost",l.scrollbars=!0),d=s||"",(s=l)||(s={}),m=window,l=d instanceof vt?d:gp(typeof d.href!="undefined"?d.href:String(d))||mp,d=s.target||d.target,b=[];for(S in s)switch(S){case"width":case"height":case"top":case"left":b.push(S+"="+s[S]);break;case"target":case"noopener":case"noreferrer":break;default:b.push(S+"="+(s[S]?1:0))}var S=b.join(",");if((Dt("iPhone")&&!Dt("iPod")&&!Dt("iPad")||Dt("iPad")||Dt("iPod"))&&m.navigator&&m.navigator.standalone&&d&&d!="_self"?(S=_a(document,"A"),ps(S,"HTMLAnchorElement"),l=l instanceof vt?l:On(l),S.href=rc(l),S.setAttribute("target",d),s.noreferrer&&S.setAttribute("rel","noreferrer"),s=document.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,m,1),S.dispatchEvent(s),S={}):s.noreferrer?(S=yp("",m,d,S),s=rc(l),S&&(bp&&Se(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),S.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+rf(s)+'">',s=(m=da())?m.createHTML(s):s,s=new ms(s,null,vp),m=S.document)&&(m.write(k_(s)),m.close())):(S=yp(l,m,d,S))&&s.noopener&&(S.opener=null),S)try{S.focus()}catch{}return S}function O3(s){return new le(function(l){function d(){sc(2e3).then(function(){if(!s||s.closed)l();else return d()})}return d()})}var N3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P3=/^[^@]+@[^@]+$/;function Pp(){var s=null;return new le(function(l){c.document.readyState=="complete"?l():(s=function(){l()},V_(window,"load",s))}).o(function(l){throw $r(window,"load",s),l})}function D3(){return Q_(void 0)?Pp().then(function(){return new le(function(s,l){var d=c.document,m=setTimeout(function(){l(Error("Cordova framework is not ready."))},1e3);d.addEventListener("deviceready",function(){clearTimeout(m),s()},!1)})}):xt(Error("Cordova must run in an Android or iOS file scheme."))}function Q_(s){return s=s||qn(),!(fc()!=="file:"&&fc()!=="ionic:"||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function J_(){var s=c.window;try{return!(!s||s==s.top)}catch{return!1}}function Oi(){return typeof c.WorkerGlobalScope!="undefined"&&typeof c.importScripts=="function"}function oo(){return ke.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ke.INTERNAL.hasOwnProperty("node")?"Node":Oi()?"Worker":"Browser"}function mx(){var s=oo();return s==="ReactNative"||s==="Node"}function M3(){for(var s=50,l=[];0<s;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return l.join("")}var Z_="Firefox",vx="Chrome";function cc(s){var l=s.toLowerCase();if(Se(l,"opera/")||Se(l,"opr/")||Se(l,"opios/"))return"Opera";if(Se(l,"iemobile"))return"IEMobile";if(Se(l,"msie")||Se(l,"trident/"))return"IE";if(Se(l,"edge/"))return"Edge";if(Se(l,"firefox/"))return Z_;if(Se(l,"silk/"))return"Silk";if(Se(l,"blackberry"))return"Blackberry";if(Se(l,"webos"))return"Webos";if(!Se(l,"safari/")||Se(l,"chrome/")||Se(l,"crios/")||Se(l,"android"))if(!Se(l,"chrome/")&&!Se(l,"crios/")||Se(l,"edge/")){if(Se(l,"android"))return"Android";if((s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&s.length==2)return s[1]}else return vx;else return"Safari";return"Other"}var yx={md:"FirebaseCore-web",od:"FirebaseUI-web"};function lc(s,l){l=l||[];var d=[],m={},b;for(b in yx)m[yx[b]]=!0;for(b=0;b<l.length;b++)typeof m[l[b]]!="undefined"&&(delete m[l[b]],d.push(l[b]));return d.sort(),l=d,l.length||(l=["FirebaseCore-web"]),d=oo(),d==="Browser"?(m=qn(),d=cc(m)):d==="Worker"&&(m=qn(),d=cc(m)+"-"+d),d+"/JsCore/"+s+"/"+l.join(",")}function qn(){return c.navigator&&c.navigator.userAgent||""}function Gt(s,l){s=s.split("."),l=l||c;for(var d=0;d<s.length&&typeof l=="object"&&l!=null;d++)l=l[s[d]];return d!=s.length&&(l=void 0),l}function eb(){try{var s=c.localStorage,l=Ca();if(s)return s.setItem(l,"1"),s.removeItem(l),X_()?!!c.indexedDB:!0}catch{return Oi()&&!!c.indexedDB}return!1}function Sa(){return(Dp()||fc()==="chrome-extension:"||Q_())&&!mx()&&eb()&&!Oi()}function Dp(){return fc()==="http:"||fc()==="https:"}function fc(){return c.location&&c.location.protocol||null}function _f(s){return s=s||qn(),!(px(s)||cc(s)==Z_)}function bf(s){return typeof s=="undefined"?null:cx(s)}function _x(s){var l={},d;for(d in s)s.hasOwnProperty(d)&&s[d]!==null&&s[d]!==void 0&&(l[d]=s[d]);return l}function hc(s){if(s!==null)return JSON.parse(s)}function Ca(s){return s||Math.floor(1e9*Math.random()).toString()}function bx(s){return s=s||qn(),!(cc(s)=="Safari"||s.toLowerCase().match(/iphone|ipad|ipod/))}function wx(){var s=c.___jsl;if(s&&s.H){for(var l in s.H)if(s.H[l].r=s.H[l].r||[],s.H[l].L=s.H[l].L||[],s.H[l].r=s.H[l].L.concat(),s.CP)for(var d=0;d<s.CP.length;d++)s.CP[d]=null}}function _s(s,l){if(s>l)throw Error("Short delay should be less than long delay!");this.a=s,this.c=l,s=qn(),l=oo(),this.b=px(s)||l==="ReactNative"}_s.prototype.get=function(){var s=c.navigator;return(s&&typeof s.onLine=="boolean"&&(Dp()||fc()==="chrome-extension:"||typeof s.connection!="undefined")?s.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};function tb(){var s=c.document;return s&&typeof s.visibilityState!="undefined"?s.visibilityState=="visible":!0}function L3(){var s=c.document,l=null;return tb()||!s?be():new le(function(d){l=function(){tb()&&(s.removeEventListener("visibilitychange",l,!1),d())},s.addEventListener("visibilitychange",l,!1)}).o(function(d){throw s.removeEventListener("visibilitychange",l,!1),d})}function wf(s){try{var l=new Date(parseInt(s,10));if(!isNaN(l.getTime())&&!/[^0-9]/.test(s))return l.toUTCString()}catch{}return null}function Ex(){return!(!Gt("fireauth.oauthhelper",c)&&!Gt("fireauth.iframe",c))}function F3(){var s=c.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}function U3(){var s=c.navigator;return s&&s.serviceWorker?be().then(function(){return s.serviceWorker.ready}).then(function(l){return l.active||null}).o(function(){return null}):be(null)}var Tx={};function nb(s){Tx[s]||(Tx[s]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(s))}var rb;try{var ib={};Object.defineProperty(ib,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ib,"abcd",{configurable:!0,enumerable:!0,value:2}),rb=ib.abcd==2}catch{rb=!1}function Re(s,l,d){rb?Object.defineProperty(s,l,{configurable:!0,enumerable:!0,value:d}):s[l]=d}function mr(s,l){if(l)for(var d in l)l.hasOwnProperty(d)&&Re(s,d,l[d])}function so(s){var l={};return mr(l,s),l}function j3(s){var l={},d;for(d in s)s.hasOwnProperty(d)&&(l[d]=s[d]);return l}function B3(s,l){if(!l||!l.length)return!0;if(!s)return!1;for(var d=0;d<l.length;d++){var m=s[l[d]];if(m==null||m==="")return!1}return!0}function ob(s){var l=s;if(typeof s=="object"&&s!=null){l="length"in s?[]:{};for(var d in s)Re(l,d,ob(s[d]))}return l}function sb(s){var l=s&&(s[lb]?"phone":null);if(l&&s&&s[cb]){Re(this,"uid",s[cb]),Re(this,"displayName",s[Ix]||null);var d=null;s[ub]&&(d=new Date(s[ub]).toUTCString()),Re(this,"enrollmentTime",d),Re(this,"factorId",l)}else throw new O("internal-error","Internal assert: invalid MultiFactorInfo object")}sb.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function ab(s){try{var l=new Ef(s)}catch{l=null}return l}var Ix="displayName",ub="enrolledAt",cb="mfaEnrollmentId",lb="phoneInfo";function Ef(s){sb.call(this,s),Re(this,"phoneNumber",s[lb])}V(Ef,sb),Ef.prototype.w=function(){var s=Ef.bb.w.call(this);return s.phoneNumber=this.phoneNumber,s};function V3(s){var l={},d=s[q3],m=s[$3],b=s[W3];if(s=ab(s[H3]),!b||b!=Mp&&b!=Tf&&!d||b==Tf&&!m||b==fb&&!s)throw Error("Invalid checkActionCode response!");b==Tf?(l[Cx]=d||null,l[Ax]=d||null,l[Sx]=m):(l[Cx]=m||null,l[Ax]=m||null,l[Sx]=d||null),l[z3]=s||null,Re(this,G3,b),Re(this,K3,ob(l))}var fb="REVERT_SECOND_FACTOR_ADDITION",Mp="EMAIL_SIGNIN",Tf="VERIFY_AND_CHANGE_EMAIL",q3="email",H3="mfaInfo",$3="newEmail",W3="requestType",Sx="email",Cx="fromEmail",z3="multiFactorInfo",Ax="previousEmail",K3="data",G3="operation";function hb(s){s=kr(s);var l=ai(s,xx)||null,d=ai(s,Rx)||null,m=ai(s,kx)||null;if(m=m&&J3[m]||null,!l||!d||!m)throw new O("argument-error",xx+", "+Rx+"and "+kx+" are required in a valid action code URL.");mr(this,{apiKey:l,operation:m,code:d,continueUrl:ai(s,Y3)||null,languageCode:ai(s,X3)||null,tenantId:ai(s,Q3)||null})}var xx="apiKey",Rx="oobCode",Y3="continueUrl",X3="languageCode",kx="mode",Q3="tenantId",J3={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:fb,signIn:Mp,verifyAndChangeEmail:Tf,verifyEmail:"VERIFY_EMAIL"};function Ox(s){try{return new hb(s)}catch{return null}}function Lp(s){var l=s[Z3];if(typeof l=="undefined")throw new O("missing-continue-uri");if(typeof l!="string"||typeof l=="string"&&!l.length)throw new O("invalid-continue-uri");this.h=l,this.b=this.a=null,this.g=!1;var d=s[Nx];if(d&&typeof d=="object"){l=d[Fx];var m=d[Mx];if(d=d[Lx],typeof l=="string"&&l.length){if(this.a=l,typeof m!="undefined"&&typeof m!="boolean")throw new O("argument-error",Mx+" property must be a boolean when specified.");if(this.g=!!m,typeof d!="undefined"&&(typeof d!="string"||typeof d=="string"&&!d.length))throw new O("argument-error",Lx+" property must be a non empty string when specified.");this.b=d||null}else{if(typeof l!="undefined")throw new O("argument-error",Fx+" property must be a non empty string when specified.");if(typeof m!="undefined"||typeof d!="undefined")throw new O("missing-android-pkg-name")}}else if(typeof d!="undefined")throw new O("argument-error",Nx+" property must be a non null object when specified.");if(this.f=null,(l=s[Dx])&&typeof l=="object"){if(l=l[Ux],typeof l=="string"&&l.length)this.f=l;else if(typeof l!="undefined")throw new O("argument-error",Ux+" property must be a non empty string when specified.")}else if(typeof l!="undefined")throw new O("argument-error",Dx+" property must be a non null object when specified.");if(l=s[db],typeof l!="undefined"&&typeof l!="boolean")throw new O("argument-error",db+" property must be a boolean when specified.");if(this.c=!!l,s=s[Px],typeof s!="undefined"&&(typeof s!="string"||typeof s=="string"&&!s.length))throw new O("argument-error",Px+" property must be a non empty string when specified.");this.i=s||null}var Nx="android",Px="dynamicLinkDomain",db="handleCodeInApp",Dx="iOS",Z3="url",Mx="installApp",Lx="minimumVersion",Fx="packageName",Ux="bundleId";function Fp(s){var l={};l.continueUrl=s.h,l.canHandleCodeInApp=s.c,(l.androidPackageName=s.a)&&(l.androidMinimumVersion=s.b,l.androidInstallApp=s.g),l.iOSBundleId=s.f,l.dynamicLinkDomain=s.i;for(var d in l)l[d]===null&&delete l[d];return l}function eq(s){return ze(s,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}var If=null;function tq(s){var l=[];return nq(s,function(d){l.push(d)}),l}function nq(s,l){function d(Y){for(;m<s.length;){var re=s.charAt(m++),He=If[re];if(He!=null)return He;if(!/^[\s\xa0]*$/.test(re))throw Error("Unknown base64 encoding at char: "+re)}return Y}rq();for(var m=0;;){var b=d(-1),T=d(0),S=d(64),N=d(64);if(N===64&&b===-1)break;l(b<<2|T>>4),S!=64&&(l(T<<4&240|S>>2),N!=64&&l(S<<6&192|N))}}function rq(){if(!If){If={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=["+/=","+/","-_=","-_.","-_"],d=0;5>d;d++)for(var m=s.concat(l[d].split("")),b=0;b<m.length;b++){var T=m[b];If[T]===void 0&&(If[T]=b)}}}function Up(s){var l=jx(s);if(!(l&&l.sub&&l.iss&&l.aud&&l.exp))throw Error("Invalid JWT");this.h=s,this.a=l.exp,this.i=l.sub,s=Date.now()/1e3,this.g=l.iat||(s>this.a?this.a:s),this.b=l.provider_id||l.firebase&&l.firebase.sign_in_provider||null,this.f=l.firebase&&l.firebase.tenant||null,this.c=!!l.is_anonymous||this.b=="anonymous"}Up.prototype.T=function(){return this.f},Up.prototype.l=function(){return this.c},Up.prototype.toString=function(){return this.h};function jp(s){try{return new Up(s)}catch{return null}}function jx(s){if(!s||(s=s.split("."),s.length!=3))return null;s=s[1];for(var l=(4-s.length%4)%4,d=0;d<l;d++)s+=".";try{var m=tq(s);for(s=[],d=l=0;l<m.length;){var b=m[l++];if(128>b)s[d++]=String.fromCharCode(b);else if(191<b&&224>b){var T=m[l++];s[d++]=String.fromCharCode((b&31)<<6|T&63)}else if(239<b&&365>b){T=m[l++];var S=m[l++],N=m[l++],Y=((b&7)<<18|(T&63)<<12|(S&63)<<6|N&63)-65536;s[d++]=String.fromCharCode(55296+(Y>>10)),s[d++]=String.fromCharCode(56320+(Y&1023))}else T=m[l++],S=m[l++],s[d++]=String.fromCharCode((b&15)<<12|(T&63)<<6|S&63)}return JSON.parse(s.join(""))}catch{}return null}var Bx="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Bp=["client_id","response_type","scope","redirect_uri","state"],pb={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Bp},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Bp},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Bp},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Bx},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function gb(s){for(var l in pb)if(pb[l].fa==s)return pb[l];return null}function Vx(s){var l={};l["facebook.com"]=Hx,l["google.com"]=Wx,l["github.com"]=$x,l["twitter.com"]=zx;var d=s&&s[qx];try{if(d)return l[d]?new l[d](s):new ao(s);if(typeof s[mb]!="undefined")return new vb(s)}catch{}return null}var mb="idToken",qx="providerId";function vb(s){var l=s[qx];if(!l&&s[mb]){var d=jp(s[mb]);d&&d.b&&(l=d.b)}if(!l)throw Error("Invalid additional user info!");(l=="anonymous"||l=="custom")&&(l=null),d=!1,typeof s.isNewUser!="undefined"?d=!!s.isNewUser:s.kind==="identitytoolkit#SignupNewUserResponse"&&(d=!0),Re(this,"providerId",l),Re(this,"isNewUser",d)}function ao(s){vb.call(this,s),s=hc(s.rawUserInfo||"{}"),Re(this,"profile",ob(s||{}))}V(ao,vb);function Hx(s){if(ao.call(this,s),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}V(Hx,ao);function $x(s){if(ao.call(this,s),this.providerId!="github.com")throw Error("Invalid provider ID!");Re(this,"username",this.profile&&this.profile.login||null)}V($x,ao);function Wx(s){if(ao.call(this,s),this.providerId!="google.com")throw Error("Invalid provider ID!")}V(Wx,ao);function zx(s){if(ao.call(this,s),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Re(this,"username",s.screenName||null)}V(zx,ao);function Kx(s){var l=kr(s),d=ai(l,"link"),m=ai(kr(d),"link");return l=ai(l,"deep_link_id"),ai(kr(l),"link")||l||m||d||s}function Vp(s,l){if(!s&&!l)throw new O("internal-error","Internal assert: no raw session string available");if(s&&l)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=l||null,this.type=this.a?Sf:qp}var Sf="enroll",qp="signin";Vp.prototype.Ha=function(){return this.a?be(this.a):be(this.b)},Vp.prototype.w=function(){return this.type==Sf?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function dc(){}dc.prototype.ka=function(){},dc.prototype.b=function(){},dc.prototype.c=function(){},dc.prototype.w=function(){};function pc(s,l){return s.then(function(d){if(d[Di]){var m=jp(d[Di]);if(!m||l!=m.i)throw new O("user-mismatch");return d}throw new O("user-mismatch")}).o(function(d){throw d&&d.code&&d.code==Ee+"user-not-found"?new O("user-mismatch"):d})}function Aa(s,l){if(l)this.a=l;else throw new O("internal-error","failed to construct a credential");Re(this,"providerId",s),Re(this,"signInMethod",s)}Aa.prototype.ka=function(s){return Vb(s,yb(this))},Aa.prototype.b=function(s,l){var d=yb(this);return d.idToken=l,qb(s,d)},Aa.prototype.c=function(s,l){return pc(Hb(s,yb(this)),l)};function yb(s){return{pendingToken:s.a,requestUri:"http://localhost"}}Aa.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function iq(s){if(s&&s.providerId&&s.signInMethod&&s.providerId.indexOf("saml.")==0&&s.pendingToken)try{return new Aa(s.providerId,s.pendingToken)}catch{}return null}function Lo(s,l,d){if(this.a=null,l.idToken||l.accessToken)l.idToken&&Re(this,"idToken",l.idToken),l.accessToken&&Re(this,"accessToken",l.accessToken),l.nonce&&!l.pendingToken&&Re(this,"nonce",l.nonce),l.pendingToken&&(this.a=l.pendingToken);else if(l.oauthToken&&l.oauthTokenSecret)Re(this,"accessToken",l.oauthToken),Re(this,"secret",l.oauthTokenSecret);else throw new O("internal-error","failed to construct a credential");Re(this,"providerId",s),Re(this,"signInMethod",d)}Lo.prototype.ka=function(s){return Vb(s,_b(this))},Lo.prototype.b=function(s,l){var d=_b(this);return d.idToken=l,qb(s,d)},Lo.prototype.c=function(s,l){var d=_b(this);return pc(Hb(s,d),l)};function _b(s){var l={};return s.idToken&&(l.id_token=s.idToken),s.accessToken&&(l.access_token=s.accessToken),s.secret&&(l.oauth_token_secret=s.secret),l.providerId=s.providerId,s.nonce&&!s.a&&(l.nonce=s.nonce),l={postBody:sx(l).toString(),requestUri:"http://localhost"},s.a&&(delete l.postBody,l.pendingToken=s.a),l}Lo.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s};function oq(s){if(s&&s.providerId&&s.signInMethod){var l={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new Lo(s.providerId,l,s.signInMethod)}catch{}}return null}function xa(s,l){this.Qc=l||[],mr(this,{providerId:s,isOAuthProvider:!0}),this.Jb={},this.qb=(gb(s)||{}).Ja||null,this.pb=null}xa.prototype.Ka=function(s){return this.Jb=Hr(s),this};function Gx(s){if(typeof s!="string"||s.indexOf("saml.")!=0)throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');xa.call(this,s,[])}V(Gx,xa);function Wr(s){xa.call(this,s,Bp),this.a=[]}V(Wr,xa),Wr.prototype.Ca=function(s){return j(this.a,s)||this.a.push(s),this},Wr.prototype.Rb=function(){return ae(this.a)},Wr.prototype.credential=function(s,l){var d;if(E(s)?d={idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:d={idToken:s||null,accessToken:l||null},!d.idToken&&!d.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new Lo(this.providerId,d,this.providerId)};function Ra(){Wr.call(this,"facebook.com")}V(Ra,Wr),Re(Ra,"PROVIDER_ID","facebook.com"),Re(Ra,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Yx(s){if(!s)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=s;return E(s)&&(l=s.accessToken),new Ra().credential({accessToken:l})}function ka(){Wr.call(this,"github.com")}V(ka,Wr),Re(ka,"PROVIDER_ID","github.com"),Re(ka,"GITHUB_SIGN_IN_METHOD","github.com");function Xx(s){if(!s)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=s;return E(s)&&(l=s.accessToken),new ka().credential({accessToken:l})}function Oa(){Wr.call(this,"google.com"),this.Ca("profile")}V(Oa,Wr),Re(Oa,"PROVIDER_ID","google.com"),Re(Oa,"GOOGLE_SIGN_IN_METHOD","google.com");function Qx(s,l){var d=s;return E(s)&&(d=s.idToken,l=s.accessToken),new Oa().credential({idToken:d,accessToken:l})}function gc(){xa.call(this,"twitter.com",Bx)}V(gc,xa),Re(gc,"PROVIDER_ID","twitter.com"),Re(gc,"TWITTER_SIGN_IN_METHOD","twitter.com");function Jx(s,l){var d=s;if(E(d)||(d={oauthToken:s,oauthTokenSecret:l}),!d.oauthToken||!d.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Lo("twitter.com",d,"twitter.com")}function bs(s,l,d){this.a=s,this.f=l,Re(this,"providerId","password"),Re(this,"signInMethod",d===ui.EMAIL_LINK_SIGN_IN_METHOD?ui.EMAIL_LINK_SIGN_IN_METHOD:ui.EMAIL_PASSWORD_SIGN_IN_METHOD)}bs.prototype.ka=function(s){return this.signInMethod==ui.EMAIL_LINK_SIGN_IN_METHOD?ut(s,Hq,{email:this.a,oobCode:this.f}):ut(s,CR,{email:this.a,password:this.f})},bs.prototype.b=function(s,l){return this.signInMethod==ui.EMAIL_LINK_SIGN_IN_METHOD?ut(s,$q,{idToken:l,email:this.a,oobCode:this.f}):ut(s,SR,{idToken:l,email:this.a,password:this.f})},bs.prototype.c=function(s,l){return pc(this.ka(s),l)},bs.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function sq(s){return s&&s.email&&s.password?new bs(s.email,s.password,s.signInMethod):null}function ui(){mr(this,{providerId:"password",isOAuthProvider:!1})}function Zx(s,l){if(l=bb(l),!l)throw new O("argument-error","Invalid email link!");return new bs(s,l.code,ui.EMAIL_LINK_SIGN_IN_METHOD)}function bb(s){return s=Kx(s),(s=Ox(s))&&s.operation===Mp?s:null}mr(ui,{PROVIDER_ID:"password"}),mr(ui,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),mr(ui,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ws(s){if(!(s.fb&&s.eb||s.La&&s.ea))throw new O("internal-error");this.a=s,Re(this,"providerId","phone"),this.fa="phone",Re(this,"signInMethod","phone")}ws.prototype.ka=function(s){return s.gb(Cf(this))},ws.prototype.b=function(s,l){var d=Cf(this);return d.idToken=l,ut(s,lH,d)},ws.prototype.c=function(s,l){var d=Cf(this);return d.operation="REAUTH",s=ut(s,fH,d),pc(s,l)},ws.prototype.w=function(){var s={providerId:"phone"};return this.a.fb&&(s.verificationId=this.a.fb),this.a.eb&&(s.verificationCode=this.a.eb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s};function aq(s){if(s&&s.providerId==="phone"&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var l={};return ge(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(d){s[d]&&(l[d]=s[d])}),new ws(l)}return null}function Cf(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.fb,code:s.a.eb}}function Fo(s){try{this.a=s||ke.auth()}catch{throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}mr(this,{providerId:"phone",isOAuthProvider:!1})}Fo.prototype.gb=function(s,l){var d=this.a.a;return be(l.verify()).then(function(m){if(typeof m!="string")throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(l.type){case"recaptcha":var b=E(s)?s.session:null,T=E(s)?s.phoneNumber:s,S;return b&&b.type==Sf?S=b.Ha().then(function(N){return Dq(d,{idToken:N,phoneEnrollmentInfo:{phoneNumber:T,recaptchaToken:m}})}):b&&b.type==qp?S=b.Ha().then(function(N){return Mq(d,{mfaPendingCredential:N,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:m}})}):S=Pq(d,{phoneNumber:T,recaptchaToken:m}),S.then(function(N){return typeof l.reset=="function"&&l.reset(),N},function(N){throw typeof l.reset=="function"&&l.reset(),N});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function eR(s,l){if(!s)throw new O("missing-verification-id");if(!l)throw new O("missing-verification-code");return new ws({fb:s,eb:l})}mr(Fo,{PROVIDER_ID:"phone"}),mr(Fo,{PHONE_SIGN_IN_METHOD:"phone"});function wb(s){if(s.temporaryProof&&s.phoneNumber)return new ws({La:s.temporaryProof,ea:s.phoneNumber});var l=s&&s.providerId;if(!l||l==="password")return null;var d=s&&s.oauthAccessToken,m=s&&s.oauthTokenSecret,b=s&&s.nonce,T=s&&s.oauthIdToken,S=s&&s.pendingToken;try{switch(l){case"google.com":return Qx(T,d);case"facebook.com":return Yx(d);case"github.com":return Xx(d);case"twitter.com":return Jx(d,m);default:return d||m||T||S?S?l.indexOf("saml.")==0?new Aa(l,S):new Lo(l,{pendingToken:S,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},l):new Wr(l).credential({idToken:T,accessToken:d,rawNonce:b}):null}}catch{return null}}function Eb(s){if(!s.isOAuthProvider)throw new O("invalid-oauth-provider")}function Ni(s,l,d,m,b,T,S){if(this.c=s,this.b=l||null,this.g=d||null,this.f=m||null,this.i=T||null,this.h=S||null,this.a=b||null,this.g||this.a){if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}else throw new O("invalid-auth-event")}Ni.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},Ni.prototype.T=function(){return this.h},Ni.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function tR(s){return s=s||{},s.type?new Ni(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&pe(s.error),s.postBody,s.tenantId):null}function uq(){this.b=null,this.a=[]}var Tb=null;function cq(s){var l=Tb;l.a.push(s),l.b||(l.b=function(d){for(var m=0;m<l.a.length;m++)l.a[m](d)},s=Gt("universalLinks.subscribe",c),typeof s=="function"&&s(null,l.b))}function Ib(s){var l="unauthorized-domain",d=void 0,m=kr(s);s=m.a,m=m.c,m=="chrome-extension"?d=_p("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):m=="http"||m=="https"?d=_p("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):l="operation-not-supported-in-this-environment",O.call(this,l,d)}V(Ib,O);function Af(s,l,d){O.call(this,s,d),s=l||{},s.Kb&&Re(this,"email",s.Kb),s.ea&&Re(this,"phoneNumber",s.ea),s.credential&&Re(this,"credential",s.credential),s.$b&&Re(this,"tenantId",s.$b)}V(Af,O),Af.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var l=this.credential&&this.credential.w();return l&&Ft(s,l),s},Af.prototype.toJSON=function(){return this.w()};function Hp(s){if(s.code){var l=s.code||"";l.indexOf(Ee)==0&&(l=l.substring(Ee.length));var d={credential:wb(s),$b:s.tenantId};if(s.email)d.Kb=s.email;else if(s.phoneNumber)d.ea=s.phoneNumber;else if(!d.credential)return new O(l,s.message||void 0);return new Af(l,d,s.message)}return null}function xf(){}xf.prototype.c=null;function nR(s){return s.c||(s.c=s.b())}var Sb;function $p(){}V($p,xf),$p.prototype.a=function(){var s=rR(this);return s?new ActiveXObject(s):new XMLHttpRequest},$p.prototype.b=function(){var s={};return rR(this)&&(s[0]=!0,s[1]=!0),s};function rR(s){if(!s.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var l=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<l.length;d++){var m=l[d];try{return new ActiveXObject(m),s.f=m}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}Sb=new $p;function Wp(){}V(Wp,xf),Wp.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if(typeof XDomainRequest!="undefined")return new iR;throw Error("Unsupported browser")},Wp.prototype.b=function(){return{}};function iR(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=M(this.qc,this),this.a.onerror=M(this.Tb,this),this.a.onprogress=M(this.rc,this),this.a.ontimeout=M(this.vc,this)}t=iR.prototype,t.open=function(s,l,d){if(d!=null&&!d)throw Error("Only async requests are supported.");this.a.open(s,l)},t.send=function(s){if(s)if(typeof s=="string")this.a.send(s);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(s){return s.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Cb(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Cb(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Cb(this,1)};function Cb(s,l){s.readyState=l,s.onreadystatechange&&s.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Ab(s,l,d){this.reset(s,l,d,void 0,void 0)}Ab.prototype.a=null,Ab.prototype.reset=function(s,l,d,m,b){delete this.a};function xb(s){this.f=s,this.b=this.c=this.a=null}function Rf(s,l){this.name=s,this.value=l}Rf.prototype.toString=function(){return this.name};var oR=new Rf("SEVERE",1e3),Rb=new Rf("WARNING",900),lq=new Rf("CONFIG",700),fq=new Rf("FINE",500);function sR(s){return s.c?s.c:s.a?sR(s.a):(Pe("Root logger has no level set."),null)}xb.prototype.log=function(s,l,d){if(s.value>=sR(this).value)for(w(l)&&(l=l()),s=new Ab(s,String(l),this.f),d&&(s.a=d),d=this;d;)d=d.a};var kb={},zp=null;function Ob(s){zp||(zp=new xb(""),kb[""]=zp,zp.c=lq);var l;if(!(l=kb[s])){l=new xb(s);var d=s.lastIndexOf("."),m=s.substr(d+1);d=Ob(s.substr(0,d)),d.b||(d.b={}),d.b[m]=l,l.a=d,kb[s]=l}return l}function ci(s,l){s&&s.log(fq,l,void 0)}function Kp(s){this.f=s}V(Kp,xf),Kp.prototype.a=function(){return new Gp(this.f)},Kp.prototype.b=function(s){return function(){return s}}({});function Gp(s){gr.call(this),this.u=s,this.h=void 0,this.readyState=Nb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ob("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}V(Gp,gr);var Nb=0;t=Gp.prototype,t.open=function(s,l){if(this.readyState!=Nb)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=l,this.readyState=1,Of(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var l={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(l.body=s),this.u.fetch(new Request(this.f,l)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,kf(this)),this.readyState=Nb},t.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,Of(this)),this.a&&(this.readyState=3,Of(this),this.a&&(this.responseType==="arraybuffer"?s.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream!="undefined"&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,aR(this)):s.text().then(this.tc.bind(this),this.Va.bind(this)))))};function aR(s){s.c.read().then(s.pc.bind(s)).catch(s.Va.bind(s))}t.pc=function(s){if(this.a){var l=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});l&&(this.response=this.responseText+=l),s.done?kf(this):Of(this),this.readyState==3&&aR(this)}},t.tc=function(s){this.a&&(this.response=this.responseText=s,kf(this))},t.sc=function(s){this.a&&(this.response=s,kf(this))},t.Va=function(s){var l=this.i;l&&l.log(Rb,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&kf(this)};function kf(s){s.readyState=4,s.g=null,s.c=null,s.m=null,Of(s)}t.setRequestHeader=function(s,l){this.l.append(s,l)},t.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(Rb,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(Rb,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var l=this.b.entries(),d=l.next();!d.done;)d=d.value,s.push(d[0]+": "+d[1]),d=l.next();return s.join(`\r
`)};function Of(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(Gp.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(s){this.h=s?"include":"same-origin"}});function Nf(s){gr.call(this),this.headers=new ac,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=uR,this.u=this.S=!1}V(Nf,gr);var uR="";Nf.prototype.b=Ob("goog.net.XhrIo");var hq=/^https?$/i,dq=["POST","PUT"];function pq(s,l,d,m,b){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+l);d=d?d.toUpperCase():"GET",s.l=l,s.h="",s.P=d,s.J=!1,s.c=!0,s.a=s.D?s.D.a():Sb.a(),s.C=s.D?nR(s.D):nR(Sb),s.a.onreadystatechange=M(s.Wb,s);try{ci(s.b,Uo(s,"Opening Xhr")),s.N=!0,s.a.open(d,String(l),!0),s.N=!1}catch(S){ci(s.b,Uo(s,"Error opening Xhr: "+S.message)),cR(s,S);return}l=m||"";var T=new ac(s.headers);b&&b3(b,function(S,N){T.set(N,S)}),b=L(T.Y()),m=c.FormData&&l instanceof c.FormData,!j(dq,d)||b||m||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),T.forEach(function(S,N){this.a.setRequestHeader(N,S)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{hR(s),0<s.g&&(s.u=gq(s.a),ci(s.b,Uo(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=M(s.Ma,s)):s.s=W_(s.Ma,s.g,s)),ci(s.b,Uo(s,"Sending request")),s.i=!0,s.a.send(l),s.i=!1}catch(S){ci(s.b,Uo(s,"Send error: "+S.message)),cR(s,S)}}function gq(s){return _n&&Tp(9)&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function mq(s){return s.toLowerCase()=="content-type"}t=Nf.prototype,t.Ma=function(){typeof u!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ci(this.b,Uo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function cR(s,l){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=l,lR(s),Yp(s)}function lR(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(ci(this.b,Uo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Yp(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Yp(this,!0)),Nf.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?fR(this):this.Jc())},t.Jc=function(){fR(this)};function fR(s){if(s.c&&typeof u!="undefined"){if(s.C[1]&&Pf(s)==4&&Xp(s)==2)ci(s.b,Uo(s,"Local request error detected and ignored"));else if(s.i&&Pf(s)==4)W_(s.Wb,0,s);else if(s.dispatchEvent("readystatechange"),Pf(s)==4){ci(s.b,Uo(s,"Request complete")),s.c=!1;try{var l=Xp(s);e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var b;if(b=l===0){var T=String(s.l).match(ix)[1]||null;if(!T&&c.self&&c.self.location){var S=c.self.location.protocol;T=S.substr(0,S.length-1)}b=!hq.test(T?T.toLowerCase():"")}m=b}if(m)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var N=2<Pf(s)?s.a.statusText:""}catch(Y){ci(s.b,"Can not get status: "+Y.message),N=""}s.h=N+" ["+Xp(s)+"]",lR(s)}}finally{Yp(s)}}}}function Yp(s,l){if(s.a){hR(s);var d=s.a,m=s.C[0]?g:null;s.a=null,s.C=null,l||s.dispatchEvent("ready");try{d.onreadystatechange=m}catch(b){(s=s.b)&&s.log(oR,"Problem encountered resetting onreadystatechange: "+b.message,void 0)}}}function hR(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(c.clearTimeout(s.s),s.s=null)}function Pf(s){return s.a?s.a.readyState:0}function Xp(s){try{return 2<Pf(s)?s.a.status:-1}catch{return-1}}function vq(s){try{return s.a?s.a.responseText:""}catch(l){return ci(s.b,"Can not get responseText: "+l.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case uR:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(oR,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(l){return ci(this.b,"Can not get response: "+l.message),null}};function Uo(s,l){return l+" ["+s.P+" "+s.l+" "+Xp(s)+"]"}function Na(s){var l=bq;this.g=[],this.u=l,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Na.prototype.cancel=function(s){if(this.a)this.c instanceof Na&&this.c.cancel();else{if(this.b){var l=this.b;delete this.b,s?l.cancel(s):(l.l--,0>=l.l&&l.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new Mf(this),Qp(this),Df(this,!1,s))}},Na.prototype.m=function(s,l){this.i=!1,Df(this,s,l)};function Df(s,l,d){s.a=!0,s.c=d,s.f=!l,pR(s)}function Qp(s){if(s.a){if(!s.v)throw new Jp(s);s.v=!1}}function yq(s,l){Pb(s,null,l,void 0)}function Pb(s,l,d,m){s.g.push([l,d,m]),s.a&&pR(s)}Na.prototype.then=function(s,l,d){var m,b,T=new le(function(S,N){m=S,b=N});return Pb(this,m,function(S){S instanceof Mf?T.cancel():b(S)}),T.then(s,l,d)},Na.prototype.$goog_Thenable=!0;function dR(s){return Ge(s.g,function(l){return w(l[1])})}function pR(s){if(s.h&&s.a&&dR(s)){var l=s.h,d=Zp[l];d&&(c.clearTimeout(d.a),delete Zp[l]),s.h=0}s.b&&(s.b.l--,delete s.b),l=s.c;for(var m=d=!1;s.g.length&&!s.i;){var b=s.g.shift(),T=b[0],S=b[1];if(b=b[2],T=s.f?S:T)try{var N=T.call(b||s.s,l);N!==void 0&&(s.f=s.f&&(N==l||N instanceof Error),s.c=l=N),(z(l)||typeof c.Promise=="function"&&l instanceof c.Promise)&&(m=!0,s.i=!0)}catch(Y){l=Y,s.f=!0,dR(s)||(d=!0)}}s.c=l,m&&(N=M(s.m,s,!0),m=M(s.m,s,!1),l instanceof Na?(Pb(l,N,m),l.C=!0):l.then(N,m)),d&&(l=new gR(l),Zp[l.a]=l,s.h=l.a)}function Jp(){J.call(this)}V(Jp,J),Jp.prototype.message="Deferred has already fired",Jp.prototype.name="AlreadyCalledError";function Mf(){J.call(this)}V(Mf,J),Mf.prototype.message="Deferred was canceled",Mf.prototype.name="CanceledError";function gR(s){this.a=c.setTimeout(M(this.c,this),0),this.b=s}gR.prototype.c=function(){throw delete Zp[this.a],this.b};var Zp={};function Db(s){var l=document,d=pa(s).toString(),m=_a(document,"SCRIPT"),b={Xb:m,Ma:void 0},T=new Na(b),S=null,N=5e3;return S=window.setTimeout(function(){eg(m,!0);var Y=new Mb(Eq,"Timeout reached for loading script "+d);Qp(T),Df(T,!1,Y)},N),b.Ma=S,m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(eg(m,!1,S),Qp(T),Df(T,!0,null))},m.onerror=function(){eg(m,!0,S);var Y=new Mb(wq,"Error while loading script "+d);Qp(T),Df(T,!1,Y)},b={},Ft(b,{type:"text/javascript",charset:"UTF-8"}),lf(m,b),O_(m,s),_q(l).appendChild(m),T}function _q(s){var l;return(l=(s||document).getElementsByTagName("HEAD"))&&l.length!=0?l[0]:s.documentElement}function bq(){if(this&&this.Xb){var s=this.Xb;s&&s.tagName=="SCRIPT"&&eg(s,!0,this.Ma)}}function eg(s,l,d){d!=null&&c.clearTimeout(d),s.onload=g,s.onerror=g,s.onreadystatechange=g,l&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var wq=0,Eq=1;function Mb(s,l){var d="Jsloader error (code #"+s+")";l&&(d+=": "+l),J.call(this,d),this.code=s}V(Mb,J);function tg(s){this.f=s}V(tg,xf),tg.prototype.a=function(){return new this.f},tg.prototype.b=function(){return{}};function Pi(s,l,d){if(this.c=s,s=l||{},this.l=s.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||Tq,this.g=Hr(s.secureTokenHeaders||Iq),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||Sq,this.a=Hr(s.firebaseHeaders||Cq),d&&(this.a["X-Client-Version"]=d,this.g["X-Client-Version"]=d),d=oo()=="Node",d=c.XMLHttpRequest||d&&ke.INTERNAL.node&&ke.INTERNAL.node.XMLHttpRequest,!d&&!Oi())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Oi()?this.f=new Kp(self):mx()?this.f=new tg(d):this.f=new Wp,this.b=null}var Lb,Di="idToken",Tq=new _s(3e4,6e4),Iq={"Content-Type":"application/x-www-form-urlencoded"},Sq=new _s(3e4,6e4),Cq={"Content-Type":"application/json"};function mR(s,l){l?s.a["X-Firebase-Locale"]=l:delete s.a["X-Firebase-Locale"]}function ng(s,l){l&&(s.l=Fb("https://securetoken.googleapis.com/v1/token",l),s.h=Fb("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",l),s.i=Fb("https://identitytoolkit.googleapis.com/v2/",l))}function Fb(s,l){return s=kr(s),l=kr(l.url),s.f=s.a+s.f,pf(s,l.c),s.a=l.a,gf(s,l.g),s.toString()}function vR(s,l){l?(s.a["X-Client-Version"]=l,s.g["X-Client-Version"]=l):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}Pi.prototype.T=function(){return this.b};function yR(s,l,d,m,b,T,S){k3()||Oi()?s=M(s.u,s):(Lb||(Lb=new le(function(N,Y){xq(N,Y)})),s=M(s.s,s)),s(l,d,m,b,T,S)}Pi.prototype.u=function(s,l,d,m,b,T){if(Oi()&&(typeof c.fetch=="undefined"||typeof c.Headers=="undefined"||typeof c.Request=="undefined"))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var S=new Nf(this.f);if(T){S.g=Math.max(0,T);var N=setTimeout(function(){S.dispatchEvent("timeout")},T)}tx(S,"complete",function(){N&&clearTimeout(N);var Y=null;try{Y=JSON.parse(vq(this))||null}catch{Y=null}l&&l(Y)}),$_(S,"ready",function(){N&&clearTimeout(N),GA(this)}),$_(S,"timeout",function(){N&&clearTimeout(N),GA(this),l&&l(null)}),pq(S,s,d,m,b)};var Aq=new oi(gs,"https://apis.google.com/js/client.js?onload=%{onload}"),_R="__fcb"+Math.floor(1e6*Math.random()).toString();function xq(s,l){if(((window.gapi||{}).client||{}).request)s();else{c[_R]=function(){((window.gapi||{}).client||{}).request?s():l(Error("CORS_UNSUPPORTED"))};var d=tf(Aq,{onload:_R});yq(Db(d),function(){l(Error("CORS_UNSUPPORTED"))})}}Pi.prototype.s=function(s,l,d,m,b){var T=this;Lb.then(function(){window.gapi.client.setApiKey(T.c);var S=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:d,body:m,headers:b,authType:"none",callback:function(N){window.gapi.auth.setToken(S),l&&l(N)}})}).o(function(S){l&&l({error:{message:S&&S.message||"CORS_UNSUPPORTED"}})})};function Rq(s,l){return new le(function(d,m){l.grant_type=="refresh_token"&&l.refresh_token||l.grant_type=="authorization_code"&&l.code?yR(s,s.l+"?key="+encodeURIComponent(s.c),function(b){b?b.error?m(Wb(b)):b.access_token&&b.refresh_token?d(b):m(new O("internal-error")):m(new O("network-request-failed"))},"POST",sx(l).toString(),s.g,s.m.get()):m(new O("internal-error"))})}function bR(s,l,d,m,b,T,S){var N=kr(l+d);sn(N,"key",s.c),S&&sn(N,"cb",Date.now().toString());var Y=m=="GET";if(Y)for(var re in b)b.hasOwnProperty(re)&&sn(N,re,b[re]);return new le(function(He,Rt){yR(s,N.toString(),function(yt){yt?yt.error?Rt(Wb(yt,T||{})):He(yt):Rt(new O("network-request-failed"))},m,Y?void 0:cx(_x(b)),s.a,s.v.get())})}function Pa(s){if(s=s.email,typeof s!="string"||!P3.test(s))throw new O("invalid-email")}function wR(s){"email"in s&&Pa(s)}function kq(s,l){return ut(s,Bq,{identifier:l,continueUri:Dp()?yf():"http://localhost"}).then(function(d){return d.signinMethods||[]})}function Oq(s){return ut(s,Jq,{}).then(function(l){return l.authorizedDomains||[]})}function Or(s){if(!s[Di])throw s.mfaPendingCredential?new O("multi-factor-auth-required",null,Hr(s)):new O("internal-error")}function Ub(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new O("internal-error")}else{if(!s.sessionInfo)throw new O("missing-verification-id");if(!s.code)throw new O("missing-verification-code")}}Pi.prototype.Ab=function(){return ut(this,nH,{})},Pi.prototype.Cb=function(s,l){return ut(this,IR,{idToken:s,email:l})},Pi.prototype.Db=function(s,l){return ut(this,SR,{idToken:s,password:l})};var Nq={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Pi.prototype,t.Eb=function(s,l){var d={idToken:s},m=[];return fa(Nq,function(b,T){var S=l[T];S===null?m.push(b):T in l&&(d[T]=S)}),m.length&&(d.deleteAttribute=m),ut(this,IR,d)},t.wb=function(s,l){return s={requestType:"PASSWORD_RESET",email:s},Ft(s,l),ut(this,Qq,s)},t.xb=function(s,l){return s={requestType:"EMAIL_SIGNIN",email:s},Ft(s,l),ut(this,Gq,s)},t.vb=function(s,l){return s={requestType:"VERIFY_EMAIL",idToken:s},Ft(s,l),ut(this,Yq,s)},t.Fb=function(s,l,d){return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:l},Ft(s,d),ut(this,Xq,s)};function Pq(s,l){return ut(s,tH,l)}t.gb=function(s){return ut(this,cH,s)};function Dq(s,l){return ut(s,rH,l).then(function(d){return d.phoneSessionInfo.sessionInfo})}function ER(s){if(!s.phoneVerificationInfo)throw new O("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new O("missing-verification-code")}function Mq(s,l){return ut(s,iH,l).then(function(d){return d.phoneResponseInfo.sessionInfo})}function Lq(s,l,d){return ut(s,qq,{idToken:l,deleteProvider:d})}function jb(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new O("internal-error")}function Bb(s,l){return l.oauthIdToken&&l.providerId&&l.providerId.indexOf("oidc.")==0&&!l.pendingToken&&(s.sessionId?l.nonce=s.sessionId:s.postBody&&(s=new Ta(s.postBody),G_(s,"nonce")&&(l.nonce=s.get("nonce")))),l}function TR(s){var l=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",l=Hp(s)):s.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(s.code="credential-already-in-use",l=Hp(s)):s.errorMessage=="EMAIL_EXISTS"?(s.code="email-already-in-use",l=Hp(s)):s.errorMessage&&(l=AR(s.errorMessage)),l)throw l;Or(s)}function Vb(s,l){return l.returnIdpCredential=!0,ut(s,oH,l)}function qb(s,l){return l.returnIdpCredential=!0,ut(s,aH,l)}function Hb(s,l){return l.returnIdpCredential=!0,l.autoCreate=!1,ut(s,sH,l)}function $b(s){if(!s.oobCode)throw new O("invalid-action-code")}t.ob=function(s,l){return ut(this,eH,{oobCode:s,newPassword:l})},t.Sa=function(s){return ut(this,Uq,{oobCode:s})},t.kb=function(s){return ut(this,Fq,{oobCode:s})};var Fq={endpoint:"setAccountInfo",A:$b,Z:"email",B:!0},Uq={endpoint:"resetPassword",A:$b,G:function(s){var l=s.requestType;if(!l||!s.email&&l!="EMAIL_SIGNIN"&&l!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},B:!0},jq={endpoint:"signupNewUser",A:function(s){if(Pa(s),!s.password)throw new O("weak-password")},G:Or,V:!0,B:!0},Bq={endpoint:"createAuthUri",B:!0},Vq={endpoint:"deleteAccount",O:["idToken"]},qq={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new O("internal-error")}},Hq={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Pa,G:Or,V:!0,B:!0},$q={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Pa,G:Or,V:!0},Wq={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ER,G:Or,B:!0,Na:!0},zq={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ER,G:Or,B:!0,Na:!0},Kq={endpoint:"getAccountInfo"},Gq={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="EMAIL_SIGNIN")throw new O("internal-error");Pa(s)},Z:"email",B:!0},Yq={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(s){if(s.requestType!="VERIFY_EMAIL")throw new O("internal-error")},Z:"email",B:!0},Xq={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(s){if(s.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},Z:"email",B:!0},Qq={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="PASSWORD_RESET")throw new O("internal-error");Pa(s)},Z:"email",B:!0},Jq={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Zq={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new O("internal-error")}},eH={endpoint:"resetPassword",A:$b,Z:"email",B:!0},tH={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},IR={endpoint:"setAccountInfo",O:["idToken"],A:wR,V:!0},SR={endpoint:"setAccountInfo",O:["idToken"],A:function(s){if(wR(s),!s.password)throw new O("weak-password")},G:Or,V:!0},nH={endpoint:"signupNewUser",G:Or,V:!0,B:!0},rH={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new O("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},iH={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},oH={endpoint:"verifyAssertion",A:jb,Za:Bb,G:TR,V:!0,B:!0},sH={endpoint:"verifyAssertion",A:jb,Za:Bb,G:function(s){if(s.errorMessage&&s.errorMessage=="USER_NOT_FOUND")throw new O("user-not-found");if(s.errorMessage)throw AR(s.errorMessage);Or(s)},V:!0,B:!0},aH={endpoint:"verifyAssertion",A:function(s){if(jb(s),!s.idToken)throw new O("internal-error")},Za:Bb,G:TR,V:!0},uH={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new O("invalid-custom-token")},G:Or,V:!0,B:!0},CR={endpoint:"verifyPassword",A:function(s){if(Pa(s),!s.password)throw new O("wrong-password")},G:Or,V:!0,B:!0},cH={endpoint:"verifyPhoneNumber",A:Ub,G:Or,B:!0},lH={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new O("internal-error");Ub(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",Hp(s);Or(s)}},fH={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Ub,G:Or,B:!0},hH={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[Di]^!!s.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function ut(s,l,d){if(!B3(d,l.O))return xt(new O("internal-error"));var m=!!l.Na,b=l.Vb||"POST",T;return be(d).then(l.A).then(function(){return l.V&&(d.returnSecureToken=!0),l.B&&s.b&&typeof d.tenantId=="undefined"&&(d.tenantId=s.b),m?bR(s,s.i,l.endpoint,b,d,l.Ib,l.mb||!1):bR(s,s.h,l.endpoint,b,d,l.Ib,l.mb||!1)}).then(function(S){return T=S,l.Za?l.Za(d,T):T}).then(l.G).then(function(){if(!l.Z)return T;if(!(l.Z in T))throw new O("internal-error");return T[l.Z]})}function AR(s){return Wb({error:{errors:[{message:s}],code:400,message:s}})}function Wb(s,l){var d=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",m={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(d=m[d]?new O(m[d]):null)return d;d=s.error&&s.error.message||"",m={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ft(m,l||{}),l=(l=d.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<l.length?l[1]:void 0;for(var b in m)if(d.indexOf(b)===0)return new O(m[b],l);return!l&&s&&(l=bf(s)),new O("internal-error",l)}function dH(s){this.b=s,this.a=null,this.sb=pH(this)}function pH(s){return bH().then(function(){return new le(function(l,d){Gt("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:Gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(m){function b(){clearTimeout(T),l()}s.a=m,s.a.restyle({setHideOnLeave:!1});var T=setTimeout(function(){d(Error("Network Error"))},_H.get());m.ping(b).then(b,function(){d(Error("Network Error"))})})})})}function gH(s,l){return s.sb.then(function(){return new le(function(d){s.a.send(l.type,l,d,Gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function mH(s,l){s.sb.then(function(){s.a.register("authEvent",l,Gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var vH=new oi(gs,"https://apis.google.com/js/api.js?onload=%{onload}"),yH=new _s(3e4,6e4),_H=new _s(5e3,15e3),rg=null;function bH(){return rg||(rg=new le(function(s,l){function d(){wx(),Gt("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){wx(),l(Error("Network Error"))},timeout:yH.get()})}if(Gt("gapi.iframes.Iframe"))s();else if(Gt("gapi.load"))d();else{var m="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[m]=function(){Gt("gapi.load")?d():l(Error("Network Error"))},m=tf(vH,{onload:m}),be(Db(m)).o(function(){l(Error("Network Error"))})}}).o(function(s){throw rg=null,s}))}function xR(s,l,d,m){this.l=s,this.h=l,this.i=d,this.g=m,this.f=null,this.g?(s=kr(this.g.url),s=Np(s.c,s.a,s.g,"/emulator/auth/iframe")):s=Np("https",this.l,null,"/__/auth/iframe"),this.a=s,sn(this.a,"apiKey",this.h),sn(this.a,"appName",this.i),this.b=null,this.c=[]}xR.prototype.toString=function(){return this.f?sn(this.a,"v",this.f):io(this.a.b,"v"),this.b?sn(this.a,"eid",this.b):io(this.a.b,"eid"),this.c.length?sn(this.a,"fw",this.c.join(",")):io(this.a.b,"fw"),this.a.toString()};function zb(s,l,d,m,b,T){this.u=s,this.s=l,this.c=d,this.m=m,this.v=T,this.i=this.g=this.l=null,this.a=b,this.h=this.f=null}zb.prototype.zb=function(s){return this.h=s,this},zb.prototype.toString=function(){if(this.v){var s=kr(this.v.url);s=Np(s.c,s.a,s.g,"/emulator/auth/handler")}else s=Np("https",this.u,null,"/__/auth/handler");if(sn(s,"apiKey",this.s),sn(s,"appName",this.c),sn(s,"authType",this.m),this.a.isOAuthProvider){var l=this.a;try{var d=ke.app(this.c).auth().la()}catch{d=null}l.pb=d,sn(s,"providerId",this.a.providerId),d=this.a,l=_x(d.Jb);for(var m in l)l[m]=l[m].toString();m=d.Qc,l=Hr(l);for(var b=0;b<m.length;b++){var T=m[b];T in l&&delete l[T]}d.qb&&d.pb&&!l[d.qb]&&(l[d.qb]=d.pb),yn(l)||sn(s,"customParameters",bf(l))}if(typeof this.a.Rb=="function"&&(d=this.a.Rb(),d.length&&sn(s,"scopes",d.join(","))),this.l?sn(s,"redirectUrl",this.l):io(s.b,"redirectUrl"),this.g?sn(s,"eventId",this.g):io(s.b,"eventId"),this.i?sn(s,"v",this.i):io(s.b,"v"),this.b)for(var S in this.b)this.b.hasOwnProperty(S)&&!ai(s,S)&&sn(s,S,this.b[S]);return this.h?sn(s,"tid",this.h):io(s.b,"tid"),this.f?sn(s,"eid",this.f):io(s.b,"eid"),S=Kb(this.c),S.length&&sn(s,"fw",S.join(",")),s.toString()};function Kb(s){try{return ke.app(s).auth().Ga()}catch{return[]}}function RR(s,l,d,m,b,T){this.s=s,this.g=l,this.b=d,this.f=T,this.c=m||null,this.i=b||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function kR(s){var l=yf();return Oq(s).then(function(d){e:{var m=kr(l),b=m.c;m=m.a;for(var T=0;T<d.length;T++){var S=d[T],N=m,Y=b;if(S.indexOf("chrome-extension://")==0?N=kr(S).a==N&&Y=="chrome-extension":Y!="http"&&Y!="https"?N=!1:N3.test(S)?N=N==S:(S=S.split(".").join("\\."),N=new RegExp("^(.+\\."+S+"|"+S+")$","i").test(N)),N){d=!0;break e}}d=!1}if(!d)throw new Ib(yf())})}function OR(s){return s.m||(s.m=Pp().then(function(){if(!s.u){var l=s.c,d=s.i,m=Kb(s.b),b=new xR(s.s,s.g,s.b,s.f);b.f=l,b.b=d,b.c=ae(m||[]),s.u=b.toString()}s.v=new dH(s.u),wH(s)})),s.m}t=RR.prototype,t.Pb=function(s,l,d){var m=new O("popup-closed-by-user"),b=new O("web-storage-unsupported"),T=this,S=!1;return this.ma().then(function(){EH(T).then(function(N){N||(s&&Ia(s),l(b),S=!0)})}).o(function(){}).then(function(){if(!S)return O3(s)}).then(function(){if(!S)return sc(d).then(function(){l(m)})})},t.Yb=function(){var s=qn();return!_f(s)&&!bx(s)},t.Ub=function(){return!1},t.Nb=function(s,l,d,m,b,T,S,N){if(!s)return xt(new O("popup-blocked"));if(S&&!_f())return this.ma().o(function(re){Ia(s),b(re)}),m(),be();this.a||(this.a=kR(NR(this)));var Y=this;return this.a.then(function(){var re=Y.ma().o(function(He){throw Ia(s),b(He),He});return m(),re}).then(function(){if(Eb(d),!S){var re=Lf(Y.s,Y.g,Y.b,l,d,null,T,Y.c,void 0,Y.i,N,Y.f);hx(re,s)}}).o(function(re){throw re.code=="auth/network-request-failed"&&(Y.a=null),re})};function NR(s){return s.l||(s.C=s.c?lc(s.c,Kb(s.b)):null,s.l=new Pi(s.g,ve(s.i),s.C),s.f&&ng(s.l,s.f)),s.l}t.Ob=function(s,l,d,m){this.a||(this.a=kR(NR(this)));var b=this;return this.a.then(function(){Eb(l);var T=Lf(b.s,b.g,b.b,s,l,yf(),d,b.c,void 0,b.i,m,b.f);hx(T)}).o(function(T){throw T.code=="auth/network-request-failed"&&(b.a=null),T})},t.ma=function(){var s=this;return OR(this).then(function(){return s.v.sb}).o(function(){throw s.a=null,new O("network-request-failed")})},t.ac=function(){return!0};function Lf(s,l,d,m,b,T,S,N,Y,re,He,Rt){return s=new zb(s,l,d,m,b,Rt),s.l=T,s.g=S,s.i=N,s.b=Hr(Y||null),s.f=re,s.zb(He).toString()}function wH(s){if(!s.v)throw Error("IfcHandler must be initialized!");mH(s.v,function(l){var d={};if(l&&l.authEvent){var m=!1;for(l=tR(l.authEvent),d=0;d<s.h.length;d++)m=s.h[d](l)||m;return d={},d.status=m?"ACK":"ERROR",be(d)}return d.status="ERROR",be(d)})}function EH(s){var l={type:"webStorageSupport"};return OR(s).then(function(){return gH(s.v,l)}).then(function(d){if(d&&d.length&&typeof d[0].webStorageSupport!="undefined")return d[0].webStorageSupport;throw Error()})}t.Ea=function(s){this.h.push(s)},t.Ta=function(s){ee(this.h,function(l){return l==s})};function PR(s){if(this.a=s||ke.INTERNAL.reactNative&&ke.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=PR.prototype,t.get=function(s){return be(this.a.getItem(s)).then(function(l){return l&&hc(l)})},t.set=function(s,l){return be(this.a.setItem(s,bf(l)))},t.U=function(s){return be(this.a.removeItem(s))},t.ca=function(){},t.ia=function(){};function DR(s){this.b=s,this.a={},this.f=M(this.c,this)}var MR=[];function TH(){var s=Oi()?self:null;if(ge(MR,function(d){d.b==s&&(l=d)}),!l){var l=new DR(s);MR.push(l)}return l}DR.prototype.c=function(s){var l=s.data.eventType,d=s.data.eventId,m=this.a[l];if(m&&0<m.length){s.ports[0].postMessage({status:"ack",eventId:d,eventType:l,response:null});var b=[];ge(m,function(T){b.push(be().then(function(){return T(s.origin,s.data.data)}))}),jA(b).then(function(T){var S=[];ge(T,function(N){S.push({fulfilled:N.Qb,value:N.value,reason:N.reason?N.reason.message:void 0})}),ge(S,function(N){for(var Y in N)typeof N[Y]=="undefined"&&delete N[Y]}),s.ports[0].postMessage({status:"done",eventId:d,eventType:l,response:S})})}};function LR(s,l,d){yn(s.a)&&s.b.addEventListener("message",s.f),typeof s.a[l]=="undefined"&&(s.a[l]=[]),s.a[l].push(d)}function FR(s){this.a=s}FR.prototype.postMessage=function(s,l){this.a.postMessage(s,l)};function UR(s){this.c=s,this.b=!1,this.a=[]}function jR(s,l,d,m){var b,T=d||{},S,N,Y,re=null;if(s.b)return xt(Error("connection_unavailable"));var He=m?800:50,Rt=typeof MessageChannel!="undefined"?new MessageChannel:null;return new le(function(yt,Nn){Rt?(b=Math.floor(Math.random()*Math.pow(10,20)).toString(),Rt.port1.start(),N=setTimeout(function(){Nn(Error("unsupported_event"))},He),S=function(jo){jo.data.eventId===b&&(jo.data.status==="ack"?(clearTimeout(N),Y=setTimeout(function(){Nn(Error("timeout"))},3e3)):jo.data.status==="done"?(clearTimeout(Y),typeof jo.data.response!="undefined"?yt(jo.data.response):Nn(Error("unknown_error"))):(clearTimeout(N),clearTimeout(Y),Nn(Error("invalid_response"))))},re={messageChannel:Rt,onMessage:S},s.a.push(re),Rt.port1.addEventListener("message",S),s.c.postMessage({eventType:l,eventId:b,data:T},[Rt.port2])):Nn(Error("connection_unavailable"))}).then(function(yt){return Gb(s,re),yt}).o(function(yt){throw Gb(s,re),yt})}function Gb(s,l){if(l){var d=l.messageChannel,m=l.onMessage;d&&(d.port1.removeEventListener("message",m),d.port1.close()),ee(s.a,function(b){return b==l})}}UR.prototype.close=function(){for(;0<this.a.length;)Gb(this,this.a[0]);this.b=!0};function BR(){if(!Qb())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;Oi()&&self?(this.v=TH(),LR(this.v,"keyChanged",function(l,d){return HR(s).then(function(m){return 0<m.length&&ge(s.a,function(b){b(m)}),{keyProcessed:j(m,d.key)}})}),LR(this.v,"ping",function(){return be(["keyChanged"])})):U3().then(function(l){(s.h=l)&&(s.g=new UR(new FR(l)),jR(s.g,"ping",null,!0).then(function(d){d[0].fulfilled&&j(d[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}var Yb;function IH(s){return new le(function(l,d){var m=s.m.deleteDatabase("firebaseLocalStorageDb");m.onsuccess=function(){l()},m.onerror=function(b){d(Error(b.target.error))}})}function VR(s){return new le(function(l,d){var m=s.m.open("firebaseLocalStorageDb",1);m.onerror=function(b){try{b.preventDefault()}catch{}d(Error(b.target.error))},m.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(T){d(T)}},m.onsuccess=function(b){b=b.target.result,b.objectStoreNames.contains("firebaseLocalStorage")?l(b):IH(s).then(function(){return VR(s)}).then(function(T){l(T)}).o(function(T){d(T)})}})}function Xb(s){return s.i||(s.i=VR(s)),s.i}function ig(s,l){function d(b,T){Xb(s).then(l).then(b).o(function(S){if(3<++m)T(S);else return Xb(s).then(function(N){return N.close(),s.i=void 0,d(b,T)}).o(function(N){T(N)})})}var m=0;return new le(d)}function Qb(){try{return!!c.indexedDB}catch{return!1}}function Ff(s){return s.objectStore("firebaseLocalStorage")}function Uf(s,l){return s.transaction(["firebaseLocalStorage"],l?"readwrite":"readonly")}function mc(s){return new le(function(l,d){s.onsuccess=function(m){m&&m.target?l(m.target.result):l()},s.onerror=function(m){d(m.target.error)}})}t=BR.prototype,t.set=function(s,l){var d=this,m=!1;return ig(this,function(b){return b=Ff(Uf(b,!0)),mc(b.get(s))}).then(function(b){return ig(d,function(T){if(T=Ff(Uf(T,!0)),b)return b.value=l,mc(T.put(b));d.b++,m=!0;var S={};return S.fbase_key=s,S.value=l,mc(T.add(S))})}).then(function(){return d.c[s]=l,qR(d,s)}).oa(function(){m&&d.b--})};function qR(s,l){return s.g&&s.h&&F3()===s.h?jR(s.g,"keyChanged",{key:l},s.s).then(function(){}).o(function(){}):be()}t.get=function(s){return ig(this,function(l){return mc(Ff(Uf(l,!1)).get(s))}).then(function(l){return l&&l.value})},t.U=function(s){var l=this,d=!1;return ig(this,function(m){return d=!0,l.b++,mc(Ff(Uf(m,!0)).delete(s))}).then(function(){return delete l.c[s],qR(l,s)}).oa(function(){d&&l.b--})};function HR(s){return Xb(s).then(function(l){var d=Ff(Uf(l,!1));return d.getAll?mc(d.getAll()):new le(function(m,b){var T=[],S=d.openCursor();S.onsuccess=function(N){(N=N.target.result)?(T.push(N.value),N.continue()):m(T)},S.onerror=function(N){b(N.target.error)}})}).then(function(l){var d={},m=[];if(s.b==0){for(m=0;m<l.length;m++)d[l[m].fbase_key]=l[m].value;m=dx(s.c,d),s.c=d}return m})}t.ca=function(s){this.a.length==0&&SH(this),this.a.push(s)},t.ia=function(s){ee(this.a,function(l){return l==s}),this.a.length==0&&$R(this)};function SH(s){function l(){s.f=setTimeout(function(){s.l=HR(s).then(function(d){0<d.length&&ge(s.a,function(m){m(d)})}).then(function(){l()}).o(function(d){d.message!="STOP_EVENT"&&l()})},800)}$R(s),l()}function $R(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function WR(s){var l=this,d=null;this.a=[],this.type="indexedDB",this.c=s,this.b=be().then(function(){if(Qb()){var m=Ca(),b="__sak"+m;return Yb||(Yb=new BR),d=Yb,d.set(b,m).then(function(){return d.get(b)}).then(function(T){if(T!==m)throw Error("indexedDB not supported!");return d.U(b)}).then(function(){return d}).o(function(){return l.c})}return l.c}).then(function(m){return l.type=m.type,m.ca(function(b){ge(l.a,function(T){T(b)})}),m})}t=WR.prototype,t.get=function(s){return this.b.then(function(l){return l.get(s)})},t.set=function(s,l){return this.b.then(function(d){return d.set(s,l)})},t.U=function(s){return this.b.then(function(l){return l.U(s)})},t.ca=function(s){this.a.push(s)},t.ia=function(s){ee(this.a,function(l){return l==s})};function jf(){this.a={},this.type="inMemory"}t=jf.prototype,t.get=function(s){return be(this.a[s])},t.set=function(s,l){return this.a[s]=l,be()},t.U=function(s){return delete this.a[s],be()},t.ca=function(){},t.ia=function(){};function og(){if(!CH())throw oo()=="Node"?new O("internal-error","The LocalStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=zR()||ke.INTERNAL.node.localStorage,this.type="localStorage"}function zR(){try{var s=c.localStorage,l=Ca();return s&&(s.setItem(l,"1"),s.removeItem(l)),s}catch{return null}}function CH(){var s=oo()=="Node";if(s=zR()||s&&ke.INTERNAL.node&&ke.INTERNAL.node.localStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=og.prototype,t.get=function(s){var l=this;return be().then(function(){var d=l.a.getItem(s);return hc(d)})},t.set=function(s,l){var d=this;return be().then(function(){var m=bf(l);m===null?d.U(s):d.a.setItem(s,m)})},t.U=function(s){var l=this;return be().then(function(){l.a.removeItem(s)})},t.ca=function(s){c.window&&si(c.window,"storage",s)},t.ia=function(s){c.window&&$r(c.window,"storage",s)};function Jb(){this.type="nullStorage"}t=Jb.prototype,t.get=function(){return be(null)},t.set=function(){return be()},t.U=function(){return be()},t.ca=function(){},t.ia=function(){};function Zb(){if(!AH())throw oo()=="Node"?new O("internal-error","The SessionStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=KR()||ke.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function KR(){try{var s=c.sessionStorage,l=Ca();return s&&(s.setItem(l,"1"),s.removeItem(l)),s}catch{return null}}function AH(){var s=oo()=="Node";if(s=KR()||s&&ke.INTERNAL.node&&ke.INTERNAL.node.sessionStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=Zb.prototype,t.get=function(s){var l=this;return be().then(function(){var d=l.a.getItem(s);return hc(d)})},t.set=function(s,l){var d=this;return be().then(function(){var m=bf(l);m===null?d.U(s):d.a.setItem(s,m)})},t.U=function(s){var l=this;return be().then(function(){l.a.removeItem(s)})},t.ca=function(){},t.ia=function(){};function xH(){var s={};s.Browser=RH,s.Node=kH,s.ReactNative=OH,s.Worker=NH,this.a=s[oo()]}var e0,RH={F:og,cb:Zb},kH={F:og,cb:Zb},OH={F:PR,cb:Jb},NH={F:og,cb:Jb},vc={rd:"local",NONE:"none",td:"session"};function PH(s){var l=new O("invalid-persistence-type"),d=new O("unsupported-persistence-type");e:{for(m in vc)if(vc[m]==s){var m=!0;break e}m=!1}if(!m||typeof s!="string")throw l;switch(oo()){case"ReactNative":if(s==="session")throw d;break;case"Node":if(s!=="none")throw d;break;case"Worker":if(s==="session"||!Qb()&&s!=="none")throw d;break;default:if(!eb()&&s!=="none")throw d}}function GR(){var s=!!(!bx(qn())&&J_()),l=_f(),d=eb();this.m=s,this.h=l,this.l=d,this.a={},e0||(e0=new xH),s=e0;try{this.g=!X_()&&Ex()||!c.indexedDB?new s.a.F:new WR(Oi()?new jf:new s.a.F)}catch{this.g=new jf,this.h=!0}try{this.i=new s.a.cb}catch{this.i=new jf}this.v=new jf,this.f=M(this.Zb,this),this.b={}}var t0;function Bf(){return t0||(t0=new GR),t0}function Da(s,l){switch(l){case"session":return s.i;case"none":return s.v;default:return s.g}}function yc(s,l){return"firebase:"+s.name+(l?":"+l:"")}function DH(s,l,d){var m=yc(l,d),b=Da(s,l.F);return s.get(l,d).then(function(T){var S=null;try{S=hc(c.localStorage.getItem(m))}catch{}if(S&&!T)return c.localStorage.removeItem(m),s.set(l,S,d);S&&T&&b.type!="localStorage"&&c.localStorage.removeItem(m)})}t=GR.prototype,t.get=function(s,l){return Da(this,s.F).get(yc(s,l))};function _c(s,l,d){return d=yc(l,d),l.F=="local"&&(s.b[d]=null),Da(s,l.F).U(d)}t.set=function(s,l,d){var m=yc(s,d),b=this,T=Da(this,s.F);return T.set(m,l).then(function(){return T.get(m)}).then(function(S){s.F=="local"&&(b.b[m]=S)})},t.addListener=function(s,l,d){s=yc(s,l),this.l&&(this.b[s]=c.localStorage.getItem(s)),yn(this.a)&&(Da(this,"local").ca(this.f),this.h||(X_()||!Ex())&&c.indexedDB||!this.l||MH(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(d)},t.removeListener=function(s,l,d){s=yc(s,l),this.a[s]&&(ee(this.a[s],function(m){return m==d}),this.a[s].length==0&&delete this.a[s]),yn(this.a)&&(Da(this,"local").ia(this.f),n0(this))};function MH(s){n0(s),s.c=setInterval(function(){for(var l in s.a){var d=c.localStorage.getItem(l),m=s.b[l];d!=m&&(s.b[l]=d,d=new wa({type:"storage",key:l,target:window,oldValue:m,newValue:d,a:!0}),s.Zb(d))}},1e3)}function n0(s){s.c&&(clearInterval(s.c),s.c=null)}t.Zb=function(s){if(s&&s.g){var l=s.a.key;if(l==null)for(var d in this.a){var m=this.b[d];typeof m=="undefined"&&(m=null);var b=c.localStorage.getItem(d);b!==m&&(this.b[d]=b,this.nb(d))}else if(l.indexOf("firebase:")==0&&this.a[l]){if(typeof s.a.a!="undefined"?Da(this,"local").ia(this.f):n0(this),this.m){if(d=c.localStorage.getItem(l),m=s.a.newValue,m!==d)m!==null?c.localStorage.setItem(l,m):c.localStorage.removeItem(l);else if(this.b[l]===m&&typeof s.a.a=="undefined")return}var T=this;d=function(){(typeof s.a.a!="undefined"||T.b[l]!==c.localStorage.getItem(l))&&(T.b[l]=c.localStorage.getItem(l),T.nb(l))},_n&&ro&&ro==10&&c.localStorage.getItem(l)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(d,10):d()}}else ge(s,M(this.nb,this))},t.nb=function(s){this.a[s]&&ge(this.a[s],function(l){l()})};function LH(s){this.a=s,this.b=Bf()}var r0={name:"authEvent",F:"local"};function FH(s){return s.b.get(r0,s.a).then(function(l){return tR(l)})}function UH(){this.a=Bf()}function jH(){this.b=-1}function sg(s,l){this.b=YR,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=l,this.l=c.Int32Array?new Int32Array(64):Array(64),ag===void 0&&(c.Int32Array?ag=new Int32Array(JR):ag=JR),this.reset()}var ag;V(sg,jH);for(var YR=64,BH=YR-1,XR=[],i0=0;i0<BH;i0++)XR[i0]=0;var QR=te(128,XR);sg.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):ae(this.h)};function o0(s){for(var l=s.f,d=s.l,m=0,b=0;b<l.length;)d[m++]=l[b]<<24|l[b+1]<<16|l[b+2]<<8|l[b+3],b=4*m;for(l=16;64>l;l++){b=d[l-15]|0,m=d[l-2]|0;var T=(d[l-16]|0)+((b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3)|0,S=(d[l-7]|0)+((m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)|0;d[l]=T+S|0}m=s.a[0]|0,b=s.a[1]|0;var N=s.a[2]|0,Y=s.a[3]|0,re=s.a[4]|0,He=s.a[5]|0,Rt=s.a[6]|0;for(T=s.a[7]|0,l=0;64>l;l++){var yt=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&b^m&N^b&N)|0;S=re&He^~re&Rt,T=T+((re>>>6|re<<26)^(re>>>11|re<<21)^(re>>>25|re<<7))|0,S=S+(ag[l]|0)|0,S=T+(S+(d[l]|0)|0)|0,T=Rt,Rt=He,He=re,re=Y+S|0,Y=N,N=b,b=m,m=S+yt|0}s.a[0]=s.a[0]+m|0,s.a[1]=s.a[1]+b|0,s.a[2]=s.a[2]+N|0,s.a[3]=s.a[3]+Y|0,s.a[4]=s.a[4]+re|0,s.a[5]=s.a[5]+He|0,s.a[6]=s.a[6]+Rt|0,s.a[7]=s.a[7]+T|0}function s0(s,l,d){d===void 0&&(d=l.length);var m=0,b=s.c;if(typeof l=="string")for(;m<d;)s.f[b++]=l.charCodeAt(m++),b==s.b&&(o0(s),b=0);else if(y(l))for(;m<d;){var T=l[m++];if(!(typeof T=="number"&&0<=T&&255>=T&&T==(T|0)))throw Error("message must be a byte array");s.f[b++]=T,b==s.b&&(o0(s),b=0)}else throw Error("message must be string or array");s.c=b,s.g+=d}var JR=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ZR(){sg.call(this,8,VH)}V(ZR,sg);var VH=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ek(s,l,d,m,b,T){this.v=s,this.i=l,this.l=d,this.m=m||null,this.u=b||null,this.s=T,this.h=l+":"+d,this.C=new UH,this.g=new LH(this.h),this.f=null,this.b=[],this.a=this.c=null}function ug(s){return new O("invalid-cordova-configuration",s)}t=ek.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=D3().then(function(){if(typeof Gt("universalLinks.subscribe",c)!="function")throw ug("cordova-universal-links-plugin-fix is not installed");if(typeof Gt("BuildInfo.packageName",c)=="undefined")throw ug("cordova-plugin-buildinfo is not installed");if(typeof Gt("cordova.plugins.browsertab.openUrl",c)!="function")throw ug("cordova-plugin-browsertab is not installed");if(typeof Gt("cordova.InAppBrowser.open",c)!="function")throw ug("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})};function qH(){for(var s=20,l=[];0<s;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return l.join("")}function HH(s){var l=new ZR;s0(l,s),s=[];var d=8*l.g;56>l.c?s0(l,QR,56-l.c):s0(l,QR,l.b-(l.c-56));for(var m=63;56<=m;m--)l.f[m]=d&255,d/=256;for(o0(l),m=d=0;m<l.i;m++)for(var b=24;0<=b;b-=8)s[d++]=l.a[m]>>b&255;return eq(s)}t.Pb=function(s,l){return l(new O("operation-not-supported-in-this-environment")),be()},t.Nb=function(){return xt(new O("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(s,l,d,m){if(this.c)return xt(new O("redirect-operation-pending"));var b=this,T=c.document,S=null,N=null,Y=null,re=null;return this.c=be().then(function(){return Eb(l),nk(b)}).then(function(){return $H(b,s,l,d,m)}).then(function(){return new le(function(He,Rt){N=function(){var yt=Gt("cordova.plugins.browsertab.close",c);return He(),typeof yt=="function"&&yt(),b.a&&typeof b.a.close=="function"&&(b.a.close(),b.a=null),!1},b.Ea(N),Y=function(){S||(S=sc(2e3).then(function(){Rt(new O("redirect-cancelled-by-user"))}))},re=function(){tb()&&Y()},T.addEventListener("resume",Y,!1),qn().toLowerCase().match(/android/)||T.addEventListener("visibilitychange",re,!1)}).o(function(He){return a0(b).then(function(){throw He})})}).oa(function(){Y&&T.removeEventListener("resume",Y,!1),re&&T.removeEventListener("visibilitychange",re,!1),S&&S.cancel(),N&&b.Ta(N),b.c=null})};function $H(s,l,d,m,b){var T=qH(),S=new Ni(l,m,null,T,new O("no-auth-event"),null,b),N=Gt("BuildInfo.packageName",c);if(typeof N!="string")throw new O("invalid-cordova-configuration");var Y=Gt("BuildInfo.displayName",c),re={};if(qn().toLowerCase().match(/iphone|ipad|ipod/))re.ibi=N;else if(qn().toLowerCase().match(/android/))re.apn=N;else return xt(new O("operation-not-supported-in-this-environment"));Y&&(re.appDisplayName=Y),T=HH(T),re.sessionId=T;var He=Lf(s.v,s.i,s.l,l,d,null,m,s.m,re,s.u,b,s.s);return s.ma().then(function(){var Rt=s.h;return s.C.a.set(r0,S.w(),Rt)}).then(function(){var Rt=Gt("cordova.plugins.browsertab.isAvailable",c);if(typeof Rt!="function")throw new O("invalid-cordova-configuration");var yt=null;Rt(function(Nn){if(Nn){if(yt=Gt("cordova.plugins.browsertab.openUrl",c),typeof yt!="function")throw new O("invalid-cordova-configuration");yt(He)}else{if(yt=Gt("cordova.InAppBrowser.open",c),typeof yt!="function")throw new O("invalid-cordova-configuration");Nn=qn(),s.a=yt(He,Nn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Nn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function tk(s,l){for(var d=0;d<s.b.length;d++)try{s.b[d](l)}catch{}}function nk(s){return s.f||(s.f=s.ma().then(function(){return new le(function(l){function d(m){return l(m),s.Ta(d),!1}s.Ea(d),WH(s)})})),s.f}function a0(s){var l=null;return FH(s.g).then(function(d){return l=d,d=s.g,_c(d.b,r0,d.a)}).then(function(){return l})}function WH(s){function l(S){m=!0,b&&b.cancel(),a0(s).then(function(N){var Y=d;if(N&&S&&S.url){var re=null;Y=Kx(S.url),Y.indexOf("/__/auth/callback")!=-1&&(re=kr(Y),re=hc(ai(re,"firebaseError")||null),re=(re=typeof re=="object"?pe(re):null)?new Ni(N.c,N.b,null,null,re,null,N.T()):new Ni(N.c,N.b,Y,N.f,null,null,N.T())),Y=re||d}tk(s,Y)})}var d=new Ni("unknown",null,null,null,new O("no-auth-event")),m=!1,b=sc(500).then(function(){return a0(s).then(function(){m||tk(s,d)})}),T=c.handleOpenURL;c.handleOpenURL=function(S){if(S.toLowerCase().indexOf(Gt("BuildInfo.packageName",c).toLowerCase()+"://")==0&&l({url:S}),typeof T=="function")try{T(S)}catch(N){console.error(N)}},Tb||(Tb=new uq),cq(l)}t.Ea=function(s){this.b.push(s),nk(this).o(function(l){l.code==="auth/invalid-cordova-configuration"&&(l=new Ni("unknown",null,null,null,new O("no-auth-event")),s(l))})},t.Ta=function(s){ee(this.b,function(l){return l==s})};function zH(s){this.a=s,this.b=Bf()}var u0={name:"pendingRedirect",F:"session"};function KH(s){return s.b.set(u0,"pending",s.a)}function c0(s){return _c(s.b,u0,s.a)}function GH(s){return s.b.get(u0,s.a).then(function(l){return l=="pending"})}function cg(s,l,d,m){this.i={},this.u=0,this.D=s,this.v=l,this.m=d,this.J=m,this.h=[],this.f=!1,this.l=M(this.s,this),this.b=new fg,this.C=new hk,this.g=new zH(ck(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=rk(this.D,this.v,this.m,$,this.J)}function rk(s,l,d,m,b){var T=ke.SDK_VERSION||null;return Q_()?new ek(s,l,d,T,m,b):new RR(s,l,d,T,m,b)}cg.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=rk(this.D,this.v,this.m,null,this.J),this.i={}};function ik(s){s.f||(s.f=!0,s.a.Ea(s.l));var l=s.a;return s.a.ma().o(function(d){throw s.a==l&&s.reset(),d})}function ok(s){s.a.Yb()&&ik(s).o(function(l){var d=new Ni("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));f0(l)&&s.s(d)}),s.a.Ub()||lk(s.b)}function lg(s,l){j(s.h,l)||s.h.push(l),s.f||GH(s.g).then(function(d){d?c0(s.g).then(function(){ik(s).o(function(m){var b=new Ni("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));f0(m)&&s.s(b)})}):ok(s)}).o(function(){ok(s)})}function l0(s,l){ee(s.h,function(d){return d==l})}cg.prototype.s=function(s){if(!s)throw new O("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var l=!1,d=0;d<this.h.length;d++){var m=this.h[d];if(m.Gb(s.c,s.b)){(l=this.c[s.c])&&(l.h(s,m),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),l=!0;break}}return lk(this.b),l};var YH=new _s(2e3,1e4),XH=new _s(3e4,6e4);cg.prototype.ra=function(){return this.b.ra()};function sk(s,l,d,m,b,T,S){return s.a.Nb(l,d,m,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},b,T,S)}function f0(s){return!!(s&&s.code=="auth/cordova-not-ready")}function ak(s,l,d,m,b){var T;return KH(s.g).then(function(){return s.a.Ob(l,d,m,b).o(function(S){if(f0(S))throw new O("operation-not-supported-in-this-environment");return T=S,c0(s.g).then(function(){throw T})}).then(function(){return s.a.ac()?new le(function(){}):c0(s.g).then(function(){return s.ra()}).then(function(){}).o(function(){})})})}function uk(s,l,d,m,b){return s.a.Pb(m,function(T){l.na(d,null,T,b)},YH.get())}var h0={};function ck(s,l,d){return s=s+":"+l,d&&(s=s+":"+d.url),s}function d0(s,l,d,m){var b=ck(l,d,m);return h0[b]||(h0[b]=new cg(s,l,d,m)),h0[b]}function fg(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}fg.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},fg.prototype.h=function(s,l){if(s){this.reset(),this.g=!0;var d=s.c,m=s.b,b=s.a&&s.a.code=="auth/web-storage-unsupported",T=s.a&&s.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!b&&!T),d!="unknown"||b||T?s.a?(Ma(this,!0,null,s.a),be()):l.Fa(d,m)?QH(this,s,l):xt(new O("invalid-auth-event")):(Ma(this,!1,null,null),be())}else xt(new O("invalid-auth-event"))};function lk(s){s.g||(s.g=!0,Ma(s,!1,null,null))}function hg(s){s.g&&!s.i&&Ma(s,!1,null,null)}function QH(s,l,d){d=d.Fa(l.c,l.b);var m=l.g,b=l.f,T=l.i,S=l.T(),N=!!l.c.match(/Redirect$/);d(m,b,S,T).then(function(Y){Ma(s,N,Y,null)}).o(function(Y){Ma(s,N,null,Y)})}function JH(s,l){if(s.b=function(){return xt(l)},s.c.length)for(var d=0;d<s.c.length;d++)s.c[d](l)}function fk(s,l){if(s.b=function(){return be(l)},s.f.length)for(var d=0;d<s.f.length;d++)s.f[d](l)}function Ma(s,l,d,m){l?m?JH(s,m):fk(s,d):fk(s,{user:null}),s.f=[],s.c=[]}fg.prototype.ra=function(){var s=this;return new le(function(l,d){s.b?s.b().then(l,d):(s.f.push(l),s.c.push(d),ZH(s))})};function ZH(s){var l=new O("timeout");s.a&&s.a.cancel(),s.a=sc(XH.get()).then(function(){s.b||(s.g=!0,Ma(s,!0,null,l))})}function hk(){}hk.prototype.h=function(s,l){if(s){var d=s.c,m=s.b;s.a?(l.na(s.c,null,s.a,s.b),be()):l.Fa(d,m)?e$(s,l):xt(new O("invalid-auth-event"))}else xt(new O("invalid-auth-event"))};function e$(s,l){var d=s.b,m=s.c;l.Fa(m,d)(s.g,s.f,s.T(),s.i).then(function(b){l.na(m,b,null,d)}).o(function(b){l.na(m,null,b,d)})}function dk(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(s){this.jb=s},enumerable:!1})}function p0(s,l){this.a=l,Re(this,"verificationId",s)}p0.prototype.confirm=function(s){return s=eR(this.verificationId,s),this.a(s)};function g0(s,l,d,m){return new Fo(s).gb(l,d).then(function(b){return new p0(b,m)})}function t$(s){var l=jx(s);if(!(l&&l.exp&&l.auth_time&&l.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");mr(this,{token:s,expirationTime:wf(1e3*l.exp),authTime:wf(1e3*l.auth_time),issuedAtTime:wf(1e3*l.iat),signInProvider:l.firebase&&l.firebase.sign_in_provider?l.firebase.sign_in_provider:null,signInSecondFactor:l.firebase&&l.firebase.sign_in_second_factor?l.firebase.sign_in_second_factor:null,claims:l})}function m0(s,l,d){var m=l&&l[gk];if(!m)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=Hr(l),this.g=d,this.c=new Vp(null,m),this.b=[];var b=this;ge(l[pk]||[],function(T){(T=ab(T))&&b.b.push(T)}),Re(this,"auth",this.a),Re(this,"session",this.c),Re(this,"hints",this.b)}var pk="mfaInfo",gk="mfaPendingCredential";m0.prototype.Rc=function(s){var l=this;return s.tb(this.a.a,this.c).then(function(d){var m=Hr(l.f);return delete m[pk],delete m[gk],Ft(m,d),l.g(m)})};function v0(s,l,d,m){O.call(this,"multi-factor-auth-required",m,l),this.b=new m0(s,l,d),Re(this,"resolver",this.b)}V(v0,O);function mk(s,l,d){if(s&&E(s.serverResponse)&&s.code==="auth/multi-factor-auth-required")try{return new v0(l,s.serverResponse,d,s.message)}catch{}return null}function vk(){}vk.prototype.tb=function(s,l,d){return l.type==Sf?n$(this,s,l,d):r$(this,s,l)};function n$(s,l,d,m){return d.Ha().then(function(b){return b={idToken:b},typeof m!="undefined"&&(b.displayName=m),Ft(b,{phoneVerificationInfo:Cf(s.a)}),ut(l,Wq,b)})}function r$(s,l,d){return d.Ha().then(function(m){return m={mfaPendingCredential:m},Ft(m,{phoneVerificationInfo:Cf(s.a)}),ut(l,zq,m)})}function y0(s){Re(this,"factorId",s.fa),this.a=s}V(y0,vk);function yk(s){if(y0.call(this,s),this.a.fa!=Fo.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}V(yk,y0);function bc(s,l){Rr.call(this,s);for(var d in l)this[d]=l[d]}V(bc,Rr);function _0(s,l){this.a=s,this.b=[],this.c=M(this.yc,this),si(this.a,"userReloaded",this.c);var d=[];l&&l.multiFactor&&l.multiFactor.enrolledFactors&&ge(l.multiFactor.enrolledFactors,function(m){var b=null,T={};if(m){m.uid&&(T[cb]=m.uid),m.displayName&&(T[Ix]=m.displayName),m.enrollmentTime&&(T[ub]=new Date(m.enrollmentTime).toISOString()),m.phoneNumber&&(T[lb]=m.phoneNumber);try{b=new Ef(T)}catch{}m=b}else m=null;m&&d.push(m)}),dg(this,d)}function i$(s){var l=[];return ge(s.mfaInfo||[],function(d){(d=ab(d))&&l.push(d)}),l}t=_0.prototype,t.yc=function(s){dg(this,i$(s.hd))};function dg(s,l){s.b=l,Re(s,"enrolledFactors",l)}t.Sb=function(){return this.a.I().then(function(s){return new Vp(s,null)})},t.fc=function(s,l){var d=this,m=this.a.a;return this.Sb().then(function(b){return s.tb(m,b,l)}).then(function(b){return uo(d.a,b),d.a.reload()})},t.bd=function(s){var l=this,d=typeof s=="string"?s:s.uid,m=this.a.a;return this.a.I().then(function(b){return ut(m,hH,{idToken:b,mfaEnrollmentId:d})}).then(function(b){var T=We(l.b,function(S){return S.uid!=d});return dg(l,T),uo(l.a,b),l.a.reload().o(function(S){if(S.code!="auth/user-token-expired")throw S})})},t.w=function(){return{multiFactor:{enrolledFactors:ze(this.b,function(s){return s.w()})}}};function b0(s,l,d){if(this.h=s,this.i=l,this.g=d,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}b0.prototype.start=function(){this.a=this.c,w0(this,!0)};function o$(s,l){return l?(s.a=s.c,s.g()):(l=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),l)}function w0(s,l){s.stop(),s.b=sc(o$(s,l)).then(function(){return L3()}).then(function(){return s.h()}).then(function(){w0(s,!0)}).o(function(d){s.i(d)&&w0(s,!1)})}b0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function E0(s){this.f=s,this.b=this.a=null,this.c=Date.now()}E0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function _k(s,l){typeof l=="undefined"&&(s.b?(l=s.b,l=l.a-l.g):l=0),s.c=Date.now()+1e3*l}function bk(s,l){s.b=jp(l[Di]||""),s.a=l.refreshToken,l=l.expiresIn,_k(s,typeof l!="undefined"?Number(l):void 0)}function s$(s,l){s.b=l.b,s.a=l.a,s.c=l.c}function a$(s,l){return Rq(s.f,l).then(function(d){return s.b=jp(d.access_token),s.a=d.refresh_token,_k(s,d.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(d){throw d.code=="auth/user-token-expired"&&(s.a=null),d})}E0.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?xt(new O("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?a$(this,{grant_type:"refresh_token",refresh_token:this.a}):be(null):be({accessToken:this.b.toString(),refreshToken:this.a})};function pg(s,l){this.a=s||null,this.b=l||null,mr(this,{lastSignInTime:wf(l||null),creationTime:wf(s||null)})}function u$(s){return new pg(s.a,s.b)}pg.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function c$(s,l,d,m,b,T){mr(this,{uid:s,displayName:m||null,photoURL:b||null,email:d||null,phoneNumber:T||null,providerId:l})}function zr(s,l,d){this.N=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var m=ke.SDK_VERSION?lc(ke.SDK_VERSION):null;this.a=new Pi(this.l,ve($),m),(this.u=s.emulatorConfig||null)&&ng(this.a,this.u),this.h=new E0(this.a),R0(this,l[Di]),bk(this.h,l),Re(this,"refreshToken",this.h.a),Ek(this,d||{}),gr.call(this),this.P=!1,this.s&&Sa()&&(this.b=d0(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=l$(this),this.ba=M(this.ib,this);var b=this;this.za=null,this.Pa=function(T){b.xa(T.h)},this.qa=null,this.Ba=function(T){T0(b,T.c)},this.$=null,this.aa=[],this.Oa=function(T){Vf(b,T.f)},this.ja=null,this.S=new _0(this,d),Re(this,"multiFactor",this.S)}V(zr,gr),zr.prototype.xa=function(s){this.za=s,mR(this.a,s)};function T0(s,l){s.u=l,ng(s.a,l),s.b&&(l=s.b,s.b=d0(s.s,s.l,s.m,s.u),s.P&&(l0(l,s),lg(s.b,s)))}zr.prototype.la=function(){return this.za};function I0(s,l){s.qa&&$r(s.qa,"languageCodeChanged",s.Pa),(s.qa=l)&&si(l,"languageCodeChanged",s.Pa)}function S0(s,l){s.$&&$r(s.$,"emulatorConfigChanged",s.Ba),(s.$=l)&&si(l,"emulatorConfigChanged",s.Ba)}function Vf(s,l){s.aa=l,vR(s.a,ke.SDK_VERSION?lc(ke.SDK_VERSION,s.aa):null)}zr.prototype.Ga=function(){return ae(this.aa)};function C0(s,l){s.ja&&$r(s.ja,"frameworkChanged",s.Oa),(s.ja=l)&&si(l,"frameworkChanged",s.Oa)}zr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function A0(s){try{return ke.app(s.m).auth()}catch{throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function l$(s){return new b0(function(){return s.I(!0)},function(l){return!!(l&&l.code=="auth/network-request-failed")},function(){var l=s.h.c-Date.now()-3e5;return 0<l?l:0})}function wk(s){s.J||s.D.b||(s.D.start(),$r(s,"tokenChanged",s.ba),si(s,"tokenChanged",s.ba))}function x0(s){$r(s,"tokenChanged",s.ba),s.D.stop()}function R0(s,l){s.Aa=l,Re(s,"_lat",l)}function f$(s,l){ee(s.W,function(d){return d==l})}function La(s){for(var l=[],d=0;d<s.W.length;d++)l.push(s.W[d](s));return jA(l).then(function(){return s})}function qf(s){s.b&&!s.P&&(s.P=!0,lg(s.b,s))}function Ek(s,l){mr(s,{uid:l.uid,displayName:l.displayName||null,photoURL:l.photoURL||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,isAnonymous:l.isAnonymous||!1,tenantId:l.tenantId||null,metadata:new pg(l.createdAt,l.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}Re(zr.prototype,"providerId","firebase");function Tk(){}function k0(s){return be().then(function(){if(s.J)throw new O("app-deleted")})}function O0(s){return ze(s.providerData,function(l){return l.providerId})}function N0(s,l){l&&(Ik(s,l.providerId),s.providerData.push(l))}function Ik(s,l){ee(s.providerData,function(d){return d.providerId==l})}function Es(s,l,d){(l!="uid"||d)&&s.hasOwnProperty(l)&&Re(s,l,d)}function gg(s,l){s!=l&&(mr(s,{uid:l.uid,displayName:l.displayName,photoURL:l.photoURL,email:l.email,emailVerified:l.emailVerified,phoneNumber:l.phoneNumber,isAnonymous:l.isAnonymous,tenantId:l.tenantId,providerData:[]}),l.metadata?Re(s,"metadata",u$(l.metadata)):Re(s,"metadata",new pg),ge(l.providerData,function(d){N0(s,d)}),s$(s.h,l.h),Re(s,"refreshToken",s.h.a),dg(s.S,l.S.b))}t=zr.prototype,t.reload=function(){var s=this;return bn(this,k0(this).then(function(){return P0(s).then(function(){return La(s)}).then(Tk)}))};function P0(s){return s.I().then(function(l){var d=s.isAnonymous;return h$(s,l).then(function(){return d||Es(s,"isAnonymous",!1),l})})}t.oc=function(s){return this.I(s).then(function(l){return new t$(l)})},t.I=function(s){var l=this;return bn(this,k0(this).then(function(){return l.h.getToken(s)}).then(function(d){if(!d)throw new O("internal-error");return d.accessToken!=l.Aa&&(R0(l,d.accessToken),l.dispatchEvent(new bc("tokenChanged"))),Es(l,"refreshToken",d.refreshToken),d.accessToken}))};function uo(s,l){l[Di]&&s.Aa!=l[Di]&&(bk(s.h,l),s.dispatchEvent(new bc("tokenChanged")),R0(s,l[Di]),Es(s,"refreshToken",s.h.a))}function h$(s,l){return ut(s.a,Kq,{idToken:l}).then(M(s.Kc,s))}t.Kc=function(s){if(s=s.users,!s||!s.length)throw new O("internal-error");s=s[0],Ek(this,{uid:s.localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var l=d$(s),d=0;d<l.length;d++)N0(this,l[d]);Es(this,"isAnonymous",!(this.email&&s.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new bc("userReloaded",{hd:s}))};function d$(s){return(s=s.providerUserInfo)&&s.length?ze(s,function(l){return new c$(l.rawId,l.providerId,l.email,l.displayName,l.photoUrl,l.phoneNumber)}):[]}t.Lc=function(s){return nb("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(s)},t.ub=function(s){var l=this,d=null;return bn(this,s.c(this.a,this.uid).then(function(m){return uo(l,m),d=Hf(l,m,"reauthenticate"),l.i=null,l.reload()}).then(function(){return d}),!0)};function mg(s,l){return P0(s).then(function(){if(j(O0(s),l))return La(s).then(function(){throw new O("provider-already-linked")})})}t.Cc=function(s){return nb("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(s)},t.rb=function(s){var l=this,d=null;return bn(this,mg(this,s.providerId).then(function(){return l.I()}).then(function(m){return s.b(l.a,m)}).then(function(m){return d=Hf(l,m,"link"),Sk(l,m)}).then(function(){return d}))},t.Dc=function(s,l){var d=this;return bn(this,mg(this,"phone").then(function(){return g0(A0(d),s,l,M(d.rb,d))}))},t.Mc=function(s,l){var d=this;return bn(this,be().then(function(){return g0(A0(d),s,l,M(d.ub,d))}),!0)};function Hf(s,l,d){var m=wb(l);return l=Vx(l),so({user:s,credential:m,additionalUserInfo:l,operationType:d})}function Sk(s,l){return uo(s,l),s.reload().then(function(){return s})}t.Cb=function(s){var l=this;return bn(this,this.I().then(function(d){return l.a.Cb(d,s)}).then(function(d){return uo(l,d),l.reload()}))},t.ed=function(s){var l=this;return bn(this,this.I().then(function(d){return s.b(l.a,d)}).then(function(d){return uo(l,d),l.reload()}))},t.Db=function(s){var l=this;return bn(this,this.I().then(function(d){return l.a.Db(d,s)}).then(function(d){return uo(l,d),l.reload()}))},t.Eb=function(s){if(s.displayName===void 0&&s.photoURL===void 0)return k0(this);var l=this;return bn(this,this.I().then(function(d){return l.a.Eb(d,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(d){return uo(l,d),Es(l,"displayName",d.displayName||null),Es(l,"photoURL",d.photoUrl||null),ge(l.providerData,function(m){m.providerId==="password"&&(Re(m,"displayName",l.displayName),Re(m,"photoURL",l.photoURL))}),La(l)}).then(Tk))},t.cd=function(s){var l=this;return bn(this,P0(this).then(function(d){return j(O0(l),s)?Lq(l.a,d,[s]).then(function(m){var b={};return ge(m.providerUserInfo||[],function(T){b[T.providerId]=!0}),ge(O0(l),function(T){b[T]||Ik(l,T)}),b[Fo.PROVIDER_ID]||Re(l,"phoneNumber",null),La(l)}):La(l).then(function(){throw new O("no-such-provider")})}))},t.delete=function(){var s=this;return bn(this,this.I().then(function(l){return ut(s.a,Vq,{idToken:l})}).then(function(){s.dispatchEvent(new bc("userDeleted"))})).then(function(){for(var l=0;l<s.N.length;l++)s.N[l].cancel("app-deleted");I0(s,null),S0(s,null),C0(s,null),s.N=[],s.J=!0,x0(s),Re(s,"refreshToken",null),s.b&&l0(s.b,s)})},t.Gb=function(s,l){return!!(s=="linkViaPopup"&&(this.g||null)==l&&this.f||s=="reauthViaPopup"&&(this.g||null)==l&&this.f||s=="linkViaRedirect"&&(this.ga||null)==l||s=="reauthViaRedirect"&&(this.ga||null)==l)},t.na=function(s,l,d,m){s!="linkViaPopup"&&s!="reauthViaPopup"||m!=(this.g||null)||(d&&this.C?this.C(d):l&&!d&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,l){return s=="linkViaPopup"&&l==(this.g||null)?M(this.Lb,this):s=="reauthViaPopup"&&l==(this.g||null)?M(this.Mb,this):s=="linkViaRedirect"&&(this.ga||null)==l?M(this.Lb,this):s=="reauthViaRedirect"&&(this.ga||null)==l?M(this.Mb,this):null},t.Ec=function(s){var l=this;return Ck(this,"linkViaPopup",s,function(){return mg(l,s.providerId).then(function(){return La(l)})},!1)},t.Nc=function(s){return Ck(this,"reauthViaPopup",s,function(){return be()},!0)};function Ck(s,l,d,m,b){if(!Sa())return xt(new O("operation-not-supported-in-this-environment"));if(s.i&&!b)return xt(s.i);var T=gb(d.providerId),S=Ca(s.uid+":::"),N=null;(!_f()||J_())&&s.s&&d.isOAuthProvider&&(N=Lf(s.s,s.l,s.m,l,d,null,S,ke.SDK_VERSION||null,null,null,s.tenantId,s.u));var Y=gx(N,T&&T.va,T&&T.ua);return m=m().then(function(){if(xk(s),!b)return s.I().then(function(){})}).then(function(){return sk(s.b,Y,l,d,S,!!N,s.tenantId)}).then(function(){return new le(function(re,He){s.na(l,null,new O("cancelled-popup-request"),s.g||null),s.f=re,s.C=He,s.g=S,s.c=uk(s.b,s,l,Y,S)})}).then(function(re){return Y&&Ia(Y),re?so(re):null}).o(function(re){throw Y&&Ia(Y),re}),bn(s,m,b)}t.Fc=function(s){var l=this;return Ak(this,"linkViaRedirect",s,function(){return mg(l,s.providerId)},!1)},t.Oc=function(s){return Ak(this,"reauthViaRedirect",s,function(){return be()},!0)};function Ak(s,l,d,m,b){if(!Sa())return xt(new O("operation-not-supported-in-this-environment"));if(s.i&&!b)return xt(s.i);var T=null,S=Ca(s.uid+":::");return m=m().then(function(){if(xk(s),!b)return s.I().then(function(){})}).then(function(){return s.ga=S,La(s)}).then(function(N){return s.ha&&(N=s.ha,N=N.b.set(D0,s.w(),N.a)),N}).then(function(){return ak(s.b,l,d,S,s.tenantId)}).o(function(N){if(T=N,s.ha)return kk(s.ha);throw T}).then(function(){if(T)throw T}),bn(s,m,b)}function xk(s){if(!s.b||!s.P)throw s.b&&!s.P?new O("internal-error"):new O("auth-domain-config-required")}t.Lb=function(s,l,d,m){var b=this;this.c&&(this.c.cancel(),this.c=null);var T=null;return d=this.I().then(function(S){return qb(b.a,{requestUri:s,postBody:m,sessionId:l,idToken:S})}).then(function(S){return T=Hf(b,S,"link"),Sk(b,S)}).then(function(){return T}),bn(this,d)},t.Mb=function(s,l,d,m){var b=this;this.c&&(this.c.cancel(),this.c=null);var T=null,S=be().then(function(){return pc(Hb(b.a,{requestUri:s,sessionId:l,postBody:m,tenantId:d}),b.uid)}).then(function(N){return T=Hf(b,N,"reauthenticate"),uo(b,N),b.i=null,b.reload()}).then(function(){return T});return bn(this,S,!0)},t.vb=function(s){var l=this,d=null;return bn(this,this.I().then(function(m){return d=m,typeof s=="undefined"||yn(s)?{}:Fp(new Lp(s))}).then(function(m){return l.a.vb(d,m)}).then(function(m){if(l.email!=m)return l.reload()}).then(function(){}))},t.Fb=function(s,l){var d=this,m=null;return bn(this,this.I().then(function(b){return m=b,typeof l=="undefined"||yn(l)?{}:Fp(new Lp(l))}).then(function(b){return d.a.Fb(m,s,b)}).then(function(b){if(d.email!=b)return d.reload()}).then(function(){}))};function bn(s,l,d){var m=p$(s,l,d);return s.N.push(m),m.oa(function(){G(s.N,m)}),m.o(function(b){var T=null;throw b&&b.code==="auth/multi-factor-auth-required"&&(T=mk(b.w(),A0(s),M(s.jc,s))),T||b})}t.jc=function(s){var l=null,d=this;return s=pc(be(s),d.uid).then(function(m){return l=Hf(d,m,"reauthenticate"),uo(d,m),d.i=null,d.reload()}).then(function(){return l}),bn(this,s,!0)};function p$(s,l,d){return s.i&&!d?(l.cancel(),xt(s.i)):l.o(function(m){throw!m||m.code!="auth/user-disabled"&&m.code!="auth/user-token-expired"||(s.i||s.dispatchEvent(new bc("userInvalidated")),s.i=m),m})}t.toJSON=function(){return this.w()},t.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Ft(s,this.metadata.w()),ge(this.providerData,function(l){s.providerData.push(j3(l))}),Ft(s,this.S.w()),s};function Rk(s){if(!s.apiKey)return null;var l={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},d={};if(s.stsTokenManager&&s.stsTokenManager.accessToken){d[Di]=s.stsTokenManager.accessToken,d.refreshToken=s.stsTokenManager.refreshToken||null;var m=s.stsTokenManager.expirationTime;m&&(d.expiresIn=(m-Date.now())/1e3)}else return null;var b=new zr(l,d,s);return s.providerData&&ge(s.providerData,function(T){T&&N0(b,so(T))}),s.redirectEventId&&(b.ga=s.redirectEventId),b}function g$(s,l,d,m){var b=new zr(s,l);return d&&(b.ha=d),m&&Vf(b,m),b.reload().then(function(){return b})}function m$(s,l,d,m){var b=s.h,T={};return T[Di]=b.b&&b.b.toString(),T.refreshToken=b.a,l=new zr(l||{apiKey:s.l,authDomain:s.s,appName:s.m},T),d&&(l.ha=d),m&&Vf(l,m),gg(l,s),l}function v$(s){this.a=s,this.b=Bf()}var D0={name:"redirectUser",F:"session"};function kk(s){return _c(s.b,D0,s.a)}function y$(s,l){return s.b.get(D0,s.a).then(function(d){return d&&l&&(d.authDomain=l),Rk(d||{})})}function M0(s){this.a=s,this.b=Bf(),this.c=null,this.f=_$(this),this.b.addListener(co("local"),this.a,M(this.g,this))}M0.prototype.g=function(){var s=this,l=co("local");wc(this,function(){return be().then(function(){return s.c&&s.c.F!="local"?s.b.get(l,s.a):null}).then(function(d){if(d)return L0(s,"local").then(function(){s.c=l})})})};function L0(s,l){var d=[],m;for(m in vc)vc[m]!==l&&d.push(_c(s.b,co(vc[m]),s.a));return d.push(_c(s.b,F0,s.a)),Mo(d)}function _$(s){var l=co("local"),d=co("session"),m=co("none");return DH(s.b,l,s.a).then(function(){return s.b.get(d,s.a)}).then(function(b){return b?d:s.b.get(m,s.a).then(function(T){return T?m:s.b.get(l,s.a).then(function(S){return S?l:s.b.get(F0,s.a).then(function(N){return N?co(N):l})})})}).then(function(b){return s.c=b,L0(s,b.F)}).o(function(){s.c||(s.c=l)})}var F0={name:"persistence",F:"session"};function co(s){return{name:"authUser",F:s}}M0.prototype.yb=function(s){var l=null,d=this;return PH(s),wc(this,function(){return s!=d.c.F?d.b.get(d.c,d.a).then(function(m){return l=m,L0(d,s)}).then(function(){if(d.c=co(s),l)return d.b.set(d.c,l,d.a)}):be()})};function b$(s){return wc(s,function(){return s.b.set(F0,s.c.F,s.a)})}function Ok(s,l){return wc(s,function(){return s.b.set(s.c,l.w(),s.a)})}function Nk(s){return wc(s,function(){return _c(s.b,s.c,s.a)})}function Pk(s,l,d){return wc(s,function(){return s.b.get(s.c,s.a).then(function(m){return m&&l&&(m.authDomain=l),m&&d&&(m.emulatorConfig=d),Rk(m||{})})})}function wc(s,l){return s.f=s.f.then(l,l),s.f}function Mi(s){if(this.l=!1,Re(this,"settings",new dk),Re(this,"app",s),Lt(this).options&&Lt(this).options.apiKey)s=ke.SDK_VERSION?lc(ke.SDK_VERSION):null,this.a=new Pi(Lt(this).options&&Lt(this).options.apiKey,ve($),s);else throw new O("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ke.INTERNAL.createSubscribe(M(this.zc,this)),this.W=void 0,this.ib=ke.INTERNAL.createSubscribe(M(this.Ac,this)),Ec(this,null),this.i=new M0(Lt(this).options.apiKey+":"+Lt(this).name),this.D=new v$(Lt(this).options.apiKey+":"+Lt(this).name),this.$=tn(this,C$(this)),this.h=tn(this,A$(this)),this.ba=!1,this.ja=M(this.Zc,this),this.Ba=M(this.da,this),this.qa=M(this.mc,this),this.za=M(this.wc,this),this.Aa=M(this.xc,this),this.b=null,T$(this),this.INTERNAL={},this.INTERNAL.delete=M(this.delete,this),this.INTERNAL.logFramework=M(this.Gc,this),this.u=0,gr.call(this),E$(this),this.J=[],this.R=null}V(Mi,gr);function Dk(s){Rr.call(this,"languageCodeChanged"),this.h=s}V(Dk,Rr);function Mk(s){Rr.call(this,"emulatorConfigChanged"),this.c=s}V(Mk,Rr);function Lk(s){Rr.call(this,"frameworkChanged"),this.f=s}V(Lk,Rr),t=Mi.prototype,t.yb=function(s){return s=this.i.yb(s),tn(this,s)},t.xa=function(s){this.aa===s||this.l||(this.aa=s,mR(this.a,this.aa),this.dispatchEvent(new Dk(this.la())))},t.la=function(){return this.aa},t.fd=function(){var s=c.navigator;this.xa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},t.gd=function(s,l){if(!this.R){if(!/^https?:\/\//.test(s))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");l=l?!!l.disableWarnings:!1,w$(l),this.R={url:s,ec:l},this.settings.jb=!0,ng(this.a,this.R),this.dispatchEvent(new Mk(this.R))}};function w$(s){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!s&&Pp().then(function(){var l=c.document.createElement("div");l.innerText="Running in emulator mode. Do not use with production credentials.",l.style.position="fixed",l.style.width="100%",l.style.backgroundColor="#ffffff",l.style.border=".1em solid #000000",l.style.color="#b50000",l.style.bottom="0px",l.style.left="0px",l.style.margin="0px",l.style.zIndex=1e4,l.style.textAlign="center",l.classList.add("firebase-emulator-warning"),c.document.body.appendChild(l)})}t.Gc=function(s){this.J.push(s),vR(this.a,ke.SDK_VERSION?lc(ke.SDK_VERSION,this.J):null),this.dispatchEvent(new Lk(this.J))},t.Ga=function(){return ae(this.J)},t.zb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},t.T=function(){return this.S};function E$(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(l){this.xa(l)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(l){this.zb(l)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.R){var l=kr(this.R.url);l=so({protocol:l.c,host:l.a,port:l.g,options:so({disableWarnings:this.R.ec})})}else l=null;return l},enumerable:!1})}t.toJSON=function(){return{apiKey:Lt(this).options.apiKey,authDomain:Lt(this).options.authDomain,appName:Lt(this).name,currentUser:Qe(this)&&Qe(this).w()}};function U0(s){return s.Oa||xt(new O("auth-domain-config-required"))}function T$(s){var l=Lt(s).options.authDomain,d=Lt(s).options.apiKey;l&&Sa()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=d0(l,d,Lt(s).name,s.R),lg(s.b,s),Qe(s)&&qf(Qe(s)),s.m){qf(s.m);var m=s.m;m.xa(s.la()),I0(m,s),m=s.m,Vf(m,s.J),C0(m,s),m=s.m,T0(m,s.R),S0(m,s),s.m=null}return s.b}}))}t.Gb=function(s,l){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==l&&!!this.f;default:return!1}},t.na=function(s,l,d,m){s=="signInViaPopup"&&this.g==m&&(d&&this.C?this.C(d):l&&!d&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,l){return s=="signInViaRedirect"||s=="signInViaPopup"&&this.g==l&&this.f?M(this.ic,this):null},t.ic=function(s,l,d,m){var b=this,T={requestUri:s,postBody:m,sessionId:l,tenantId:d};return this.c&&(this.c.cancel(),this.c=null),b.$.then(function(){return Fa(b,Vb(b.a,T))})},t.Xc=function(s){if(!Sa())return xt(new O("operation-not-supported-in-this-environment"));var l=this,d=gb(s.providerId),m=Ca(),b=null;(!_f()||J_())&&Lt(this).options.authDomain&&s.isOAuthProvider&&(b=Lf(Lt(this).options.authDomain,Lt(this).options.apiKey,Lt(this).name,"signInViaPopup",s,null,m,ke.SDK_VERSION||null,null,null,this.T(),this.R));var T=gx(b,d&&d.va,d&&d.ua);return d=U0(this).then(function(S){return sk(S,T,"signInViaPopup",s,m,!!b,l.T())}).then(function(){return new le(function(S,N){l.na("signInViaPopup",null,new O("cancelled-popup-request"),l.g),l.f=S,l.C=N,l.g=m,l.c=uk(l.b,l,"signInViaPopup",T,m)})}).then(function(S){return T&&Ia(T),S?so(S):null}).o(function(S){throw T&&Ia(T),S}),tn(this,d)},t.Yc=function(s){if(!Sa())return xt(new O("operation-not-supported-in-this-environment"));var l=this,d=U0(this).then(function(){return b$(l.i)}).then(function(){return ak(l.b,"signInViaRedirect",s,void 0,l.T())});return tn(this,d)};function Fk(s){if(!Sa())return xt(new O("operation-not-supported-in-this-environment"));var l=U0(s).then(function(){return s.b.ra()}).then(function(d){return d?so(d):null});return tn(s,l)}t.ra=function(){var s=this;return Fk(this).then(function(l){return s.b&&hg(s.b.b),l}).o(function(l){throw s.b&&hg(s.b.b),l})},t.dd=function(s){if(!s)return xt(new O("null-user"));if(this.S!=s.tenantId)return xt(new O("tenant-id-mismatch"));var l=this,d={};d.apiKey=Lt(this).options.apiKey,d.authDomain=Lt(this).options.authDomain,d.appName=Lt(this).name;var m=m$(s,d,l.D,l.Ga());return tn(this,this.h.then(function(){if(Lt(l).options.apiKey!=s.l)return m.reload()}).then(function(){return Qe(l)&&s.uid==Qe(l).uid?(gg(Qe(l),s),l.da(s)):(Ec(l,m),qf(m),l.da(m))}).then(function(){$f(l)}))};function I$(s,l){var d={};return d.apiKey=Lt(s).options.apiKey,d.authDomain=Lt(s).options.authDomain,d.appName=Lt(s).name,s.R&&(d.emulatorConfig=s.R),s.$.then(function(){return g$(d,l,s.D,s.Ga())}).then(function(m){return Qe(s)&&m.uid==Qe(s).uid?(gg(Qe(s),m),s.da(m)):(Ec(s,m),qf(m),s.da(m))}).then(function(){$f(s)})}function Ec(s,l){Qe(s)&&(f$(Qe(s),s.Ba),$r(Qe(s),"tokenChanged",s.qa),$r(Qe(s),"userDeleted",s.za),$r(Qe(s),"userInvalidated",s.Aa),x0(Qe(s))),l&&(l.W.push(s.Ba),si(l,"tokenChanged",s.qa),si(l,"userDeleted",s.za),si(l,"userInvalidated",s.Aa),0<s.u&&wk(l)),Re(s,"currentUser",l),l&&(l.xa(s.la()),I0(l,s),Vf(l,s.J),C0(l,s),T0(l,s.R),S0(l,s))}t.Bb=function(){var s=this,l=this.h.then(function(){return s.b&&hg(s.b.b),Qe(s)?(Ec(s,null),Nk(s.i).then(function(){$f(s)})):be()});return tn(this,l)};function S$(s){var l=y$(s.D,Lt(s).options.authDomain).then(function(d){return(s.m=d)&&(d.ha=s.D),kk(s.D)});return tn(s,l)}function C$(s){var l=Lt(s).options.authDomain,d=S$(s).then(function(){return Pk(s.i,l,s.R)}).then(function(m){return m?(m.ha=s.D,s.m&&(s.m.ga||null)==(m.ga||null)?m:m.reload().then(function(){return Ok(s.i,m).then(function(){return m})}).o(function(b){return b.code=="auth/network-request-failed"?m:Nk(s.i)})):null}).then(function(m){Ec(s,m||null)});return tn(s,d)}function A$(s){return s.$.then(function(){return Fk(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var l=s.i;l.b.addListener(co("local"),l.a,s.ja)}})}t.Zc=function(){var s=this;return Pk(this.i,Lt(this).options.authDomain).then(function(l){if(!s.l){var d;if(d=Qe(s)&&l){d=Qe(s).uid;var m=l.uid;d=d==null||d===""||m===void 0||m===null||m===""?!1:d==m}if(d)return gg(Qe(s),l),Qe(s).I();(Qe(s)||l)&&(Ec(s,l),l&&(qf(l),l.ha=s.D),s.b&&lg(s.b,s),$f(s))}})},t.da=function(s){return Ok(this.i,s)},t.mc=function(){$f(this),this.da(Qe(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function Fa(s,l){var d=null,m=null;return tn(s,l.then(function(b){return d=wb(b),m=Vx(b),I$(s,b)},function(b){var T=null;throw b&&b.code==="auth/multi-factor-auth-required"&&(T=mk(b.w(),s,M(s.kc,s))),T||b}).then(function(){return so({user:Qe(s),credential:d,additionalUserInfo:m,operationType:"signIn"})}))}t.kc=function(s){var l=this;return this.h.then(function(){return Fa(l,be(s))})},t.zc=function(s){var l=this;this.addAuthTokenListener(function(){s.next(Qe(l))})},t.Ac=function(s){var l=this;x$(this,function(){s.next(Qe(l))})},t.Ic=function(s,l,d){var m=this;return this.ba&&Promise.resolve().then(function(){typeof s=="function"?s(Qe(m)):typeof s.next=="function"&&s.next(Qe(m))}),this.Pa(s,l,d)},t.Hc=function(s,l,d){var m=this;return this.ba&&Promise.resolve().then(function(){m.W=m.getUid(),typeof s=="function"?s(Qe(m)):typeof s.next=="function"&&s.next(Qe(m))}),this.ib(s,l,d)},t.nc=function(s){var l=this,d=this.h.then(function(){return Qe(l)?Qe(l).I(s).then(function(m){return{accessToken:m}}):null});return tn(this,d)},t.Tc=function(s){var l=this;return this.h.then(function(){return Fa(l,ut(l.a,uH,{token:s}))}).then(function(d){var m=d.user;return Es(m,"isAnonymous",!1),l.da(m),d})},t.Uc=function(s,l){var d=this;return this.h.then(function(){return Fa(d,ut(d.a,CR,{email:s,password:l}))})},t.dc=function(s,l){var d=this;return this.h.then(function(){return Fa(d,ut(d.a,jq,{email:s,password:l}))})},t.ab=function(s){var l=this;return this.h.then(function(){return Fa(l,s.ka(l.a))})},t.Sc=function(s){return nb("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(s)},t.Ab=function(){var s=this;return this.h.then(function(){var l=Qe(s);if(l&&l.isAnonymous){var d=so({providerId:null,isNewUser:!1});return so({user:l,credential:null,additionalUserInfo:d,operationType:"signIn"})}return Fa(s,s.a.Ab()).then(function(m){var b=m.user;return Es(b,"isAnonymous",!0),s.da(b),m})})};function Lt(s){return s.app}function Qe(s){return s.currentUser}t.getUid=function(){return Qe(this)&&Qe(this).uid||null};function vg(s){return Qe(s)&&Qe(s)._lat||null}function $f(s){if(s.ba){for(var l=0;l<s.s.length;l++)s.s[l]&&s.s[l](vg(s));if(s.W!==s.getUid()&&s.N.length)for(s.W=s.getUid(),l=0;l<s.N.length;l++)s.N[l]&&s.N[l](vg(s))}}t.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&Qe(this)&&wk(Qe(this))},t.Pc=function(s){var l=this;ge(this.s,function(d){d==s&&l.u--}),0>this.u&&(this.u=0),this.u==0&&Qe(this)&&x0(Qe(this)),this.removeAuthTokenListener(s)},t.addAuthTokenListener=function(s){var l=this;this.s.push(s),tn(this,this.h.then(function(){l.l||j(l.s,s)&&s(vg(l))}))},t.removeAuthTokenListener=function(s){ee(this.s,function(l){return l==s})};function x$(s,l){s.N.push(l),tn(s,s.h.then(function(){!s.l&&j(s.N,l)&&s.W!==s.getUid()&&(s.W=s.getUid(),l(vg(s)))}))}t.delete=function(){this.l=!0;for(var s=0;s<this.P.length;s++)this.P[s].cancel("app-deleted");return this.P=[],this.i&&(s=this.i,s.b.removeListener(co("local"),s.a,this.ja)),this.b&&(l0(this.b,this),hg(this.b.b)),Promise.resolve()};function tn(s,l){return s.P.push(l),l.oa(function(){G(s.P,l)}),l}t.hc=function(s){return tn(this,kq(this.a,s))},t.Bc=function(s){return!!bb(s)},t.xb=function(s,l){var d=this;return tn(this,be().then(function(){var m=new Lp(l);if(!m.c)throw new O("argument-error",db+" must be true when sending sign in link to email");return Fp(m)}).then(function(m){return d.a.xb(s,m)}).then(function(){}))},t.jd=function(s){return this.Sa(s).then(function(l){return l.data.email})},t.ob=function(s,l){return tn(this,this.a.ob(s,l).then(function(){}))},t.Sa=function(s){return tn(this,this.a.Sa(s).then(function(l){return new V3(l)}))},t.kb=function(s){return tn(this,this.a.kb(s).then(function(){}))},t.wb=function(s,l){var d=this;return tn(this,be().then(function(){return typeof l=="undefined"||yn(l)?{}:Fp(new Lp(l))}).then(function(m){return d.a.wb(s,m)}).then(function(){}))},t.Wc=function(s,l){return tn(this,g0(this,s,l,M(this.ab,this)))},t.Vc=function(s,l){var d=this;return tn(this,be().then(function(){var m=l||yf(),b=Zx(s,m);if(m=bb(m),!m)throw new O("argument-error","Invalid email link!");if(m.tenantId!==d.T())throw new O("tenant-id-mismatch");return d.ab(b)}))};function Wf(){}Wf.prototype.render=function(){},Wf.prototype.reset=function(){},Wf.prototype.getResponse=function(){},Wf.prototype.execute=function(){};function Tc(){this.a={},this.b=1e12}var j0=null;Tc.prototype.render=function(s,l){return this.a[this.b.toString()]=new yg(s,l),this.b++},Tc.prototype.reset=function(s){var l=B0(this,s);s=Uk(s),l&&s&&(l.delete(),delete this.a[s])},Tc.prototype.getResponse=function(s){return(s=B0(this,s))?s.getResponse():null},Tc.prototype.execute=function(s){(s=B0(this,s))&&s.execute()};function B0(s,l){return(l=Uk(l))&&s.a[l]||null}function Uk(s){return(s=typeof s=="undefined"?1e12:s)?s.toString():null}function yg(s,l){this.g=!1,this.c=l,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=ya(s);var d=this;this.i=function(){d.execute()},this.h?this.execute():si(this.f,"click",this.i)}yg.prototype.getResponse=function(){return V0(this),this.b},yg.prototype.execute=function(){V0(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=M3();var l=s.c.callback,d=s.c["expired-callback"];if(l)try{l(s.b)}catch{}s.a=setTimeout(function(){if(s.a=null,s.b=null,d)try{d()}catch{}s.h&&s.execute()},6e4)},500))},yg.prototype.delete=function(){V0(this),this.g=!0,clearTimeout(this.a),this.a=null,$r(this.f,"click",this.i)};function V0(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function q0(){}Re(q0,"FACTOR_ID","phone");function H0(){}H0.prototype.g=function(){return j0||(j0=new Tc),be(j0)},H0.prototype.c=function(){};var $0=null;function W0(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var R$=new oi(gs,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),k$=new _s(3e4,6e4);W0.prototype.g=function(s){var l=this;return new le(function(d,m){var b=setTimeout(function(){m(new O("network-request-failed"))},k$.get());if(!c.grecaptcha||s!==l.f&&!l.b){c[l.a]=function(){if(c.grecaptcha){l.f=s;var S=c.grecaptcha.render;c.grecaptcha.render=function(N,Y){return N=S(N,Y),l.b++,N},clearTimeout(b),d(c.grecaptcha)}else clearTimeout(b),m(new O("internal-error"));delete c[l.a]};var T=tf(R$,{onload:l.a,hl:s||""});be(Db(T)).o(function(){clearTimeout(b),m(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(b),d(c.grecaptcha)})},W0.prototype.c=function(){this.b--};var z0=null;function K0(s,l,d,m,b,T,S){if(Re(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=l,this.g=null,S?($0||($0=new H0),S=$0):(z0||(z0=new W0),S=z0),this.m=S,this.a=d||{theme:"light",type:"image"},this.h=[],this.a[Vk])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[O$]==="invisible",!c.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ya(l)||!this.i&&ya(l).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Pi(s,T||null,b||null),this.u=m||function(){return null};var N=this;this.l=[];var Y=this.a[jk];this.a[jk]=function(He){if(qk(N,He),typeof Y=="function")Y(He);else if(typeof Y=="string"){var Rt=Gt(Y,c);typeof Rt=="function"&&Rt(He)}};var re=this.a[Bk];this.a[Bk]=function(){if(qk(N,null),typeof re=="function")re();else if(typeof re=="string"){var He=Gt(re,c);typeof He=="function"&&He()}}}var jk="callback",Bk="expired-callback",Vk="sitekey",O$="size";function qk(s,l){for(var d=0;d<s.l.length;d++)try{s.l[d](l)}catch{}}function N$(s,l){ee(s.l,function(d){return d==l})}function G0(s,l){return s.h.push(l),l.oa(function(){G(s.h,l)}),l}t=K0.prototype,t.Ia=function(){var s=this;return this.f?this.f:this.f=G0(this,be().then(function(){if(Dp()&&!Oi())return Pp();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(l){return s.g=l,ut(s.s,Zq,{})}).then(function(l){s.a[Vk]=l.recaptchaSiteKey}).o(function(l){throw s.f=null,l}))},t.render=function(){_g(this);var s=this;return G0(this,this.Ia().then(function(){if(s.c===null){var l=s.v;if(!s.i){var d=ya(l);l=M_("DIV"),d.appendChild(l)}s.c=s.g.render(l,s.a)}return s.c}))},t.verify=function(){_g(this);var s=this;return G0(this,this.render().then(function(l){return new le(function(d){var m=s.g.getResponse(l);if(m)d(m);else{var b=function(T){T&&(N$(s,b),d(T))};s.l.push(b),s.i&&s.g.execute(s.c)}})}))},t.reset=function(){_g(this),this.c!==null&&this.g.reset(this.c)};function _g(s){if(s.J)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){_g(this),this.J=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=ya(this.v);for(var l;l=s.firstChild;)s.removeChild(l)}};function Y0(s,l,d){var m=!1;try{this.b=d||ke.app()}catch{throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)d=this.b.options.apiKey;else throw new O("invalid-api-key");var b=this,T=null;try{T=this.b.auth().Ga()}catch{}try{m=this.b.auth().settings.appVerificationDisabledForTesting}catch{}T=ke.SDK_VERSION?lc(ke.SDK_VERSION,T):null,K0.call(this,d,s,l,function(){try{var S=b.b.auth().la()}catch{S=null}return S},T,ve($),m)}V(Y0,K0);function Hk(s,l,d,m){e:{d=Array.prototype.slice.call(d);for(var b=0,T=!1,S=0;S<l.length;S++)if(l[S].optional)T=!0;else{if(T)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");b++}if(T=l.length,d.length<b||T<d.length)m="Expected "+(b==T?b==1?"1 argument":b+" arguments":b+"-"+T+" arguments")+" but got "+d.length+".";else{for(b=0;b<d.length;b++)if(T=l[b].optional&&d[b]===void 0,!l[b].M(d[b])&&!T){if(l=l[b],0>b||b>=$k.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");d=$k[b],m=(m?"":d+" argument ")+(l.name?'"'+l.name+'" ':"")+"must be "+l.K+".";break e}m=null}}if(m)throw new O("argument-error",s+" failed: "+m)}var $k="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function xe(s,l){return{name:s||"",K:"a valid string",optional:!!l,M:function(d){return typeof d=="string"}}}function X0(s,l){return{name:s||"",K:"a boolean",optional:!!l,M:function(d){return typeof d=="boolean"}}}function hn(s,l){return{name:s||"",K:"a valid object",optional:!!l,M:E}}function Ic(s,l){return{name:s||"",K:"a function",optional:!!l,M:function(d){return typeof d=="function"}}}function lo(s,l){return{name:s||"",K:"null",optional:!!l,M:function(d){return d===null}}}function P$(){return{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}}}function D$(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof Mi)}}}function M$(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof ke.app.App)}}}function Ts(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(l){if(!l)return!1;var d=!s||l.providerId===s;return!(!l.ka||!d)}}}function Wk(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return s?!!s.tb:!1}}}function Sc(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}}function Q0(s,l){return E(s)&&typeof s.type=="string"&&s.type===l&&typeof s.Ha=="function"}function zk(s){return E(s)&&typeof s.uid=="string"}function bg(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||typeof s.type!="string"||typeof s.verify!="function")}}}function an(s,l,d,m){return{name:d||"",K:s.K+" or "+l.K,optional:!!m,M:function(b){return s.M(b)||l.M(b)}}}function Qt(s,l){for(var d in l){var m=l[d].name;s[m]=Gk(m,s[d],l[d].j)}}function Kk(s,l){for(var d in l){var m=l[d].name;m!==d&&Object.defineProperty(s,m,{get:W(function(b){return this[b]},d),set:W(function(b,T,S,N){Hk(b,[S],[N],!0),this[T]=N},m,d,l[d].lb),enumerable:!0})}}function un(s,l,d,m){s[l]=Gk(l,d,m)}function Gk(s,l,d){function m(){var S=Array.prototype.slice.call(arguments);return Hk(b,d,S),l.apply(this,S)}if(!d)return l;var b=L$(s),T;for(T in l)m[T]=l[T];for(T in l.prototype)m.prototype[T]=l.prototype[T];return m}function L$(s){return s=s.split("."),s[s.length-1]}Qt(Mi.prototype,{kb:{name:"applyActionCode",j:[xe("code")]},Sa:{name:"checkActionCode",j:[xe("code")]},ob:{name:"confirmPasswordReset",j:[xe("code"),xe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[xe("email"),xe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[xe("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[xe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[an(hn(),Ic(),"nextOrObserver"),Ic("opt_error",!0),Ic("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[an(hn(),Ic(),"nextOrObserver"),Ic("opt_error",!0),Ic("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[xe("email"),an(hn("opt_actionCodeSettings",!0),lo(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[xe("email"),hn("actionCodeSettings")]},yb:{name:"setPersistence",j:[xe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ts()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ts()]},Tc:{name:"signInWithCustomToken",j:[xe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[xe("email"),xe("password")]},Vc:{name:"signInWithEmailLink",j:[xe("email"),xe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[xe("phoneNumber"),bg()]},Xc:{name:"signInWithPopup",j:[Sc()]},Yc:{name:"signInWithRedirect",j:[Sc()]},dd:{name:"updateCurrentUser",j:[an(function(s){return{name:"user",K:"an instance of Firebase User",optional:!!s,M:function(l){return!!(l&&l instanceof zr)}}}(),lo(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[xe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[xe("url"),hn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[xe("code")]}}),Kk(Mi.prototype,{lc:{name:"languageCode",lb:an(xe(),lo(),"languageCode")},ti:{name:"tenantId",lb:an(xe(),lo(),"tenantId")}}),Mi.Persistence=vc,Mi.Persistence.LOCAL="local",Mi.Persistence.SESSION="session",Mi.Persistence.NONE="none",Qt(zr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[X0("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[X0("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ts()]},rb:{name:"linkWithCredential",j:[Ts()]},Dc:{name:"linkWithPhoneNumber",j:[xe("phoneNumber"),bg()]},Ec:{name:"linkWithPopup",j:[Sc()]},Fc:{name:"linkWithRedirect",j:[Sc()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ts()]},ub:{name:"reauthenticateWithCredential",j:[Ts()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[xe("phoneNumber"),bg()]},Nc:{name:"reauthenticateWithPopup",j:[Sc()]},Oc:{name:"reauthenticateWithRedirect",j:[Sc()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[an(hn("opt_actionCodeSettings",!0),lo(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[xe(null,!0)]},cd:{name:"unlink",j:[xe("provider")]},Cb:{name:"updateEmail",j:[xe("email")]},Db:{name:"updatePassword",j:[xe("password")]},ed:{name:"updatePhoneNumber",j:[Ts("phone")]},Eb:{name:"updateProfile",j:[hn("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[xe("email"),an(hn("opt_actionCodeSettings",!0),lo(null,!0),"opt_actionCodeSettings",!0)]}}),Qt(Tc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qt(Wf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qt(le.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Kk(dk.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:X0("appVerificationDisabledForTesting")}}),Qt(p0.prototype,{confirm:{name:"confirm",j:[xe("verificationCode")]}}),un(dc,"fromJSON",function(s){s=typeof s=="string"?JSON.parse(s):s;for(var l,d=[oq,sq,aq,iq],m=0;m<d.length;m++)if(l=d[m](s))return l;return null},[an(xe(),hn(),"json")]),un(ui,"credential",function(s,l){return new bs(s,l)},[xe("email"),xe("password")]),Qt(bs.prototype,{w:{name:"toJSON",j:[xe(null,!0)]}}),Qt(Ra.prototype,{Ca:{name:"addScope",j:[xe("scope")]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(Ra,"credential",Yx,[an(xe(),hn(),"token")]),un(ui,"credentialWithLink",Zx,[xe("email"),xe("emailLink")]),Qt(ka.prototype,{Ca:{name:"addScope",j:[xe("scope")]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(ka,"credential",Xx,[an(xe(),hn(),"token")]),Qt(Oa.prototype,{Ca:{name:"addScope",j:[xe("scope")]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(Oa,"credential",Qx,[an(xe(),an(hn(),lo()),"idToken"),an(xe(),lo(),"accessToken",!0)]),Qt(gc.prototype,{Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(gc,"credential",Jx,[an(xe(),hn(),"token"),xe("secret",!0)]),Qt(Wr.prototype,{Ca:{name:"addScope",j:[xe("scope")]},credential:{name:"credential",j:[an(xe(),an(hn(),lo()),"optionsOrIdToken"),an(xe(),lo(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),Qt(Lo.prototype,{w:{name:"toJSON",j:[xe(null,!0)]}}),Qt(Aa.prototype,{w:{name:"toJSON",j:[xe(null,!0)]}}),un(Fo,"credential",eR,[xe("verificationId"),xe("verificationCode")]),Qt(Fo.prototype,{gb:{name:"verifyPhoneNumber",j:[an(xe(),function(s,l){return{name:s||"phoneInfoOptions",K:"valid phone info options",optional:!!l,M:function(d){return d?d.session&&d.phoneNumber?Q0(d.session,Sf)&&typeof d.phoneNumber=="string":d.session&&d.multiFactorHint?Q0(d.session,qp)&&zk(d.multiFactorHint):d.session&&d.multiFactorUid?Q0(d.session,qp)&&typeof d.multiFactorUid=="string":d.phoneNumber?typeof d.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),bg()]}}),Qt(ws.prototype,{w:{name:"toJSON",j:[xe(null,!0)]}}),Qt(O.prototype,{toJSON:{name:"toJSON",j:[xe(null,!0)]}}),Qt(Af.prototype,{toJSON:{name:"toJSON",j:[xe(null,!0)]}}),Qt(Ib.prototype,{toJSON:{name:"toJSON",j:[xe(null,!0)]}}),Qt(v0.prototype,{toJSON:{name:"toJSON",j:[xe(null,!0)]}}),Qt(m0.prototype,{Rc:{name:"resolveSignIn",j:[Wk()]}}),Qt(_0.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Wk(),xe("displayName",!0)]},bd:{name:"unenroll",j:[an({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:zk},xe(),"multiFactorInfoIdentifier")]}}),Qt(Y0.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),un(hb,"parseLink",Ox,[xe("link")]),un(q0,"assertion",function(s){return new yk(s)},[Ts("phone")]),function(){if(typeof ke!="undefined"&&ke.INTERNAL&&ke.INTERNAL.registerComponent){var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Mp,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:fb,VERIFY_AND_CHANGE_EMAIL:Tf,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Mi,AuthCredential:dc,Error:O};un(s,"EmailAuthProvider",ui,[]),un(s,"FacebookAuthProvider",Ra,[]),un(s,"GithubAuthProvider",ka,[]),un(s,"GoogleAuthProvider",Oa,[]),un(s,"TwitterAuthProvider",gc,[]),un(s,"OAuthProvider",Wr,[xe("providerId")]),un(s,"SAMLAuthProvider",Gx,[xe("providerId")]),un(s,"PhoneAuthProvider",Fo,[D$()]),un(s,"RecaptchaVerifier",Y0,[an(xe(),P$(),"recaptchaContainer"),hn("recaptchaParameters",!0),M$()]),un(s,"ActionCodeURL",hb,[]),un(s,"PhoneMultiFactorGenerator",q0,[]),ke.INTERNAL.registerComponent({name:"auth",instanceFactory:function(l){return l=l.getProvider("app").getImmediate(),new Mi(l)},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(l){l.getProvider("auth-internal").initialize()}}),ke.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(l){return l=l.getProvider("auth").getImmediate(),{getUid:M(l.getUid,l),getToken:M(l.nc,l),addAuthTokenListener:M(l.cc,l),removeAuthTokenListener:M(l.Pc,l)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ke.registerVersion("@firebase/auth","0.16.8"),ke.INTERNAL.extendNamespace({User:zr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Nee="@firebase/database",Pee="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IU="";function SU(t){IU=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dee=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Sn(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Lh(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mee=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return Yr(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CU=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Dee(e)}}catch{}return new Mee},Lu=CU("localStorage"),IS=CU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pl=new du("@firebase/database"),AU=function(){var t=1;return function(){return t++}}(),xU=function(t){var e=J8(t),n=new G8;n.update(e);var r=n.digest();return ev.encodeByteArray(r)},Rd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Rd.apply(null,i):typeof i=="object"?n+=Sn(i):n+=i,n+=" "}return n},Fu=null,RU=!0,kU=function(t,e){ce(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Pl.logLevel=it.VERBOSE,Fu=Pl.log.bind(Pl),e&&IS.set("logging_enabled",!0)):typeof t=="function"?Fu=t:(Fu=null,IS.remove("logging_enabled"))},Bn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(RU===!0&&(RU=!1,Fu===null&&IS.get("logging_enabled")===!0&&kU(!0)),Fu){var n=Rd.apply(null,t);Fu(n)}},kd=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Bn.apply(void 0,Ze([t],Wn(e)))}},SS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Rd.apply(void 0,Ze([],Wn(t)));Pl.error(n)},Co=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Rd.apply(void 0,Ze([],Wn(t)));throw Pl.error(n),new Error(n)},Jn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Rd.apply(void 0,Ze([],Wn(t)));Pl.warn(n)},Lee=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},my=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Fee=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},is="[MIN_NAME]",Ao="[MAX_NAME]",Uu=function(t,e){if(t===e)return 0;if(t===is||e===Ao)return-1;if(e===is||t===Ao)return 1;var n=vy(t),r=vy(e);return n!==null?r!==null?n-r==0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},Uee=function(t,e){return t===e?0:t<e?-1:1},Od=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Sn(e))},CS=function(t){if(typeof t!="object"||t===null)return Sn(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=Sn(e[i]),r+=":",r+=CS(t[e[i]]);return r+="}",r},OU=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function An(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var NU=function(t){ce(!my(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,o,a,u,c;t===0?(o=0,a=0,i=1/t==-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=u+r,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));var f=[];for(c=n;c;c-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(i?1:0),f.reverse();var h=f.join(""),p="";for(c=0;c<64;c+=8){var g=parseInt(h.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},jee=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Bee=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Vee(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var qee=new RegExp("^-?(0*)\\d{1,10}$"),PU=-2147483648,AS=2147483647,vy=function(t){if(qee.test(t)){var e=Number(t);if(e>=PU&&e<=AS)return e}return null},Dl=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw Jn("Exception was thrown by user callback.",n),e},Math.floor(0))}},Hee=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Nd=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $ee=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){Jn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wee=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Bn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jn(e)},t}(),Pd=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xS="5",DU="v",MU="s",LU="r",FU="f",UU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jU="ls",zee="p",RS="ac",BU="websocket",VU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kS=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=!1),a===void 0&&(a=""),u===void 0&&(u=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lu.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lu.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function Kee(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qU(t,e,n){ce(typeof e=="string","typeof type must == string"),ce(typeof n=="object","typeof params must == object");var r;if(e===BU)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===VU)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Kee(t)&&(n.ns=t.namespace);var i=[];return An(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gee=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),Yr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return JD(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OS={},NS={};function PS(t){var e=t.toString();return OS[e]||(OS[e]=new Gee),OS[e]}function Yee(t,e){var n=t.toString();return NS[n]||(NS[n]=e()),NS[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xee=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var u=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var c=function(h){u[h]&&Dl(function(){r.onMessage_(u[h])})},f=0;f<u.length;++f)c(f);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HU="start",Qee="close",Jee="pLPCommand",Zee="pRTLPCB",$U="id",WU="pw",zU="ser",ete="cb",tte="seg",nte="ts",rte="d",ite="dframe",KU=1870,GU=30,ote=KU-GU,ste=25e3,ate=3e4,DS=function(){function t(e,n,r,i,o,a,u){var c=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kd(e),this.stats_=PS(n),this.urlFn=function(f){return c.appCheckToken&&(f[RS]=c.appCheckToken),qU(n,VU,f)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Xee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(ate)),Fee(function(){if(!r.isClosed_){r.scriptTagHolder=new ute(function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=Wn(a,5),f=c[0],h=c[1],p=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,f===HU)r.id=h,r.password=p;else if(f===Qee)h?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(h,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+f)},function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=Wn(a,2),f=c[0],h=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(f,h)},function(){r.onClosed_()},r.urlFn);var i={};i[HU]="t",i[zU]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[ete]=r.scriptTagHolder.uniqueCallbackIdentifier),i[DU]=xS,r.transportSessionId&&(i[MU]=r.transportSessionId),r.lastSessionId&&(i[jU]=r.lastSessionId),r.applicationId&&(i[zee]=r.applicationId),r.appCheckToken&&(i[RS]=r.appCheckToken),typeof location!="undefined"&&location.hostname&&UU.test(location.hostname)&&(i[LU]=FU);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!jee()&&!Bee()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=Sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=YD(n),i=OU(r,ote),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[ite]="t",r[$U]=e,r[WU]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=Sn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),ute=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AU(),window[Jee+this.uniqueCallbackIdentifier]=e,window[Zee+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,"javascript:".length)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";<\/script>'}var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){Bn("frame writing exception"),c.stack&&Bn(c.stack),Bn(c)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||Bn("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[$U]=this.myID,e[WU]=this.myPW,e[zU]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+GU+r.length<=KU){var a=this.pendingSegs.shift();r=r+"&"+tte+i+"="+a.seg+"&"+nte+i+"="+a.ts+"&"+rte+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(ste)),a=function(){clearTimeout(o),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Bn("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cte=16384,lte=45e3,yy=null;typeof MozWebSocket!="undefined"?yy=MozWebSocket:typeof WebSocket!="undefined"&&(yy=WebSocket);var ju=function(){function t(e,n,r,i,o,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kd(this.connId),this.stats_=PS(n),this.connURL=t.connectionURL_(n,a,u,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var o={};return o[DU]=xS,typeof location!="undefined"&&location.hostname&&UU.test(location.hostname)&&(o[LU]=FU),n&&(o[MU]=n),r&&(o[jU]=r),i&&(o[RS]=i),qU(e,BU,o)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lu.set("previous_websocket_failure",!0);try{var i,o,a,u;if(!tM()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new yy(this.connURL,[],o)}}catch(f){this.log_("Error instantiating WebSocket.");var c=f.message||f.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(f){r.handleIncomingFrame(f)},this.mySock.onerror=function(f){r.log_("WebSocket error.  Closing connection.");var h=f.message||f.data;h&&r.log_(h),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&yy!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return Lu.isInMemoryStorage||Lu.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){Lu.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Lh(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=Sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=OU(n,cte);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(lte))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fte=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[DS,ju]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ju&&ju.isAvailable(),o=i&&!ju.previouslyFailed();if(e.webSocketOnly&&(i||Jn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ju];else{var a=this.transports_=[];try{for(var u=Pn(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var f=c.value;f&&f.isAvailable()&&a.push(f)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hte=6e4,dte=5e3,pte=10*1024,gte=100*1024,MS="t",YU="d",mte="s",XU="r",vte="e",QU="o",JU="a",ZU="n",ej="p",yte="h",tj=function(){function t(e,n,r,i,o,a,u,c,f,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kd("c:"+this.id+":"),this.transportManager_=new fte(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Nd(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>gte?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>pte?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(MS in e){var n=e[MS];n===JU?this.upgradeIfSecondaryHealthy_():n===XU?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===QU&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Od("t",e),r=Od("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ej,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:JU,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ZU,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Od("t",e),r=Od("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Od(MS,e);if(YU in e){var r=e[YU];if(n===yte)this.onHandshake_(r);else if(n===ZU){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mte?this.onConnectionShutdown_(r):n===XU?this.onReset_(r):n===vte?SS("Server Error: "+r):n===QU?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):SS("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xS!==r&&Jn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Nd(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(hte))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nd(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(dte))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ej,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nj=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rj=function(){function t(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=Ze([],Wn(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},t.prototype.validateEventType_=function(e){ce(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ij=function(t){we(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!pT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return ce(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(rj);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj=32,sj=768,Ct=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function wt(){return new Ct("")}function nt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zs(t){return t.pieces_.length-t.pieceNum_}function jt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ct(t.pieces_,e)}function LS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _te(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Dd(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function aj(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ct(e,0)}function Xt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ct)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Ct(n,0)}function rt(t){return t.pieceNum_>=t.pieces_.length}function Ir(t,e){var n=nt(t),r=nt(e);if(n===null)return e;if(n===r)return Ir(jt(t),jt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function bte(t,e){for(var n=Dd(t,0),r=Dd(e,0),i=0;i<n.length&&i<r.length;i++){var o=Uu(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function FS(t,e){if(Zs(t)!==Zs(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ei(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(Zs(t)>Zs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var wte=function(){function t(e,n){this.errorPrefix_=n,this.parts_=Dd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=nv(this.parts_[r]);uj(this)}return t}();function Ete(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=nv(e),uj(t)}function Tte(t){var e=t.parts_.pop();t.byteLength_-=nv(e),t.parts_.length>0&&(t.byteLength_-=1)}function uj(t){if(t.byteLength_>sj)throw new Error(t.errorPrefix_+"has a key path longer than "+sj+" bytes ("+t.byteLength_+").");if(t.parts_.length>oj)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+oj+") or object contains a cycle "+Bu(t))}function Bu(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ite=function(t){we(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(i="visibilitychange",r="hidden"):typeof document.mozHidden!="undefined"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden!="undefined"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden!="undefined"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return ce(n==="visible","Unknown event type: "+n),[this.visible_]},e}(rj);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Md=1e3,Ste=60*5*1e3,Cte=3*1e3,cj=30*1e3,Ate=1.3,xte=3e4,Rte="server_kill",lj=3,Vu=function(t){we(e,t);function e(n,r,i,o,a,u,c,f){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=o,h.onServerInfoUpdate_=a,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=f,h.id=e.nextPersistentConnectionId_++,h.log_=kd("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Md,h.maxReconnectDelay_=Ste,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,f&&!tM())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ite.getInstance().on("visible",h.onVisible_,h),n.host.indexOf("fblocal")===-1&&ij.getInstance().on("online",h.onOnline_,h),h}return e.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(Sn(a)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new Dn,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(c){var f=c.d;c.s==="ok"?(r.onDataUpdate_(o.p,f,!1,null),i.resolve(f)):i.reject(f)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var u=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[u];c===void 0||a!==c||(delete r.outstandingGets_[u],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},Cte),this.connected_&&this.sendGet_(u),i.promise},e.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,u=n._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),ce(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");var c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(u).set(a,c),this.connected_&&this.sendListen_(c)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var u={p:o},c="q";n.tag&&(u.q=i._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest(c,u,function(f){var h=f.d,p=f.s;e.warnOnListenWarnings_(h,i);var g=r.listens.get(o)&&r.listens.get(o).get(a);g===n&&(r.log_("listen response",f),p!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(p,h))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Yr(n,"w")){var i=lu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Jn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||z8(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cj)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=W8(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var u=a.s,c=a.d||"error";n.authToken_===r&&(u==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(u,c))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),ce(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},u="n";o&&(a.q=i,a.t=o),this.sendRequest(u,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(u){o&&setTimeout(function(){o(u.s,u.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},e.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},e.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var u={p:r,d:i};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:n,request:u,onComplete:o}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(u){r.log_(i+" response",u),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(u.s,u.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var u=o.d;r.log_("reportStats","Error sending stats: "+u)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Sn(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):SS("Unrecognized action received from server: "+Sn(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Md,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Md,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>xte&&(this.reconnectDelay_=Md),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ate)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return U(this,void 0,void 0,function(){var n,r,i,o,a,u,c,f,h,p,g,v,y,w,E=this;return F(this,function(I){switch(I.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,f=function(){c?c.close():(u=!0,i())},h=function(x){ce(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(x)},this.realtime_={close:f,sendRequest:h},p=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,I.label=1;case 1:return I.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)])];case 2:return g=Wn.apply(void 0,[I.sent(),2]),v=g[0],y=g[1],u?Bn("getToken() completed but was canceled"):(Bn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,c=new tj(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(x){Jn(x+" ("+E.repoInfo_.toString()+")"),E.interrupt(Rte)},a)),[3,4];case 3:return w=I.sent(),this.log_("Failed to get token: "+w),u||(this.repoInfo_.nodeAdmin&&Jn(w),f()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){Bn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){Bn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],yT(this.interruptReasons_)&&(this.reconnectDelay_=Md,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return CS(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new Ct(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(n,r){Bn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lj&&(this.reconnectDelay_=cj,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){Bn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lj&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=Pn(this.listens.values()),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var f=(i=void 0,Pn(c.values())),h=f.next();!h.done;h=f.next()){var p=h.value;this.sendListen_(p)}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}catch(y){n={error:y}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var v=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(v.action,v.pathString,v.data,v.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+IU.replace(/\./g,"-")]=1,pT()?n["framework.cordova"]=1:eM()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=ij.getInstance().currentlyOnline();return yT(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(nj);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _y=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new lt(is,e),i=new lt(is,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return lt.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var by,fj=function(t){we(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return by},set:function(n){by=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Uu(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw Yc("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return lt.MIN},e.prototype.maxPost=function(){return new lt(Ao,by)},e.prototype.makePost=function(n,r){return ce(typeof n=="string","KeyIndex indexValue must always be a string."),new lt(n,by)},e.prototype.toString=function(){return".key"},e}(_y),xo=new fj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wy=function(){function t(e,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),Xi=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:t.RED,this.left=i!=null?i:os.EMPTY_NODE,this.right=o!=null?o:os.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return os.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return os.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),kte=function(){function t(){}return t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new Xi(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),os=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xi.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xi.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new wy(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new wy(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new wy(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new wy(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new kte,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ote(t,e){return Uu(t.name,e.name)}function US(t,e){return Uu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jS;function Nte(t){jS=t}var hj=function(t){return typeof t=="number"?"number:"+NU(t):"string:"+t},dj=function(t){if(t.isLeafNode()){var e=t.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Yr(e,".sv"),"Priority must be a string or number.")}else ce(t===jS||t.isEmpty(),"priority of unexpected type.");ce(t===jS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pj,Ml=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dj(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return pj},set:function(e){pj=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return rt(e)?this:nt(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=nt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||Zs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(jt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+hj(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=NU(this.value_):e+=this.value_,this.lazyHash_=xU(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return ce(i>=0,"Unknown leaf type: "+n),ce(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gj,mj;function Pte(t){gj=t}function Dte(t){mj=t}var Mte=function(t){we(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?Uu(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return lt.MIN},e.prototype.maxPost=function(){return new lt(Ao,new Ml("[PRIORITY-POST]",mj))},e.prototype.makePost=function(n,r){var i=gj(n);return new lt(r,new Ml("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(_y),qt=new Mte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lte=Math.log(2),Fte=function(){function t(e){var n=function(o){return parseInt(Math.log(o)/Lte,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),Ey=function(t,e,n,r){t.sort(e);var i=function(c,f){var h=f-c,p,g;if(h===0)return null;if(h===1)return p=t[c],g=n?n(p):p,new Xi(g,p.node,Xi.BLACK,null,null);var v=parseInt(h/2,10)+c,y=i(c,v),w=i(v+1,f);return p=t[v],g=n?n(p):p,new Xi(g,p.node,Xi.BLACK,y,w)},o=function(c){for(var f=null,h=null,p=t.length,g=function(I,x){var k=p-I,P=p;p-=I;var D=i(k+1,P),M=t[k],W=n?n(M):M;v(new Xi(W,M.node,x,null,D))},v=function(I){f?(f.left=I,f=I):(h=I,f=I)},y=0;y<c.count;++y){var w=c.nextBitIsOne(),E=Math.pow(2,c.count-(y+1));w?g(E,Xi.BLACK):(g(E,Xi.BLACK),g(E,Xi.RED))}return h},a=new Fte(t.length),u=o(a);return new os(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BS,Ll={},Ty=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return ce(Ll&&qt,"ChildrenNode.ts has not been loaded"),BS=BS||new t({".priority":Ll},{".priority":qt}),BS},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=lu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof os?n:null},t.prototype.hasIndex=function(e){return Yr(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){ce(e!==xo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(lt.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var u;i?u=Ey(r,e.getCompare()):u=Ll;var c=e.toString(),f=Fe({},this.indexSet_);f[c]=e;var h=Fe({},this.indexes_);return h[c]=u,new t(h,f)},t.prototype.addToIndexes=function(e,n){var r=this,i=tv(this.indexes_,function(o,a){var u=lu(r.indexSet_,a);if(ce(u,"Missing index implementation for "+a),o===Ll)if(u.isDefinedOn(e.node)){for(var c=[],f=n.getIterator(lt.Wrap),h=f.getNext();h;)h.name!==e.name&&c.push(h),h=f.getNext();return c.push(e),Ey(c,u.getCompare())}else return Ll;else{var p=n.get(e.name),g=o;return p&&(g=g.remove(new lt(e.name,p))),g.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=tv(this.indexes_,function(i){if(i===Ll)return i;var o=n.get(e.name);return o?i.remove(new lt(e.name,o)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ld,Ye=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dj(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Ld||(Ld=new t(new os(US),null,Ty.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Ld},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?Ld:n},t.prototype.getChild=function(e){var n=nt(e);return n===null?this:this.getImmediateChild(n).getChild(jt(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(ce(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new lt(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Ld:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(e,n){var r=nt(e);if(r===null)return n;ce(nt(e)!==".priority"||Zs(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(jt(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(qt,function(c,f){n[c]=f.val(e),r++,o&&t.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):o=!1}),!e&&o&&i<2*r){var a=[];for(var u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+hj(this.getPriority().val())+":"),this.forEachChild(qt,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":xU(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new lt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new lt(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new lt(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,lt.Wrap),o=i.peek();o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,lt.Wrap),o=i.peek();o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fd?-1:0},t.prototype.withIndex=function(e){if(e===xo||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===xo||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(qt),i=n.getIterator(qt),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===xo?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ute=function(t){we(e,t);function e(){return t.call(this,new os(US),Ye.EMPTY_NODE,Ty.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return Ye.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ye),Fd=new Ute;Object.defineProperties(lt,{MIN:{value:new lt(is,Ye.EMPTY_NODE)},MAX:{value:new lt(Ao,Fd)}});fj.__EMPTY_NODE=Ye.EMPTY_NODE;Ml.__childrenNodeConstructor=Ye;Nte(Fd);Dte(Fd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jte=!0;function en(t,e){if(e===void 0&&(e=null),t===null)return Ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new Ml(n,en(e))}if(!(t instanceof Array)&&jte){var r=[],i=!1,o=t;if(An(o,function(f,h){if(f.substring(0,1)!=="."){var p=en(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),r.push(new lt(f,p)))}}),r.length===0)return Ye.EMPTY_NODE;var a=Ey(r,Ote,function(f){return f.name},US);if(i){var u=Ey(r,qt.getCompare());return new Ye(a,en(e),new Ty({".priority":u},{".priority":qt}))}else return new Ye(a,en(e),Ty.Default)}else{var c=Ye.EMPTY_NODE;return An(t,function(f,h){if(Yr(t,f)&&f.substring(0,1)!=="."){var p=en(h);(p.isLeafNode()||!p.isEmpty())&&(c=c.updateImmediateChild(f,p))}}),c.updatePriority(en(e))}}Pte(en);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VS=function(t){we(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,ce(!rt(n)&&nt(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?Uu(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=en(n),o=Ye.EMPTY_NODE.updateChild(this.indexPath_,i);return new lt(r,o)},e.prototype.maxPost=function(){var n=Ye.EMPTY_NODE.updateChild(this.indexPath_,Fd);return new lt(Ao,n)},e.prototype.toString=function(){return Dd(this.indexPath_,0).join("/")},e}(_y);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bte=function(t){we(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Uu(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return lt.MIN},e.prototype.maxPost=function(){return lt.MAX},e.prototype.makePost=function(n,r){var i=en(n);return new lt(r,i)},e.prototype.toString=function(){return".value"},e}(_y),qS=new Bte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",HS="-",vj="z",yj=786,Vte=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=Fl.charAt(n%64),n=Math.floor(n/64);ce(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Fl.charAt(e[i]);return ce(a.length===20,"nextPushId: Length should be 20."),a}}(),_j=function(t){if(t===""+AS)return HS;var e=vy(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<yj)return n.push(HS),n.join("");for(var i=n.length-1;i>=0&&n[i]===vj;)i--;if(i===-1)return Ao;var o=n[i],a=Fl.charAt(Fl.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},bj=function(t){if(t===""+PU)return is;var e=vy(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===HS?n.length===1?""+AS:(delete n[n.length-1],n.join("")):(n[n.length-1]=Fl.charAt(Fl.indexOf(n[n.length-1])-1),n.join("")+vj.repeat(yj-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){return{type:"value",snapshotNode:t}}function Ul(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ud(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function jd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function qte(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $S=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,o,a){ce(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Ud(n,u)):ce(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Ul(n,r)):a.trackChildChange(jd(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(qt,function(i,o){n.hasChild(i)||r.trackChildChange(Ud(i,o))}),n.isLeafNode()||n.forEachChild(qt,function(i,o){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(jd(i,o,a))}else r.trackChildChange(Ul(i,o))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?Ye.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ej=function(){function t(e){this.indexedFilter_=new $S(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,o,a){return this.matches(new lt(n,r))||(r=Ye.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=Ye.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Ye.EMPTY_NODE);var o=this;return n.forEachChild(qt,function(a,u){o.matches(new lt(a,u))||(i=i.updateImmediateChild(a,Ye.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hte=function(){function t(e){this.rangedFilter_=new Ej(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,o,a){return this.rangedFilter_.matches(new lt(n,r))||(r=Ye.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Ye.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ye.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var u=o.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:c=this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(u.name,u.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ye.EMPTY_NODE);var f=void 0,h=void 0,p=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),f=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();p=function(E,I){return g(I,E)}}else o=i.getIterator(this.index_),f=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();for(var a=0,v=!1;o.hasNext();){var u=o.getNext();!v&&p(f,u)<=0&&(v=!0);var c=v&&a<this.limit_&&p(u,h)<=0;c?a++:i=i.updateImmediateChild(u.name,Ye.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,o){var a;if(this.reverse_){var u=this.index_.getCompare();a=function(x,k){return u(k,x)}}else a=this.index_.getCompare();var c=e;ce(c.numChildren()===this.limit_,"");var f=new lt(n,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(c.hasChild(n)){for(var g=c.getImmediateChild(n),v=i.getChildAfterChild(this.index_,h,this.reverse_);v!=null&&(v.name===n||c.hasChild(v.name));)v=i.getChildAfterChild(this.index_,v,this.reverse_);var y=v==null?1:a(v,f),w=p&&!r.isEmpty()&&y>=0;if(w)return o!=null&&o.trackChildChange(jd(n,r,g)),c.updateImmediateChild(n,r);o!=null&&o.trackChildChange(Ud(n,g));var E=c.updateImmediateChild(n,Ye.EMPTY_NODE),I=v!=null&&this.rangedFilter_.matches(v);return I?(o!=null&&o.trackChildChange(Ul(v.name,v.node)),E.updateImmediateChild(v.name,v.node)):E}else return r.isEmpty()?e:p&&a(h,f)>=0?(o!=null&&(o.trackChildChange(Ud(h.name,h.node)),o.trackChildChange(Ul(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(h.name,Ye.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tj=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:is},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ao},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===qt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function $te(t){return t.loadsAllData()?new $S(t.getIndex()):t.hasLimit()?new Hte(t):new Ej(t)}function Wte(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function zte(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function WS(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Kte(t,e,n){var r;if(t.index_===xo)typeof e=="string"&&(e=_j(e)),r=WS(t,e,n);else{var i=void 0;n==null?i=Ao:i=_j(n),r=WS(t,e,i)}return r.startAfterSet_=!0,r}function zS(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Gte(t,e,n){var r,i;return t.index_===xo?(typeof e=="string"&&(e=bj(e)),i=zS(t,e,n)):(n==null?r=is:r=bj(n),i=zS(t,e,r)),i.endBeforeSet_=!0,i}function Iy(t,e){var n=t.copy();return n.index_=e,n}function Ij(t){var e={};if(t.isDefault())return e;var n;return t.index_===qt?n="$priority":t.index_===qS?n="$value":t.index_===xo?n="$key":(ce(t.index_ instanceof VS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Sn(n),t.startSet_&&(e.startAt=Sn(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Sn(t.indexStartName_))),t.endSet_&&(e.endAt=Sn(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Sn(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Sj(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==qt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yte=function(t){we(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=kd("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(ce(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,o){var a=this,u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);var c=e.getListenId_(n,i),f={};this.listens_[c]=f;var h=Ij(n._queryParams);this.restRequest_(u+".json",h,function(p,g){var v=g;if(p===404&&(v=null,p=null),p===null&&a.onDataUpdate_(u,v,!1,i),lu(a.listens_,c)===f){var y;p?p===401?y="permission_denied":y="rest_error:"+p:y="ok",o(y,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=Ij(n._queryParams),o=n._path.toString(),a=new Dn;return this.restRequest_(o+".json",i,function(u,c){var f=c;u===404&&(f=null,u=null),u===null?(r.onDataUpdate_(o,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var u=Wn(a,2),c=u[0],f=u[1];c&&c.accessToken&&(r.auth=c.accessToken),f&&f.token&&(r.ac=f.token);var h=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+K8(r);o.log_("Sending REST request for "+h);var p=new XMLHttpRequest;p.onreadystatechange=function(){if(i&&p.readyState===4){o.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);var g=null;if(p.status>=200&&p.status<300){try{g=Lh(p.responseText)}catch{Jn("Failed to parse JSON response for "+h+": "+p.responseText)}i(null,g)}else p.status!==401&&p.status!==404&&Jn("Got unsuccessful REST response for "+h+" Status: "+p.status),i(p.status);i=null}},p.open("GET",h,!0),p.send()})},e}(nj);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xte=function(){function t(){this.rootNode_=Ye.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(){return{value:null,children:new Map}}function jl(t,e,n){if(rt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=nt(e);t.children.has(r)||t.children.set(r,Sy());var i=t.children.get(r);e=jt(e),jl(i,e,n)}}function KS(t,e){if(rt(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(qt,function(o,a){jl(t,new Ct(o),a)}),KS(t,e)}else if(t.children.size>0){var r=nt(e);if(e=jt(e),t.children.has(r)){var i=KS(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function GS(t,e,n){t.value!==null?n(e,t.value):Qte(t,function(r,i){var o=new Ct(e.toString()+"/"+r);GS(i,o,n)})}function Qte(t,e){t.children.forEach(function(n,r){e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cj=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=Fe({},e);return this.last_&&An(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aj=10*1e3,Jte=30*1e3,Zte=5*60*1e3,ene=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Cj(e);var r=Aj+(Jte-Aj)*Math.random();Nd(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;An(n,function(o,a){a>0&&Yr(e.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),Nd(this.reportStats_.bind(this),Math.floor(Math.random()*2*Zte))},t}();function tne(t,e){t.statsToReport_[e]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qi||(Qi={}));function YS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function XS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function QS(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nne=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Qi.ACK_USER_WRITE,this.source=YS()}return t.prototype.operationForChild=function(e){if(rt(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ct(e));return new t(wt(),n,this.revert)}else return ce(nt(this.path)===e,"operationForChild called for unrelated child."),new t(jt(this.path),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xj=function(){function t(e,n){this.source=e,this.path=n,this.type=Qi.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return rt(this.path)?new t(this.source,wt()):new t(this.source,jt(this.path))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cy=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Qi.OVERWRITE}return t.prototype.operationForChild=function(e){return rt(this.path)?new t(this.source,wt(),this.snap.getImmediateChild(e)):new t(this.source,jt(this.path),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JS=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Qi.MERGE}return t.prototype.operationForChild=function(e){if(rt(this.path)){var n=this.children.subtree(new Ct(e));return n.isEmpty()?null:n.value?new Cy(this.source,wt(),n.value):new t(this.source,wt(),n)}else return ce(nt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,jt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ea=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(rt(e))return this.isFullyInitialized()&&!this.filtered_;var n=nt(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rne=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function ine(t,e,n,r){var i=[],o=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(qte(a.childName,a.snapshotNode))}),Bd(t,i,"child_removed",e,r,n),Bd(t,i,"child_added",e,r,n),Bd(t,i,"child_moved",o,r,n),Bd(t,i,"child_changed",e,r,n),Bd(t,i,"value",e,r,n),i}function Bd(t,e,n,r,i,o){var a=r.filter(function(u){return u.type===n});a.sort(function(u,c){return sne(t,u,c)}),a.forEach(function(u){var c=one(t,u,o);i.forEach(function(f){f.respondsTo(u.type)&&e.push(f.createEvent(c,t.query_))})})}function one(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function sne(t,e,n){if(e.childName==null||n.childName==null)throw Yc("Should only compare child_ events.");var r=new lt(e.childName,e.snapshotNode),i=new lt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e){return{eventCache:t,serverCache:e}}function Vd(t,e,n,r){return Ay(new ea(e,n,r),t.serverCache)}function Rj(t,e,n,r){return Ay(t.eventCache,new ea(e,n,r))}function xy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZS,ane=function(){return ZS||(ZS=new os(Uee)),ZS},ni=function(){function t(e,n){n===void 0&&(n=ane()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return An(e,function(r,i){n=n.set(new Ct(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:wt(),value:this.value};if(rt(e))return null;var r=nt(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(jt(e),n);if(o!=null){var a=Xt(new Ct(r),o.path);return{path:a,value:o.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(rt(e))return this;var n=nt(e),r=this.children.get(n);return r!==null?r.subtree(jt(e)):new t(null)},t.prototype.set=function(e,n){if(rt(e))return new t(n,this.children);var r=nt(e),i=this.children.get(r)||new t(null),o=i.set(jt(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(rt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=nt(e),r=this.children.get(n);if(r){var i=r.remove(jt(e)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this},t.prototype.get=function(e){if(rt(e))return this.value;var n=nt(e),r=this.children.get(n);return r?r.get(jt(e)):null},t.prototype.setTree=function(e,n){if(rt(e))return n;var r=nt(e),i=this.children.get(r)||new t(null),o=i.setTree(jt(e),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(wt(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(Xt(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,wt(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(rt(e))return null;var o=nt(e),a=this.children.get(o);return a?a.findOnPath_(jt(e),Xt(n,o),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,wt(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(rt(e))return this;this.value&&r(n,this.value);var i=nt(e),o=this.children.get(i);return o?o.foreachOnPath_(jt(e),Xt(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(wt(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(Xt(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new ni(null))},t}();function qd(t,e,n){if(rt(e))return new ss(new ni(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,a=Ir(i,e);return o=o.updateChild(a,n),new ss(t.writeTree_.set(i,o))}else{var u=new ni(n),c=t.writeTree_.setTree(e,u);return new ss(c)}}function eC(t,e,n){var r=t;return An(n,function(i,o){r=qd(r,Xt(e,i),o)}),r}function kj(t,e){if(rt(e))return ss.empty();var n=t.writeTree_.setTree(e,new ni(null));return new ss(n)}function tC(t,e){return Hu(t,e)!=null}function Hu(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ir(n.path,e)):null}function Oj(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(qt,function(r,i){e.push(new lt(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new lt(r,i.value))}),e}function ta(t,e){if(rt(e))return t;var n=Hu(t,e);return n!=null?new ss(new ni(n)):new ss(t.writeTree_.subtree(e))}function nC(t){return t.writeTree_.isEmpty()}function Bl(t,e){return Nj(wt(),t.writeTree_,e)}function Nj(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(ce(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Nj(Xt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Xt(t,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){return Fj(e,t)}function une(t,e,n,r,i){ce(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=qd(t.visibleWrites,e,n)),t.lastWriteId=r}function cne(t,e,n,r){ce(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=eC(t.visibleWrites,e,n),t.lastWriteId=r}function lne(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function fne(t,e){var n=t.allWrites.findIndex(function(f){return f.writeId===e});ce(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&hne(u,r.path)?i=!1:Ei(r.path,u.path)&&(o=!0)),a--}if(i){if(o)return dne(t),!0;if(r.snap)t.visibleWrites=kj(t.visibleWrites,r.path);else{var c=r.children;An(c,function(f){t.visibleWrites=kj(t.visibleWrites,Xt(r.path,f))})}return!0}else return!1}function hne(t,e){if(t.snap)return Ei(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Ei(Xt(t.path,n),e))return!0;return!1}function dne(t){t.visibleWrites=Pj(t.allWrites,pne,wt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function pne(t){return t.visible}function Pj(t,e,n){for(var r=ss.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)Ei(n,a)?(u=Ir(n,a),r=qd(r,u,o.snap)):Ei(a,n)&&(u=Ir(a,n),r=qd(r,wt(),o.snap.getChild(u)));else if(o.children){if(Ei(n,a))u=Ir(n,a),r=eC(r,u,o.children);else if(Ei(a,n))if(u=Ir(a,n),rt(u))r=eC(r,wt(),o.children);else{var c=lu(o.children,nt(u));if(c){var f=c.getChild(jt(u));r=qd(r,wt(),f)}}}else throw Yc("WriteRecord should have .snap or .children")}}return r}function Dj(t,e,n,r,i){if(!r&&!i){var o=Hu(t.visibleWrites,e);if(o!=null)return o;var a=ta(t.visibleWrites,e);if(nC(a))return n;if(n==null&&!tC(a,wt()))return null;var u=n||Ye.EMPTY_NODE;return Bl(a,u)}else{var c=ta(t.visibleWrites,e);if(!i&&nC(c))return n;if(!i&&n==null&&!tC(c,wt()))return null;var f=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(Ei(g.path,e)||Ei(e,g.path))},h=Pj(t.allWrites,f,e),u=n||Ye.EMPTY_NODE;return Bl(h,u)}}function gne(t,e,n){var r=Ye.EMPTY_NODE,i=Hu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(qt,function(u,c){r=r.updateImmediateChild(u,c)}),r;if(n){var o=ta(t.visibleWrites,e);return n.forEachChild(qt,function(u,c){var f=Bl(ta(o,new Ct(u)),c);r=r.updateImmediateChild(u,f)}),Oj(o).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}else{var a=ta(t.visibleWrites,e);return Oj(a).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}}function mne(t,e,n,r,i){ce(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Xt(e,n);if(tC(t.visibleWrites,o))return null;var a=ta(t.visibleWrites,o);return nC(a)?i.getChild(n):Bl(a,i.getChild(n))}function vne(t,e,n,r){var i=Xt(e,n),o=Hu(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=ta(t.visibleWrites,i);return Bl(a,r.getNode().getImmediateChild(n))}else return null}function yne(t,e){return Hu(t.visibleWrites,e)}function _ne(t,e,n,r,i,o,a){var u,c=ta(t.visibleWrites,e),f=Hu(c,wt());if(f!=null)u=f;else if(n!=null)u=Bl(c,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){for(var h=[],p=a.getCompare(),g=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a),v=g.getNext();v&&h.length<i;)p(v,r)!==0&&h.push(v),v=g.getNext();return h}else return[]}function bne(){return{visibleWrites:ss.empty(),allWrites:[],lastWriteId:-1}}function ky(t,e,n,r){return Dj(t.writeTree,t.treePath,e,n,r)}function rC(t,e){return gne(t.writeTree,t.treePath,e)}function Mj(t,e,n,r){return mne(t.writeTree,t.treePath,e,n,r)}function Oy(t,e){return yne(t.writeTree,Xt(t.treePath,e))}function wne(t,e,n,r,i,o){return _ne(t.writeTree,t.treePath,e,n,r,i,o)}function iC(t,e,n){return vne(t.writeTree,t.treePath,e,n)}function Lj(t,e){return Fj(Xt(t.treePath,e),t.writeTree)}function Fj(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ene=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;ce(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,jd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ud(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Ul(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,jd(r,e.snapshotNode,i.oldSnap));else throw Yc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tne=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),Uj=new Tne,oC=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new ea(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iC(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qu(this.viewCache_),o=wne(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ine(t){return{filter:t}}function Sne(t,e){ce(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Cne(t,e,n,r,i){var o=new Ene,a,u;if(n.type===Qi.OVERWRITE){var c=n;c.source.fromUser?a=sC(t,e,c.path,c.snap,r,i,o):(ce(c.source.fromServer,"Unknown source."),u=c.source.tagged||e.serverCache.isFiltered()&&!rt(c.path),a=Ny(t,e,c.path,c.snap,r,i,u,o))}else if(n.type===Qi.MERGE){var f=n;f.source.fromUser?a=xne(t,e,f.path,f.children,r,i,o):(ce(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),a=aC(t,e,f.path,f.children,r,i,u,o))}else if(n.type===Qi.ACK_USER_WRITE){var h=n;h.revert?a=One(t,e,h.path,r,i,o):a=Rne(t,e,h.path,h.affectedTree,r,i,o)}else if(n.type===Qi.LISTEN_COMPLETE)a=kne(t,e,n.path,r,o);else throw Yc("Unknown operation type: "+n.type);var p=o.getChanges();return Ane(e,a,p),{viewCache:a,changes:p}}function Ane(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=xy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(wj(xy(e)))}}function jj(t,e,n,r,i,o){var a=e.eventCache;if(Oy(r,n)!=null)return e;var u=void 0,c=void 0;if(rt(n))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var f=qu(e),h=f instanceof Ye?f:Ye.EMPTY_NODE,p=rC(r,h);u=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{var g=ky(r,qu(e));u=t.filter.updateFullNode(e.eventCache.getNode(),g,o)}else{var v=nt(n);if(v===".priority"){ce(Zs(n)===1,"Can't have a priority with additional path components");var y=a.getNode();c=e.serverCache.getNode();var w=Mj(r,n,y,c);w!=null?u=t.filter.updatePriority(y,w):u=a.getNode()}else{var E=jt(n),I=void 0;if(a.isCompleteForChild(v)){c=e.serverCache.getNode();var x=Mj(r,n,a.getNode(),c);x!=null?I=a.getNode().getImmediateChild(v).updateChild(E,x):I=a.getNode().getImmediateChild(v)}else I=iC(r,v,e.serverCache);I!=null?u=t.filter.updateChild(a.getNode(),v,I,E,i,o):u=a.getNode()}}return Vd(e,u,a.isFullyInitialized()||rt(n),t.filter.filtersNodes())}function Ny(t,e,n,r,i,o,a,u){var c=e.serverCache,f,h=a?t.filter:t.filter.getIndexedFilter();if(rt(n))f=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){var p=c.getNode().updateChild(n,r);f=h.updateFullNode(c.getNode(),p,null)}else{var g=nt(n);if(!c.isCompleteForPath(n)&&Zs(n)>1)return e;var v=jt(n),y=c.getNode().getImmediateChild(g),w=y.updateChild(v,r);g===".priority"?f=h.updatePriority(c.getNode(),w):f=h.updateChild(c.getNode(),g,w,v,Uj,null)}var E=Rj(e,f,c.isFullyInitialized()||rt(n),h.filtersNodes()),I=new oC(i,E,o);return jj(t,E,n,i,I,u)}function sC(t,e,n,r,i,o,a){var u=e.eventCache,c,f,h=new oC(i,e,o);if(rt(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Vd(e,f,!0,t.filter.filtersNodes());else{var p=nt(n);if(p===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),c=Vd(e,f,u.isFullyInitialized(),u.isFiltered());else{var g=jt(n),v=u.getNode().getImmediateChild(p),y=void 0;if(rt(g))y=r;else{var w=h.getCompleteChild(p);w!=null?LS(g)===".priority"&&w.getChild(aj(g)).isEmpty()?y=w:y=w.updateChild(g,r):y=Ye.EMPTY_NODE}if(v.equals(y))c=e;else{var E=t.filter.updateChild(u.getNode(),p,y,g,h,a);c=Vd(e,E,u.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Bj(t,e){return t.eventCache.isCompleteForChild(e)}function xne(t,e,n,r,i,o,a){var u=e;return r.foreach(function(c,f){var h=Xt(n,c);Bj(e,nt(h))&&(u=sC(t,u,h,f,i,o,a))}),r.foreach(function(c,f){var h=Xt(n,c);Bj(e,nt(h))||(u=sC(t,u,h,f,i,o,a))}),u}function Vj(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function aC(t,e,n,r,i,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c=e,f;rt(n)?f=r:f=new ni(null).setTree(n,r);var h=e.serverCache.getNode();return f.children.inorderTraversal(function(p,g){if(h.hasChild(p)){var v=e.serverCache.getNode().getImmediateChild(p),y=Vj(t,v,g);c=Ny(t,c,new Ct(p),y,i,o,a,u)}}),f.children.inorderTraversal(function(p,g){var v=!e.serverCache.isCompleteForChild(p)&&g.value===void 0;if(!h.hasChild(p)&&!v){var y=e.serverCache.getNode().getImmediateChild(p),w=Vj(t,y,g);c=Ny(t,c,new Ct(p),w,i,o,a,u)}}),c}function Rne(t,e,n,r,i,o,a){if(Oy(i,n)!=null)return e;var u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(rt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ny(t,e,n,c.getNode().getChild(n),i,o,u,a);if(rt(n)){var f=new ni(null);return c.getNode().forEachChild(xo,function(p,g){f=f.set(new Ct(p),g)}),aC(t,e,n,f,i,o,u,a)}else return e}else{var h=new ni(null);return r.foreach(function(p,g){var v=Xt(n,p);c.isCompleteForPath(v)&&(h=h.set(p,c.getNode().getChild(v)))}),aC(t,e,n,h,i,o,u,a)}}function kne(t,e,n,r,i){var o=e.serverCache,a=Rj(e,o.getNode(),o.isFullyInitialized()||rt(n),o.isFiltered());return jj(t,a,n,r,Uj,i)}function One(t,e,n,r,i,o){var a;if(Oy(r,n)!=null)return e;var u=new oC(r,e,i),c=e.eventCache.getNode(),f=void 0;if(rt(n)||nt(n)===".priority"){var h=void 0;if(e.serverCache.isFullyInitialized())h=ky(r,qu(e));else{var p=e.serverCache.getNode();ce(p instanceof Ye,"serverChildren would be complete if leaf node"),h=rC(r,p)}h=h,f=t.filter.updateFullNode(c,h,o)}else{var g=nt(n),v=iC(r,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=c.getImmediateChild(g)),v!=null?f=t.filter.updateChild(c,g,v,jt(n),u,o):e.eventCache.getNode().hasChild(g)?f=t.filter.updateChild(c,g,Ye.EMPTY_NODE,jt(n),u,o):f=c,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=ky(r,qu(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,o)))}return a=e.serverCache.isFullyInitialized()||Oy(r,wt())!=null,Vd(e,f,a,t.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nne=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new $S(r.getIndex()),o=$te(r);this.processor_=Ine(o);var a=n.serverCache,u=n.eventCache,c=i.updateFullNode(Ye.EMPTY_NODE,a.getNode(),null),f=o.updateFullNode(Ye.EMPTY_NODE,u.getNode(),null),h=new ea(c,a.isFullyInitialized(),i.filtersNodes()),p=new ea(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ay(p,h),this.eventGenerator_=new rne(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Pne(t){return t.viewCache_.serverCache.getNode()}function Dne(t){return xy(t.viewCache_)}function Mne(t,e){var n=qu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!rt(e)&&!n.getImmediateChild(nt(e)).isEmpty())?n.getChild(e):null}function qj(t){return t.eventRegistrations_.length===0}function Lne(t,e){t.eventRegistrations_.push(e)}function Hj(t,e,n){var r=[];if(n){ce(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(c){var f=c.createCancelEvent(n,i);f&&r.push(f)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function $j(t,e,n,r){e.type===Qi.MERGE&&e.source.queryId!==null&&(ce(qu(t.viewCache_),"We should always have a full cache before handling merges"),ce(xy(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=Cne(t.processor_,i,e,n,r);return Sne(t.processor_,o.viewCache),ce(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Wj(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Fne(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(qt,function(o,a){r.push(Ul(o,a))})}return n.isFullyInitialized()&&r.push(wj(n.getNode())),Wj(t,r,n.getNode(),e)}function Wj(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return ine(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Py,zj=function(){function t(){this.views=new Map}return t}();function Une(t){ce(!Py,"__referenceConstructor has already been defined"),Py=t}function jne(){return ce(Py,"Reference.ts has not been loaded"),Py}function Bne(t){return t.views.size===0}function uC(t,e,n,r){var i,o,a=e.source.queryId;if(a!==null){var u=t.views.get(a);return ce(u!=null,"SyncTree gave us an op for an invalid query."),$j(u,e,n,r)}else{var c=[];try{for(var f=Pn(t.views.values()),h=f.next();!h.done;h=f.next()){var u=h.value;c=c.concat($j(u,e,n,r))}}catch(p){i={error:p}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return c}}function Kj(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var u=ky(n,i?r:null),c=!1;u?c=!0:r instanceof Ye?(u=rC(n,r),c=!1):(u=Ye.EMPTY_NODE,c=!1);var f=Ay(new ea(u,c,!1),new ea(r,i,!1));return new Nne(e,f)}return a}function Vne(t,e,n,r,i,o){var a=Kj(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),Lne(a,n),Fne(a,n)}function qne(t,e,n,r){var i,o,a=e._queryIdentifier,u=[],c=[],f=ra(t);if(a==="default")try{for(var h=Pn(t.views.entries()),p=h.next();!p.done;p=h.next()){var g=Wn(p.value,2),v=g[0],y=g[1];c=c.concat(Hj(y,n,r)),qj(y)&&(t.views.delete(v),y.query._queryParams.loadsAllData()||u.push(y.query))}}catch(w){i={error:w}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else{var y=t.views.get(a);y&&(c=c.concat(Hj(y,n,r)),qj(y)&&(t.views.delete(a),y.query._queryParams.loadsAllData()||u.push(y.query)))}return f&&!ra(t)&&u.push(new(jne())(e._repo,e._path)),{removed:u,events:c}}function Gj(t){var e,n,r=[];try{for(var i=Pn(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function na(t,e){var n,r,i=null;try{for(var o=Pn(t.views.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i||Mne(u,e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Yj(t,e){var n=e._queryParams;if(n.loadsAllData())return Dy(t);var r=e._queryIdentifier;return t.views.get(r)}function Xj(t,e){return Yj(t,e)!=null}function ra(t){return Dy(t)!=null}function Dy(t){var e,n;try{for(var r=Pn(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var My;function Hne(t){ce(!My,"__referenceConstructor has already been defined"),My=t}function $ne(){return ce(My,"Reference.ts has not been loaded"),My}var Wne=1,Qj=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new ni(null),this.pendingWriteTree_=bne(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function cC(t,e,n,r,i){return une(t.pendingWriteTree_,e,n,r,i),i?Vl(t,new Cy(YS(),e,n)):[]}function zne(t,e,n,r){cne(t.pendingWriteTree_,e,n,r);var i=ni.fromObject(n);return Vl(t,new JS(YS(),e,i))}function ia(t,e,n){n===void 0&&(n=!1);var r=lne(t.pendingWriteTree_,e),i=fne(t.pendingWriteTree_,e);if(i){var o=new ni(null);return r.snap!=null?o=o.set(wt(),!0):An(r.children,function(a){o=o.set(new Ct(a),!0)}),Vl(t,new nne(r.path,o,n))}else return[]}function Hd(t,e,n){return Vl(t,new Cy(XS(),e,n))}function Kne(t,e,n){var r=ni.fromObject(n);return Vl(t,new JS(XS(),e,r))}function Gne(t,e){return Vl(t,new xj(XS(),e))}function Yne(t,e,n){var r=fC(t,n);if(r){var i=hC(r),o=i.path,a=i.queryId,u=Ir(o,e),c=new xj(QS(a),u);return dC(t,o,c)}else return[]}function lC(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&(e._queryIdentifier==="default"||Xj(o,e))){var u=qne(o,e,n,r);Bne(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var c=u.removed;a=u.events;var f=c.findIndex(function(x){return x._queryParams.loadsAllData()})!==-1,h=t.syncPointTree_.findOnPath(i,function(x,k){return ra(k)});if(f&&!h){var p=t.syncPointTree_.subtree(i);if(!p.isEmpty())for(var g=Zne(p),v=0;v<g.length;++v){var y=g[v],w=y.query,E=tB(t,y);t.listenProvider_.startListening($d(w),Fy(t,w),E.hashFn,E.onComplete)}}if(!h&&c.length>0&&!r)if(f){var I=null;t.listenProvider_.stopListening($d(e),I)}else c.forEach(function(x){var k=t.queryToTagMap.get(Uy(x));t.listenProvider_.stopListening($d(x),k)});ere(t,c)}return a}function Xne(t,e,n,r){var i=fC(t,r);if(i!=null){var o=hC(i),a=o.path,u=o.queryId,c=Ir(a,e),f=new Cy(QS(u),c,n);return dC(t,a,f)}else return[]}function Qne(t,e,n,r){var i=fC(t,r);if(i){var o=hC(i),a=o.path,u=o.queryId,c=Ir(a,e),f=ni.fromObject(n),h=new JS(QS(u),c,f);return dC(t,a,h)}else return[]}function Jj(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(w,E){var I=Ir(w,r);i=i||na(E,I),o=o||ra(E)});var a=t.syncPointTree_.get(r);a?(o=o||ra(a),i=i||na(a,wt())):(a=new zj,t.syncPointTree_=t.syncPointTree_.set(r,a));var u;if(i!=null)u=!0;else{u=!1,i=Ye.EMPTY_NODE;var c=t.syncPointTree_.subtree(r);c.foreachChild(function(w,E){var I=na(E,wt());I&&(i=i.updateImmediateChild(w,I))})}var f=Xj(a,e);if(!f&&!e._queryParams.loadsAllData()){var h=Uy(e);ce(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");var p=tre();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}var g=Ry(t.pendingWriteTree_,r),v=Vne(a,e,n,g,i,u);if(!f&&!o){var y=Yj(a,e);v=v.concat(nre(t,e,y))}return v}function Ly(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,function(a,u){var c=Ir(a,e),f=na(u,c);if(f)return f});return Dj(i,e,o,n,r)}function Jne(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(f,h){var p=Ir(f,n);r=r||na(h,p)});var i=t.syncPointTree_.get(n);i?r=r||na(i,wt()):(i=new zj,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=r!=null,a=o?new ea(r,!0,!1):null,u=Ry(t.pendingWriteTree_,e._path),c=Kj(i,e,u,o?a.getNode():Ye.EMPTY_NODE,o);return Dne(c)}function Vl(t,e){return Zj(e,t.syncPointTree_,null,Ry(t.pendingWriteTree_,wt()))}function Zj(t,e,n,r){if(rt(t.path))return eB(t,e,n,r);var i=e.get(wt());n==null&&i!=null&&(n=na(i,wt()));var o=[],a=nt(t.path),u=t.operationForChild(a),c=e.children.get(a);if(c&&u){var f=n?n.getImmediateChild(a):null,h=Lj(r,a);o=o.concat(Zj(u,c,f,h))}return i&&(o=o.concat(uC(i,t,r,n))),o}function eB(t,e,n,r){var i=e.get(wt());n==null&&i!=null&&(n=na(i,wt()));var o=[];return e.children.inorderTraversal(function(a,u){var c=n?n.getImmediateChild(a):null,f=Lj(r,a),h=t.operationForChild(a);h&&(o=o.concat(eB(h,u,c,f)))}),i&&(o=o.concat(uC(i,t,r,n))),o}function tB(t,e){var n=e.query,r=Fy(t,n);return{hashFn:function(){var i=Pne(e)||Ye.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?Yne(t,n._path,r):Gne(t,n._path);var o=Vee(i,n);return lC(t,n,null,o)}}}function Fy(t,e){var n=Uy(e);return t.queryToTagMap.get(n)}function Uy(t){return t._path.toString()+"$"+t._queryIdentifier}function fC(t,e){return t.tagToQueryMap.get(e)}function hC(t){var e=t.indexOf("$");return ce(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ct(t.substr(0,e))}}function dC(t,e,n){var r=t.syncPointTree_.get(e);ce(r,"Missing sync point for query tag that we're tracking");var i=Ry(t.pendingWriteTree_,e);return uC(r,n,i,null)}function Zne(t){return t.fold(function(e,n,r){if(n&&ra(n)){var i=Dy(n);return[i]}else{var o=[];return n&&(o=Gj(n)),An(r,function(a,u){o=o.concat(u)}),o}})}function $d(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new($ne())(t._repo,t._path):t}function ere(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Uy(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function tre(){return Wne++}function nre(t,e,n){var r=e._path,i=Fy(t,e),o=tB(t,n),a=t.listenProvider_.startListening($d(e),i,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(i)ce(!ra(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(p,g,v){if(!rt(p)&&g&&ra(g))return[Dy(g).query];var y=[];return g&&(y=y.concat(Gj(g).map(function(w){return w.query}))),An(v,function(w,E){y=y.concat(E)}),y}),f=0;f<c.length;++f){var h=c[f];t.listenProvider_.stopListening($d(h),Fy(t,h))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rre=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),ire=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=Xt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Ly(this.syncTree_,this.path_)},t}(),ore=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},nB=function(t,e,n){if(!t||typeof t!="object")return t;if(ce(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return sre(t[".sv"],e,n);if(typeof t[".sv"]=="object")return are(t[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},sre=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ce(!1,"Unexpected server value: "+t)}},are=function(t,e,n){t.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);var i=e.node();if(ce(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},rB=function(t,e,n,r){return gC(e,new ire(n,t),r)},pC=function(t,e,n){return gC(t,new rre(e),n)};function gC(t,e,n){var r=t.getPriority().val(),i=nB(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){var a=t,u=nB(a.getValue(),e,n);return u!==a.getValue()||i!==a.getPriority().val()?new Ml(u,en(i)):t}else{var c=t;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new Ml(i))),c.forEachChild(qt,function(f,h){var p=gC(h,e.getImmediateChild(f),n);p!==h&&(o=o.updateImmediateChild(f,p))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mC=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function jy(t,e){for(var n=e instanceof Ct?e:new Ct(e),r=t,i=nt(n);i!==null;){var o=lu(r.node.children,i)||{children:{},childCount:0};r=new mC(i,r,o),n=jt(n),i=nt(n)}return r}function $u(t){return t.node.value}function vC(t,e){t.node.value=e,yC(t)}function iB(t){return t.node.childCount>0}function ure(t){return $u(t)===void 0&&!iB(t)}function By(t,e){An(t.node.children,function(n,r){e(new mC(n,t,r))})}function oB(t,e,n,r){n&&!r&&e(t),By(t,function(i){oB(i,e,!0,r)}),n&&r&&e(t)}function cre(t,e,n){for(var r=n?t:t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Wd(t){return new Ct(t.parent===null?t.name:Wd(t.parent)+"/"+t.name)}function yC(t){t.parent!==null&&lre(t.parent,t.name,t)}function lre(t,e,n){var r=ure(n),i=Yr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,yC(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,yC(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fre=/[\[\].#$\/\u0000-\u001F\u007F]/,hre=/[\[\].#$\u0000-\u001F\u007F]/,_C=10*1024*1024,Vy=function(t){return typeof t=="string"&&t.length!==0&&!fre.test(t)},sB=function(t){return typeof t=="string"&&t.length!==0&&!hre.test(t)},dre=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),sB(t)},zd=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!my(t)||t&&typeof t=="object"&&Yr(t,".sv")},Ro=function(t,e,n,r){r&&e===void 0||Kd(Fr(t,"value"),e,n)},Kd=function(t,e,n){var r=n instanceof Ct?new wte(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bu(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bu(r)+" with contents = "+e.toString());if(my(e))throw new Error(t+"contains "+e.toString()+" "+Bu(r));if(typeof e=="string"&&e.length>_C/3&&nv(e)>_C)throw new Error(t+"contains a string greater than "+_C+" utf8 bytes "+Bu(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(An(e,function(a,u){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!Vy(a)))throw new Error(t+" contains an invalid key ("+a+") "+Bu(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ete(r,a),Kd(t,u,r),Tte(r)}),i&&o)throw new Error(t+' contains ".value" child '+Bu(r)+" in addition to actual children.")}},pre=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=Dd(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Vy(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(bte);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&Ei(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},aB=function(t,e,n,r){if(!(r&&e===void 0)){var i=Fr(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];An(e,function(a,u){var c=new Ct(a);if(Kd(i,u,Xt(n,c)),LS(c)===".priority"&&!zd(u))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),pre(i,o)}},bC=function(t,e,n){if(!(n&&e===void 0)){if(my(e))throw new Error(Fr(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zd(e))throw new Error(Fr(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gre=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Fr(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Gd=function(t,e,n,r){if(!(r&&n===void 0)&&!Vy(n))throw new Error(Fr(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Yd=function(t,e,n,r){if(!(r&&n===void 0)&&!sB(n))throw new Error(Fr(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mre=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Yd(t,e,n,r)},Ti=function(t,e){if(nt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},uB=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Vy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!dre(n))throw new Error(Fr(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},vre=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Fr(t,e)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yre=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function qy(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();n!==null&&!FS(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function wC(t,e,n){qy(t,n),cB(t,function(r){return FS(r,e)})}function Ii(t,e,n){qy(t,n),cB(t,function(r){return Ei(r,e)||Ei(e,r)})}function cB(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(_re(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _re(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();Fu&&Bn("event: "+n.toString()),Dl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lB="repo_interrupt",bre=25,wre=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sy(),this.transactionQueueTree_=new mC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Ere(t,e,n){if(t.stats_=PS(t.repoInfo_),t.forceRestClient_||Hee())t.server_=new Yte(t.repoInfo_,function(r,i,o,a){hB(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return dB(t,!0)},0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Sn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Vu(t.repoInfo_,e,function(r,i,o,a){hB(t,r,i,o,a)},function(r){dB(t,r)},function(r){Ire(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Yee(t.repoInfo_,function(){return new ene(t.stats_,t.server_)}),t.infoData_=new Xte,t.infoSyncTree_=new Qj({startListening:function(r,i,o,a){var u=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(u=Hd(t.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),u},stopListening:function(){}}),EC(t,"connected",!1),t.serverSyncTree_=new Qj({startListening:function(r,i,o,a){return t.server_.listen(r,o,i,function(u,c){var f=a(u,c);Ii(t.eventQueue_,r._path,f)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function fB(t){var e=t.infoData_.getNode(new Ct(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function Xd(t){return ore({timestamp:fB(t)})}function hB(t,e,n,r,i){t.dataUpdateCount++;var o=new Ct(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=tv(n,function(g){return en(g)});a=Qne(t.serverSyncTree_,o,u,i)}else{var c=en(n);a=Xne(t.serverSyncTree_,o,c,i)}else if(r){var f=tv(n,function(g){return en(g)});a=Kne(t.serverSyncTree_,o,f)}else{var h=en(n);a=Hd(t.serverSyncTree_,o,h)}var p=o;a.length>0&&(p=Hl(t,o)),Ii(t.eventQueue_,p,a)}function Tre(t,e){t.interceptServerDataCallback_=e}function dB(t,e){EC(t,"connected",e),e===!1&&Are(t)}function Ire(t,e){An(e,function(n,r){EC(t,n,r)})}function EC(t,e,n){var r=new Ct("/.info/"+e),i=en(n);t.infoData_.updateSnapshot(r,i);var o=Hd(t.infoSyncTree_,r,i);Ii(t.eventQueue_,r,o)}function Hy(t){return t.nextWriteId_++}function Sre(t,e){var n=Jne(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=en(r).withIndex(e._queryParams.getIndex()),o=Hd(t.serverSyncTree_,e._path,i);return wC(t.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return ql(t,"get for query "+Sn(e)+" failed: "+r),Promise.reject(new Error(r))})}function TC(t,e,n,r,i){ql(t,"set",{path:e.toString(),value:n,priority:r});var o=Xd(t),a=en(n,r),u=Ly(t.serverSyncTree_,e),c=pC(a,u,o),f=Hy(t),h=cC(t.serverSyncTree_,e,c,f,!0);qy(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),function(g,v){var y=g==="ok";y||Jn("set at "+e+" failed: "+g);var w=ia(t.serverSyncTree_,f,!y);Ii(t.eventQueue_,e,w),oa(t,i,g,v)});var p=CC(t,e);Hl(t,p),Ii(t.eventQueue_,p,[])}function Cre(t,e,n,r){ql(t,"update",{path:e.toString(),value:n});var i=!0,o=Xd(t),a={};if(An(n,function(f,h){i=!1,a[f]=rB(Xt(e,f),en(h),t.serverSyncTree_,o)}),i)Bn("update() called with empty data.  Don't do anything."),oa(t,r,"ok",void 0);else{var u=Hy(t),c=zne(t.serverSyncTree_,e,a,u);qy(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(f,h){var p=f==="ok";p||Jn("update at "+e+" failed: "+f);var g=ia(t.serverSyncTree_,u,!p),v=g.length>0?Hl(t,e):e;Ii(t.eventQueue_,v,g),oa(t,r,f,h)}),An(n,function(f){var h=CC(t,Xt(e,f));Hl(t,h)}),Ii(t.eventQueue_,e,[])}}function Are(t){ql(t,"onDisconnectEvents");var e=Xd(t),n=Sy();GS(t.onDisconnect_,wt(),function(i,o){var a=rB(i,o,t.serverSyncTree_,e);jl(n,i,a)});var r=[];GS(n,wt(),function(i,o){r=r.concat(Hd(t.serverSyncTree_,i,o));var a=CC(t,i);Hl(t,a)}),t.onDisconnect_=Sy(),Ii(t.eventQueue_,wt(),r)}function xre(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&KS(t.onDisconnect_,e),oa(t,n,r,i)})}function pB(t,e,n,r){var i=en(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,a){o==="ok"&&jl(t.onDisconnect_,e,i),oa(t,r,o,a)})}function Rre(t,e,n,r,i){var o=en(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(a,u){a==="ok"&&jl(t.onDisconnect_,e,o),oa(t,i,a,u)})}function kre(t,e,n,r){if(yT(n)){Bn("onDisconnect().update() called with empty data.  Don't do anything."),oa(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,o){i==="ok"&&An(n,function(a,u){var c=en(u);jl(t.onDisconnect_,Xt(e,a),c)}),oa(t,r,i,o)})}function Ore(t,e,n){var r;nt(e._path)===".info"?r=Jj(t.infoSyncTree_,e,n):r=Jj(t.serverSyncTree_,e,n),wC(t.eventQueue_,e._path,r)}function IC(t,e,n){var r;nt(e._path)===".info"?r=lC(t.infoSyncTree_,e,n):r=lC(t.serverSyncTree_,e,n),wC(t.eventQueue_,e._path,r)}function gB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(lB)}function Nre(t){t.persistentConnection_&&t.persistentConnection_.resume(lB)}function Pre(t,e){if(e===void 0&&(e=!1),typeof console!="undefined"){var n;e?(t.statsListener_||(t.statsListener_=new Cj(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);An(n,function(i,o){for(var a=i,u=i.length;u<r+2;u++)a+=" ";console.log(a+o)})}}function Dre(t,e){t.stats_.incrementCounter(e),tne(t.statsReporter_,e)}function ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Bn.apply(void 0,Ze([r],Wn(e)))}function oa(t,e,n,r){e&&Dl(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,e(a)}})}function Mre(t,e,n,r,i,o){ql(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:AU(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=SC(t,e,void 0);a.currentInputSnapshot=u;var c=a.update(u.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Kd("transaction failed: Data returned ",c,a.path),a.status=0;var f=jy(t.transactionQueueTree_,e),h=$u(f)||[];h.push(a),vC(f,h);var p=void 0;if(typeof c=="object"&&c!==null&&Yr(c,".priority"))p=lu(c,".priority"),ce(zd(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=Ly(t.serverSyncTree_,e)||Ye.EMPTY_NODE;p=g.getPriority().val()}var v=Xd(t),y=en(c,p),w=pC(y,u,v);a.currentOutputSnapshotRaw=y,a.currentOutputSnapshotResolved=w,a.currentWriteId=Hy(t);var E=cC(t.serverSyncTree_,e,w,a.currentWriteId,a.applyLocally);Ii(t.eventQueue_,e,E),$y(t,t.transactionQueueTree_)}}function SC(t,e,n){return Ly(t.serverSyncTree_,e,n)||Ye.EMPTY_NODE}function $y(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||Wy(t,e),$u(e)){var n=vB(t,e);ce(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&Lre(t,Wd(e),n)}else iB(e)&&By(e,function(i){$y(t,i)})}function Lre(t,e,n){for(var r=n.map(function(g){return g.currentWriteId}),i=SC(t,e,r),o=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];ce(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var f=Ir(e,c.path);o=o.updateChild(f,c.currentOutputSnapshotRaw)}var h=o.val(!0),p=e;t.server_.put(p.toString(),h,function(g){ql(t,"transaction put response",{path:p.toString(),status:g});var v=[];if(g==="ok"){for(var y=[],w=function(I){n[I].status=2,v=v.concat(ia(t.serverSyncTree_,n[I].currentWriteId)),n[I].onComplete&&y.push(function(){return n[I].onComplete(null,!0,n[I].currentOutputSnapshotResolved)}),n[I].unwatcher()},E=0;E<n.length;E++)w(E);Wy(t,jy(t.transactionQueueTree_,e)),$y(t,t.transactionQueueTree_),Ii(t.eventQueue_,e,v);for(var E=0;E<y.length;E++)Dl(y[E])}else{if(g==="datastale")for(var E=0;E<n.length;E++)n[E].status===3?n[E].status=4:n[E].status=0;else{Jn("transaction at "+p.toString()+" failed: "+g);for(var E=0;E<n.length;E++)n[E].status=4,n[E].abortReason=g}Hl(t,e)}},a)}function Hl(t,e){var n=mB(t,e),r=Wd(n),i=vB(t,n);return Fre(t,i,r),r}function Fre(t,e,n){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(f){return f.status===0}),a=o.map(function(f){return f.currentWriteId}),u=function(f){var h=e[f],p=Ir(n,h.path),g=!1,v;if(ce(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,v=h.abortReason,i=i.concat(ia(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=bre)g=!0,v="maxretry",i=i.concat(ia(t.serverSyncTree_,h.currentWriteId,!0));else{var y=SC(t,h.path,a);h.currentInputSnapshot=y;var w=e[f].update(y.val());if(w!==void 0){Kd("transaction failed: Data returned ",w,h.path);var E=en(w),I=typeof w=="object"&&w!=null&&Yr(w,".priority");I||(E=E.updatePriority(y.getPriority()));var x=h.currentWriteId,k=Xd(t),P=pC(E,y,k);h.currentOutputSnapshotRaw=E,h.currentOutputSnapshotResolved=P,h.currentWriteId=Hy(t),a.splice(a.indexOf(x),1),i=i.concat(cC(t.serverSyncTree_,h.path,P,h.currentWriteId,h.applyLocally)),i=i.concat(ia(t.serverSyncTree_,x,!0))}else g=!0,v="nodata",i=i.concat(ia(t.serverSyncTree_,h.currentWriteId,!0))}Ii(t.eventQueue_,n,i),i=[],g&&(e[f].status=2,function(D){setTimeout(D,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(v==="nodata"?r.push(function(){return e[f].onComplete(null,!1,e[f].currentInputSnapshot)}):r.push(function(){return e[f].onComplete(new Error(v),!1,null)})))},c=0;c<e.length;c++)u(c);Wy(t,t.transactionQueueTree_);for(var c=0;c<r.length;c++)Dl(r[c]);$y(t,t.transactionQueueTree_)}}function mB(t,e){var n,r=t.transactionQueueTree_;for(n=nt(e);n!==null&&$u(r)===void 0;)r=jy(r,n),e=jt(e),n=nt(e);return r}function vB(t,e){var n=[];return yB(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function yB(t,e,n){var r=$u(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);By(e,function(o){yB(t,o,n)})}function Wy(t,e){var n=$u(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,vC(e,n.length>0?n:void 0)}By(e,function(o){Wy(t,o)})}function CC(t,e){var n=Wd(mB(t,e)),r=jy(t.transactionQueueTree_,e);return cre(r,function(i){AC(t,i)}),AC(t,r),oB(r,function(i){AC(t,i)}),n}function AC(t,e){var n=$u(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ce(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(ce(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(ia(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?vC(e,void 0):n.length=o+1,Ii(t.eventQueue_,Wd(e),i);for(var a=0;a<r.length;a++)Dl(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ure(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function jre(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Pn(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var u=a.split("=");u.length===2?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Jn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var xC=function(t,e){var n=Bre(t),r=n.namespace;n.domain==="firebase.com"&&Co(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Co("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Lee();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kS(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new Ct(n.pathString)}},Bre=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",c=443;if(typeof t=="string"){var f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));var h=t.indexOf("/");h===-1&&(h=t.length);var p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=Ure(t.substring(h,p)));var g=jre(t.substring(Math.min(t.length,p)));f=e.indexOf(":"),f>=0?(a=u==="https"||u==="wss",c=parseInt(e.substring(f+1),10)):f=e.length;var v=e.slice(0,f);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{var y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),o=r}"ns"in g&&(o=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _B=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Sn(this.snapshot.exportVal())},t}(),bB=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wB=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return ce(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vre=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new Dn;return xre(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){Ti("OnDisconnect.remove",this._path);var e=new Dn;return pB(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){Ti("OnDisconnect.set",this._path),Ro("OnDisconnect.set",e,this._path,!1);var n=new Dn;return pB(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){Ti("OnDisconnect.setWithPriority",this._path),Ro("OnDisconnect.setWithPriority",e,this._path,!1),bC("OnDisconnect.setWithPriority",n,!1);var r=new Dn;return Rre(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){Ti("OnDisconnect.update",this._path),aB("OnDisconnect.update",e,this._path,!1);var n=new Dn;return kre(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return rt(this._path)?null:LS(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ko(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=Sj(this._queryParams),n=CS(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Sj(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=Je(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=FS(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+_te(this._path)},t}();function zy(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function sa(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===xo){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!==is)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==Ao)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===qt){if(e!=null&&!zd(e)||n!=null&&!zd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ce(t.getIndex()instanceof VS||t.getIndex()===qS,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ky(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ko=function(t){we(e,t);function e(n,r){return t.call(this,n,r,new Tj,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=aj(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(Si),Gy=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new Ct(e),r=Wu(this.ref,e);return new t(this._node.getChild(n),r,qt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new t(o,Wu(n.ref,i),qt))})},t.prototype.hasChild=function(e){var n=new Ct(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function EB(t,e){return t=Je(t),t._checkNotDeleted("ref"),e!==void 0?Wu(t._root,e):t._root}function TB(t,e){t=Je(t),t._checkNotDeleted("refFromURL");var n=xC(e,t._repo.repoInfo_.nodeAdmin);uB("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Co("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),EB(t,n.path.toString())}function Wu(t,e){return t=Je(t),nt(t._path)===null?mre("child","path",e,!1):Yd("child","path",e,!1),new ko(t._repo,Xt(t._path,e))}function qre(t,e){t=Je(t),Ti("push",t._path),Ro("push",e,t._path,!0);var n=fB(t._repo),r=Vte(n),i=Wu(t,r),o=Wu(t,r),a;return e!=null?a=RC(o,e).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function Hre(t){return Ti("remove",t._path),RC(t,null)}function RC(t,e){t=Je(t),Ti("set",t._path),Ro("set",e,t._path,!1);var n=new Dn;return TC(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function $re(t,e){t=Je(t),Ti("setPriority",t._path),bC("setPriority",e,!1);var n=new Dn;return TC(t._repo,Xt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Wre(t,e,n){if(Ti("setWithPriority",t._path),Ro("setWithPriority",e,t._path,!1),bC("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new Dn;return TC(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function zre(t,e){aB("update",e,t._path,!1);var n=new Dn;return Cre(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function Kre(t){return t=Je(t),Sre(t._repo,t).then(function(e){return new Gy(e,new ko(t._repo,t._path),t._queryParams.getIndex())})}var IB=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new _B("value",this,new Gy(e.snapshotNode,new ko(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new bB(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),SB=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new bB(this,e,n):null},t.prototype.createEvent=function(e,n){ce(e.childName!=null,"Child events should have a childName.");var r=Wu(new ko(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new _B(e.type,this,new Gy(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Qd(t,e,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,u=function(h,p){IC(t._repo,t,f),a(h,p)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new wB(n,o||void 0),f=e==="value"?new IB(c):new SB(e,c);return Ore(t._repo,t,f),function(){return IC(t._repo,t,f)}}function kC(t,e,n,r){return Qd(t,"value",e,n,r)}function CB(t,e,n,r){return Qd(t,"child_added",e,n,r)}function AB(t,e,n,r){return Qd(t,"child_changed",e,n,r)}function xB(t,e,n,r){return Qd(t,"child_moved",e,n,r)}function RB(t,e,n,r){return Qd(t,"child_removed",e,n,r)}function kB(t,e,n){var r=null,i=n?new wB(n):null;e==="value"?r=new IB(i):e&&(r=new SB(e,i)),IC(t._repo,t,r)}var Ji=function(){function t(){}return t}(),OB=function(t){we(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ro("endAt",this._value,n._path,!0);var r=zS(n._queryParams,this._value,this._key);if(Ky(r),sa(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Si(n._repo,n._path,r,n._orderByCalled)},e}(Ji);function Gre(t,e){return Gd("endAt","key",e,!0),new OB(t,e)}var Yre=function(t){we(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ro("endBefore",this._value,n._path,!1);var r=Gte(n._queryParams,this._value,this._key);if(Ky(r),sa(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Si(n._repo,n._path,r,n._orderByCalled)},e}(Ji);function Xre(t,e){return Gd("endBefore","key",e,!0),new Yre(t,e)}var NB=function(t){we(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ro("startAt",this._value,n._path,!0);var r=WS(n._queryParams,this._value,this._key);if(Ky(r),sa(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Si(n._repo,n._path,r,n._orderByCalled)},e}(Ji);function Qre(t,e){return t===void 0&&(t=null),Gd("startAt","key",e,!0),new NB(t,e)}var Jre=function(t){we(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ro("startAfter",this._value,n._path,!1);var r=Kte(n._queryParams,this._value,this._key);if(Ky(r),sa(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Si(n._repo,n._path,r,n._orderByCalled)},e}(Ji);function Zre(t,e){return Gd("startAfter","key",e,!0),new Jre(t,e)}var eie=function(t){we(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Si(n._repo,n._path,Wte(n._queryParams,this._limit),n._orderByCalled)},e}(Ji);function tie(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new eie(t)}var nie=function(t){we(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Si(n._repo,n._path,zte(n._queryParams,this._limit),n._orderByCalled)},e}(Ji);function rie(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new nie(t)}var iie=function(t){we(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){zy(n,"orderByChild");var r=new Ct(this._path);if(rt(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new VS(r),o=Iy(n._queryParams,i);return sa(o),new Si(n._repo,n._path,o,!0)},e}(Ji);function oie(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yd("orderByChild","path",t,!1),new iie(t)}var sie=function(t){we(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){zy(n,"orderByKey");var r=Iy(n._queryParams,xo);return sa(r),new Si(n._repo,n._path,r,!0)},e}(Ji);function aie(){return new sie}var uie=function(t){we(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){zy(n,"orderByPriority");var r=Iy(n._queryParams,qt);return sa(r),new Si(n._repo,n._path,r,!0)},e}(Ji);function cie(){return new uie}var lie=function(t){we(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){zy(n,"orderByValue");var r=Iy(n._queryParams,qS);return sa(r),new Si(n._repo,n._path,r,!0)},e}(Ji);function fie(){return new lie}var hie=function(t){we(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if(Ro("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new OB(this._value,this._key)._apply(new NB(this._value,this._key)._apply(n))},e}(Ji);function die(t,e){return Gd("equalTo","key",e,!0),new hie(t,e)}function Zi(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Je(t);try{for(var a=Pn(r),u=a.next();!u.done;u=a.next()){var c=u.value;o=c._apply(o)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}Une(ko);Hne(ko);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pie="FIREBASE_DATABASE_EMULATOR_HOST",OC={},PB=!1;function gie(t,e,n,r){t.repoInfo_=new kS(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function DB(t,e,n,r,i){var o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Co("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bn("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a=xC(o,i),u=a.repoInfo,c,f=void 0;typeof process!="undefined"&&(f={}[pie]),f?(c=!0,o="http://"+f+"?ns="+u.namespace,a=xC(o,i),u=a.repoInfo):c=!a.repoInfo.secure;var h=i&&c?new Pd(Pd.OWNER):new Wee(t.name,t.options,e);uB("Invalid Firebase Database URL",a),rt(a.path)||Co("Database URL must point to the root of a Firebase Database (not including a child path).");var p=vie(u,t,h,new $ee(t.name,n));return new _ie(p,t)}function mie(t,e){var n=OC[e];(!n||n[t.key]!==t)&&Co("Database "+e+"("+t.repoInfo_+") has already been deleted."),gB(t),delete n[t.key]}function vie(t,e,n,r){var i=OC[e.name];i||(i={},OC[e.name]=i);var o=i[t.toURLString()];return o&&Co("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new wre(t,PB,n,r),i[t.toURLString()]=o,o}function yie(t){PB=t}var _ie=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(Ere(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new ko(this._repo,wt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._rootInternal!==null&&(mie(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&Co("Cannot call "+e+" on a deleted database.")},t}();function bie(t,e,n,r){r===void 0&&(r={}),t=Je(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Co("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Co('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Pd(Pd.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:dT(r.mockUserToken,t.app.options.projectId);o=new Pd(a)}gie(i,e,n,o)}function wie(t){t=Je(t),t._checkNotDeleted("goOffline"),gB(t._repo)}function Eie(t){t=Je(t),t._checkNotDeleted("goOnline"),Nre(t._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tie={".sv":"timestamp"};function Iie(){return Tie}function Sie(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cie=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Aie(t,e,n){var r;if(t=Je(t),Ti("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new Dn,a=function(c,f,h){var p=null;c?o.reject(c):(p=new Gy(h,new ko(t._repo,t._path),qt),o.resolve(new Cie(f,p)))},u=kC(t,function(){});return Mre(t._repo,t._path,e,a,u,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xie=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){je("OnDisconnect.cancel",0,1,arguments.length),Mn("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){je("OnDisconnect.remove",0,1,arguments.length),Mn("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){je("OnDisconnect.set",1,2,arguments.length),Mn("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){je("OnDisconnect.setWithPriority",2,3,arguments.length),Mn("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(e,n){if(je("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Jn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mn("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(e);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rie=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return je("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jd=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return je("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return je("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return je("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return je("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return je("DataSnapshot.child",0,1,arguments.length),e=String(e),Yd("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return je("DataSnapshot.hasChild",1,1,arguments.length),Yd("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return je("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return je("DataSnapshot.forEach",1,1,arguments.length),Mn("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return je("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return je("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return je("DataSnapshot.ref",0,0,arguments.length),new zu(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),MB=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var o=this,a;je("Query.on",2,4,arguments.length),Mn("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(h,p){n.call(u.context,new Jd(o.database,h),p)};c.userCallback=n,c.context=u.context;var f=(a=u.cancel)===null||a===void 0?void 0:a.bind(u.context);switch(e){case"value":return kC(this._delegate,c,f),n;case"child_added":return CB(this._delegate,c,f),n;case"child_removed":return RB(this._delegate,c,f),n;case"child_changed":return AB(this._delegate,c,f),n;case"child_moved":return xB(this._delegate,c,f),n;default:throw new Error(Fr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(je("Query.off",0,3,arguments.length),gre("Query.off",e,!0),Mn("Query.off","callback",n,!0),rM("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,kB(this._delegate,e,i)}else kB(this._delegate,e)},t.prototype.get=function(){var e=this;return Kre(this._delegate).then(function(n){return new Jd(e.database,n)})},t.prototype.once=function(e,n,r,i){var o=this;je("Query.once",1,4,arguments.length),Mn("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=new Dn,c=function(h,p){var g=new Jd(o.database,h);n&&n.call(a.context,g,p),u.resolve(g)};c.userCallback=n,c.context=a.context;var f=function(h){a.cancel&&a.cancel.call(a.context,h),u.reject(h)};switch(e){case"value":kC(this._delegate,c,f,{onlyOnce:!0});break;case"child_added":CB(this._delegate,c,f,{onlyOnce:!0});break;case"child_removed":RB(this._delegate,c,f,{onlyOnce:!0});break;case"child_changed":AB(this._delegate,c,f,{onlyOnce:!0});break;case"child_moved":xB(this._delegate,c,f,{onlyOnce:!0});break;default:throw new Error(Fr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return je("Query.limitToFirst",1,1,arguments.length),new t(this.database,Zi(this._delegate,tie(e)))},t.prototype.limitToLast=function(e){return je("Query.limitToLast",1,1,arguments.length),new t(this.database,Zi(this._delegate,rie(e)))},t.prototype.orderByChild=function(e){return je("Query.orderByChild",1,1,arguments.length),new t(this.database,Zi(this._delegate,oie(e)))},t.prototype.orderByKey=function(){return je("Query.orderByKey",0,0,arguments.length),new t(this.database,Zi(this._delegate,aie()))},t.prototype.orderByPriority=function(){return je("Query.orderByPriority",0,0,arguments.length),new t(this.database,Zi(this._delegate,cie()))},t.prototype.orderByValue=function(){return je("Query.orderByValue",0,0,arguments.length),new t(this.database,Zi(this._delegate,fie()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),je("Query.startAt",0,2,arguments.length),new t(this.database,Zi(this._delegate,Qre(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),je("Query.startAfter",0,2,arguments.length),new t(this.database,Zi(this._delegate,Zre(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),je("Query.endAt",0,2,arguments.length),new t(this.database,Zi(this._delegate,Gre(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),je("Query.endBefore",0,2,arguments.length),new t(this.database,Zi(this._delegate,Xre(e,n)))},t.prototype.equalTo=function(e,n){return je("Query.equalTo",1,2,arguments.length),new t(this.database,Zi(this._delegate,die(e,n)))},t.prototype.toString=function(){return je("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return je("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(je("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Mn(e,"cancel",i.cancel,!0),i.context=r,rM(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Fr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new zu(this.database,new ko(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),zu=function(t){we(e,t);function e(n,r){var i=t.call(this,n,new Si(r._repo,r._path,new Tj,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return je("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return je("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,Wu(this._delegate,n))},e.prototype.getParent=function(){je("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return je("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){je("Reference.set",1,2,arguments.length),Mn("Reference.set","onComplete",r,!0);var i=RC(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(n,r){if(je("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,Jn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ti("Reference.update",this._delegate._path),Mn("Reference.update","onComplete",r,!0);var a=zre(this._delegate,n);return r&&a.then(function(){return r(null)},function(u){return r(u)}),a},e.prototype.setWithPriority=function(n,r,i){je("Reference.setWithPriority",2,3,arguments.length),Mn("Reference.setWithPriority","onComplete",i,!0);var o=Wre(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},e.prototype.remove=function(n){je("Reference.remove",0,1,arguments.length),Mn("Reference.remove","onComplete",n,!0);var r=Hre(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var o=this;je("Reference.transaction",1,3,arguments.length),Mn("Reference.transaction","transactionUpdate",n,!1),Mn("Reference.transaction","onComplete",r,!0),vre("Reference.transaction","applyLocally",i,!0);var a=Aie(this._delegate,n,{applyLocally:i}).then(function(u){return new Rie(u.committed,new Jd(o.database,u.snapshot))});return r&&a.then(function(u){return r(null,u.committed,u.snapshot)},function(u){return r(u,!1,null)}),a},e.prototype.setPriority=function(n,r){je("Reference.setPriority",1,2,arguments.length),Mn("Reference.setPriority","onComplete",r,!0);var i=$re(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(n,r){var i=this;je("Reference.push",0,2,arguments.length),Mn("Reference.push","onComplete",r,!0);var o=qre(this._delegate,n),a=o.then(function(c){return new e(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var u=new e(this.database,o);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u},e.prototype.onDisconnect=function(){return Ti("Reference.onDisconnect",this._delegate._path),new xie(new Vre(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(MB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yy=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),bie(this._delegate,e,n,r)},t.prototype.ref=function(e){if(je("database.ref",0,1,arguments.length),e instanceof zu){var n=TB(this._delegate,e.toString());return new zu(this,n)}else{var n=EB(this._delegate,e);return new zu(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";je(n,1,1,arguments.length);var r=TB(this._delegate,e);return new zu(this,r)},t.prototype.goOffline=function(){return je("database.goOffline",0,0,arguments.length),wie(this._delegate)},t.prototype.goOnline=function(){return je("database.goOnline",0,0,arguments.length),Eie(this._delegate)},t.ServerValue={TIMESTAMP:Iie(),increment:function(e){return Sie(e)}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kie=function(){ju.forceDisallow(),DS.forceAllow()},Oie=function(){DS.forceDisallow()},Nie=function(){return ju.isAvailable()},Pie=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},Die=function(t,e){Pre(t._delegate._repo,e)},Mie=function(t,e){Dre(t._delegate._repo,e)},Lie=function(t){return t._delegate._repo.dataUpdateCount},Fie=function(t,e){return Tre(t._delegate._repo,e)};function Uie(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,u=a===void 0?!1:a;SU(r);var c=new iM("auth-internal",new oM("database-standalone"));return c.setComponent(new or("auth-internal",function(){return i},"PRIVATE")),{instance:new Yy(DB(e,c,void 0,n,u),e),namespace:o}}var jie=Object.freeze({__proto__:null,forceLongPolling:kie,forceWebSockets:Oie,isWebSocketsAvailable:Nie,setSecurityDebugCallback:Pie,stats:Die,statsIncrementCounter:Mie,dataUpdateCount:Lie,interceptServerData:Fie,initStandalone:Uie});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bie=Vu;Vu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Vu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Vie=tj,qie=function(t){var e=Vu.prototype.put;return Vu.prototype.put=function(n,r,i,o){o!==void 0&&(o=t()),e.call(this,n,r,i,o)},function(){Vu.prototype.put=e}},Hie=kS,$ie=function(t){return t._delegate._queryIdentifier},Wie=function(t){yie(t)},zie=Object.freeze({__proto__:null,DataConnection:Bie,RealTimeConnection:Vie,hijackHash:qie,ConnectionTarget:Hie,queryIdentifier:$ie,forceRestClient:Wie});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kie=Yy.ServerValue;function Gie(t){SU(t.SDK_VERSION),t.INTERNAL.registerComponent(new or("database",function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Yy(DB(i,o,a,r),i)},"PUBLIC").setServiceProps({Reference:zu,Query:MB,Database:Yy,DataSnapshot:Jd,enableLogging:kU,INTERNAL:jie,ServerValue:Kie,TEST_ACCESS:zie}).setMultipleInstances(!0)),t.registerVersion(Nee,Pee)}Gie(ke);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yie(t){t.prototype.loadBundle=xee,t.prototype.namedQuery=Ree}Yie(ES);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LB={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$l=function(t){we(e,t);function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return e}(Error);function Xie(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Qie(t,e,n){var r=Xie(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var u=a.status;if(typeof u=="string"){if(!LB[u])return new $l("internal","internal");r=LB[u],i=u}var c=a.message;typeof c=="string"&&(i=c),o=a.details,o!==void 0&&(o=n.decode(o))}}catch{}return r==="ok"?null:new $l(r,i,o)}var Jie=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return U(this,void 0,void 0,function(){var e;return F(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return U(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zie="type.googleapis.com/google.protobuf.Int64Value",eoe="type.googleapis.com/google.protobuf.UInt64Value";function FB(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var toe=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return FB(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case Zie:case eoe:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?FB(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noe(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new $l("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var UB=function(){function t(e,n,r,i,o,a){var u=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new toe,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(u.deleteService())}},this.contextProvider=new Jie(n,r),this.cancelAllRequests=new Promise(function(f){u.deleteService=function(){return f()}});try{var c=new URL(o);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return U(this,void 0,void 0,function(){var i,o,a;return F(this,function(u){switch(u.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=u.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return o=u.sent(),[3,5];case 4:return u.sent(),[2,{status:0,json:null}];case 5:a=null,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,o.json()];case 7:return a=u.sent(),[3,9];case 8:return u.sent(),[3,9];case 9:return[2,{status:o.status,json:a}]}})})},t.prototype.getAppCheckToken=function(){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return U(this,void 0,void 0,function(){var i,o,a,u,c,f,h,p,g,v,y,w;return F(this,function(E){switch(E.label){case 0:return i=this._url(e),n=this.serializer.encode(n),o={data:n},a={},[4,this.contextProvider.getContext()];case 1:return u=E.sent(),u.authToken&&(a.Authorization="Bearer "+u.authToken),u.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=u.instanceIdToken),c=r.timeout||7e4,f=noe(c),h=f.timer,p=f.promise,[4,Promise.race([jB(h,this.postJSON(i,o,a)),p,jB(h,this.cancelAllRequests)])];case 2:if(g=E.sent(),!g)throw new $l("cancelled","Firebase Functions instance was deleted.");if(v=Qie(g.status,g.json,this.serializer),v)throw v;if(!g.json)throw new $l("internal","Response is not valid JSON object.");if(y=g.json.data,typeof y=="undefined"&&(y=g.json.result),typeof y=="undefined")throw new $l("internal","Response is missing data field.");return w=this.serializer.decode(y),[2,{data:w}]}})})},t}();function jB(t,e){return U(this,void 0,void 0,function(){var n;return F(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var roe="functions";function ioe(t,e){var n={Functions:UB};function r(i,o){var a=o.instanceIdentifier,u=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),f=i.getProvider("app-check-internal"),h=i.getProvider("messaging");return new UB(u,c,h,f,a,e)}t.INTERNAL.registerComponent(new or(roe,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var ooe="@firebase/functions",soe="0.6.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ioe(ke,fetch.bind(self));ke.registerVersion(ooe,soe);function aoe(t){return Array.prototype.slice.call(t)}function BB(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function Xy(t,e,n){var r,i=new Promise(function(o,a){r=t[e].apply(t,n),BB(r).then(o,a)});return i.request=r,i}function uoe(t,e,n){var r=Xy(t,e,n);return r.then(function(i){if(!!i)return new Zd(i,r.request)})}function Wl(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function NC(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return Xy(this[e],i,arguments)})})}function Qy(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function VB(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return uoe(this[e],i,arguments)})})}function Ku(t){this._index=t}Wl(Ku,"_index",["name","keyPath","multiEntry","unique"]);NC(Ku,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);VB(Ku,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Zd(t,e){this._cursor=t,this._request=e}Wl(Zd,"_cursor",["direction","key","primaryKey","value"]);NC(Zd,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(Zd.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),BB(e._request).then(function(r){if(!!r)return new Zd(r,e._request)})})})});function Oo(t){this._store=t}Oo.prototype.createIndex=function(){return new Ku(this._store.createIndex.apply(this._store,arguments))};Oo.prototype.index=function(){return new Ku(this._store.index.apply(this._store,arguments))};Wl(Oo,"_store",["name","keyPath","indexNames","autoIncrement"]);NC(Oo,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);VB(Oo,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Qy(Oo,"_store",IDBObjectStore,["deleteIndex"]);function ep(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}ep.prototype.objectStore=function(){return new Oo(this._tx.objectStore.apply(this._tx,arguments))};Wl(ep,"_tx",["objectStoreNames","mode"]);Qy(ep,"_tx",IDBTransaction,["abort"]);function Jy(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new ep(n)}Jy.prototype.createObjectStore=function(){return new Oo(this._db.createObjectStore.apply(this._db,arguments))};Wl(Jy,"_db",["name","version","objectStoreNames"]);Qy(Jy,"_db",IDBDatabase,["deleteObjectStore","close"]);function Zy(t){this._db=t}Zy.prototype.transaction=function(){return new ep(this._db.transaction.apply(this._db,arguments))};Wl(Zy,"_db",["name","version","objectStoreNames"]);Qy(Zy,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Oo,Ku].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=aoe(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[Ku,Oo].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(o){r.iterateCursor(e,function(a){if(!a){o(i);return}if(i.push(a.value),n!==void 0&&i.length==n){o(i);return}a.continue()})})})});function PC(t,e,n){var r=Xy(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(o){n&&n(new Jy(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new Zy(o)})}function DC(t){return Xy(indexedDB,"deleteDatabase",[t])}var coe="@firebase/installations",qB="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HB=1e4,$B="w:"+qB,WB="FIS_v2",loe="https://firebaseinstallations.googleapis.com/v1",foe=60*60*1e3,hoe="installations",doe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa,poe=(aa={},aa["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',aa["not-registered"]="Firebase Installation is not registered.",aa["installation-not-found"]="Firebase Installation not found.",aa["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',aa["app-offline"]="Could not process request. Application offline.",aa["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",aa),as=new Xo(hoe,doe,poe);function zB(t){return t instanceof Xc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){var e=t.projectId;return loe+"/projects/"+e+"/installations"}function KB(t){return{token:t.token,requestStatus:2,expiresIn:goe(t.expiresIn),creationTime:Date.now()}}function LC(t,e){return U(this,void 0,void 0,function(){var n,r;return F(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,as.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function GB(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function YB(t,e){var n=e.refreshToken,r=GB(t);return r.append("Authorization",moe(n)),r}function FC(t){return U(this,void 0,void 0,function(){var e;return F(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function goe(t){return Number(t.replace("s","000"))}function moe(t){return WB+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function voe(t,e){var n=e.fid;return U(this,void 0,void 0,function(){var r,i,o,a,u,c,f;return F(this,function(h){switch(h.label){case 0:return r=MC(t),i=GB(t),o={fid:n,authVersion:WB,appId:t.appId,sdkVersion:$B},a={method:"POST",headers:i,body:JSON.stringify(o)},[4,FC(function(){return fetch(r,a)})];case 1:return u=h.sent(),u.ok?[4,u.json()]:[3,3];case 2:return c=h.sent(),f={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:KB(c.authToken)},[2,f];case 3:return[4,LC("Create Installation",u)];case 4:throw h.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(t){var e=btoa(String.fromCharCode.apply(String,Ze([],Wn(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _oe=/^[cdef][\w-]{21}$/,UC="";function boe(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=woe(t);return _oe.test(n)?n:UC}catch{return UC}}function woe(t){var e=yoe(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kl=new Map;function QB(t,e){var n=zl(t);JB(n,e),Ioe(n,e)}function Eoe(t,e){ZB();var n=zl(t),r=Kl.get(n);r||(r=new Set,Kl.set(n,r)),r.add(e)}function Toe(t,e){var n=zl(t),r=Kl.get(n);!r||(r.delete(e),r.size===0&&Kl.delete(n),eV())}function JB(t,e){var n,r,i=Kl.get(t);if(!!i)try{for(var o=Pn(i),a=o.next();!a.done;a=o.next()){var u=a.value;u(e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function Ioe(t,e){var n=ZB();n&&n.postMessage({key:t,fid:e}),eV()}var Gu=null;function ZB(){return!Gu&&"BroadcastChannel"in self&&(Gu=new BroadcastChannel("[Firebase] FID Change"),Gu.onmessage=function(t){JB(t.data.key,t.data.fid)}),Gu}function eV(){Kl.size===0&&Gu&&(Gu.close(),Gu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Soe="firebase-installations-database",Coe=1,Yu="firebase-installations-store",jC=null;function BC(){return jC||(jC=PC(Soe,Coe,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Yu)}})),jC}function e_(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,a;return F(this,function(u){switch(u.label){case 0:return n=zl(t),[4,BC()];case 1:return r=u.sent(),i=r.transaction(Yu,"readwrite"),o=i.objectStore(Yu),[4,o.get(n)];case 2:return a=u.sent(),[4,o.put(e,n)];case 3:return u.sent(),[4,i.complete];case 4:return u.sent(),(!a||a.fid!==e.fid)&&QB(t,e.fid),[2,e]}})})}function VC(t){return U(this,void 0,void 0,function(){var e,n,r;return F(this,function(i){switch(i.label){case 0:return e=zl(t),[4,BC()];case 1:return n=i.sent(),r=n.transaction(Yu,"readwrite"),[4,r.objectStore(Yu).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function tp(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,a,u;return F(this,function(c){switch(c.label){case 0:return n=zl(t),[4,BC()];case 1:return r=c.sent(),i=r.transaction(Yu,"readwrite"),o=i.objectStore(Yu),[4,o.get(n)];case 2:return a=c.sent(),u=e(a),u!==void 0?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),u&&(!a||a.fid!==u.fid)&&QB(t,u.fid),[2,u]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){return U(this,void 0,void 0,function(){var e,n,r;return F(this,function(i){switch(i.label){case 0:return[4,tp(t,function(o){var a=Aoe(o),u=xoe(t,a);return e=u.registrationPromise,u.installationEntry})];case 1:return n=i.sent(),n.fid!==UC?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function Aoe(t){var e=t||{fid:boe(),registrationStatus:0};return nV(e)}function xoe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(as.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Roe(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:koe(t)}:{installationEntry:e}}function Roe(t,e){return U(this,void 0,void 0,function(){var n,r;return F(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,voe(t,e)];case 1:return n=i.sent(),[2,e_(t,n)];case 2:return r=i.sent(),zB(r)&&r.customData.serverCode===409?[4,VC(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,e_(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function koe(t){return U(this,void 0,void 0,function(){var e,n,r,i;return F(this,function(o){switch(o.label){case 0:return[4,tV(t)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,XB(100)];case 3:return o.sent(),[4,tV(t)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,qC(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function tV(t){return tp(t,function(e){if(!e)throw as.create("installation-not-found");return nV(e)})}function nV(t){return Ooe(t)?{fid:t.fid,registrationStatus:0}:t}function Ooe(t){return t.registrationStatus===1&&t.registrationTime+HB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Noe(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return U(this,void 0,void 0,function(){var i,o,a,u,c,f,h,p;return F(this,function(g){switch(g.label){case 0:return i=Poe(n,e),o=YB(n,e),a=r.getImmediate({optional:!0}),a&&o.append("x-firebase-client",a.getPlatformInfoString()),u={installation:{sdkVersion:$B}},c={method:"POST",headers:o,body:JSON.stringify(u)},[4,FC(function(){return fetch(i,c)})];case 1:return f=g.sent(),f.ok?[4,f.json()]:[3,3];case 2:return h=g.sent(),p=KB(h),[2,p];case 3:return[4,LC("Generate Auth Token",f)];case 4:throw g.sent()}})})}function Poe(t,e){var n=e.fid;return MC(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e){return e===void 0&&(e=!1),U(this,void 0,void 0,function(){var n,r,i,o;return F(this,function(a){switch(a.label){case 0:return[4,tp(t.appConfig,function(u){if(!iV(u))throw as.create("not-registered");var c=u.authToken;if(!e&&Loe(c))return u;if(c.requestStatus===1)return n=Doe(t,e),u;if(!navigator.onLine)throw as.create("app-offline");var f=Uoe(u);return n=Moe(t,f),f})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function Doe(t,e){return U(this,void 0,void 0,function(){var n,r;return F(this,function(i){switch(i.label){case 0:return[4,rV(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,XB(100)];case 3:return i.sent(),[4,rV(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,HC(t,e)]:[2,r]}})})}function rV(t){return tp(t,function(e){if(!iV(e))throw as.create("not-registered");var n=e.authToken;return joe(n)?Fe(Fe({},e),{authToken:{requestStatus:0}}):e})}function Moe(t,e){return U(this,void 0,void 0,function(){var n,r,i,r;return F(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Noe(t,e)];case 1:return n=o.sent(),r=Fe(Fe({},e),{authToken:n}),[4,e_(t.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return i=o.sent(),zB(i)&&(i.customData.serverCode===401||i.customData.serverCode===404)?[4,VC(t.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return r=Fe(Fe({},e),{authToken:{requestStatus:0}}),[4,e_(t.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}function iV(t){return t!==void 0&&t.registrationStatus===2}function Loe(t){return t.requestStatus===2&&!Foe(t)}function Foe(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+foe}function Uoe(t){var e={requestStatus:1,requestTime:Date.now()};return Fe(Fe({},t),{authToken:e})}function joe(t){return t.requestStatus===1&&t.requestTime+HB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Boe(t){return U(this,void 0,void 0,function(){var e,n,r;return F(this,function(i){switch(i.label){case 0:return[4,qC(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):HC(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Voe(t,e){return e===void 0&&(e=!1),U(this,void 0,void 0,function(){var n;return F(this,function(r){switch(r.label){case 0:return[4,qoe(t.appConfig)];case 1:return r.sent(),[4,HC(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function qoe(t){return U(this,void 0,void 0,function(){var e;return F(this,function(n){switch(n.label){case 0:return[4,qC(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hoe(t,e){return U(this,void 0,void 0,function(){var n,r,i,o;return F(this,function(a){switch(a.label){case 0:return n=$oe(t,e),r=YB(t,e),i={method:"DELETE",headers:r},[4,FC(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,LC("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function $oe(t,e){var n=e.fid;return MC(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Woe(t){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,tp(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw as.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw as.create("app-offline");case 3:return[4,Hoe(e,n)];case 4:return r.sent(),[4,VC(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zoe(t,e){var n=t.appConfig;return Eoe(n,e),function(){Toe(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Koe(t){var e,n;if(!t||!t.options)throw $C("App Configuration");if(!t.name)throw $C("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Pn(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw $C(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $C(t){return as.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Goe(t){var e="installations";t.INTERNAL.registerComponent(new or(e,function(n){var r=n.getProvider("app").getImmediate(),i=Koe(r),o=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:o},u={app:r,getId:function(){return Boe(a)},getToken:function(c){return Voe(a,c)},delete:function(){return Woe(a)},onIdChange:function(c){return zoe(a,c)}};return u},"PUBLIC")),t.registerVersion(coe,qB)}Goe(ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn,Yoe=(xn={},xn["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',xn["only-available-in-window"]="This method is available in a Window context.",xn["only-available-in-sw"]="This method is available in a service worker context.",xn["permission-default"]="The notification permission was not granted and dismissed instead.",xn["permission-blocked"]="The notification permission was not granted and blocked instead.",xn["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",xn["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",xn["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",xn["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",xn["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",xn["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",xn["token-update-no-token"]="FCM returned no token when updating the user to push.",xn["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",xn["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",xn["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",xn["invalid-vapid-key"]="The public VAPID key must be a string.",xn["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",xn),Pt=new Xo("messaging","Messaging",Yoe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xoe="/firebase-messaging-sw.js",Qoe="/firebase-cloud-messaging-push-scope",t_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Joe="https://fcmregistrations.googleapis.com/v1",oV="FCM_MSG",Zoe="FirebaseMessaging: ",ese="google.c.a.e",sV="google.c.a.c_id",tse="google.c.a.ts",nse="google.c.a.c_l",rse=1e3,ise=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Xu;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Xu||(Xu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,Ze([],Wn(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ose(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WC="fcm_token_details_db",sse=5,aV="fcm_token_object_Store";function ase(t){return U(this,void 0,void 0,function(){var e,n,r,i,o=this;return F(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(u){return u.name}),!n.includes(WC))return[2,null];a.label=2;case 2:return r=null,[4,PC(WC,sse,function(u){return U(o,void 0,void 0,function(){var c,f,h,h,h,p;return F(this,function(g){switch(g.label){case 0:return u.oldVersion<2?[2]:u.objectStoreNames.contains(aV)?(c=u.transaction.objectStore(aV),[4,c.index("fcmSenderId").get(t)]):[2];case 1:return f=g.sent(),[4,c.clear()];case 2:if(g.sent(),!f)return[2];if(u.oldVersion===2){if(h=f,!h.auth||!h.p256dh||!h.endpoint)return[2];r={token:h.fcmToken,createTime:(p=h.createTime)!==null&&p!==void 0?p:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:us(h.vapidKey)}}}else u.oldVersion===3?(h=f,r={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:us(h.auth),p256dh:us(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:us(h.vapidKey)}}):u.oldVersion===4&&(h=f,r={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:us(h.auth),p256dh:us(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:us(h.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,DC(WC)];case 4:return a.sent(),[4,DC("fcm_vapid_details_db")];case 5:return a.sent(),[4,DC("undefined")];case 6:return a.sent(),[2,use(r)?r:null]}})})}function use(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cse="firebase-messaging-database",lse=1,Qu="firebase-messaging-store",zC=null;function KC(){return zC||(zC=PC(cse,lse,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Qu)}})),zC}function n_(t){return U(this,void 0,void 0,function(){var e,n,r,i;return F(this,function(o){switch(o.label){case 0:return e=YC(t),[4,KC()];case 1:return n=o.sent(),[4,n.transaction(Qu).objectStore(Qu).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,ase(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,GC(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function GC(t,e){return U(this,void 0,void 0,function(){var n,r,i;return F(this,function(o){switch(o.label){case 0:return n=YC(t),[4,KC()];case 1:return r=o.sent(),i=r.transaction(Qu,"readwrite"),[4,i.objectStore(Qu).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function fse(t){return U(this,void 0,void 0,function(){var e,n,r;return F(this,function(i){switch(i.label){case 0:return e=YC(t),[4,KC()];case 1:return n=i.sent(),r=n.transaction(Qu,"readwrite"),[4,r.objectStore(Qu).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function YC(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hse(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return F(this,function(f){switch(f.label){case 0:return[4,QC(t)];case 1:n=f.sent(),r=cV(e),i={method:"POST",headers:n,body:JSON.stringify(r)},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(XC(t.appConfig),i)];case 3:return a=f.sent(),[4,a.json()];case 4:return o=f.sent(),[3,6];case 5:throw u=f.sent(),Pt.create("token-subscribe-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,Pt.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw Pt.create("token-subscribe-no-token");return[2,o.token]}})})}function dse(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return F(this,function(f){switch(f.label){case 0:return[4,QC(t)];case 1:n=f.sent(),r=cV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(XC(t.appConfig)+"/"+e.token,i)];case 3:return a=f.sent(),[4,a.json()];case 4:return o=f.sent(),[3,6];case 5:throw u=f.sent(),Pt.create("token-update-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,Pt.create("token-update-failed",{errorInfo:c});if(!o.token)throw Pt.create("token-update-no-token");return[2,o.token]}})})}function uV(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,a,u;return F(this,function(c){switch(c.label){case 0:return[4,QC(t)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(XC(t.appConfig)+"/"+e,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(o=c.sent(),o.error)throw a=o.error.message,Pt.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw u=c.sent(),Pt.create("token-unsubscribe-failed",{errorInfo:u});case 6:return[2]}})})}function XC(t){var e=t.projectId;return Joe+"/projects/"+e+"/registrations"}function QC(t){var e=t.appConfig,n=t.installations;return U(this,void 0,void 0,function(){var r;return F(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function cV(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==t_&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pse=7*24*60*60*1e3;function JC(t,e,n){return U(this,void 0,void 0,function(){var r,i,o,a;return F(this,function(u){switch(u.label){case 0:if(Notification.permission!=="granted")throw Pt.create("permission-blocked");return[4,mse(e,n)];case 1:return r=u.sent(),[4,n_(t)];case 2:return i=u.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:us(r.getKey("auth")),p256dh:us(r.getKey("p256dh"))},i?[3,3]:[2,lV(t,o)];case 3:if(vse(i.subscriptionOptions,o))return[3,8];u.label=4;case 4:return u.trys.push([4,6,,7]),[4,uV(t,i.token)];case 5:return u.sent(),[3,7];case 6:return a=u.sent(),console.warn(a),[3,7];case 7:return[2,lV(t,o)];case 8:return Date.now()>=i.createTime+pse?[2,gse({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function np(t,e){return U(this,void 0,void 0,function(){var n,r;return F(this,function(i){switch(i.label){case 0:return[4,n_(t)];case 1:return n=i.sent(),n?[4,uV(t,n.token)]:[3,4];case 2:return i.sent(),[4,fse(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function gse(t,e,n){return U(this,void 0,void 0,function(){var r,i,o;return F(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,dse(e,t)];case 1:return r=a.sent(),i=Fe(Fe({},t),{token:r,createTime:Date.now()}),[4,GC(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,np(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function lV(t,e){return U(this,void 0,void 0,function(){var n,r;return F(this,function(i){switch(i.label){case 0:return[4,hse(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,GC(t,r)];case 2:return i.sent(),[2,r.token]}})})}function mse(t,e){return U(this,void 0,void 0,function(){var n;return F(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ose(e)})]}})})}function vse(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yse(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return _se(e,t),bse(e,t),wse(e,t),e}function _se(t,e){if(!!e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function bse(t,e){!e.data||(t.data=e.data)}function wse(t,e){if(!!e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){return typeof t=="object"&&!!t&&sV in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ese=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw Pt.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return U(this,void 0,void 0,function(){var r;return F(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,n_(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:t_,i.label=2;case 2:return[2,JC(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return np(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Pt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Pt.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Pt.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw Pt.create("only-available-in-window")},t.prototype.onMessage=function(){throw Pt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Pt.create("only-available-in-window")},t.prototype.onPush=function(e){return U(this,void 0,void 0,function(){var n,r,i,o;return F(this,function(a){switch(a.label){case 0:return n=Ise(e),n?[4,dV()]:(console.debug(Zoe+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),Cse(r)?[2,Ase(r,n)]:(i=!1,n.notification?[4,xse(Tse(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=yse(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,hV(rse)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return U(this,void 0,void 0,function(){var i,o;return F(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,np(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,n_(this.firebaseDependencies)];case 3:return o=a.sent(),[4,np(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,JC(this.firebaseDependencies,self.registration,(r=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:t_)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return U(this,void 0,void 0,function(){var i,o,a,u,c;return F(this,function(f){switch(f.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[oV],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=Rse(i),o?(a=new URL(o,self.location.href),u=new URL(self.location.origin),a.host!==u.host?[2]:[4,Sse(a)]):[2];case 1:return c=f.sent(),c?[3,4]:[4,self.clients.openWindow(o)];case 2:return c=f.sent(),[4,hV(ise)];case 3:return f.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=f.sent(),f.label=6;case 6:return c?(i.messageType=Xu.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},t}();function Tse(t){var e,n=Fe({},t.notification);return n.data=(e={},e[oV]=t,e),n}function Ise(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function Sse(t){return U(this,void 0,void 0,function(){var e,n,r,i,o,a,u;return F(this,function(c){switch(c.label){case 0:return[4,dV()];case 1:e=c.sent();try{for(n=Pn(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(f){a={error:f}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function Cse(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function Ase(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Xu.PUSH_RECEIVED;try{for(var i=Pn(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function dV(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function xse(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function Rse(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(fV(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kse=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return U(this,void 0,void 0,function(){var n,r;return F(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Xu.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(Nse(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,fV(r)&&r[ese]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return U(this,void 0,void 0,function(){return F(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Pt.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,JC(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return U(this,void 0,void 0,function(){return F(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=t_),[2]})})},t.prototype.updateSwReg=function(e){return U(this,void 0,void 0,function(){return F(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&!!this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Pt.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(Xoe,{scope:Qoe})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Pt.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return U(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,np(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return U(this,void 0,void 0,function(){var e;return F(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?Pt.create("permission-blocked"):Pt.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Pt.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Pt.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Pt.create("invalid-sw-registration");if(this.swRegistration)throw Pt.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Pt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Pt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return U(this,void 0,void 0,function(){var r,i;return F(this,function(o){switch(o.label){case 0:return r=Ose(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:n[sV],message_name:n[nse],message_time:n[tse],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function Ose(t){switch(t){case Xu.NOTIFICATION_CLICKED:return"notification_open";case Xu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Nse(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pse(t){var e,n;if(!t||!t.options)throw ZC("App Configuration Object");if(!t.name)throw ZC("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=Pn(r),a=o.next();!a.done;a=o.next()){var u=a.value;if(!i[u])throw ZC(u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function ZC(t){return Pt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dse="messaging";function Mse(t){var e=t.getProvider("app").getImmediate(),n=Pse(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!pV())throw Pt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Ese(o):new kse(o)}var Lse={isSupported:pV};ke.INTERNAL.registerComponent(new or(Dse,Mse,"PUBLIC").setServiceProps(Lse));function pV(){return self&&"ServiceWorkerGlobalScope"in self?Use():Fse()}function Fse(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Use(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gV="firebasestorage.googleapis.com",mV="storageBucket",jse=2*60*1e3,Bse=10*60*1e3,vn=function(t){we(e,t);function e(n,r){var i=t.call(this,eA(n),"Firebase Storage: "+r+" ("+eA(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(n){return eA(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(Xc);function eA(t){return"storage/"+t}function tA(){var t="An unknown error occurred, please check the error payload for server response.";return new vn("unknown",t)}function Vse(t){return new vn("object-not-found","Object '"+t+"' does not exist.")}function qse(t){return new vn("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Hse(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vn("unauthenticated",t)}function $se(){return new vn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Wse(t){return new vn("unauthorized","User does not have permission to access '"+t+"'.")}function zse(){return new vn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function vV(){return new vn("canceled","User canceled the upload/download.")}function Kse(t){return new vn("invalid-url","Invalid URL '"+t+"'.")}function Gse(t){return new vn("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Yse(){return new vn("no-default-bucket","No default bucket found. Did you set the '"+mV+"' property when initializing the app?")}function yV(){return new vn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Xse(){return new vn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Qse(){return new vn("no-download-url","The given file does not have any download URLs.")}function Gl(t){return new vn("invalid-argument",t)}function _V(){return new vn("app-deleted","The Firebase app was deleted.")}function bV(t){return new vn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rp(t,e){return new vn("invalid-format","String does not match format '"+t+"': "+e)}function r_(t){throw new vn("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jse(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},nA=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function wV(t,e){switch(t){case Ci.RAW:return new nA(EV(e));case Ci.BASE64:case Ci.BASE64URL:return new nA(TV(t,e));case Ci.DATA_URL:return new nA(eae(e),tae(e))}throw tA()}function EV(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)==55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)==56320;if(!i)e.push(239,191,189);else{var o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)==56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Zse(t){var e;try{e=decodeURIComponent(t)}catch{throw rp(Ci.DATA_URL,"Malformed data URL.")}return EV(e)}function TV(t,e){switch(t){case Ci.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw rp(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Ci.BASE64URL:{var o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw rp(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var u;try{u=Jse(e)}catch{throw rp(t,"Invalid character found")}for(var c=new Uint8Array(u.length),f=0;f<u.length;f++)c[f]=u.charCodeAt(f);return c}var IV=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw rp(Ci.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=nae(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function eae(t){var e=new IV(t);return e.base64?TV(Ci.BASE64,e.rest):Zse(e.rest)}function tae(t){var e=new IV(t);return e.contentType}function nae(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rae={STATE_CHANGED:"state_changed"},Sr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rA(t){switch(t){case"running":case"pausing":case"canceling":return Sr.RUNNING;case"paused":return Sr.PAUSED;case"success":return Sr.SUCCESS;case"canceled":return Sr.CANCELED;case"error":return Sr.ERROR;default:return Sr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ju;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ju||(Ju={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iae=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ju.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=Ju.ABORT,n()}),e.xhr_.addEventListener("error",function(){e.errorCode_=Ju.NETWORK_ERROR,n()}),e.xhr_.addEventListener("load",function(){n()})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw r_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw r_("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw r_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw r_("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();function oae(){return new iae}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sae=function(){function t(){}return t.prototype.createConnection=function(){return oae()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Gse(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}var a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(X){X.path_=decodeURIComponent(X.path)}for(var h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp("^https?://"+p+"/"+h+"/b/"+i+"/o"+g,"i"),y={bucket:1,path:3},w=n===gV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",I=new RegExp("^https?://"+w+"/"+i+"/"+E,"i"),x={bucket:1,path:2},k=[{regex:u,indices:c,postModify:o},{regex:v,indices:y,postModify:f},{regex:I,indices:x,postModify:f}],P=0;P<k.length;P++){var D=k[P],M=D.regex.exec(e);if(M){var W=M[D.indices.bucket],V=M[D.indices.path];V||(V=""),r=new t(W,V),D.postModify(r);break}}if(r==null)throw Kse(e);return r},t}(),aae=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uae(t,e,n){var r=1,i=null,o=!1,a=0;function u(){return a===2}var c=!1;function f(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];c||(c=!0,e.apply(null,y))}function h(y){i=setTimeout(function(){i=null,t(p,u())},y)}function p(y){for(var w=[],E=1;E<arguments.length;E++)w[E-1]=arguments[E];if(!c){if(y){f.call.apply(f,Ze([null,y],w));return}var I=u()||o;if(I){f.call.apply(f,Ze([null,y],w));return}r<64&&(r*=2);var x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}}var g=!1;function v(y){g||(g=!0,!c&&(i!==null?(y||(a=2),clearTimeout(i),h(0)):y||(a=1)))}return h(0),setTimeout(function(){o=!0,v(!0)},n),v}function cae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lae(t){return t!==void 0}function fae(t){return typeof t=="function"}function hae(t){return typeof t=="object"&&!Array.isArray(t)}function i_(t){return typeof t=="string"||t instanceof String}function SV(t){return iA()&&t instanceof Blob}function iA(){return typeof Blob!="undefined"}function oA(t,e,n,r){if(r<e)throw Gl("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Gl("Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t,e){var n=e.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+t}function CV(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dae=function(){function t(e,n,r,i,o,a,u,c,f,h,p){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=u,this.errorCallback_=c,this.progressCallback_=h,this.timeout_=f,this.pool_=p,this.promise_=new Promise(function(v,y){g.resolve_=v,g.reject_=y,g.start_()})}return t.prototype.start_=function(){var e=this;function n(i,o){if(o){i(!1,new o_(!1,null,!0));return}var a=e.pool_.createConnection();e.pendingConnection_=a;function u(c){var f=c.loaded,h=c.lengthComputable?c.total:-1;e.progressCallback_!==null&&e.progressCallback_(f,h)}e.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(){e.progressCallback_!==null&&a.removeUploadProgressListener(u),e.pendingConnection_=null;var c=a.getErrorCode()===Ju.NO_ERROR,f=a.getStatus();if(!c||e.isRetryStatusCode_(f)){var h=a.getErrorCode()===Ju.ABORT;i(!1,new o_(!1,null,h));return}var p=e.successCodes_.indexOf(f)!==-1;i(!0,new o_(p,a))})}function r(i,o){var a=e.resolve_,u=e.reject_,c=o.connection;if(o.wasSuccessCode)try{var f=e.callback_(c,c.getResponseText());lae(f)?a(f):a()}catch(p){u(p)}else if(c!==null){var h=tA();h.serverResponse=c.getResponseText(),e.errorCallback_?u(e.errorCallback_(c,h)):u(h)}else if(o.canceled){var h=e.appDelete_?_V():vV();u(h)}else{var h=zse();u(h)}}this.canceled_?r(!1,new o_(!1,null,!0)):this.backoffId_=uae(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||o},t}(),o_=function(){function t(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}return t}();function pae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function mae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yae(t,e,n,r,i,o){var a=CV(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return mae(c,e),pae(c,n),gae(c,o),vae(c,r),new dae(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ae(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function bae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=_ae();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(iA())return new Blob(t);throw new vn("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function wae(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sA=function(){function t(e,n){var r=0,i="";SV(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(SV(this.data_)){var r=this.data_,i=wae(r,e,n);return i===null?null:new t(i)}else{var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(iA()){var r=e.map(function(c){return c instanceof t?c.data_:c});return new t(bae.apply(null,r))}else{var i=e.map(function(c){return i_(c)?wV(Ci.RAW,c).data:c.data_}),o=0;i.forEach(function(c){o+=c.byteLength});var a=new Uint8Array(o),u=0;return i.forEach(function(c){for(var f=0;f<c.length;f++)a[u++]=c[f]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){var e;try{e=JSON.parse(t)}catch{return null}return hae(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eae(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function Tae(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function AV(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iae(t,e){return e}var Cr=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Iae}return t}(),s_=null;function Sae(t){return!i_(t)||t.length<2?t:AV(t)}function a_(){if(s_)return s_;var t=[];t.push(new Cr("bucket")),t.push(new Cr("generation")),t.push(new Cr("metageneration")),t.push(new Cr("name","fullPath",!0));function e(o,a){return Sae(a)}var n=new Cr("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}var i=new Cr("size");return i.xform=r,t.push(i),t.push(new Cr("timeCreated")),t.push(new Cr("updated")),t.push(new Cr("md5Hash",null,!0)),t.push(new Cr("cacheControl",null,!0)),t.push(new Cr("contentDisposition",null,!0)),t.push(new Cr("contentEncoding",null,!0)),t.push(new Cr("contentLanguage",null,!0)),t.push(new Cr("contentType",null,!0)),t.push(new Cr("metadata","customMetadata",!0)),s_=t,s_}function Cae(t,e){function n(){var r=t.bucket,i=t.fullPath,o=new Ai(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Aae(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return Cae(r,t),r}function xV(t,e,n){var r=aA(e);if(r===null)return null;var i=r;return Aae(t,i,n)}function xae(t,e,n){var r=aA(e);if(r===null||!i_(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,a=i.split(","),u=a.map(function(c){var f=t.bucket,h=t.fullPath,p="/b/"+o(f)+"/o/"+o(h),g=ua(p,n),v=CV({alt:"media",token:c});return g+v});return u[0]}function uA(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RV="prefixes",kV="items";function Rae(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[RV])for(var i=0,o=n[RV];i<o.length;i++){var a=o[i],u=a.replace(/\/$/,""),c=t._makeStorageReference(new Ai(e,u));r.prefixes.push(c)}if(n[kV])for(var f=0,h=n[kV];f<h.length;f++){var p=h[f],c=t._makeStorageReference(new Ai(e,p.name));r.items.push(c)}return r}function kae(t,e,n){var r=aA(n);if(r===null)return null;var i=r;return Rae(t,e,i)}var cs=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){if(!t)throw tA()}function u_(t,e){function n(r,i){var o=xV(t,i,e);return No(o!==null),o}return n}function Oae(t,e){function n(r,i){var o=kae(t,e,i);return No(o!==null),o}return n}function Nae(t,e){function n(r,i){var o=xV(t,i,e);return No(o!==null),xae(o,i,t.host)}return n}function Yl(t){function e(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=$se():i=Hse():n.getStatus()===402?i=qse(t.bucket):n.getStatus()===403?i=Wse(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function c_(t){var e=Yl(t);function n(r,i){var o=e(r,i);return r.getStatus()===404&&(o=Vse(t.path)),o.serverResponse=i.serverResponse,o}return n}function OV(t,e,n){var r=e.fullServerUrl(),i=ua(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new cs(i,o,u_(t,n),a);return u.errorHandler=c_(e),u}function Pae(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=e.bucketOnlyServerUrl(),u=ua(a,t.host),c="GET",f=t.maxOperationRetryTime,h=new cs(u,c,Oae(t,e.bucket),f);return h.urlParams=o,h.errorHandler=Yl(e),h}function Dae(t,e,n){var r=e.fullServerUrl(),i=ua(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new cs(i,o,Nae(t,n),a);return u.errorHandler=c_(e),u}function Mae(t,e,n,r){var i=e.fullServerUrl(),o=ua(i,t.host),a="PATCH",u=uA(n,r),c={"Content-Type":"application/json; charset=utf-8"},f=t.maxOperationRetryTime,h=new cs(o,a,u_(t,r),f);return h.headers=c,h.body=u,h.errorHandler=c_(e),h}function Lae(t,e){var n=e.fullServerUrl(),r=ua(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(c,f){}var u=new cs(r,i,a,o);return u.successCodes=[200,204],u.errorHandler=c_(e),u}function Fae(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function NV(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Fae(null,e)),r}function Uae(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){for(var k="",P=0;P<2;P++)k=k+Math.random().toString().slice(2);return k}var c=u();a["Content-Type"]="multipart/related; boundary="+c;var f=NV(e,r,i),h=uA(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,g=`\r
--`+c+"--",v=sA.getBlob(p,r,g);if(v===null)throw yV();var y={name:f.fullPath},w=ua(o,t.host),E="POST",I=t.maxUploadRetryTime,x=new cs(w,E,u_(t,n),I);return x.urlParams=y,x.headers=a,x.body=v.uploadData(),x.errorHandler=Yl(e),x}var l_=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function cA(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{No(!1)}var r=e||["active"];return No(!!n&&r.indexOf(n)!==-1),n}function jae(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=NV(e,r,i),u={name:a.fullPath},c=ua(o,t.host),f="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},p=uA(a,n),g=t.maxUploadRetryTime;function v(w){cA(w);var E;try{E=w.getResponseHeader("X-Goog-Upload-URL")}catch{No(!1)}return No(i_(E)),E}var y=new cs(c,f,v,g);return y.urlParams=u,y.headers=h,y.body=p,y.errorHandler=Yl(e),y}function Bae(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(f){var h=cA(f,["active","final"]),p=null;try{p=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{No(!1)}p||No(!1);var g=Number(p);return No(!isNaN(g)),new l_(g,r.size(),h==="final")}var a="POST",u=t.maxUploadRetryTime,c=new cs(n,a,o,u);return c.headers=i,c.errorHandler=Yl(e),c}var PV=256*1024;function Vae(t,e,n,r,i,o,a,u){var c=new l_(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Xse();var f=c.total-c.current,h=f;i>0&&(h=Math.min(h,i));var p=c.current,g=p+h,v=h===f?"upload, finalize":"upload",y={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":""+c.current},w=r.slice(p,g);if(w===null)throw yV();function E(P,D){var M=cA(P,["active","final"]),W=c.current+h,V=r.size(),X;return M==="final"?X=u_(e,o)(P,D):X=null,new l_(W,V,M==="final",X)}var I="POST",x=e.maxUploadRetryTime,k=new cs(n,I,E,x);return k.headers=y,k.body=w.uploadData(),k.progressCallback=u||null,k.errorHandler=Yl(t),k}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qae=function(){function t(e,n,r){var i=fae(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DV=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=a_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":e(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var i=jae(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=Bae(e._ref.storage,e._ref._location,n,e._blob),a=e._ref.storage._makeRequest(o,r,i);e._request=a,a.getPromise().then(function(u){u=u,e._request=void 0,e._updateProgress(u.current),e._needToFetchStatus=!1,u.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=PV*this._chunkMultiplier,r=new l_(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var u;try{u=Vae(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(f){e._error=f,e._transition("error");return}var c=e._ref.storage._makeRequest(u,o,a);e._request=c,c.getPromise().then(function(f){e._increaseMultiplier(),e._request=void 0,e._updateProgress(f.current),f.finalized?(e._metadata=f.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=PV*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var i=OV(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var i=Uae(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=vV(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=rA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var o=this,a=new qae(n,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(rA(this._state)){case Sr.SUCCESS:Xl(this._resolve.bind(null,this.snapshot))();break;case Sr.CANCELED:case Sr.ERROR:var n=this._reject;Xl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=rA(this._state);switch(n){case Sr.RUNNING:case Sr.PAUSED:e.next&&Xl(e.next.bind(e,this.snapshot))();break;case Sr.SUCCESS:e.complete&&Xl(e.complete.bind(e))();break;case Sr.CANCELED:case Sr.ERROR:e.error&&Xl(e.error.bind(e,this._error))();break;default:e.error&&Xl(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},t.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f_=function(){function t(e,n){this._service=e,n instanceof Ai?this._location=n:this._location=Ai.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new Ai(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return AV(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Eae(this._location.path);if(e===null)return null;var n=new Ai(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw bV(e)},t}();function Hae(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new DV(t,new sA(e),n)}function $ae(t){var e={prefixes:[],items:[]};return MV(t,e).then(function(){return e})}function MV(t,e,n){return U(this,void 0,void 0,function(){var r,i,o,a;return F(this,function(u){switch(u.label){case 0:return r={pageToken:n},[4,LV(t,r)];case 1:return i=u.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,MV(t,e,i.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function LV(t,e){return U(this,void 0,void 0,function(){var n,r;return F(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&oA("options.maxResults",1,1e3,e.maxResults),n=e||{},r=Pae(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function Wae(t){return U(this,void 0,void 0,function(){var e;return F(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=OV(t.storage,t._location,a_()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function zae(t,e){return U(this,void 0,void 0,function(){var n;return F(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=Mae(t.storage,t._location,e,a_()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function Kae(t){return U(this,void 0,void 0,function(){var e;return F(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=Dae(t.storage,t._location,a_()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw Qse();return r})]}})})}function Gae(t){return U(this,void 0,void 0,function(){var e;return F(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=Lae(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function FV(t,e){var n=Tae(t._location.path,e),r=new Ai(t._location.bucket,n);return new f_(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){return/^[A-Za-z]+:\/\//.test(t)}function Yae(t,e){return new f_(t,e)}function UV(t,e){if(t instanceof h_){var n=t;if(n._bucket==null)throw Yse();var r=new f_(n,n._bucket);return e!=null?UV(r,e):r}else return e!==void 0?FV(t,e):t}function Xae(t,e){if(e&&lA(e)){if(t instanceof h_)return Yae(t,e);throw Gl("To use ref(service, url), the first argument must be a Storage instance.")}else return UV(t,e)}function jV(t,e){var n=e==null?void 0:e[mV];return n==null?null:Ai.makeFromBucketSpec(n,t)}function Qae(t,e,n,r){r===void 0&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken=typeof i=="string"?i:dT(i,t.app.options.projectId))}var h_=function(){function t(e,n,r,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=gV,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jse,this._maxUploadRetryTime=Bse,this._requests=new Set,o!=null?this._bucket=Ai.makeFromBucketSpec(o,this._host):this._bucket=jV(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=Ai.makeFromBucketSpec(this._url,e):this._bucket=jV(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){oA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){oA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new f_(this,e)},t.prototype._makeRequest=function(e,n,r){var i=this;if(this._deleted)return new aae(_V());var o=yae(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},t.prototype.makeRequestWithTokens=function(e){return U(this,void 0,void 0,function(){var n,r,i;return F(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(e,r,i)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jae(t,e,n){return t=Je(t),Hae(t,e,n)}function Zae(t){return t=Je(t),Wae(t)}function eue(t,e){return t=Je(t),zae(t,e)}function tue(t,e){return t=Je(t),LV(t,e)}function nue(t){return t=Je(t),$ae(t)}function rue(t){return t=Je(t),Kae(t)}function iue(t){return t=Je(t),Gae(t)}function BV(t,e){return t=Je(t),Xae(t,e)}function oue(t,e){return FV(t,e)}function sue(t,e,n,r){r===void 0&&(r={}),Qae(t,e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d_=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VV=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new d_(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new d_(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var o=this,a=void 0;return n&&(typeof n=="function"?a=function(u){return n(new d_(u,o,o._ref))}:a={next:n.next?function(u){return n.next(new d_(u,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}(),qV=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new ip(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new ip(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ip=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=oue(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new VV(Jae(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){n===void 0&&(n=Ci.RAW),this._throwIfRoot("putString");var i=wV(n,e),o=Fe({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new VV(new DV(this._delegate,new sA(i.data,!0),o),this)},t.prototype.listAll=function(){var e=this;return nue(this._delegate).then(function(n){return new qV(n,e.storage)})},t.prototype.list=function(e){var n=this;return tue(this._delegate,e||void 0).then(function(r){return new qV(r,n.storage)})},t.prototype.getMetadata=function(){return Zae(this._delegate)},t.prototype.updateMetadata=function(e){return eue(this._delegate,e)},t.prototype.getDownloadURL=function(){return rue(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),iue(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw bV(e)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aue=function(){function t(e,n){this.app=e,this._delegate=n}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(lA(e))throw Gl("ref() expected a child path but got a URL, use refFromURL instead.");return new ip(BV(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!lA(e))throw Gl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ai.makeFromUrl(e,this._delegate.host)}catch{throw Gl("refFromUrl() expected a valid full URL but got an invalid one.")}return new ip(BV(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),sue(this._delegate,e,n,r)},t}(),uue="@firebase/storage",cue="0.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lue="storage";function fue(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=new aue(r,new h_(r,i,o,new sae,n,ke.SDK_VERSION));return a}function hue(t){var e={TaskState:Sr,TaskEvent:rae,StringFormat:Ci,Storage:h_,Reference:ip};t.INTERNAL.registerComponent(new or(lue,fue,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(uue,cue)}hue(ke);var due="@firebase/performance",HV="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $V=HV,pue="FB-PERF-TRACE-START",gue="FB-PERF-TRACE-STOP",fA="FB-PERF-TRACE-MEASURE",WV="_wt_",zV="_fp",KV="_fcp",GV="_fid",YV="@firebase/performance/config",XV="@firebase/performance/configexpire",mue="performance",QV="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn,vue=(Zn={},Zn["trace started"]="Trace {$traceName} was started before.",Zn["trace stopped"]="Trace {$traceName} is not running.",Zn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Zn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Zn["no window"]="Window is not available.",Zn["no app id"]="App id is not available.",Zn["no project id"]="Project id is not available.",Zn["no api key"]="Api key is not available.",Zn["invalid cc log"]="Attempted to queue invalid cc event",Zn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Zn["RC response not ok"]="RC response is not ok",Zn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Zn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Zn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Zn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Zn),hr=new Xo(mue,QV,vue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls=new du(QV);ls.logLevel=it.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hA,JV,dr=function(){function t(e){if(this.window=e,!e)throw hr.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(ls.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Mh()?!0:(ls.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(!!this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++){var u=a[o];n(u)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return hA===void 0&&(hA=new t(JV)),hA},t}();function yue(t){JV=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e){var n=t.length-e.length;if(n<0||n>1)throw hr.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dA,Rn=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ZV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ZV("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw hr.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw hr.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw hr.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return dA===void 0&&(dA=new t),dA},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e4;function _ue(){var t=Rn.getInstance().installationsService.getId();return t.then(function(e){e4=e}),t}function pA(){return e4}function bue(){var t=Rn.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ql;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(Ql||(Ql={}));var wue=["firebase_","google_","ga_"],Eue=new RegExp("^[a-zA-Z]\\w*$"),Tue=40,Iue=100;function Sue(){var t=dr.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function t4(){var t=dr.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Ql.VISIBLE;case"hidden":return Ql.HIDDEN;default:return Ql.UNKNOWN}}function Cue(){var t=dr.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Aue(t){if(t.length===0||t.length>Tue)return!1;var e=wue.some(function(n){return t.startsWith(n)});return!e&&!!t.match(Eue)}function xue(t){return t.length!==0&&t.length<=Iue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rue="0.0.1",kue={loggingEnabled:!0},Oue="FIREBASE_INSTALLATIONS_AUTH";function Nue(t){var e=Pue();return e?(n4(e),Promise.resolve()):Lue(t).then(n4).then(function(n){return Due(n)},function(){})}function Pue(){var t=dr.getInstance().localStorage;if(!!t){var e=t.getItem(XV);if(!(!e||!Fue(e))){var n=t.getItem(YV);if(!!n)try{var r=JSON.parse(n);return r}catch{return}}}}function Due(t){var e=dr.getInstance().localStorage;!t||!e||(e.setItem(YV,JSON.stringify(t)),e.setItem(XV,String(Date.now()+Rn.getInstance().configTimeToLive*60*60*1e3)))}var Mue="Could not fetch config, will use default configs";function Lue(t){return bue().then(function(e){var n=Rn.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Rn.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Oue+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Rn.getInstance().getAppId(),app_version:$V,sdk_version:Rue})});return fetch(i).then(function(o){if(o.ok)return o.json();throw hr.create("RC response not ok")})}).catch(function(){ls.info(Mue)})}function n4(t){if(!t)return t;var e=Rn.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=kue.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=r4(e.tracesSamplingRate),e.logNetworkAfterSampling=r4(e.networkRequestsSamplingRate),t}function Fue(t){return Number(t)>Date.now()}function r4(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gA=1,mA;function i4(){return gA=2,mA=mA||jue(),mA}function Uue(){return gA===3}function jue(){return Bue().then(function(){return _ue()}).then(function(t){return Nue(t)}).then(function(){return o4()},function(){return o4()})}function Bue(){var t=dr.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function o4(){gA=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vA=10*1e3,que=5.5*1e3,s4=3,Hue=1e3,p_=s4,ca=[],a4=!1;function $ue(){a4||(g_(que),a4=!0)}function g_(t){setTimeout(function(){if(p_!==0){if(!ca.length)return g_(vA);Wue()}},t)}function Wue(){var t=ca.splice(0,Hue),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Rn.getInstance().logSource,log_event:e};zue(n,t).catch(function(){ca=Ze(Ze([],t),ca),p_--,ls.info("Tries left: "+p_+"."),g_(vA)})}function zue(t,e){return Kue(t).then(function(n){return n.ok||ls.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=vA;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(ca=Ze(Ze([],e),ca),ls.info("Retry transport request later.")),p_=s4,g_(i)})}function Kue(t){var e=Rn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function Gue(t){if(!t.eventTime||!t.message)throw hr.create("invalid cc log");ca=Ze(Ze([],ca),[t])}function Yue(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);Gue({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yA;function u4(t,e){yA||(yA=Yue(Que)),yA(t,e)}function m_(t){var e=Rn.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!dr.getInstance().requiredApisAvailable()||t.isAuto&&t4()!==Ql.VISIBLE||(Uue()?_A(t):i4().then(function(){return _A(t)},function(){return _A(t)}))}function _A(t){if(!!pA()){var e=Rn.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return u4(t,1)},0)}}function Xue(t){var e=Rn.getInstance();if(!!e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return u4(t,0)},0)}}function Que(t,e){return e===0?Jue(t):Zue(t)}function Jue(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:c4(),network_request_metric:e};return JSON.stringify(n)}function Zue(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:c4(),trace_metric:e};return JSON.stringify(r)}function c4(){return{google_app_id:Rn.getInstance().getAppId(),app_instance_id:pA(),web_app_info:{sdk_version:$V,page_url:dr.getInstance().getUrl(),service_worker_status:Sue(),visibility_state:t4(),effective_connection_type:Cue()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ece=100,tce="_",nce=[zV,KV,GV];function rce(t,e){return t.length===0||t.length>ece?!1:e&&e.startsWith(WV)&&nce.indexOf(t)>-1||!t.startsWith(tce)}function ice(t){var e=Math.floor(t);return e<t&&ls.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var op=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=dr.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=pue+"-"+this.randomId+"-"+this.name,this.traceStopMark=gue+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||fA+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw hr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw hr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),m_(this)},t.prototype.record=function(e,n,r){if(e<=0)throw hr.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw hr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=Fe({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}m_(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(rce(e,this.name))this.counters[e]=ice(n);else throw hr.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=Aue(e),i=xue(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw hr.create("invalid attribute name",{attributeName:e});if(!i)throw hr.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return Fe({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=dr.getInstance().getUrl();if(!!i){var o=new t(WV+i,!0),a=Math.floor(dr.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var u="first-paint",c="first-contentful-paint";if(n){var f=n.find(function(p){return p.name===u});f&&f.startTime&&o.putMetric(zV,Math.floor(f.startTime*1e3));var h=n.find(function(p){return p.name===c});h&&h.startTime&&o.putMetric(KV,Math.floor(h.startTime*1e3)),r&&o.putMetric(GV,Math.floor(r*1e3))}m_(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);m_(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=dr.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],u={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};Xue(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oce=5e3;function f4(){!pA()||(setTimeout(function(){return ace()},0),setTimeout(function(){return sce()},0),setTimeout(function(){return uce()},0))}function sce(){for(var t=dr.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];l4(i)}t.setupObserver("resource",l4)}function ace(){var t=dr.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){op.createOobTrace(e,n),r=void 0},oce);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),op.createOobTrace(e,n,i))})}else op.createOobTrace(e,n)}function uce(){for(var t=dr.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];h4(i)}t.setupObserver("measure",h4)}function h4(t){var e=t.name;e.substring(0,fA.length)!==fA&&op.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cce=function(){function t(e){this.app=e,dr.getInstance().requiredApisAvailable()&&mT().then(function(n){n&&($ue(),i4().then(f4,f4))}).catch(function(n){ls.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new op(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Rn.getInstance().instrumentationEnabled},set:function(e){Rn.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Rn.getInstance().dataCollectionEnabled},set:function(e){Rn.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lce="[DEFAULT]";function fce(t){var e=function(n,r){if(n.name!==lce)throw hr.create("FB not default");if(typeof window=="undefined")throw hr.create("no window");return yue(window),Rn.getInstance().firebaseAppInstance=n,Rn.getInstance().installationsService=r,new cce(n)};t.INTERNAL.registerComponent(new or("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(due,HV)}fce(ke);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hce="firebase_id",dce="origin",pce=60*1e3,gce="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",d4="https://www.googletagmanager.com/gtag/js",pr;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(pr||(pr={}));var bA;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(bA||(bA={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mce(t,e,n,r,i){return U(this,void 0,void 0,function(){var o,a;return F(this,function(u){switch(u.label){case 0:return i&&i.global?(t(pr.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=u.sent(),a=Fe(Fe({},r),{send_to:o}),t(pr.EVENT,n,a),u.label=3;case 3:return[2]}})})}function vce(t,e,n,r){return U(this,void 0,void 0,function(){var i;return F(this,function(o){switch(o.label){case 0:return r&&r.global?(t(pr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(pr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function yce(t,e,n,r){return U(this,void 0,void 0,function(){var i;return F(this,function(o){switch(o.label){case 0:return r&&r.global?(t(pr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(pr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function _ce(t,e,n,r){return U(this,void 0,void 0,function(){var i,o,a,u,c;return F(this,function(f){switch(f.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)u=a[o],i["user_properties."+u]=n[u];return t(pr.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=f.sent(),t(pr.CONFIG,c,{update:!0,user_properties:n}),f.label=3;case 3:return[2]}})})}function bce(t,e){return U(this,void 0,void 0,function(){var n;return F(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=new du("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wce(t,e){var n=document.createElement("script");n.src=d4+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function Ece(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function Tce(t,e,n,r,i,o){return U(this,void 0,void 0,function(){var a,u,c,f;return F(this,function(h){switch(h.label){case 0:a=r[i],h.label=1;case 1:return h.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return h.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=h.sent(),c=u.find(function(p){return p.measurementId===i}),c?[4,e[c.appId]]:[3,6];case 5:h.sent(),h.label=6;case 6:return[3,8];case 7:return f=h.sent(),er.error(f),[3,8];case 8:return t(pr.CONFIG,i,o),[2]}})})}function Ice(t,e,n,r,i){return U(this,void 0,void 0,function(){var o,a,u,c,f,h,p,g,v;return F(this,function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=y.sent(),c=function(w){var E=u.find(function(x){return x.measurementId===w}),I=E&&e[E.appId];if(I)o.push(I);else return o=[],"break"},f=0,h=a;f<h.length&&(p=h[f],g=c(p),g!=="break");f++);y.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return y.sent(),t(pr.EVENT,r,i||{}),[3,5];case 4:return v=y.sent(),er.error(v),[3,5];case 5:return[2]}})})}function Sce(t,e,n,r){function i(o,a,u){return U(this,void 0,void 0,function(){var c;return F(this,function(f){switch(f.label){case 0:return f.trys.push([0,6,,7]),o!==pr.EVENT?[3,2]:[4,Ice(t,e,n,a,u)];case 1:return f.sent(),[3,5];case 2:return o!==pr.CONFIG?[3,4]:[4,Tce(t,e,n,r,a,u)];case 3:return f.sent(),[3,5];case 4:t(pr.SET,a),f.label=5;case 5:return[3,7];case 6:return c=f.sent(),er.error(c),[3,7];case 7:return[2]}})})}return i}function Cce(t,e,n,r,i){var o=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=Sce(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function Ace(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(d4))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo,xce=(eo={},eo["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",eo["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",eo["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",eo["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",eo["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",eo["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",eo["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",eo["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',eo["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',eo),xi=new Xo("analytics","Analytics",xce);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rce=30,kce=1e3,Oce=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=kce),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),p4=new Oce;function Nce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Pce(t){var e;return U(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return F(this,function(f){switch(f.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Nce(r)},o=gce.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=f.sent(),!(a.status!==200&&a.status!==304))return[3,6];u="",f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.json()];case 3:return c=f.sent(),((e=c.error)===null||e===void 0?void 0:e.message)&&(u=c.error.message),[3,5];case 4:return f.sent(),[3,5];case 5:throw xi.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u});case 6:return[2,a.json()]}})})}function Dce(t,e,n){return e===void 0&&(e=p4),U(this,void 0,void 0,function(){var r,i,o,a,u,c,f=this;return F(this,function(h){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw xi.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw xi.create("no-api-key")}return u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Fce,setTimeout(function(){return U(f,void 0,void 0,function(){return F(this,function(p){return c.abort(),[2]})})},n!==void 0?n:pce),[2,g4({appId:i,apiKey:o,measurementId:a},u,c,e)]})})}function g4(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=p4),U(this,void 0,void 0,function(){var a,u,c,f,h,p,g;return F(this,function(v){switch(v.label){case 0:a=t.appId,u=t.measurementId,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Mce(n,i)];case 2:return v.sent(),[3,4];case 3:if(c=v.sent(),u)return er.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:u}];throw c;case 4:return v.trys.push([4,6,,7]),[4,Pce(t)];case 5:return f=v.sent(),r.deleteThrottleMetadata(a),[2,f];case 6:if(h=v.sent(),!Lce(h)){if(r.deleteThrottleMetadata(a),u)return er.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]")),[2,{appId:a,measurementId:u}];throw h}return p=Number(h.customData.httpStatus)===503?bT(o,r.intervalMillis,Rce):bT(o,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:o+1},r.setThrottleMetadata(a,g),er.debug("Calling attemptFetch again in "+p+" millis"),[2,g4(t,g,n,r)];case 7:return[2]}})})}function Mce(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(xi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Lce(t){if(!(t instanceof Xc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Fce=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uce(){return U(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return Mh()?[3,1]:(er.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,mT()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),er.warn(xi.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function jce(t,e,n,r,i,o){return U(this,void 0,void 0,function(){var a,u,c,f,h,p,g;return F(this,function(v){switch(v.label){case 0:return a=Dce(t),a.then(function(y){n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&er.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return er.error(y)}),e.push(a),u=Uce().then(function(y){if(y)return r.getId()}),[4,Promise.all([a,u])];case 1:return c=v.sent(),f=c[0],h=c[1],Ace()||wce(o,f.measurementId),i("js",new Date),p=(g={},g[dce]="firebase",g.update=!0,g),h!=null&&(p[hce]=h),i(pr.CONFIG,f.measurementId,p),[2,f.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs={},m4=[],v4={},v_="dataLayer",y4="gtag",_4,sp,wA=!1;function Bce(t){if(wA)throw xi.create("already-initialized");t.dataLayerName&&(v_=t.dataLayerName),t.gtagName&&(y4=t.gtagName)}function Vce(){var t=[];if(gT()&&t.push("This is a browser extension environment."),nM()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=xi.create("invalid-analytics-context",{errorInfo:e});er.warn(n.message)}}function qce(t,e){Vce();var n=t.options.appId;if(!n)throw xi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)er.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw xi.create("no-api-key");if(fs[n]!=null)throw xi.create("already-exists",{id:n});if(!wA){Ece(v_);var r=Cce(fs,m4,v4,v_,y4),i=r.wrappedGtag,o=r.gtagCore;sp=i,_4=o,wA=!0}fs[n]=jce(t,m4,v4,e,_4,v_);var a={app:t,logEvent:function(u,c,f){mce(sp,fs[n],u,c,f).catch(function(h){return er.error(h)})},setCurrentScreen:function(u,c){vce(sp,fs[n],u,c).catch(function(f){return er.error(f)})},setUserId:function(u,c){yce(sp,fs[n],u,c).catch(function(f){return er.error(f)})},setUserProperties:function(u,c){_ce(sp,fs[n],u,c).catch(function(f){return er.error(f)})},setAnalyticsCollectionEnabled:function(u){bce(fs[n],u).catch(function(c){return er.error(c)})},INTERNAL:{delete:function(){return delete fs[n],Promise.resolve()}}};return a}var Hce="@firebase/analytics",$ce="0.6.18",b4="analytics";function Wce(t){t.INTERNAL.registerComponent(new or(b4,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return qce(r,i)},"PUBLIC").setServiceProps({settings:Bce,EventName:bA,isSupported:zce})),t.INTERNAL.registerComponent(new or("analytics-internal",e,"PRIVATE")),t.registerVersion(Hce,$ce);function e(n){try{var r=n.getProvider(b4).getImmediate();return{logEvent:r.logEvent}}catch(i){throw xi.create("interop-component-reg-failed",{reason:i})}}}Wce(ke);function zce(){return U(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:if(gT())return[2,!1];if(!nM())return[2,!1];if(!Mh())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,mT()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kce=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return U(this,void 0,void 0,function(){var n,r,i,o,a;return F(this,function(u){switch(u.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=u.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=u.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return u.sent(),[2,o]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar,Gce=(Ar={},Ar["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Ar["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Ar["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Ar["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Ar["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ar["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ar["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ar["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Ar["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ar["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Ar["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Ar["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ar["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ar),Ri=new Xo("remoteconfig","Remote Config",Gce);function Yce(t,e){return t instanceof Xc&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xce(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qce=function(){function t(e,n,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return t.prototype.fetch=function(e){return U(this,void 0,void 0,function(){var n,r,i,o,a,u,c,f,h,p,g,v,y,w,E,I,x,k,P;return F(this,function(D){switch(D.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=D.sent(),r=n[0],i=n[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Xce()},f={method:"POST",headers:u,body:JSON.stringify(c)},h=fetch(a,f),p=new Promise(function(M,W){e.signal.addEventListener(function(){var V=new Error("The operation was aborted.");V.name="AbortError",W(V)})}),D.label=2;case 2:return D.trys.push([2,5,,6]),[4,Promise.race([h,p])];case 3:return D.sent(),[4,h];case 4:return g=D.sent(),[3,6];case 5:throw v=D.sent(),y="fetch-client-network",v.name==="AbortError"&&(y="fetch-timeout"),Ri.create(y,{originalErrorMessage:v.message});case 6:if(w=g.status,E=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];k=void 0,D.label=7;case 7:return D.trys.push([7,9,,10]),[4,g.json()];case 8:return k=D.sent(),[3,10];case 9:throw P=D.sent(),Ri.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:I=k.entries,x=k.state,D.label=11;case 11:if(x==="INSTANCE_STATE_UNSPECIFIED"?w=500:x==="NO_CHANGE"?w=304:(x==="NO_TEMPLATE"||x==="EMPTY_CONFIG")&&(I={}),w!==304&&w!==200)throw Ri.create("fetch-status",{httpStatus:w});return[2,{status:w,eTag:E,config:I}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jce=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zce=!1,ele="",w4=0,tle=["1","true","t","yes","y","on"],EA=function(){function t(e,n){n===void 0&&(n=ele),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?Zce:tle.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return w4;var e=Number(this._value);return isNaN(e)&&(e=w4),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nle=60*1e3,rle=12*60*60*1e3,ile=function(){function t(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:nle,minimumFetchIntervalMillis:rle},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=it.DEBUG;break;case"silent":this._logger.logLevel=it.SILENT;break;default:this._logger.logLevel=it.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return U(this,void 0,void 0,function(){var e,n,r;return F(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return U(this,void 0,void 0,function(){var e,n,r,i=this;return F(this,function(o){switch(o.label){case 0:e=new Jce,setTimeout(function(){return U(i,void 0,void 0,function(){return F(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return n=o.sent(),r=Yce(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return U(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return ole(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new EA("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new EA("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new EA("static"))},t}();function ole(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(Fe(Fe({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t,e){var n=t.target.error||void 0;return Ri.create(e,{originalErrorMessage:n&&n.message})}var Zu="app_namespace_store",sle="firebase_remote_config",ale=1;function ule(){return new Promise(function(t,e){var n=indexedDB.open(sle,ale);n.onerror=function(r){e(y_(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Zu,{keyPath:"compositeKey"})}}})}var cle=function(){function t(e,n,r,i){i===void 0&&(i=ule()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return U(this,void 0,void 0,function(){var n,r=this;return F(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([Zu],"readonly"),c=u.objectStore(Zu),f=r.createCompositeKey(e);try{var h=c.get(f);h.onerror=function(p){a(y_(p,"storage-get"))},h.onsuccess=function(p){var g=p.target.result;o(g?g.value:void 0)}}catch(p){a(Ri.create("storage-get",{originalErrorMessage:p&&p.message}))}})]}})})},t.prototype.set=function(e,n){return U(this,void 0,void 0,function(){var r,i=this;return F(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,u){var c=r.transaction([Zu],"readwrite"),f=c.objectStore(Zu),h=i.createCompositeKey(e);try{var p=f.put({compositeKey:h,value:n});p.onerror=function(g){u(y_(g,"storage-set"))},p.onsuccess=function(){a()}}catch(g){u(Ri.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},t.prototype.delete=function(e){return U(this,void 0,void 0,function(){var n,r=this;return F(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([Zu],"readwrite"),c=u.objectStore(Zu),f=r.createCompositeKey(e);try{var h=c.delete(f);h.onerror=function(p){a(y_(p,"storage-delete"))},h.onsuccess=function(){o()}}catch(p){a(Ri.create("storage-delete",{originalErrorMessage:p&&p.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lle=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return U(this,void 0,void 0,function(){var e,n,r,i,o,a;return F(this,function(u){switch(u.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=u.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return o=u.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return a=u.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fle(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hle(t){if(!(t instanceof Xc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var dle=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return U(this,void 0,void 0,function(){var n;return F(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return U(this,void 0,void 0,function(){var o,a,u;return F(this,function(c){switch(c.label){case 0:return[4,fle(e.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,o];case 5:if(a=c.sent(),!hle(a))throw a;return u={throttleEndTimeMillis:Date.now()+bT(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(u)];case 6:return c.sent(),[2,this.attemptFetch(e,u)];case 7:return[2]}})})},t}(),E4="@firebase/remote-config",ple="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gle(t){t.INTERNAL.registerComponent(new or("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(E4,ple);function e(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window=="undefined")throw Ri.create("registration-window");var u=o.options,c=u.projectId,f=u.apiKey,h=u.appId;if(!c)throw Ri.create("registration-project-id");if(!f)throw Ri.create("registration-api-key");if(!h)throw Ri.create("registration-app-id");i=i||"firebase";var p=new cle(h,o.name,i),g=new lle(p),v=new du(E4);v.logLevel=it.ERROR;var y=new Qce(a,t.SDK_VERSION,i,c,f,h),w=new dle(y,p),E=new Kce(w,p,g,v),I=new ile(o,E,g,p,v);return I.ensureInitialized(),I}}gle(ke);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var to,mle=(to={},to["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",to["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",to["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",to["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",to["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",to["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",to["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",to["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",to["recaptcha-error"]="ReCAPTCHA error.",to),ri=new Xo("appCheck","AppCheck",mle);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T4=new Map,vle={activated:!1,tokenObservers:[]},yle={enabled:!1};function xr(t){return T4.get(t)||vle}function Po(t,e){T4.set(t,e)}function TA(){return yle}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I4="https://content-firebaseappcheck.googleapis.com/v1beta",_le="exchangeRecaptchaToken",ble="exchangeDebugToken",S4={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wle=function(){function t(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(e){return U(this,void 0,void 0,function(){var n;return F(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Dn,[4,Ele(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Dn,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},t.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},t}();function Ele(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(){return self.grecaptcha}function A4(t){if(!xr(t).activated)throw ri.create("use-before-activation",{appName:t.name})}function Tle(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}function Ile(t){return ev.encodeString(JSON.stringify(t),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t,e){var n=t.url,r=t.body;return U(this,void 0,void 0,function(){var i,o,a,u,c,f,h,p,g,v;return F(this,function(y){switch(y.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},y.label=1;case 1:return y.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return u=y.sent(),[3,4];case 3:throw c=y.sent(),ri.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(u.status!==200)throw ri.create("fetch-status-error",{httpStatus:u.status});y.label=5;case 5:return y.trys.push([5,7,,8]),[4,u.json()];case 6:return f=y.sent(),[3,8];case 7:throw h=y.sent(),ri.create("fetch-parse-error",{originalErrorMessage:h.message});case 8:if(p=f.ttl.match(/^([\d.]+)(s)$/),!p||!p[2]||isNaN(Number(p[1])))throw ri.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+f.ttl)});return g=Number(p[1])*1e3,v=Date.now(),[2,{token:f.attestationToken,expireTimeMillis:v+g,issuedAtTimeMillis:v}]}})})}function Sle(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:I4+"/projects/"+r+"/apps/"+i+":"+_le+"?key="+o,body:{recaptcha_token:e}}}function Cle(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:I4+"/projects/"+r+"/apps/"+i+":"+ble+"?key="+o,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ale="firebase-app-check-database",xle=1,ap="firebase-app-check-store",R4="debug-token",__=null;function k4(){return __||(__=new Promise(function(t,e){try{var n=indexedDB.open(Ale,xle);n.onsuccess=function(r){t(r.target.result)},n.onerror=function(r){var i;e(ri.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ap,{keyPath:"compositeKey"})}}}catch(r){e(ri.create("storage-open",{originalErrorMessage:r.message}))}}),__)}function Rle(t){return N4(P4(t))}function kle(t,e){return O4(P4(t),e)}function Ole(t){return O4(R4,t)}function Nle(){return N4(R4)}function O4(t,e){return U(this,void 0,void 0,function(){var n,r,i,o;return F(this,function(a){switch(a.label){case 0:return[4,k4()];case 1:return n=a.sent(),r=n.transaction(ap,"readwrite"),i=r.objectStore(ap),o=i.put({compositeKey:t,value:e}),[2,new Promise(function(u,c){o.onsuccess=function(f){u()},r.onerror=function(f){var h;c(ri.create("storage-set",{originalErrorMessage:(h=f.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function N4(t){return U(this,void 0,void 0,function(){var e,n,r,i;return F(this,function(o){switch(o.label){case 0:return[4,k4()];case 1:return e=o.sent(),n=e.transaction(ap,"readonly"),r=n.objectStore(ap),i=r.get(t),[2,new Promise(function(a,u){i.onsuccess=function(c){var f=c.target.result;a(f?f.value:void 0)},n.onerror=function(c){var f;u(ri.create("storage-get",{originalErrorMessage:(f=c.target.error)===null||f===void 0?void 0:f.message}))}})]}})})}function P4(t){return t.options.appId+"-"+t.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b_=new du("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ple(t){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:if(!Mh())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Rle(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),b_.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function D4(t,e){return Mh()?kle(t,e).catch(function(n){b_.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Dle(){return U(this,void 0,void 0,function(){var t,e;return F(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Nle()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e=Tle(),Ole(e).catch(function(r){return b_.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mle(){var t=TA();return t.enabled}function Lle(){return U(this,void 0,void 0,function(){var t;return F(this,function(e){if(t=TA(),t.enabled&&t.token)return[2,t.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function Fle(){var t=B8();if(!(typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=TA();e.enabled=!0;var n=new Dn;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Dle())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ule={error:"UNKNOWN_ERROR"};function w_(t,e,n){return n===void 0&&(n=!1),U(this,void 0,void 0,function(){var r,i,o,a,u,c,f,h,p,g;return F(this,function(v){switch(v.label){case 0:return A4(t),r=xr(t),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=v.sent(),a&&up(a)&&(i=a,Po(t,Fe(Fe({},r),{token:i})),L4(t,{token:i.token})),v.label=2;case 2:return!n&&i&&up(i)?[2,{token:i.token}]:Mle()?(c=x4,f=Cle,h=[t],[4,Lle()]):[3,6];case 3:return[4,c.apply(void 0,[f.apply(void 0,h.concat([v.sent()])),e])];case 4:return u=v.sent(),[4,D4(t,u)];case 5:return v.sent(),Po(t,Fe(Fe({},r),{token:u})),[2,{token:u.token}];case 6:return v.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=v.sent(),[3,9];case 8:return p=v.sent(),b_.error(p),o=p,[3,9];case 9:return i?[3,10]:(g=Ble(o),[3,12]);case 10:return g={token:i.token},Po(t,Fe(Fe({},r),{token:i})),[4,D4(t,i)];case 11:v.sent(),v.label=12;case 12:return L4(t,g),[2,g]}})})}function M4(t,e,n,r,i){var o=xr(t),a={next:r,error:i,type:n},u=Fe(Fe({},o),{tokenObservers:Ze(Ze([],o.tokenObservers),[a])});if(!u.tokenRefresher){var c=jle(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),o.token&&up(o.token)){var f=o.token;Promise.resolve().then(function(){return r({token:f.token})}).catch(function(){})}else o.token==null&&o.cachedTokenPromise.then(function(h){h&&up(h)&&r({token:h.token})}).catch(function(){});Po(t,u)}function IA(t,e){var n=xr(t),r=n.tokenObservers.filter(function(i){return i.next!==e});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Po(t,Fe(Fe({},n),{tokenObservers:r}))}function jle(t,e){var n=this;return new wle(function(){return U(n,void 0,void 0,function(){var r,i;return F(this,function(o){switch(o.label){case 0:return r=xr(t),r.token?[3,2]:[4,w_(t,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,w_(t,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=xr(t);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+5*60*1e3,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},S4.RETRIAL_MIN_WAIT,S4.RETRIAL_MAX_WAIT)}function L4(t,e){for(var n=xr(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];try{o.type==="EXTERNAL"&&e.error!=null?o.error(e.error):o.next(e)}catch{}}}function up(t){return t.expireTimeMillis-Date.now()>0}function Ble(t){return{token:Ile(Ule),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vle="https://www.google.com/recaptcha/api.js";function qle(t,e){var n=xr(t),r=new Dn;Po(t,Fe(Fe({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=C4();return a?a.ready(function(){F4(t,e,a,i),r.resolve(a)}):$le(function(){var u=C4();if(!u)throw new Error("no recaptcha");u.ready(function(){F4(t,e,u,i),r.resolve(u)})}),r.promise}function Hle(t){return U(this,void 0,void 0,function(){var e,n;return F(this,function(r){switch(r.label){case 0:return A4(t),e=xr(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,o){var a=xr(t).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function F4(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=xr(t);Po(t,Fe(Fe({},o),{reCAPTCHAState:Fe(Fe({},o.reCAPTCHAState),{widgetId:i})}))}function $le(t){var e=document.createElement("script");e.src=""+Vle,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SA=function(){function t(e){this._siteKey=e}return t.prototype.getToken=function(){return U(this,void 0,void 0,function(){var e;return F(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw ri.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Hle(this._app)];case 2:return e=n.sent(),[3,4];case 3:throw n.sent(),ri.create("recaptcha-error");case 4:return[2,x4(Sle(this._app,e),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(e,n){this._app=e,this._platformLoggerProvider=n,qle(e,this._siteKey).catch(function(){})},t}(),CA=function(){function t(e){this._customProviderOptions=e}return t.prototype.getToken=function(){return U(this,void 0,void 0,function(){var e,n,r;return F(this,function(i){switch(i.label){case 0:if(!this._app)throw ri.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=i.sent(),n=$8(e.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,Fe(Fe({},e),{issuedAtTimeMillis:r})]}})})},t.prototype.initialize=function(e){this._app=e},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wle(t,e,n,r){var i=xr(t);if(i.activated)throw ri.create("already-activated",{appName:t.name});var o=Fe(Fe({},i),{activated:!0});o.cachedTokenPromise=Ple(t).then(function(a){return a&&up(a)&&Po(t,Fe(Fe({},xr(t)),{token:a})),a}),typeof e=="string"?o.provider=new SA(e):e instanceof SA||e instanceof CA?o.provider=e:o.provider=new CA({getToken:e.getToken}),o.isTokenAutoRefreshEnabled=r===void 0?t.automaticDataCollectionEnabled:r,Po(t,o),o.provider.initialize(t,n)}function zle(t,e){var n=xr(t);n.tokenRefresher&&(e===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Po(t,Fe(Fe({},n),{isTokenAutoRefreshEnabled:e}))}function Kle(t,e,n){return U(this,void 0,void 0,function(){var r;return F(this,function(i){switch(i.label){case 0:return[4,w_(t,e,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function Gle(t,e,n,r,i){var o=function(){},a=function(){};return n.next!=null?o=n.next.bind(n):o=n,n.error!=null?a=n.error.bind(n):r&&(a=r),M4(t,e,"EXTERNAL",o,a),function(){return IA(t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yle(t,e){return{app:t,activate:function(n,r){return Wle(t,n,e,r)},setTokenAutoRefreshEnabled:function(n){return zle(t,n)},getToken:function(n){return Kle(t,e,n)},onTokenChanged:function(n,r,i){return Gle(t,e,n,r)},INTERNAL:{delete:function(){for(var n=xr(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];IA(t,o.next)}return Promise.resolve()}}}}function Xle(t,e){return{getToken:function(n){return w_(t,e,n)},addTokenListener:function(n){return M4(t,e,"INTERNAL",n)},removeTokenListener:function(n){return IA(t,n)}}}var Qle="@firebase/app-check",Jle="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zle="appCheck",U4="app-check-internal";function efe(t){t.INTERNAL.registerComponent(new or(Zle,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return Yle(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:SA,CustomProvider:CA}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider(U4);i.initialize()})),t.INTERNAL.registerComponent(new or(U4,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return Xle(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(Qle,Jle)}efe(ke);Fle();var tfe="firebase",j4="8.10.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ke.registerVersion(tfe,j4,"app");ke.SDK_VERSION=j4;var nfe="firebase",rfe="8.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ke.registerVersion(nfe,rfe);/**
  * vee-validate v4.3.0
  * (c) 2021 Abdelrahman Awad
  * @license MIT
  */function ec(t){return typeof t=="function"}const Jl=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function B4(t){return Number(t)>=0}function ife(t){const e=parseFloat(t);return isNaN(e)?t:e}const V4={};function $he(t,e){sfe(t,e),V4[t]=e}function ofe(t){return V4[t]}function sfe(t,e){if(!ec(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}const AA=(t,e)=>t.slots.default?t.slots.default(e):t.slots.default;function q4(t){if(H4(t))return t._value}function H4(t){return"_value"in t}const xA=t=>t?!!(typeof Event!="undefined"&&ec(Event)&&t instanceof Event||t&&t.srcElement):!1;function $4(t){if(!xA(t))return t;const e=t.target;return lp(e.type)&&H4(e)?q4(e):e.type==="file"&&e.files?Array.from(e.files):ffe(e)?Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(q4):e.value}function RA(t){return ec(t)&&!!t.__locatorRef}function afe(t){return["input","textarea","select"].includes(t)}function ufe(t,e){return afe(t)&&e.type==="file"}function cp(t){return!!t&&ec(t.validate)}function lp(t){return t==="checkbox"||t==="radio"}function cfe(t){return Jl(t)||Array.isArray(t)}function lfe(t){return Array.isArray(t)?t.length===0:Jl(t)&&Object.keys(t).length===0}function E_(t){return/^\[.+\]$/i.test(t)}function ffe(t){return t.tagName==="SELECT"&&t.multiple}function hfe(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function dfe(t,e){return hfe(t,e)||ufe(t,e)}function pfe(t){return xA(t)&&t.target&&"submit"in t.target}function kA(t){return E_(t)?t.replace(/\[|\]/gi,""):t}function Do(t,e){return t?E_(e)?t[kA(e)]:e.split(/\.|\[(\d+)\]/).filter(Boolean).reduce((r,i)=>{if(cfe(r)&&i in r)return r[i]},t):void 0}function Zl(t,e,n){if(E_(e)){t[kA(e)]=n;return}const r=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let o=0;o<r.length;o++){if(o===r.length-1){i[r[o]]=n;return}r[o]in i||(i[r[o]]=B4(r[o+1])?[]:{}),i=i[r[o]]}}function OA(t,e){if(Array.isArray(t)&&B4(e)){t.splice(Number(e),1);return}Jl(t)&&delete t[e]}function ef(t,e){if(E_(e)){delete t[kA(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let r=t;for(let o=0;o<n.length;o++){if(o===n.length-1){OA(r,n[o]);break}if(!(n[o]in r))break;r=r[n[o]]}const i=n.map((o,a)=>Do(t,n.slice(0,a).join(".")));for(let o=i.length-1;o>=0;o--)if(!!lfe(i[o])){if(o===0){OA(t,n[0]);continue}OA(i[o-1],n[o-1])}}function hs(t){return Object.keys(t)}function W4(t,e=void 0){const n=cO();return go(t,(n==null?void 0:n.provides[t])||e)}function NA(t,e,n=!1){if(!Array.isArray(t)){e(t);return}if(n){e(t[0]);return}t.forEach(e)}function PA(t,e,n){if(Array.isArray(t)){const r=[...t],i=r.indexOf(e);return i>=0?r.splice(i,1):r.push(e),r}return t===e?n:e}function z4(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Jl(t)&&t._$$isNormalized?t:Jl(t)?Object.keys(t).reduce((n,r)=>{const i=gfe(t[r]);return t[r]!==!1&&(n[r]=K4(i)),n},e):typeof t!="string"?e:t.split("|").reduce((n,r)=>{const i=mfe(r);return i.name&&(n[i.name]=K4(i.params)),n},e):e}function gfe(t){return t===!0?[]:Array.isArray(t)||Jl(t)?t:[t]}function K4(t){const e=n=>typeof n=="string"&&n[0]==="@"?vfe(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{})}const mfe=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function vfe(t){const e=n=>Do(n,t)||n[t];return e.__locatorRef=t,e}function yfe(t){return Array.isArray(t)?t.filter(RA):hs(t).filter(e=>RA(t[e])).map(e=>t[e])}const _fe={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let DA=Object.assign({},_fe);const MA=()=>DA,bfe=t=>{DA=Object.assign(Object.assign({},DA),t)},Whe=bfe;async function G4(t,e,n={}){const r=n==null?void 0:n.bails,i={name:(n==null?void 0:n.name)||"{field}",rules:e,bails:r!=null?r:!0,formData:(n==null?void 0:n.values)||{}},a=(await wfe(i,t)).errors;return{errors:a,valid:!a.length}}async function wfe(t,e){if(cp(t.rules))return Efe(e,t.rules,{bails:t.bails});if(ec(t.rules)){const a={field:t.name,form:t.formData,value:e},u=await t.rules(e,a),c=typeof u!="string"&&u,f=typeof u=="string"?u:Y4(a);return{errors:c?[]:[f]}}const n=Object.assign(Object.assign({},t),{rules:z4(t.rules)}),r=[],i=Object.keys(n.rules),o=i.length;for(let a=0;a<o;a++){const u=i[a],c=await Tfe(n,e,{name:u,params:n.rules[u]});if(c.error&&(r.push(c.error),t.bails))return{errors:r}}return{errors:r}}async function Efe(t,e,n){var r;return{errors:await e.validate(t,{abortEarly:(r=n.bails)!==null&&r!==void 0?r:!0}).then(()=>[]).catch(o=>{if(o.name==="ValidationError")return o.errors;throw o})}}async function Tfe(t,e,n){const r=ofe(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=Ife(n.params,t.formData),o={field:t.name,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:i})},a=await r(e,i,o);return typeof a=="string"?{error:a}:{error:a?void 0:Y4(o)}}function Y4(t){const e=MA().generateMessage;return e?e(t):"Field is invalid"}function Ife(t,e){const n=r=>RA(r)?r(e):r;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((r,i)=>(r[i]=n(t[i]),r),{})}var T_=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!=0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!=0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!=0;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const X4=Symbol("vee-validate-form"),Q4=Symbol("vee-validate-form-errors"),J4=Symbol("vee-validate-form-initial-values"),Sfe=Symbol("vee-validate-field-instance");let Z4=0;function Cfe(t,e,n){const r=Z4>=Number.MAX_SAFE_INTEGER?0:++Z4,{initialValue:i,validateOnMount:o,bails:a,type:u,valueProp:c,label:f,validateOnValueUpdate:h,uncheckedValue:p}=Afe(Le(t),n),g=W4(X4),{meta:v,errors:y,errorMessage:w,handleBlur:E,handleInput:I,resetValidationState:x,setValidationState:k,setErrors:P,value:D,checked:M}=xfe({name:t,initValue:i,form:g,type:u,valueProp:c}),W=Tt(()=>{let z=Le(e);const J=Le(g==null?void 0:g.schema);return J&&!cp(J)&&(z=kfe(J,Le(t))||z),cp(z)||ec(z)?z:z4(z)});async function V(){var z,J;v.pending=!0;let se;return v.validated=!0,!g||!g.validateSchema?se=await G4(D.value,W.value,{name:Le(f)||Le(t),values:(z=g==null?void 0:g.values)!==null&&z!==void 0?z:{},bails:a}):se=(J=(await g.validateSchema("validated-only"))[Le(t)])!==null&&J!==void 0?J:{valid:!0,errors:[]},v.pending=!1,k(se)}async function X(){var z,J,se;let Pe;!g||!g.validateSchema?Pe=await G4(D.value,W.value,{name:Le(f)||Le(t),values:(z=g==null?void 0:g.values)!==null&&z!==void 0?z:{},bails:a}):Pe=(se=(J=await g.validateSchema("silent"))===null||J===void 0?void 0:J[Le(t)])!==null&&se!==void 0?se:{valid:!0,errors:[]},v.valid=Pe.valid}const O=z=>{var J,se;if(M&&M.value===((se=(J=z)===null||J===void 0?void 0:J.target)===null||se===void 0?void 0:se.checked))return;let Pe=$4(z);if(M&&u==="checkbox"&&!g&&(Pe=PA(D.value,Le(c),Le(p))),D.value=Pe,!h)return V()};zg(()=>{if(o)return V();(!g||!g.validateSchema)&&X()});function pe(z){v.touched=z}let Ee;function Z(){Ee=fi(D,h?V:X,{deep:!0})}Z();function Ie(z){Ee==null||Ee(),x(z),Z()}const ve={idx:-1,fid:r,name:t,value:D,meta:v,errors:y,errorMessage:w,type:u,valueProp:c,uncheckedValue:p,checked:M,resetField:Ie,handleReset:()=>Ie(),validate:V,handleChange:O,handleBlur:E,handleInput:I,setValidationState:k,setTouched:pe,setErrors:P};if(xs(Sfe,ve),En(e)&&typeof Le(e)!="function"&&fi(e,(z,J)=>{if(!T_(z,J))return V()},{deep:!0}),!g)return ve;g.register(ve),Cw(()=>{g.unregister(ve)});const $=Tt(()=>{const z=W.value;return!z||ec(z)||cp(z)?{}:Object.keys(z).reduce((J,se)=>{const Pe=yfe(z[se]).map(Ke=>Ke.__locatorRef).reduce((Ke,Ue)=>{const st=Do(g.values,Ue)||g.values[Ue];return st!==void 0&&(Ke[Ue]=st),Ke},{});return Object.assign(J,Pe),J},{})});return fi($,(z,J)=>{if(!Object.keys(z).length)return;!T_(z,J)&&(v.dirty?V():X())}),ve}function Afe(t,e){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",label:t,validateOnValueUpdate:!0});return e?Object.assign(Object.assign({},n()),e||{}):n()}function xfe({name:t,initValue:e,form:n,type:r,valueProp:i}){const{errors:o,errorMessage:a,setErrors:u}=Nfe(t,n),c=W4(J4,void 0),f=Tt(()=>{var I;return(I=Do(Le(c),Le(t)))!==null&&I!==void 0?I:Le(e)}),h=Ofe(f,t,n),p=Rfe(f,h,o),g=lp(r)?Tt(()=>Array.isArray(h.value)?h.value.includes(Le(i)):Le(i)===h.value):void 0,v=()=>{p.touched=!0},y=I=>{lp(r)||(h.value=$4(I))};function w(I){return u(I.errors),I}function E(I){var x,k;const P=Le(t),D=I&&"value"in I?I.value:(x=Do(Le(c),P))!==null&&x!==void 0?x:e;n?n.setFieldValue(P,D,{force:!0}):h.value=D,u((I==null?void 0:I.errors)||[]),p.touched=(k=I==null?void 0:I.touched)!==null&&k!==void 0?k:!1,p.pending=!1,p.validated=!1}return{meta:p,errors:o,errorMessage:a,setErrors:u,setValidationState:w,resetValidationState:E,handleBlur:v,handleInput:y,value:h,checked:g}}function Rfe(t,e,n){const r=Ss({touched:!1,pending:!1,valid:!0,validated:!1,initialValue:Tt(()=>Le(t)),dirty:Tt(()=>!T_(e.value,Le(t)))});return fi(n,i=>{r.valid=!i.length},{immediate:!0,flush:"sync"}),r}function kfe(t,e){if(!!t)return t[e]}function Ofe(t,e,n){return n?(n.stageInitialValue(Le(e),Le(t)),Tt({get(){return Do(n.values,Le(e))},set(i){n.setFieldValue(Le(e),i)}})):Bo(Le(t))}function Nfe(t,e){if(!e){const r=Bo([]);return{errors:Tt(()=>r.value),errorMessage:Tt(()=>r.value[0]),setErrors:i=>{r.value=Array.isArray(i)?i:[i]}}}const n=Tt(()=>e.errorBag.value[Le(t)]||[]);return{errors:n,errorMessage:Tt(()=>n.value[0]),setErrors:r=>{e.setFieldErrorBag(Le(t),r)}}}const zhe=Jf({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>MA().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null},modelModifiers:{type:null,default:()=>({})}},emits:["update:modelValue"],setup(t,e){const n=ho(t,"rules"),r=ho(t,"name"),i=ho(t,"label"),o=ho(t,"uncheckedValue"),{errors:a,value:u,errorMessage:c,validate:f,handleChange:h,handleBlur:p,handleInput:g,setTouched:v,resetField:y,handleReset:w,meta:E,checked:I,setErrors:x}=Cfe(r,n,{validateOnMount:t.validateOnMount,bails:t.bails,type:e.attrs.type,initialValue:lp(e.attrs.type)||"modelValue"in t?t.modelValue:e.attrs.value,valueProp:e.attrs.value,uncheckedValue:o,label:i,validateOnValueUpdate:!1}),k="modelValue"in t?function(V){h(V),e.emit("update:modelValue",u.value)}:h,P="modelValue"in t?function(V){g(V),e.emit("update:modelValue",u.value)}:g,D=Tt(()=>{const{validateOnInput:W,validateOnChange:V,validateOnBlur:X,validateOnModelUpdate:O}=Pfe(t),pe=[p,e.attrs.onBlur,X?f:void 0].filter(Boolean),Ee=[P,W?k:void 0,e.attrs.onInput].filter(Boolean),Z=[P,V?k:void 0,e.attrs.onChange].filter(Boolean),Ie={name:t.name,onBlur:pe,onInput:Ee,onChange:Z};O&&(Ie["onUpdate:modelValue"]=[k]),lp(e.attrs.type)&&I?Ie.checked=I.value:Ie.value=u.value;const ve=e3(t,e);return dfe(ve,e.attrs)&&delete Ie.value,Ie}),M=Tt(()=>({field:D.value,value:u.value,meta:E,errors:a.value,errorMessage:c.value,validate:f,resetField:y,handleChange:k,handleInput:P,handleReset:w,handleBlur:p,setTouched:v,setErrors:x}));if("modelValue"in t){const W=ho(t,"modelValue");fi(W,V=>{V!==Dfe(u.value,t.modelModifiers)&&(u.value=V,f())})}return()=>{const W=Pw(e3(t,e)),V=AA(e,M.value);return W?Ga(W,Object.assign(Object.assign({},e.attrs),D.value),V):V}}});function e3(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function Pfe(t){var e,n,r,i;const{validateOnInput:o,validateOnChange:a,validateOnBlur:u,validateOnModelUpdate:c}=MA();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:o,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(r=t.validateOnBlur)!==null&&r!==void 0?r:u,validateOnModelUpdate:(i=t.validateOnModelUpdate)!==null&&i!==void 0?i:c}}function Dfe(t,e){return e.number?ife(t):t}function Mfe(t){const e=Bo([]),n=Bo(!1),r=Tt(()=>e.value.reduce(($,z)=>{const J=Le(z.name);if(!$[J])return $[J]=z,z.idx=-1,$;const se=$[J];Array.isArray(se)||(se.idx=0,$[J]=[se]);const Pe=$[J];return z.idx=Pe.length,Pe.push(z),$},{})),i=Bo(0),o=Ss({}),a={},{errorBag:u,setErrorBag:c,setFieldErrorBag:f}=jfe(t==null?void 0:t.initialErrors),h=Tt(()=>hs(u.value).reduce(($,z)=>{const J=u.value[z];return J&&J.length&&($[z]=J[0]),$},{})),{readonlyInitialValues:p,initialValues:g,setInitialValues:v}=Ufe(r,o,t==null?void 0:t.initialValues),y=Lfe(e,o,p);function w($,z){f($,z)}function E($){c($)}function I($,z,{force:J}={force:!1}){var se;const Pe=r.value[$];if(Array.isArray(Pe)&&((se=Pe[0])===null||se===void 0?void 0:se.type)==="checkbox"&&!Array.isArray(z)){const Ue=PA(Do(o,$)||[],z,void 0);Zl(o,$,Ue),Pe.forEach(st=>{a[st.fid]=Ue});return}let Ke=z;if(!Array.isArray(Pe)&&(Pe==null?void 0:Pe.type)==="checkbox"&&!J&&(Ke=PA(Do(o,$),z,Le(Pe.uncheckedValue))),Zl(o,$,Ke),Pe&&Array.isArray(Pe)){Pe.forEach(Ue=>{a[Ue.fid]=Ke});return}Pe&&(a[Pe.fid]=Ke)}function x($){hs($).forEach(z=>{I(z,$[z])})}function k($,z){const J=r.value[$];!J||NA(J,se=>se.setTouched(z))}function P($){hs($).forEach(z=>{k(z,!!$[z])})}const D=$=>{($==null?void 0:$.values)&&v($.values),e.value.forEach(z=>z.resetField()),($==null?void 0:$.touched)&&P($.touched),($==null?void 0:$.errors)&&E($.errors),i.value=($==null?void 0:$.submitCount)||0};function M($){e.value.push($),En($.name)&&(a[$.fid]=$.value.value,fi($.name,z=>{I(z,a[$.fid])},{flush:"post"}))}function W($){var z,J;const se=e.value.indexOf($);if(se===-1)return;e.value.splice(se,1);const Pe=$.fid;bw(()=>{delete a[Pe]});const Ke=Le($.name);if($.idx===-1){if(e.value.find(zt=>Le(zt.name)===Ke))return;ef(o,Ke),ef(g.value,Ke);return}const Ue=(J=(z=Do(o,Ke))===null||z===void 0?void 0:z.indexOf)===null||J===void 0?void 0:J.call(z,Le($.valueProp));if(Ue===void 0){ef(o,Ke);return}if(Ue!==-1){if(Array.isArray(o[Ke])){ef(o,`${Ke}.${Ue}`);return}ef(o,Ke),ef(g.value,Ke)}}async function V(){function $(J,se){return se.errors.length&&(J.valid=!1,J.errors[se.key]=se.errors[0]),J}return Z.validateSchema?Z.validateSchema("force").then(J=>hs(J).map(se=>({key:se,errors:J[se].errors})).reduce($,{errors:{},valid:!0})):(await Promise.all(e.value.map(J=>J.validate().then(se=>({key:Le(J.name),errors:se.errors}))))).reduce($,{errors:{},valid:!0})}async function X($){const z=r.value[$];return z?Array.isArray(z)?z.map(J=>J.validate())[0]:z.validate():(xW(`field with name ${$} was not found`),Promise.resolve({errors:[],valid:!0}))}const O=$=>function(J){return J instanceof Event&&(J.preventDefault(),J.stopPropagation()),n.value=!0,i.value++,V().then(se=>{if(se.valid&&typeof $=="function")return $(Ie.value,{evt:J,setErrors:E,setFieldError:w,setTouched:P,setFieldTouched:k,setValues:x,setFieldValue:I,resetForm:D})}).then(()=>{n.value=!1},se=>{throw n.value=!1,se})};function pe($,z){Zl(o,$,z),Zl(g.value,$,z)}const Ee=t==null?void 0:t.validationSchema,Z={register:M,unregister:W,fieldsById:r,values:o,setFieldErrorBag:f,errorBag:u,schema:Ee,submitCount:i,validateSchema:cp(Le(Ee))?$=>Ffe(Z,$):void 0,validate:V,validateField:X,setFieldValue:I,setValues:x,setErrors:E,setFieldError:w,setFieldTouched:k,setTouched:P,resetForm:D,meta:y,isSubmitting:n,handleSubmit:O,stageInitialValue:pe},Ie=Tt(()=>e.value.reduce(($,z)=>(Zl($,Le(z.name),Le(z.value)),$),{})),ve=O(($,{evt:z})=>{pfe(z)&&z.target.submit()});return zg(()=>{if((t==null?void 0:t.initialErrors)&&E(t.initialErrors),(t==null?void 0:t.initialTouched)&&P(t.initialTouched),t==null?void 0:t.validateOnMount){V();return}Z.validateSchema&&Z.validateSchema("silent")}),En(Ee)&&fi(Ee,()=>{var $;($=Z.validateSchema)===null||$===void 0||$.call(Z,"validated-only")}),xs(X4,Z),xs(Q4,h),{errors:h,meta:y,values:o,isSubmitting:n,submitCount:i,validate:V,validateField:X,handleReset:()=>D(),resetForm:D,handleSubmit:O,submitForm:ve,setFieldError:w,setErrors:E,setFieldValue:I,setValues:x,setFieldTouched:k,setTouched:P}}function Lfe(t,e,n){const r={touched:"some",pending:"some",valid:"every"},i=Tt(()=>!T_(e,Le(n)));return Tt(()=>{const o=hs(r).reduce((a,u)=>{const c=r[u];return a[u]=t.value[c](f=>f.meta[u]),a},{});return Object.assign(Object.assign({initialValues:Le(n)},o),{dirty:i.value})})}async function Ffe(t,e){const n=await Le(t.schema).validate(t.values,{abortEarly:!1}).then(()=>[]).catch(a=>{if(a.name!=="ValidationError")throw a;return a.inner||[]}),r=t.fieldsById.value||{},i=n.reduce((a,u)=>(a[u.path]=u,a),{});return hs(r).reduce((a,u)=>{const c=r[u],f=(i[u]||{errors:[]}).errors,h={errors:f,valid:!f.length};if(a[u]=h,e==="silent")return NA(c,g=>g.meta.valid=h.valid),a;const p=Array.isArray(c)?c.some(g=>g.meta.validated):c.meta.validated;return e==="validated-only"&&!p||NA(c,g=>g.setValidationState(h),!0),a},{})}function Ufe(t,e,n){const r=Bo(Le(n)||{}),i=Tt(()=>r.value);function o(a,u=!1){if(r.value=Object.assign(Object.assign({},r.value),a),!u)return;const c=f=>f.meta.touched;hs(t.value).forEach(f=>{const h=t.value[f];if(Array.isArray(h)?h.some(c):c(h))return;const g=Do(r.value,f);Zl(e,f,g)})}return En(n)&&fi(n,a=>{o(a,!0)},{deep:!0}),xs(J4,i),{readonlyInitialValues:i,initialValues:r,setInitialValues:o}}function jfe(t){const e=Bo({});function n(i,o){e.value[i]=Array.isArray(o)?o:o?[o]:[]}function r(i){hs(i).forEach(o=>{n(o,i[o])})}return t&&r(t),{errorBag:e,setErrorBag:r,setFieldErrorBag:n}}const Khe=Jf({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0}},setup(t,e){const n=ho(t,"initialValues"),r=ho(t,"validationSchema"),{errors:i,values:o,meta:a,isSubmitting:u,submitCount:c,validate:f,validateField:h,handleReset:p,resetForm:g,handleSubmit:v,submitForm:y,setErrors:w,setFieldError:E,setFieldValue:I,setValues:x,setFieldTouched:k,setTouched:P}=Mfe({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount}),D=t.onSubmit?v(t.onSubmit):y;function M(X){xA(X)&&X.preventDefault(),p(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function W(X,O){return v(typeof X=="function"&&!O?X:O)(X)}const V=Tt(()=>({meta:a.value,errors:i.value,values:o,isSubmitting:u.value,submitCount:c.value,validate:f,validateField:h,handleSubmit:W,handleReset:p,submitForm:y,setErrors:w,setFieldError:E,setFieldValue:I,setValues:x,setFieldTouched:k,setTouched:P,resetForm:g}));return function(){"setErrors"in this||(this.setFieldError=E,this.setErrors=w,this.setFieldValue=I,this.setValues=x,this.setFieldTouched=k,this.setTouched=P,this.resetForm=g,this.validate=f,this.validateField=h);const O=AA(e,V.value);if(!t.as)return O;const pe=t.as==="form"?{novalidate:!0}:{};return Ga(t.as==="form"?t.as:Pw(t.as),Object.assign(Object.assign(Object.assign({},pe),e.attrs),{onSubmit:D,onReset:M}),O)}}}),Ghe=Jf({props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=go(Q4,void 0),r=Tt(()=>n==null?void 0:n.value[t.name]);return()=>{if(!r.value)return;const i=AA(e,{message:r.value}),o=t.as?Pw(t.as):t.as,a=Object.assign({role:"alert"},e.attrs);return!o&&(i==null?void 0:i.length)?i:(i==null?void 0:i.length)?Ga(o,a,i):Ga(o||"span",a,r.value)}}});try{self["workbox:core:6.2.4"]&&_()}catch{}const Bfe=(t,...e)=>{let n=t;return e.length>0&&(n+=` :: ${JSON.stringify(e)}`),n},Vfe=Bfe;class qr extends Error{constructor(e,n){const r=Vfe(e,n);super(r);this.name=e,this.details=n}}const ds={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:typeof registration!="undefined"?registration.scope:""},LA=t=>[ds.prefix,t,ds.suffix].filter(e=>e&&e.length>0).join("-"),qfe=t=>{for(const e of Object.keys(ds))t(e)},FA={updateDetails:t=>{qfe(e=>{typeof t[e]=="string"&&(ds[e]=t[e])})},getGoogleAnalyticsName:t=>t||LA(ds.googleAnalytics),getPrecacheName:t=>t||LA(ds.precache),getPrefix:()=>ds.prefix,getRuntimeName:t=>t||LA(ds.runtime),getSuffix:()=>ds.suffix};function t3(t,e){const n=e();return t.waitUntil(n),n}try{self["workbox:precaching:6.2.4"]&&_()}catch{}const Hfe="__WB_REVISION__";function $fe(t){if(!t)throw new qr("add-to-cache-list-unexpected-type",{entry:t});if(typeof t=="string"){const o=new URL(t,location.href);return{cacheKey:o.href,url:o.href}}const{revision:e,url:n}=t;if(!n)throw new qr("add-to-cache-list-unexpected-type",{entry:t});if(!e){const o=new URL(n,location.href);return{cacheKey:o.href,url:o.href}}const r=new URL(n,location.href),i=new URL(n,location.href);return r.searchParams.set(Hfe,e),{cacheKey:r.href,url:i.href}}class Wfe{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:e,state:n})=>{n&&(n.originalRequest=e)},this.cachedResponseWillBeUsed=async({event:e,state:n,cachedResponse:r})=>{if(e.type==="install"&&n&&n.originalRequest&&n.originalRequest instanceof Request){const i=n.originalRequest.url;r?this.notUpdatedURLs.push(i):this.updatedURLs.push(i)}return r}}}class zfe{constructor({precacheController:e}){this.cacheKeyWillBeUsed=async({request:n,params:r})=>{const i=(r==null?void 0:r.cacheKey)||this._precacheController.getCacheKeyForURL(n.url);return i?new Request(i,{headers:n.headers}):n},this._precacheController=e}}let fp;function Kfe(){if(fp===void 0){const t=new Response("");if("body"in t)try{new Response(t.body),fp=!0}catch{fp=!1}fp=!1}return fp}async function Gfe(t,e){let n=null;if(t.url&&(n=new URL(t.url).origin),n!==self.location.origin)throw new qr("cross-origin-copy-response",{origin:n});const r=t.clone(),i={headers:new Headers(r.headers),status:r.status,statusText:r.statusText},o=e?e(i):i,a=Kfe()?r.body:await r.blob();return new Response(a,o)}const Yfe=t=>new URL(String(t),location.href).href.replace(new RegExp(`^${location.origin}`),"");function n3(t,e){const n=new URL(t);for(const r of e)n.searchParams.delete(r);return n.href}async function Xfe(t,e,n,r){const i=n3(e.url,n);if(e.url===i)return t.match(e,r);const o=Object.assign(Object.assign({},r),{ignoreSearch:!0}),a=await t.keys(e,o);for(const u of a){const c=n3(u.url,n);if(i===c)return t.match(u,r)}}class Qfe{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}const Jfe=new Set;async function Zfe(){for(const t of Jfe)await t()}function ehe(t){return new Promise(e=>setTimeout(e,t))}try{self["workbox:strategies:6.2.4"]&&_()}catch{}function I_(t){return typeof t=="string"?new Request(t):t}class the{constructor(e,n){this._cacheKeys={},Object.assign(this,n),this.event=n.event,this._strategy=e,this._handlerDeferred=new Qfe,this._extendLifetimePromises=[],this._plugins=[...e.plugins],this._pluginStateMap=new Map;for(const r of this._plugins)this._pluginStateMap.set(r,{});this.event.waitUntil(this._handlerDeferred.promise)}async fetch(e){const{event:n}=this;let r=I_(e);if(r.mode==="navigate"&&n instanceof FetchEvent&&n.preloadResponse){const a=await n.preloadResponse;if(a)return a}const i=this.hasCallback("fetchDidFail")?r.clone():null;try{for(const a of this.iterateCallbacks("requestWillFetch"))r=await a({request:r.clone(),event:n})}catch(a){if(a instanceof Error)throw new qr("plugin-error-request-will-fetch",{thrownErrorMessage:a.message})}const o=r.clone();try{let a;a=await fetch(r,r.mode==="navigate"?void 0:this._strategy.fetchOptions);for(const u of this.iterateCallbacks("fetchDidSucceed"))a=await u({event:n,request:o,response:a});return a}catch(a){throw i&&await this.runCallbacks("fetchDidFail",{error:a,event:n,originalRequest:i.clone(),request:o.clone()}),a}}async fetchAndCachePut(e){const n=await this.fetch(e),r=n.clone();return this.waitUntil(this.cachePut(e,r)),n}async cacheMatch(e){const n=I_(e);let r;const{cacheName:i,matchOptions:o}=this._strategy,a=await this.getCacheKey(n,"read"),u=Object.assign(Object.assign({},o),{cacheName:i});r=await caches.match(a,u);for(const c of this.iterateCallbacks("cachedResponseWillBeUsed"))r=await c({cacheName:i,matchOptions:o,cachedResponse:r,request:a,event:this.event})||void 0;return r}async cachePut(e,n){const r=I_(e);await ehe(0);const i=await this.getCacheKey(r,"write");if(!n)throw new qr("cache-put-with-no-response",{url:Yfe(i.url)});const o=await this._ensureResponseSafeToCache(n);if(!o)return!1;const{cacheName:a,matchOptions:u}=this._strategy,c=await self.caches.open(a),f=this.hasCallback("cacheDidUpdate"),h=f?await Xfe(c,i.clone(),["__WB_REVISION__"],u):null;try{await c.put(i,f?o.clone():o)}catch(p){if(p instanceof Error)throw p.name==="QuotaExceededError"&&await Zfe(),p}for(const p of this.iterateCallbacks("cacheDidUpdate"))await p({cacheName:a,oldResponse:h,newResponse:o.clone(),request:i,event:this.event});return!0}async getCacheKey(e,n){if(!this._cacheKeys[n]){let r=e;for(const i of this.iterateCallbacks("cacheKeyWillBeUsed"))r=I_(await i({mode:n,request:r,event:this.event,params:this.params}));this._cacheKeys[n]=r}return this._cacheKeys[n]}hasCallback(e){for(const n of this._strategy.plugins)if(e in n)return!0;return!1}async runCallbacks(e,n){for(const r of this.iterateCallbacks(e))await r(n)}*iterateCallbacks(e){for(const n of this._strategy.plugins)if(typeof n[e]=="function"){const r=this._pluginStateMap.get(n);yield o=>{const a=Object.assign(Object.assign({},o),{state:r});return n[e](a)}}}waitUntil(e){return this._extendLifetimePromises.push(e),e}async doneWaiting(){let e;for(;e=this._extendLifetimePromises.shift();)await e}destroy(){this._handlerDeferred.resolve(null)}async _ensureResponseSafeToCache(e){let n=e,r=!1;for(const i of this.iterateCallbacks("cacheWillUpdate"))if(n=await i({request:this.request,response:n,event:this.event})||void 0,r=!0,!n)break;return r||n&&n.status!==200&&(n=void 0),n}}class nhe{constructor(e={}){this.cacheName=FA.getRuntimeName(e.cacheName),this.plugins=e.plugins||[],this.fetchOptions=e.fetchOptions,this.matchOptions=e.matchOptions}handle(e){const[n]=this.handleAll(e);return n}handleAll(e){e instanceof FetchEvent&&(e={event:e,request:e.request});const n=e.event,r=typeof e.request=="string"?new Request(e.request):e.request,i="params"in e?e.params:void 0,o=new the(this,{event:n,request:r,params:i}),a=this._getResponse(o,r,n),u=this._awaitComplete(a,o,r,n);return[a,u]}async _getResponse(e,n,r){await e.runCallbacks("handlerWillStart",{event:r,request:n});let i;try{if(i=await this._handle(n,e),!i||i.type==="error")throw new qr("no-response",{url:n.url})}catch(o){if(o instanceof Error){for(const a of e.iterateCallbacks("handlerDidError"))if(i=await a({error:o,event:r,request:n}),i)break}if(!i)throw o}for(const o of e.iterateCallbacks("handlerWillRespond"))i=await o({event:r,request:n,response:i});return i}async _awaitComplete(e,n,r,i){let o,a;try{o=await e}catch{}try{await n.runCallbacks("handlerDidRespond",{event:i,request:r,response:o}),await n.doneWaiting()}catch(u){u instanceof Error&&(a=u)}if(await n.runCallbacks("handlerDidComplete",{event:i,request:r,response:o,error:a}),n.destroy(),a)throw a}}class la extends nhe{constructor(e={}){e.cacheName=FA.getPrecacheName(e.cacheName);super(e);this._fallbackToNetwork=e.fallbackToNetwork!==!1,this.plugins.push(la.copyRedirectedCacheableResponsesPlugin)}async _handle(e,n){const r=await n.cacheMatch(e);return r||(n.event&&n.event.type==="install"?await this._handleInstall(e,n):await this._handleFetch(e,n))}async _handleFetch(e,n){let r;const i=n.params||{};if(this._fallbackToNetwork){const o=i.integrity,a=e.integrity,u=!a||a===o;r=await n.fetch(new Request(e,{integrity:a||o})),o&&u&&(this._useDefaultCacheabilityPluginIfNeeded(),await n.cachePut(e,r.clone()))}else throw new qr("missing-precache-entry",{cacheName:this.cacheName,url:e.url});return r}async _handleInstall(e,n){this._useDefaultCacheabilityPluginIfNeeded();const r=await n.fetch(e);if(!await n.cachePut(e,r.clone()))throw new qr("bad-precaching-response",{url:e.url,status:r.status});return r}_useDefaultCacheabilityPluginIfNeeded(){let e=null,n=0;for(const[r,i]of this.plugins.entries())i!==la.copyRedirectedCacheableResponsesPlugin&&(i===la.defaultPrecacheCacheabilityPlugin&&(e=r),i.cacheWillUpdate&&n++);n===0?this.plugins.push(la.defaultPrecacheCacheabilityPlugin):n>1&&e!==null&&this.plugins.splice(e,1)}}la.defaultPrecacheCacheabilityPlugin={async cacheWillUpdate({response:t}){return!t||t.status>=400?null:t}};la.copyRedirectedCacheableResponsesPlugin={async cacheWillUpdate({response:t}){return t.redirected?await Gfe(t):t}};class rhe{constructor({cacheName:e,plugins:n=[],fallbackToNetwork:r=!0}={}){this._urlsToCacheKeys=new Map,this._urlsToCacheModes=new Map,this._cacheKeysToIntegrities=new Map,this._strategy=new la({cacheName:FA.getPrecacheName(e),plugins:[...n,new zfe({precacheController:this})],fallbackToNetwork:r}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this._strategy}precache(e){this.addToCacheList(e),this._installAndActiveListenersAdded||(self.addEventListener("install",this.install),self.addEventListener("activate",this.activate),this._installAndActiveListenersAdded=!0)}addToCacheList(e){const n=[];for(const r of e){typeof r=="string"?n.push(r):r&&r.revision===void 0&&n.push(r.url);const{cacheKey:i,url:o}=$fe(r),a=typeof r!="string"&&r.revision?"reload":"default";if(this._urlsToCacheKeys.has(o)&&this._urlsToCacheKeys.get(o)!==i)throw new qr("add-to-cache-list-conflicting-entries",{firstEntry:this._urlsToCacheKeys.get(o),secondEntry:i});if(typeof r!="string"&&r.integrity){if(this._cacheKeysToIntegrities.has(i)&&this._cacheKeysToIntegrities.get(i)!==r.integrity)throw new qr("add-to-cache-list-conflicting-integrities",{url:o});this._cacheKeysToIntegrities.set(i,r.integrity)}if(this._urlsToCacheKeys.set(o,i),this._urlsToCacheModes.set(o,a),n.length>0){const u=`Workbox is precaching URLs without revision info: ${n.join(", ")}
This is generally NOT safe. Learn more at https://bit.ly/wb-precache`;console.warn(u)}}}install(e){return t3(e,async()=>{const n=new Wfe;this.strategy.plugins.push(n);for(const[o,a]of this._urlsToCacheKeys){const u=this._cacheKeysToIntegrities.get(a),c=this._urlsToCacheModes.get(o),f=new Request(o,{integrity:u,cache:c,credentials:"same-origin"});await Promise.all(this.strategy.handleAll({params:{cacheKey:a},request:f,event:e}))}const{updatedURLs:r,notUpdatedURLs:i}=n;return{updatedURLs:r,notUpdatedURLs:i}})}activate(e){return t3(e,async()=>{const n=await self.caches.open(this.strategy.cacheName),r=await n.keys(),i=new Set(this._urlsToCacheKeys.values()),o=[];for(const a of r)i.has(a.url)||(await n.delete(a),o.push(a.url));return{deletedURLs:o}})}getURLsToCacheKeys(){return this._urlsToCacheKeys}getCachedURLs(){return[...this._urlsToCacheKeys.keys()]}getCacheKeyForURL(e){const n=new URL(e,location.href);return this._urlsToCacheKeys.get(n.href)}getIntegrityForCacheKey(e){return this._cacheKeysToIntegrities.get(e)}async matchPrecache(e){const n=e instanceof Request?e.url:e,r=this.getCacheKeyForURL(n);if(r)return(await self.caches.open(this.strategy.cacheName)).match(r)}createHandlerBoundToURL(e){const n=this.getCacheKeyForURL(e);if(!n)throw new qr("non-precached-url",{url:e});return r=>(r.request=new Request(e),r.params=Object.assign({cacheKey:n},r.params),this.strategy.handle(r))}}let UA;const r3=()=>(UA||(UA=new rhe),UA);try{self["workbox:routing:6.2.4"]&&_()}catch{}const i3="GET",S_=t=>t&&typeof t=="object"?t:{handle:t};class hp{constructor(e,n,r=i3){this.handler=S_(n),this.match=e,this.method=r}setCatchHandler(e){this.catchHandler=S_(e)}}class ihe extends hp{constructor(e,n,r){const i=({url:o})=>{const a=e.exec(o.href);if(!!a&&!(o.origin!==location.origin&&a.index!==0))return a.slice(1)};super(i,n,r)}}class ohe{constructor(){this._routes=new Map,this._defaultHandlerMap=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",e=>{const{request:n}=e,r=this.handleRequest({request:n,event:e});r&&e.respondWith(r)})}addCacheListener(){self.addEventListener("message",e=>{if(e.data&&e.data.type==="CACHE_URLS"){const{payload:n}=e.data,r=Promise.all(n.urlsToCache.map(i=>{typeof i=="string"&&(i=[i]);const o=new Request(...i);return this.handleRequest({request:o,event:e})}));e.waitUntil(r),e.ports&&e.ports[0]&&r.then(()=>e.ports[0].postMessage(!0))}})}handleRequest({request:e,event:n}){const r=new URL(e.url,location.href);if(!r.protocol.startsWith("http"))return;const i=r.origin===location.origin,{params:o,route:a}=this.findMatchingRoute({event:n,request:e,sameOrigin:i,url:r});let u=a&&a.handler;const c=e.method;if(!u&&this._defaultHandlerMap.has(c)&&(u=this._defaultHandlerMap.get(c)),!u)return;let f;try{f=u.handle({url:r,request:e,event:n,params:o})}catch(p){f=Promise.reject(p)}const h=a&&a.catchHandler;return f instanceof Promise&&(this._catchHandler||h)&&(f=f.catch(async p=>{if(h)try{return await h.handle({url:r,request:e,event:n,params:o})}catch(g){g instanceof Error&&(p=g)}if(this._catchHandler)return this._catchHandler.handle({url:r,request:e,event:n});throw p})),f}findMatchingRoute({url:e,sameOrigin:n,request:r,event:i}){const o=this._routes.get(r.method)||[];for(const a of o){let u;const c=a.match({url:e,sameOrigin:n,request:r,event:i});if(c)return u=c,(Array.isArray(u)&&u.length===0||c.constructor===Object&&Object.keys(c).length===0||typeof c=="boolean")&&(u=void 0),{route:a,params:u}}return{}}setDefaultHandler(e,n=i3){this._defaultHandlerMap.set(n,S_(e))}setCatchHandler(e){this._catchHandler=S_(e)}registerRoute(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}unregisterRoute(e){if(!this._routes.has(e.method))throw new qr("unregister-route-but-not-found-with-method",{method:e.method});const n=this._routes.get(e.method).indexOf(e);if(n>-1)this._routes.get(e.method).splice(n,1);else throw new qr("unregister-route-route-not-registered")}}let dp;const she=()=>(dp||(dp=new ohe,dp.addFetchListener(),dp.addCacheListener()),dp);function ahe(t,e,n){let r;if(typeof t=="string"){const o=new URL(t,location.href),a=({url:u})=>u.href===o.href;r=new hp(a,e,n)}else if(t instanceof RegExp)r=new ihe(t,e,n);else if(typeof t=="function")r=new hp(t,e,n);else if(t instanceof hp)r=t;else throw new qr("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});return she().registerRoute(r),r}function uhe(t,e=[]){for(const n of[...t.searchParams.keys()])e.some(r=>r.test(n))&&t.searchParams.delete(n);return t}function*che(t,{ignoreURLParametersMatching:e=[/^utm_/,/^fbclid$/],directoryIndex:n="index.html",cleanURLs:r=!0,urlManipulation:i}={}){const o=new URL(t,location.href);o.hash="",yield o.href;const a=uhe(o,e);if(yield a.href,n&&a.pathname.endsWith("/")){const u=new URL(a.href);u.pathname+=n,yield u.href}if(r){const u=new URL(a.href);u.pathname+=".html",yield u.href}if(i){const u=i({url:o});for(const c of u)yield c.href}}class lhe extends hp{constructor(e,n){const r=({request:i})=>{const o=e.getURLsToCacheKeys();for(const a of che(i.url,n)){const u=o.get(a);if(u){const c=e.getIntegrityForCacheKey(u);return{cacheKey:u,integrity:c}}}};super(r,e.strategy)}}function fhe(t){const e=r3(),n=new lhe(e,t);ahe(n)}function hhe(t){r3().precache(t)}function Yhe(t,e){hhe(t),fhe(e)}/**
  * vee-validate v4.1.20
  * (c) 2021 Abdelrahman Awad
  * @license MIT
  */function dhe(t){return typeof t=="function"}const phe=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function o3(t,e){return Object.keys(e).forEach(n=>{if(phe(e[n])){t[n]||(t[n]={}),o3(t[n],e[n]);return}t[n]=e[n]}),t}function ghe(t,e){return t.replace(/(\d:)?{([^}]+)}/g,function(n,r,i){if(!r||!e.params)return i in e?e[i]:e.params&&i in e.params?e.params[i]:`{${i}}`;if(!Array.isArray(e.params))return i in e.params?e.params[i]:`{${i}}`;const o=Number(r.replace(":",""));return o in e.params?e.params[o]:`${r}{${i}}`})}class mhe{constructor(e,n){this.container={},this.locale=e,this.merge(n)}resolve(e){return this.format(this.locale,e)}format(e,n){var r,i,o,a,u,c,f,h;let p;const{field:g,rule:v,form:y}=n;if(!v)return`${g} is not valid`;p=((o=(i=(r=this.container[e])===null||r===void 0?void 0:r.fields)===null||i===void 0?void 0:i[g])===null||o===void 0?void 0:o[v.name])||((u=(a=this.container[e])===null||a===void 0?void 0:a.messages)===null||u===void 0?void 0:u[v.name]),p||(p=`${g} is not valid`);const w=(h=(f=(c=this.container[e])===null||c===void 0?void 0:c.names)===null||f===void 0?void 0:f[g])!==null&&h!==void 0?h:g;return dhe(p)?p(n):ghe(p,Object.assign(Object.assign({},y),{field:w,params:v.params}))}merge(e){o3(this.container,e)}}let tc;function Xhe(t,e){tc||(tc=new mhe("en",{}));const n=r=>tc.resolve(r);return typeof t=="string"?(tc.locale=t,e&&tc.merge({[t]:e}),n):(tc.merge(t),n)}function Qhe(t){tc.locale=t}const vhe="es",yhe={alpha:"El campo {field} solo debe contener letras",alpha_dash:"El campo {field} solo debe contener letras, n\xFAmeros y guiones",alpha_num:"El campo {field} solo debe contener letras y n\xFAmeros",alpha_spaces:"El campo {field} solo debe contener letras y espacios",between:"El campo {field} debe estar entre 0:{min} y 1:{max}",confirmed:"El campo {field} no coincide",digits:"El campo {field} debe ser num\xE9rico y contener exactamente 0:{length} d\xEDgitos",dimensions:"El campo {field} debe ser de 0:{width} p\xEDxeles por 1:{height} p\xEDxeles",email:"El campo {field} debe ser un correo electr\xF3nico v\xE1lido",excluded:"El campo {field} debe ser un valor v\xE1lido",ext:"El campo {field} debe ser un archivo v\xE1lido",image:"El campo {field} debe ser una imagen",one_of:"El campo {field} debe ser un valor v\xE1lido",integer:"El campo {field} debe ser un entero",length:"El largo del campo {field} debe ser 0:{length}",max:"El campo {field} no debe ser mayor a 0:{length} caracteres",max_value:"El campo {field} debe de ser 0:{max} o menor",mimes:"El campo {field} debe ser un tipo de archivo v\xE1lido",min:"El campo {field} debe tener al menos 0:{length} caracteres",min_value:"El campo {field} debe ser 0:{min} o superior",numeric:"El campo {field} debe contener solo caracteres num\xE9ricos",regex:"El formato del campo {field} no es v\xE1lido",required:"El campo {field} es obligatorio",required_if:"El campo {field} es obligatorio",size:"El campo {field} debe ser menor a 0:{size}KB"};var Jhe={code:vhe,messages:yhe};/**
  * vee-validate v4.1.20
  * (c) 2021 Abdelrahman Awad
  * @license MIT
  */function s3(t,e){return Array.isArray(t)?t[0]:t[e]}const Zhe=(t,e)=>{const n=s3(e,"target");return String(t)===String(n)},ede=t=>{const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(n=>e.test(String(n))):e.test(String(t))};function a3(t){return t==null}function _he(t){return Array.isArray(t)&&t.length===0}const bhe=(t,e)=>{const n=s3(e,"length");return a3(t)?!1:Array.isArray(t)?t.every(r=>bhe(r,{length:n})):String(t).length>=Number(n)},tde=t=>a3(t)||_he(t)||t===!1?!1:!!String(t).trim().length;export{bhe as $,Ihe as A,FE as B,rD as C,Che as D,Ghe as E,zhe as F,Nhe as G,She as H,Tt as I,Ohe as J,Phe as K,_D as L,Ho as M,khe as N,Rhe as O,QE as P,jhe as Q,Uhe as R,Yhe as S,CO as T,Ehe as U,Whe as V,Xhe as W,Qhe as X,$he as Y,ede as Z,tde as _,Dhe as a,Zhe as a0,Jhe as a1,Mhe as a2,Lhe as a3,nT as b,yz as c,Jf as d,eT as e,Vm as f,Pm as g,Bhe as h,Vhe as i,zg as j,xhe as k,Pr as l,Bo as m,bw as n,tO as o,qhe as p,bz as q,Ahe as r,Hhe as s,Ss as t,ke as u,Fhe as v,k1 as w,Khe as x,whe as y,The as z};
